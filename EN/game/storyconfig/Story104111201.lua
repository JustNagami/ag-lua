return {
	Play411121001 = function(arg_1_0, arg_1_1)
		arg_1_1.time_ = 0
		arg_1_1.frameCnt_ = 0
		arg_1_1.state_ = "playing"
		arg_1_1.curTalkId_ = 411121001
		arg_1_1.duration_ = 5.97

		local var_1_0 = {
			zh = 5.966,
			ja = 5.533
		}
		local var_1_1 = manager.audio:GetLocalizationFlag()

		if var_1_0[var_1_1] ~= nil then
			arg_1_1.duration_ = var_1_0[var_1_1]
		end

		SetActive(arg_1_1.tipsGo_, false)

		function arg_1_1.onSingleLineFinish_()
			arg_1_1.onSingleLineUpdate_ = nil
			arg_1_1.onSingleLineFinish_ = nil
			arg_1_1.state_ = "waiting"
		end

		function arg_1_1.playNext_(arg_3_0)
			if arg_3_0 == 1 then
				arg_1_0:Play411121002(arg_1_1)
			end
		end

		function arg_1_1.onSingleLineUpdate_(arg_4_0)
			local var_4_0 = "B04g"

			if arg_1_1.bgs_[var_4_0] == nil then
				local var_4_1 = Object.Instantiate(arg_1_1.paintGo_)

				var_4_1:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_4_0)
				var_4_1.name = var_4_0
				var_4_1.transform.parent = arg_1_1.stage_.transform
				var_4_1.transform.localPosition = Vector3.New(0, 100, 0)
				arg_1_1.bgs_[var_4_0] = var_4_1
			end

			local var_4_2 = 0

			if var_4_2 < arg_1_1.time_ and arg_1_1.time_ <= var_4_2 + arg_4_0 then
				local var_4_3 = manager.ui.mainCamera.transform.localPosition
				local var_4_4 = Vector3.New(0, 0, 10) + Vector3.New(var_4_3.x, var_4_3.y, 0)
				local var_4_5 = arg_1_1.bgs_.B04g

				var_4_5.transform.localPosition = var_4_4
				var_4_5.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_4_6 = var_4_5:GetComponent("SpriteRenderer")

				if var_4_6 and var_4_6.sprite then
					local var_4_7 = (var_4_5.transform.localPosition - var_4_3).z
					local var_4_8 = manager.ui.mainCameraCom_
					local var_4_9 = 2 * var_4_7 * Mathf.Tan(var_4_8.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_4_10 = var_4_9 * var_4_8.aspect
					local var_4_11 = var_4_6.sprite.bounds.size.x
					local var_4_12 = var_4_6.sprite.bounds.size.y
					local var_4_13 = var_4_10 / var_4_11
					local var_4_14 = var_4_9 / var_4_12
					local var_4_15 = var_4_14 < var_4_13 and var_4_13 or var_4_14

					var_4_5.transform.localScale = Vector3.New(var_4_15, var_4_15, 0)
				end

				for iter_4_0, iter_4_1 in pairs(arg_1_1.bgs_) do
					if iter_4_0 ~= "B04g" then
						iter_4_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_4_16 = 0

			if var_4_16 < arg_1_1.time_ and arg_1_1.time_ <= var_4_16 + arg_4_0 then
				arg_1_1.mask_.enabled = true
				arg_1_1.mask_.raycastTarget = true

				arg_1_1:SetGaussion(false)
			end

			local var_4_17 = 2

			if var_4_16 <= arg_1_1.time_ and arg_1_1.time_ < var_4_16 + var_4_17 then
				local var_4_18 = (arg_1_1.time_ - var_4_16) / var_4_17
				local var_4_19 = Color.New(0, 0, 0)

				var_4_19.a = Mathf.Lerp(1, 0, var_4_18)
				arg_1_1.mask_.color = var_4_19
			end

			if arg_1_1.time_ >= var_4_16 + var_4_17 and arg_1_1.time_ < var_4_16 + var_4_17 + arg_4_0 then
				local var_4_20 = Color.New(0, 0, 0)
				local var_4_21 = 0

				arg_1_1.mask_.enabled = false
				var_4_20.a = var_4_21
				arg_1_1.mask_.color = var_4_20
			end

			local var_4_22 = 0
			local var_4_23 = 0.366666666666667

			if var_4_22 < arg_1_1.time_ and arg_1_1.time_ <= var_4_22 + arg_4_0 then
				local var_4_24 = "play"
				local var_4_25 = "music"

				arg_1_1:AudioAction(var_4_24, var_4_25, "ui_battle", "ui_battle_stopbgm", "")

				local var_4_26 = ""
				local var_4_27 = manager.audio:GetAudioName("ui_battle", "ui_battle_stopbgm")

				if var_4_27 ~= "" then
					if arg_1_1.bgmTxt_.text ~= var_4_27 and arg_1_1.bgmTxt_.text ~= "" then
						if arg_1_1.bgmTxt2_.text ~= "" then
							arg_1_1.bgmTxt_.text = arg_1_1.bgmTxt2_.text
						end

						arg_1_1.bgmTxt2_.text = var_4_27

						arg_1_1.musicChangeAnimator_:Play("music_change", 0, 0)
					else
						arg_1_1.bgmTxt_.text = var_4_27
					end

					if arg_1_1.bgmTimer then
						arg_1_1.bgmTimer:Stop()

						arg_1_1.bgmTimer = nil
					end

					if arg_1_1.settingData.show_music_name == 1 then
						arg_1_1.musicController:SetSelectedState("show")
						arg_1_1.musicAnimator_:Play("open", 0, 0)

						if arg_1_1.settingData.music_time ~= 0 then
							arg_1_1.bgmTimer = TimeTools.StartAfterSeconds(tonumber(arg_1_1.settingData.music_time), function()
								if arg_1_1 == nil or isNil(arg_1_1.bgmTxt_) then
									return
								end

								arg_1_1.musicController:SetSelectedState("hide")
								arg_1_1.musicAnimator_:Play("back", 0, 0)
							end, {})
						end
					end
				end
			end

			local var_4_28 = 0.6
			local var_4_29 = 1

			if var_4_28 < arg_1_1.time_ and arg_1_1.time_ <= var_4_28 + arg_4_0 then
				local var_4_30 = "play"
				local var_4_31 = "music"

				arg_1_1:AudioAction(var_4_30, var_4_31, "bgm_activity_1_5_story_1", "bgm_activity_1_5_story_1", "bgm_activity_1_5_story_1.awb")

				local var_4_32 = ""
				local var_4_33 = manager.audio:GetAudioName("bgm_activity_1_5_story_1", "bgm_activity_1_5_story_1")

				if var_4_33 ~= "" then
					if arg_1_1.bgmTxt_.text ~= var_4_33 and arg_1_1.bgmTxt_.text ~= "" then
						if arg_1_1.bgmTxt2_.text ~= "" then
							arg_1_1.bgmTxt_.text = arg_1_1.bgmTxt2_.text
						end

						arg_1_1.bgmTxt2_.text = var_4_33

						arg_1_1.musicChangeAnimator_:Play("music_change", 0, 0)
					else
						arg_1_1.bgmTxt_.text = var_4_33
					end

					if arg_1_1.bgmTimer then
						arg_1_1.bgmTimer:Stop()

						arg_1_1.bgmTimer = nil
					end

					if arg_1_1.settingData.show_music_name == 1 then
						arg_1_1.musicController:SetSelectedState("show")
						arg_1_1.musicAnimator_:Play("open", 0, 0)

						if arg_1_1.settingData.music_time ~= 0 then
							arg_1_1.bgmTimer = TimeTools.StartAfterSeconds(tonumber(arg_1_1.settingData.music_time), function()
								if arg_1_1 == nil or isNil(arg_1_1.bgmTxt_) then
									return
								end

								arg_1_1.musicController:SetSelectedState("hide")
								arg_1_1.musicAnimator_:Play("back", 0, 0)
							end, {})
						end
					end
				end
			end

			if arg_1_1.frameCnt_ <= 1 then
				arg_1_1.dialog_:SetActive(false)
			end

			local var_4_34 = 2
			local var_4_35 = 0.525

			if var_4_34 < arg_1_1.time_ and arg_1_1.time_ <= var_4_34 + arg_4_0 then
				arg_1_1.talkMaxDuration = 0

				arg_1_1.dialog_:SetActive(true)

				local var_4_36 = LeanTween.value(arg_1_1.dialog_, 0, 1, 0.3)

				var_4_36:setOnUpdate(LuaHelper.FloatAction(function(arg_7_0)
					arg_1_1.dialogCg_.alpha = arg_7_0
				end))
				var_4_36:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_1_1.dialog_)
					var_4_36:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_1_1.duration_ = arg_1_1.duration_ + 0.3

				SetActive(arg_1_1.leftNameGo_, true)

				local var_4_37 = arg_1_1:FormatText(StoryNameCfg[679].name)

				arg_1_1.leftNameTxt_.text = var_4_37

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_1_1.leftNameTxt_.transform)

				arg_1_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_1_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_1_1:RecordName(arg_1_1.leftNameTxt_.text)
				SetActive(arg_1_1.iconTrs_.gameObject, true)
				arg_1_1.iconController_:SetSelectedState("hero")

				arg_1_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_2078")

				arg_1_1.callingController_:SetSelectedState("normal")

				arg_1_1.keyicon_.color = Color.New(1, 1, 1)
				arg_1_1.icon_.color = Color.New(1, 1, 1)

				local var_4_38 = arg_1_1:GetWordFromCfg(411121001)
				local var_4_39 = arg_1_1:FormatText(var_4_38.content)

				arg_1_1.text_.text = var_4_39

				LuaForUtil.ClearLinePrefixSymbol(arg_1_1.text_)

				local var_4_40 = 21
				local var_4_41 = utf8.len(var_4_39)
				local var_4_42 = var_4_40 <= 0 and var_4_35 or var_4_35 * (var_4_41 / var_4_40)

				if var_4_42 > 0 and var_4_35 < var_4_42 then
					arg_1_1.talkMaxDuration = var_4_42
					var_4_34 = var_4_34 + 0.3

					if var_4_42 + var_4_34 > arg_1_1.duration_ then
						arg_1_1.duration_ = var_4_42 + var_4_34
					end
				end

				arg_1_1.text_.text = var_4_39
				arg_1_1.typewritter.percent = 0

				arg_1_1.typewritter:SetDirty()
				arg_1_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121001", "story_v_out_411121.awb") ~= 0 then
					local var_4_43 = manager.audio:GetVoiceLength("story_v_out_411121", "411121001", "story_v_out_411121.awb") / 1000

					if var_4_43 + var_4_34 > arg_1_1.duration_ then
						arg_1_1.duration_ = var_4_43 + var_4_34
					end

					if var_4_38.prefab_name ~= "" and arg_1_1.actors_[var_4_38.prefab_name] ~= nil then
						local var_4_44 = LuaForUtil.PlayVoiceWithCriLipsync(arg_1_1.actors_[var_4_38.prefab_name].transform, "story_v_out_411121", "411121001", "story_v_out_411121.awb")

						arg_1_1:RecordAudio("411121001", var_4_44)
						arg_1_1:RecordAudio("411121001", var_4_44)
					else
						arg_1_1:AudioAction("play", "voice", "story_v_out_411121", "411121001", "story_v_out_411121.awb")
					end

					arg_1_1:RecordHistoryTalkVoice("story_v_out_411121", "411121001", "story_v_out_411121.awb")
				end

				arg_1_1:RecordContent(arg_1_1.text_.text)
			end

			local var_4_45 = var_4_34 + 0.3
			local var_4_46 = math.max(var_4_35, arg_1_1.talkMaxDuration)

			if var_4_45 <= arg_1_1.time_ and arg_1_1.time_ < var_4_45 + var_4_46 then
				arg_1_1.typewritter.percent = (arg_1_1.time_ - var_4_45) / var_4_46

				arg_1_1.typewritter:SetDirty()
			end

			if arg_1_1.time_ >= var_4_45 + var_4_46 and arg_1_1.time_ < var_4_45 + var_4_46 + arg_4_0 then
				arg_1_1.typewritter.percent = 1

				arg_1_1.typewritter:SetDirty()
				arg_1_1:ShowNextGo(true)
			end
		end
	end,
	Play411121002 = function(arg_9_0, arg_9_1)
		arg_9_1.time_ = 0
		arg_9_1.frameCnt_ = 0
		arg_9_1.state_ = "playing"
		arg_9_1.curTalkId_ = 411121002
		arg_9_1.duration_ = 3.9

		local var_9_0 = {
			zh = 2.933,
			ja = 3.9
		}
		local var_9_1 = manager.audio:GetLocalizationFlag()

		if var_9_0[var_9_1] ~= nil then
			arg_9_1.duration_ = var_9_0[var_9_1]
		end

		SetActive(arg_9_1.tipsGo_, false)

		function arg_9_1.onSingleLineFinish_()
			arg_9_1.onSingleLineUpdate_ = nil
			arg_9_1.onSingleLineFinish_ = nil
			arg_9_1.state_ = "waiting"
		end

		function arg_9_1.playNext_(arg_11_0)
			if arg_11_0 == 1 then
				arg_9_0:Play411121003(arg_9_1)
			end
		end

		function arg_9_1.onSingleLineUpdate_(arg_12_0)
			local var_12_0 = "10014ui_story"

			if arg_9_1.actors_[var_12_0] == nil then
				local var_12_1 = Asset.Load("Char/" .. "10014ui_story")

				if not isNil(var_12_1) then
					local var_12_2 = Object.Instantiate(Asset.Load("Char/" .. "10014ui_story"), arg_9_1.stage_.transform)

					var_12_2.name = var_12_0
					var_12_2.transform.localPosition = Vector3.New(0, 100, 0)
					arg_9_1.actors_[var_12_0] = var_12_2

					local var_12_3 = var_12_2:GetComponentInChildren(typeof(CharacterEffect))

					var_12_3.enabled = true

					local var_12_4 = GameObjectTools.GetOrAddComponent(var_12_2, typeof(DynamicBoneHelper))

					if var_12_4 then
						var_12_4:EnableDynamicBone(false)
					end

					arg_9_1:ShowWeapon(var_12_3.transform, false)

					arg_9_1.var_[var_12_0 .. "Animator"] = var_12_3.gameObject:GetComponent(typeof(UnityEngine.Animator))
					arg_9_1.var_[var_12_0 .. "Animator"].applyRootMotion = true
					arg_9_1.var_[var_12_0 .. "LipSync"] = var_12_3.gameObject:GetComponentInChildren(typeof(RogoDigital.Lipsync.LipSync))
				end
			end

			local var_12_5 = arg_9_1.actors_["10014ui_story"].transform
			local var_12_6 = 0

			if var_12_6 < arg_9_1.time_ and arg_9_1.time_ <= var_12_6 + arg_12_0 then
				arg_9_1.var_.moveOldPos10014ui_story = var_12_5.localPosition
			end

			local var_12_7 = 0.001

			if var_12_6 <= arg_9_1.time_ and arg_9_1.time_ < var_12_6 + var_12_7 then
				local var_12_8 = (arg_9_1.time_ - var_12_6) / var_12_7
				local var_12_9 = Vector3.New(0, -1.06, -6.2)

				var_12_5.localPosition = Vector3.Lerp(arg_9_1.var_.moveOldPos10014ui_story, var_12_9, var_12_8)

				local var_12_10 = manager.ui.mainCamera.transform.position - var_12_5.position

				var_12_5.forward = Vector3.New(var_12_10.x, var_12_10.y, var_12_10.z)

				local var_12_11 = var_12_5.localEulerAngles

				var_12_11.z = 0
				var_12_11.x = 0
				var_12_5.localEulerAngles = var_12_11
			end

			if arg_9_1.time_ >= var_12_6 + var_12_7 and arg_9_1.time_ < var_12_6 + var_12_7 + arg_12_0 then
				var_12_5.localPosition = Vector3.New(0, -1.06, -6.2)

				local var_12_12 = manager.ui.mainCamera.transform.position - var_12_5.position

				var_12_5.forward = Vector3.New(var_12_12.x, var_12_12.y, var_12_12.z)

				local var_12_13 = var_12_5.localEulerAngles

				var_12_13.z = 0
				var_12_13.x = 0
				var_12_5.localEulerAngles = var_12_13
			end

			local var_12_14 = arg_9_1.actors_["10014ui_story"]
			local var_12_15 = 0

			if var_12_15 < arg_9_1.time_ and arg_9_1.time_ <= var_12_15 + arg_12_0 and not isNil(var_12_14) and arg_9_1.var_.characterEffect10014ui_story == nil then
				arg_9_1.var_.characterEffect10014ui_story = var_12_14:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_12_16 = 0.200000002980232

			if var_12_15 <= arg_9_1.time_ and arg_9_1.time_ < var_12_15 + var_12_16 and not isNil(var_12_14) then
				local var_12_17 = (arg_9_1.time_ - var_12_15) / var_12_16

				if arg_9_1.var_.characterEffect10014ui_story and not isNil(var_12_14) then
					arg_9_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_9_1.time_ >= var_12_15 + var_12_16 and arg_9_1.time_ < var_12_15 + var_12_16 + arg_12_0 and not isNil(var_12_14) and arg_9_1.var_.characterEffect10014ui_story then
				arg_9_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_12_18 = 0

			if var_12_18 < arg_9_1.time_ and arg_9_1.time_ <= var_12_18 + arg_12_0 then
				arg_9_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action1_1")
			end

			local var_12_19 = 0

			if var_12_19 < arg_9_1.time_ and arg_9_1.time_ <= var_12_19 + arg_12_0 then
				arg_9_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_12_20 = 0
			local var_12_21 = 0.3

			if var_12_20 < arg_9_1.time_ and arg_9_1.time_ <= var_12_20 + arg_12_0 then
				arg_9_1.talkMaxDuration = 0
				arg_9_1.dialogCg_.alpha = 1

				arg_9_1.dialog_:SetActive(true)
				SetActive(arg_9_1.leftNameGo_, true)

				local var_12_22 = arg_9_1:FormatText(StoryNameCfg[264].name)

				arg_9_1.leftNameTxt_.text = var_12_22

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_9_1.leftNameTxt_.transform)

				arg_9_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_9_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_9_1:RecordName(arg_9_1.leftNameTxt_.text)
				SetActive(arg_9_1.iconTrs_.gameObject, false)
				arg_9_1.callingController_:SetSelectedState("normal")

				local var_12_23 = arg_9_1:GetWordFromCfg(411121002)
				local var_12_24 = arg_9_1:FormatText(var_12_23.content)

				arg_9_1.text_.text = var_12_24

				LuaForUtil.ClearLinePrefixSymbol(arg_9_1.text_)

				local var_12_25 = 12
				local var_12_26 = utf8.len(var_12_24)
				local var_12_27 = var_12_25 <= 0 and var_12_21 or var_12_21 * (var_12_26 / var_12_25)

				if var_12_27 > 0 and var_12_21 < var_12_27 then
					arg_9_1.talkMaxDuration = var_12_27

					if var_12_27 + var_12_20 > arg_9_1.duration_ then
						arg_9_1.duration_ = var_12_27 + var_12_20
					end
				end

				arg_9_1.text_.text = var_12_24
				arg_9_1.typewritter.percent = 0

				arg_9_1.typewritter:SetDirty()
				arg_9_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121002", "story_v_out_411121.awb") ~= 0 then
					local var_12_28 = manager.audio:GetVoiceLength("story_v_out_411121", "411121002", "story_v_out_411121.awb") / 1000

					if var_12_28 + var_12_20 > arg_9_1.duration_ then
						arg_9_1.duration_ = var_12_28 + var_12_20
					end

					if var_12_23.prefab_name ~= "" and arg_9_1.actors_[var_12_23.prefab_name] ~= nil then
						local var_12_29 = LuaForUtil.PlayVoiceWithCriLipsync(arg_9_1.actors_[var_12_23.prefab_name].transform, "story_v_out_411121", "411121002", "story_v_out_411121.awb")

						arg_9_1:RecordAudio("411121002", var_12_29)
						arg_9_1:RecordAudio("411121002", var_12_29)
					else
						arg_9_1:AudioAction("play", "voice", "story_v_out_411121", "411121002", "story_v_out_411121.awb")
					end

					arg_9_1:RecordHistoryTalkVoice("story_v_out_411121", "411121002", "story_v_out_411121.awb")
				end

				arg_9_1:RecordContent(arg_9_1.text_.text)
			end

			local var_12_30 = math.max(var_12_21, arg_9_1.talkMaxDuration)

			if var_12_20 <= arg_9_1.time_ and arg_9_1.time_ < var_12_20 + var_12_30 then
				arg_9_1.typewritter.percent = (arg_9_1.time_ - var_12_20) / var_12_30

				arg_9_1.typewritter:SetDirty()
			end

			if arg_9_1.time_ >= var_12_20 + var_12_30 and arg_9_1.time_ < var_12_20 + var_12_30 + arg_12_0 then
				arg_9_1.typewritter.percent = 1

				arg_9_1.typewritter:SetDirty()
				arg_9_1:ShowNextGo(true)
			end
		end
	end,
	Play411121003 = function(arg_13_0, arg_13_1)
		arg_13_1.time_ = 0
		arg_13_1.frameCnt_ = 0
		arg_13_1.state_ = "playing"
		arg_13_1.curTalkId_ = 411121003
		arg_13_1.duration_ = 4.13

		local var_13_0 = {
			zh = 3.8,
			ja = 4.133
		}
		local var_13_1 = manager.audio:GetLocalizationFlag()

		if var_13_0[var_13_1] ~= nil then
			arg_13_1.duration_ = var_13_0[var_13_1]
		end

		SetActive(arg_13_1.tipsGo_, false)

		function arg_13_1.onSingleLineFinish_()
			arg_13_1.onSingleLineUpdate_ = nil
			arg_13_1.onSingleLineFinish_ = nil
			arg_13_1.state_ = "waiting"
		end

		function arg_13_1.playNext_(arg_15_0)
			if arg_15_0 == 1 then
				arg_13_0:Play411121004(arg_13_1)
			end
		end

		function arg_13_1.onSingleLineUpdate_(arg_16_0)
			local var_16_0 = arg_13_1.actors_["10014ui_story"]
			local var_16_1 = 0

			if var_16_1 < arg_13_1.time_ and arg_13_1.time_ <= var_16_1 + arg_16_0 and not isNil(var_16_0) and arg_13_1.var_.characterEffect10014ui_story == nil then
				arg_13_1.var_.characterEffect10014ui_story = var_16_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_16_2 = 0.200000002980232

			if var_16_1 <= arg_13_1.time_ and arg_13_1.time_ < var_16_1 + var_16_2 and not isNil(var_16_0) then
				local var_16_3 = (arg_13_1.time_ - var_16_1) / var_16_2

				if arg_13_1.var_.characterEffect10014ui_story and not isNil(var_16_0) then
					local var_16_4 = Mathf.Lerp(0, 0.5, var_16_3)

					arg_13_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_13_1.var_.characterEffect10014ui_story.fillRatio = var_16_4
				end
			end

			if arg_13_1.time_ >= var_16_1 + var_16_2 and arg_13_1.time_ < var_16_1 + var_16_2 + arg_16_0 and not isNil(var_16_0) and arg_13_1.var_.characterEffect10014ui_story then
				local var_16_5 = 0.5

				arg_13_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_13_1.var_.characterEffect10014ui_story.fillRatio = var_16_5
			end

			local var_16_6 = 0
			local var_16_7 = 0.525

			if var_16_6 < arg_13_1.time_ and arg_13_1.time_ <= var_16_6 + arg_16_0 then
				arg_13_1.talkMaxDuration = 0
				arg_13_1.dialogCg_.alpha = 1

				arg_13_1.dialog_:SetActive(true)
				SetActive(arg_13_1.leftNameGo_, true)

				local var_16_8 = arg_13_1:FormatText(StoryNameCfg[679].name)

				arg_13_1.leftNameTxt_.text = var_16_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_13_1.leftNameTxt_.transform)

				arg_13_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_13_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_13_1:RecordName(arg_13_1.leftNameTxt_.text)
				SetActive(arg_13_1.iconTrs_.gameObject, true)
				arg_13_1.iconController_:SetSelectedState("hero")

				arg_13_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_2078")

				arg_13_1.callingController_:SetSelectedState("normal")

				arg_13_1.keyicon_.color = Color.New(1, 1, 1)
				arg_13_1.icon_.color = Color.New(1, 1, 1)

				local var_16_9 = arg_13_1:GetWordFromCfg(411121003)
				local var_16_10 = arg_13_1:FormatText(var_16_9.content)

				arg_13_1.text_.text = var_16_10

				LuaForUtil.ClearLinePrefixSymbol(arg_13_1.text_)

				local var_16_11 = 21
				local var_16_12 = utf8.len(var_16_10)
				local var_16_13 = var_16_11 <= 0 and var_16_7 or var_16_7 * (var_16_12 / var_16_11)

				if var_16_13 > 0 and var_16_7 < var_16_13 then
					arg_13_1.talkMaxDuration = var_16_13

					if var_16_13 + var_16_6 > arg_13_1.duration_ then
						arg_13_1.duration_ = var_16_13 + var_16_6
					end
				end

				arg_13_1.text_.text = var_16_10
				arg_13_1.typewritter.percent = 0

				arg_13_1.typewritter:SetDirty()
				arg_13_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121003", "story_v_out_411121.awb") ~= 0 then
					local var_16_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121003", "story_v_out_411121.awb") / 1000

					if var_16_14 + var_16_6 > arg_13_1.duration_ then
						arg_13_1.duration_ = var_16_14 + var_16_6
					end

					if var_16_9.prefab_name ~= "" and arg_13_1.actors_[var_16_9.prefab_name] ~= nil then
						local var_16_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_13_1.actors_[var_16_9.prefab_name].transform, "story_v_out_411121", "411121003", "story_v_out_411121.awb")

						arg_13_1:RecordAudio("411121003", var_16_15)
						arg_13_1:RecordAudio("411121003", var_16_15)
					else
						arg_13_1:AudioAction("play", "voice", "story_v_out_411121", "411121003", "story_v_out_411121.awb")
					end

					arg_13_1:RecordHistoryTalkVoice("story_v_out_411121", "411121003", "story_v_out_411121.awb")
				end

				arg_13_1:RecordContent(arg_13_1.text_.text)
			end

			local var_16_16 = math.max(var_16_7, arg_13_1.talkMaxDuration)

			if var_16_6 <= arg_13_1.time_ and arg_13_1.time_ < var_16_6 + var_16_16 then
				arg_13_1.typewritter.percent = (arg_13_1.time_ - var_16_6) / var_16_16

				arg_13_1.typewritter:SetDirty()
			end

			if arg_13_1.time_ >= var_16_6 + var_16_16 and arg_13_1.time_ < var_16_6 + var_16_16 + arg_16_0 then
				arg_13_1.typewritter.percent = 1

				arg_13_1.typewritter:SetDirty()
				arg_13_1:ShowNextGo(true)
			end
		end
	end,
	Play411121004 = function(arg_17_0, arg_17_1)
		arg_17_1.time_ = 0
		arg_17_1.frameCnt_ = 0
		arg_17_1.state_ = "playing"
		arg_17_1.curTalkId_ = 411121004
		arg_17_1.duration_ = 2.17

		local var_17_0 = {
			zh = 2.066,
			ja = 2.166
		}
		local var_17_1 = manager.audio:GetLocalizationFlag()

		if var_17_0[var_17_1] ~= nil then
			arg_17_1.duration_ = var_17_0[var_17_1]
		end

		SetActive(arg_17_1.tipsGo_, false)

		function arg_17_1.onSingleLineFinish_()
			arg_17_1.onSingleLineUpdate_ = nil
			arg_17_1.onSingleLineFinish_ = nil
			arg_17_1.state_ = "waiting"
		end

		function arg_17_1.playNext_(arg_19_0)
			if arg_19_0 == 1 then
				arg_17_0:Play411121005(arg_17_1)
			end
		end

		function arg_17_1.onSingleLineUpdate_(arg_20_0)
			local var_20_0 = arg_17_1.actors_["10014ui_story"]
			local var_20_1 = 0

			if var_20_1 < arg_17_1.time_ and arg_17_1.time_ <= var_20_1 + arg_20_0 and not isNil(var_20_0) and arg_17_1.var_.characterEffect10014ui_story == nil then
				arg_17_1.var_.characterEffect10014ui_story = var_20_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_20_2 = 0.200000002980232

			if var_20_1 <= arg_17_1.time_ and arg_17_1.time_ < var_20_1 + var_20_2 and not isNil(var_20_0) then
				local var_20_3 = (arg_17_1.time_ - var_20_1) / var_20_2

				if arg_17_1.var_.characterEffect10014ui_story and not isNil(var_20_0) then
					arg_17_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_17_1.time_ >= var_20_1 + var_20_2 and arg_17_1.time_ < var_20_1 + var_20_2 + arg_20_0 and not isNil(var_20_0) and arg_17_1.var_.characterEffect10014ui_story then
				arg_17_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_20_4 = 0
			local var_20_5 = 0.15

			if var_20_4 < arg_17_1.time_ and arg_17_1.time_ <= var_20_4 + arg_20_0 then
				arg_17_1.talkMaxDuration = 0
				arg_17_1.dialogCg_.alpha = 1

				arg_17_1.dialog_:SetActive(true)
				SetActive(arg_17_1.leftNameGo_, true)

				local var_20_6 = arg_17_1:FormatText(StoryNameCfg[264].name)

				arg_17_1.leftNameTxt_.text = var_20_6

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_17_1.leftNameTxt_.transform)

				arg_17_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_17_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_17_1:RecordName(arg_17_1.leftNameTxt_.text)
				SetActive(arg_17_1.iconTrs_.gameObject, false)
				arg_17_1.callingController_:SetSelectedState("normal")

				local var_20_7 = arg_17_1:GetWordFromCfg(411121004)
				local var_20_8 = arg_17_1:FormatText(var_20_7.content)

				arg_17_1.text_.text = var_20_8

				LuaForUtil.ClearLinePrefixSymbol(arg_17_1.text_)

				local var_20_9 = 6
				local var_20_10 = utf8.len(var_20_8)
				local var_20_11 = var_20_9 <= 0 and var_20_5 or var_20_5 * (var_20_10 / var_20_9)

				if var_20_11 > 0 and var_20_5 < var_20_11 then
					arg_17_1.talkMaxDuration = var_20_11

					if var_20_11 + var_20_4 > arg_17_1.duration_ then
						arg_17_1.duration_ = var_20_11 + var_20_4
					end
				end

				arg_17_1.text_.text = var_20_8
				arg_17_1.typewritter.percent = 0

				arg_17_1.typewritter:SetDirty()
				arg_17_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121004", "story_v_out_411121.awb") ~= 0 then
					local var_20_12 = manager.audio:GetVoiceLength("story_v_out_411121", "411121004", "story_v_out_411121.awb") / 1000

					if var_20_12 + var_20_4 > arg_17_1.duration_ then
						arg_17_1.duration_ = var_20_12 + var_20_4
					end

					if var_20_7.prefab_name ~= "" and arg_17_1.actors_[var_20_7.prefab_name] ~= nil then
						local var_20_13 = LuaForUtil.PlayVoiceWithCriLipsync(arg_17_1.actors_[var_20_7.prefab_name].transform, "story_v_out_411121", "411121004", "story_v_out_411121.awb")

						arg_17_1:RecordAudio("411121004", var_20_13)
						arg_17_1:RecordAudio("411121004", var_20_13)
					else
						arg_17_1:AudioAction("play", "voice", "story_v_out_411121", "411121004", "story_v_out_411121.awb")
					end

					arg_17_1:RecordHistoryTalkVoice("story_v_out_411121", "411121004", "story_v_out_411121.awb")
				end

				arg_17_1:RecordContent(arg_17_1.text_.text)
			end

			local var_20_14 = math.max(var_20_5, arg_17_1.talkMaxDuration)

			if var_20_4 <= arg_17_1.time_ and arg_17_1.time_ < var_20_4 + var_20_14 then
				arg_17_1.typewritter.percent = (arg_17_1.time_ - var_20_4) / var_20_14

				arg_17_1.typewritter:SetDirty()
			end

			if arg_17_1.time_ >= var_20_4 + var_20_14 and arg_17_1.time_ < var_20_4 + var_20_14 + arg_20_0 then
				arg_17_1.typewritter.percent = 1

				arg_17_1.typewritter:SetDirty()
				arg_17_1:ShowNextGo(true)
			end
		end
	end,
	Play411121005 = function(arg_21_0, arg_21_1)
		arg_21_1.time_ = 0
		arg_21_1.frameCnt_ = 0
		arg_21_1.state_ = "playing"
		arg_21_1.curTalkId_ = 411121005
		arg_21_1.duration_ = 1

		SetActive(arg_21_1.tipsGo_, false)

		function arg_21_1.onSingleLineFinish_()
			arg_21_1.onSingleLineUpdate_ = nil
			arg_21_1.onSingleLineFinish_ = nil
			arg_21_1.state_ = "waiting"
		end

		function arg_21_1.playNext_(arg_23_0)
			if arg_23_0 == 1 then
				arg_21_0:Play411121006(arg_21_1)
			end
		end

		function arg_21_1.onSingleLineUpdate_(arg_24_0)
			local var_24_0 = arg_21_1.actors_["10014ui_story"]
			local var_24_1 = 0

			if var_24_1 < arg_21_1.time_ and arg_21_1.time_ <= var_24_1 + arg_24_0 and not isNil(var_24_0) and arg_21_1.var_.characterEffect10014ui_story == nil then
				arg_21_1.var_.characterEffect10014ui_story = var_24_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_24_2 = 0.200000002980232

			if var_24_1 <= arg_21_1.time_ and arg_21_1.time_ < var_24_1 + var_24_2 and not isNil(var_24_0) then
				local var_24_3 = (arg_21_1.time_ - var_24_1) / var_24_2

				if arg_21_1.var_.characterEffect10014ui_story and not isNil(var_24_0) then
					local var_24_4 = Mathf.Lerp(0, 0.5, var_24_3)

					arg_21_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_21_1.var_.characterEffect10014ui_story.fillRatio = var_24_4
				end
			end

			if arg_21_1.time_ >= var_24_1 + var_24_2 and arg_21_1.time_ < var_24_1 + var_24_2 + arg_24_0 and not isNil(var_24_0) and arg_21_1.var_.characterEffect10014ui_story then
				local var_24_5 = 0.5

				arg_21_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_21_1.var_.characterEffect10014ui_story.fillRatio = var_24_5
			end

			local var_24_6 = 0
			local var_24_7 = 0.05

			if var_24_6 < arg_21_1.time_ and arg_21_1.time_ <= var_24_6 + arg_24_0 then
				arg_21_1.talkMaxDuration = 0
				arg_21_1.dialogCg_.alpha = 1

				arg_21_1.dialog_:SetActive(true)
				SetActive(arg_21_1.leftNameGo_, true)

				local var_24_8 = arg_21_1:FormatText(StoryNameCfg[679].name)

				arg_21_1.leftNameTxt_.text = var_24_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_21_1.leftNameTxt_.transform)

				arg_21_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_21_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_21_1:RecordName(arg_21_1.leftNameTxt_.text)
				SetActive(arg_21_1.iconTrs_.gameObject, true)
				arg_21_1.iconController_:SetSelectedState("hero")

				arg_21_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_2078")

				arg_21_1.callingController_:SetSelectedState("normal")

				arg_21_1.keyicon_.color = Color.New(1, 1, 1)
				arg_21_1.icon_.color = Color.New(1, 1, 1)

				local var_24_9 = arg_21_1:GetWordFromCfg(411121005)
				local var_24_10 = arg_21_1:FormatText(var_24_9.content)

				arg_21_1.text_.text = var_24_10

				LuaForUtil.ClearLinePrefixSymbol(arg_21_1.text_)

				local var_24_11 = 2
				local var_24_12 = utf8.len(var_24_10)
				local var_24_13 = var_24_11 <= 0 and var_24_7 or var_24_7 * (var_24_12 / var_24_11)

				if var_24_13 > 0 and var_24_7 < var_24_13 then
					arg_21_1.talkMaxDuration = var_24_13

					if var_24_13 + var_24_6 > arg_21_1.duration_ then
						arg_21_1.duration_ = var_24_13 + var_24_6
					end
				end

				arg_21_1.text_.text = var_24_10
				arg_21_1.typewritter.percent = 0

				arg_21_1.typewritter:SetDirty()
				arg_21_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121005", "story_v_out_411121.awb") ~= 0 then
					local var_24_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121005", "story_v_out_411121.awb") / 1000

					if var_24_14 + var_24_6 > arg_21_1.duration_ then
						arg_21_1.duration_ = var_24_14 + var_24_6
					end

					if var_24_9.prefab_name ~= "" and arg_21_1.actors_[var_24_9.prefab_name] ~= nil then
						local var_24_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_21_1.actors_[var_24_9.prefab_name].transform, "story_v_out_411121", "411121005", "story_v_out_411121.awb")

						arg_21_1:RecordAudio("411121005", var_24_15)
						arg_21_1:RecordAudio("411121005", var_24_15)
					else
						arg_21_1:AudioAction("play", "voice", "story_v_out_411121", "411121005", "story_v_out_411121.awb")
					end

					arg_21_1:RecordHistoryTalkVoice("story_v_out_411121", "411121005", "story_v_out_411121.awb")
				end

				arg_21_1:RecordContent(arg_21_1.text_.text)
			end

			local var_24_16 = math.max(var_24_7, arg_21_1.talkMaxDuration)

			if var_24_6 <= arg_21_1.time_ and arg_21_1.time_ < var_24_6 + var_24_16 then
				arg_21_1.typewritter.percent = (arg_21_1.time_ - var_24_6) / var_24_16

				arg_21_1.typewritter:SetDirty()
			end

			if arg_21_1.time_ >= var_24_6 + var_24_16 and arg_21_1.time_ < var_24_6 + var_24_16 + arg_24_0 then
				arg_21_1.typewritter.percent = 1

				arg_21_1.typewritter:SetDirty()
				arg_21_1:ShowNextGo(true)
			end
		end
	end,
	Play411121006 = function(arg_25_0, arg_25_1)
		arg_25_1.time_ = 0
		arg_25_1.frameCnt_ = 0
		arg_25_1.state_ = "playing"
		arg_25_1.curTalkId_ = 411121006
		arg_25_1.duration_ = 5.57

		local var_25_0 = {
			zh = 3.6,
			ja = 5.566
		}
		local var_25_1 = manager.audio:GetLocalizationFlag()

		if var_25_0[var_25_1] ~= nil then
			arg_25_1.duration_ = var_25_0[var_25_1]
		end

		SetActive(arg_25_1.tipsGo_, false)

		function arg_25_1.onSingleLineFinish_()
			arg_25_1.onSingleLineUpdate_ = nil
			arg_25_1.onSingleLineFinish_ = nil
			arg_25_1.state_ = "waiting"
		end

		function arg_25_1.playNext_(arg_27_0)
			if arg_27_0 == 1 then
				arg_25_0:Play411121007(arg_25_1)
			end
		end

		function arg_25_1.onSingleLineUpdate_(arg_28_0)
			local var_28_0 = 0
			local var_28_1 = 0.45

			if var_28_0 < arg_25_1.time_ and arg_25_1.time_ <= var_28_0 + arg_28_0 then
				arg_25_1.talkMaxDuration = 0
				arg_25_1.dialogCg_.alpha = 1

				arg_25_1.dialog_:SetActive(true)
				SetActive(arg_25_1.leftNameGo_, true)

				local var_28_2 = arg_25_1:FormatText(StoryNameCfg[679].name)

				arg_25_1.leftNameTxt_.text = var_28_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_25_1.leftNameTxt_.transform)

				arg_25_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_25_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_25_1:RecordName(arg_25_1.leftNameTxt_.text)
				SetActive(arg_25_1.iconTrs_.gameObject, true)
				arg_25_1.iconController_:SetSelectedState("hero")

				arg_25_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_2078")

				arg_25_1.callingController_:SetSelectedState("normal")

				arg_25_1.keyicon_.color = Color.New(1, 1, 1)
				arg_25_1.icon_.color = Color.New(1, 1, 1)

				local var_28_3 = arg_25_1:GetWordFromCfg(411121006)
				local var_28_4 = arg_25_1:FormatText(var_28_3.content)

				arg_25_1.text_.text = var_28_4

				LuaForUtil.ClearLinePrefixSymbol(arg_25_1.text_)

				local var_28_5 = 18
				local var_28_6 = utf8.len(var_28_4)
				local var_28_7 = var_28_5 <= 0 and var_28_1 or var_28_1 * (var_28_6 / var_28_5)

				if var_28_7 > 0 and var_28_1 < var_28_7 then
					arg_25_1.talkMaxDuration = var_28_7

					if var_28_7 + var_28_0 > arg_25_1.duration_ then
						arg_25_1.duration_ = var_28_7 + var_28_0
					end
				end

				arg_25_1.text_.text = var_28_4
				arg_25_1.typewritter.percent = 0

				arg_25_1.typewritter:SetDirty()
				arg_25_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121006", "story_v_out_411121.awb") ~= 0 then
					local var_28_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121006", "story_v_out_411121.awb") / 1000

					if var_28_8 + var_28_0 > arg_25_1.duration_ then
						arg_25_1.duration_ = var_28_8 + var_28_0
					end

					if var_28_3.prefab_name ~= "" and arg_25_1.actors_[var_28_3.prefab_name] ~= nil then
						local var_28_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_25_1.actors_[var_28_3.prefab_name].transform, "story_v_out_411121", "411121006", "story_v_out_411121.awb")

						arg_25_1:RecordAudio("411121006", var_28_9)
						arg_25_1:RecordAudio("411121006", var_28_9)
					else
						arg_25_1:AudioAction("play", "voice", "story_v_out_411121", "411121006", "story_v_out_411121.awb")
					end

					arg_25_1:RecordHistoryTalkVoice("story_v_out_411121", "411121006", "story_v_out_411121.awb")
				end

				arg_25_1:RecordContent(arg_25_1.text_.text)
			end

			local var_28_10 = math.max(var_28_1, arg_25_1.talkMaxDuration)

			if var_28_0 <= arg_25_1.time_ and arg_25_1.time_ < var_28_0 + var_28_10 then
				arg_25_1.typewritter.percent = (arg_25_1.time_ - var_28_0) / var_28_10

				arg_25_1.typewritter:SetDirty()
			end

			if arg_25_1.time_ >= var_28_0 + var_28_10 and arg_25_1.time_ < var_28_0 + var_28_10 + arg_28_0 then
				arg_25_1.typewritter.percent = 1

				arg_25_1.typewritter:SetDirty()
				arg_25_1:ShowNextGo(true)
			end
		end
	end,
	Play411121007 = function(arg_29_0, arg_29_1)
		arg_29_1.time_ = 0
		arg_29_1.frameCnt_ = 0
		arg_29_1.state_ = "playing"
		arg_29_1.curTalkId_ = 411121007
		arg_29_1.duration_ = 4.53

		local var_29_0 = {
			zh = 3.5,
			ja = 4.533
		}
		local var_29_1 = manager.audio:GetLocalizationFlag()

		if var_29_0[var_29_1] ~= nil then
			arg_29_1.duration_ = var_29_0[var_29_1]
		end

		SetActive(arg_29_1.tipsGo_, false)

		function arg_29_1.onSingleLineFinish_()
			arg_29_1.onSingleLineUpdate_ = nil
			arg_29_1.onSingleLineFinish_ = nil
			arg_29_1.state_ = "waiting"
		end

		function arg_29_1.playNext_(arg_31_0)
			if arg_31_0 == 1 then
				arg_29_0:Play411121008(arg_29_1)
			end
		end

		function arg_29_1.onSingleLineUpdate_(arg_32_0)
			local var_32_0 = arg_29_1.actors_["10014ui_story"]
			local var_32_1 = 0

			if var_32_1 < arg_29_1.time_ and arg_29_1.time_ <= var_32_1 + arg_32_0 and not isNil(var_32_0) and arg_29_1.var_.characterEffect10014ui_story == nil then
				arg_29_1.var_.characterEffect10014ui_story = var_32_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_32_2 = 0.200000002980232

			if var_32_1 <= arg_29_1.time_ and arg_29_1.time_ < var_32_1 + var_32_2 and not isNil(var_32_0) then
				local var_32_3 = (arg_29_1.time_ - var_32_1) / var_32_2

				if arg_29_1.var_.characterEffect10014ui_story and not isNil(var_32_0) then
					arg_29_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_29_1.time_ >= var_32_1 + var_32_2 and arg_29_1.time_ < var_32_1 + var_32_2 + arg_32_0 and not isNil(var_32_0) and arg_29_1.var_.characterEffect10014ui_story then
				arg_29_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_32_4 = 0
			local var_32_5 = 0.475

			if var_32_4 < arg_29_1.time_ and arg_29_1.time_ <= var_32_4 + arg_32_0 then
				arg_29_1.talkMaxDuration = 0
				arg_29_1.dialogCg_.alpha = 1

				arg_29_1.dialog_:SetActive(true)
				SetActive(arg_29_1.leftNameGo_, true)

				local var_32_6 = arg_29_1:FormatText(StoryNameCfg[264].name)

				arg_29_1.leftNameTxt_.text = var_32_6

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_29_1.leftNameTxt_.transform)

				arg_29_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_29_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_29_1:RecordName(arg_29_1.leftNameTxt_.text)
				SetActive(arg_29_1.iconTrs_.gameObject, false)
				arg_29_1.callingController_:SetSelectedState("normal")

				local var_32_7 = arg_29_1:GetWordFromCfg(411121007)
				local var_32_8 = arg_29_1:FormatText(var_32_7.content)

				arg_29_1.text_.text = var_32_8

				LuaForUtil.ClearLinePrefixSymbol(arg_29_1.text_)

				local var_32_9 = 19
				local var_32_10 = utf8.len(var_32_8)
				local var_32_11 = var_32_9 <= 0 and var_32_5 or var_32_5 * (var_32_10 / var_32_9)

				if var_32_11 > 0 and var_32_5 < var_32_11 then
					arg_29_1.talkMaxDuration = var_32_11

					if var_32_11 + var_32_4 > arg_29_1.duration_ then
						arg_29_1.duration_ = var_32_11 + var_32_4
					end
				end

				arg_29_1.text_.text = var_32_8
				arg_29_1.typewritter.percent = 0

				arg_29_1.typewritter:SetDirty()
				arg_29_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121007", "story_v_out_411121.awb") ~= 0 then
					local var_32_12 = manager.audio:GetVoiceLength("story_v_out_411121", "411121007", "story_v_out_411121.awb") / 1000

					if var_32_12 + var_32_4 > arg_29_1.duration_ then
						arg_29_1.duration_ = var_32_12 + var_32_4
					end

					if var_32_7.prefab_name ~= "" and arg_29_1.actors_[var_32_7.prefab_name] ~= nil then
						local var_32_13 = LuaForUtil.PlayVoiceWithCriLipsync(arg_29_1.actors_[var_32_7.prefab_name].transform, "story_v_out_411121", "411121007", "story_v_out_411121.awb")

						arg_29_1:RecordAudio("411121007", var_32_13)
						arg_29_1:RecordAudio("411121007", var_32_13)
					else
						arg_29_1:AudioAction("play", "voice", "story_v_out_411121", "411121007", "story_v_out_411121.awb")
					end

					arg_29_1:RecordHistoryTalkVoice("story_v_out_411121", "411121007", "story_v_out_411121.awb")
				end

				arg_29_1:RecordContent(arg_29_1.text_.text)
			end

			local var_32_14 = math.max(var_32_5, arg_29_1.talkMaxDuration)

			if var_32_4 <= arg_29_1.time_ and arg_29_1.time_ < var_32_4 + var_32_14 then
				arg_29_1.typewritter.percent = (arg_29_1.time_ - var_32_4) / var_32_14

				arg_29_1.typewritter:SetDirty()
			end

			if arg_29_1.time_ >= var_32_4 + var_32_14 and arg_29_1.time_ < var_32_4 + var_32_14 + arg_32_0 then
				arg_29_1.typewritter.percent = 1

				arg_29_1.typewritter:SetDirty()
				arg_29_1:ShowNextGo(true)
			end
		end
	end,
	Play411121008 = function(arg_33_0, arg_33_1)
		arg_33_1.time_ = 0
		arg_33_1.frameCnt_ = 0
		arg_33_1.state_ = "playing"
		arg_33_1.curTalkId_ = 411121008
		arg_33_1.duration_ = 6

		SetActive(arg_33_1.tipsGo_, false)

		function arg_33_1.onSingleLineFinish_()
			arg_33_1.onSingleLineUpdate_ = nil
			arg_33_1.onSingleLineFinish_ = nil
			arg_33_1.state_ = "waiting"
		end

		function arg_33_1.playNext_(arg_35_0)
			if arg_35_0 == 1 then
				arg_33_0:Play411121009(arg_33_1)
			end
		end

		function arg_33_1.onSingleLineUpdate_(arg_36_0)
			local var_36_0 = "B04f"

			if arg_33_1.bgs_[var_36_0] == nil then
				local var_36_1 = Object.Instantiate(arg_33_1.paintGo_)

				var_36_1:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_36_0)
				var_36_1.name = var_36_0
				var_36_1.transform.parent = arg_33_1.stage_.transform
				var_36_1.transform.localPosition = Vector3.New(0, 100, 0)
				arg_33_1.bgs_[var_36_0] = var_36_1
			end

			local var_36_2 = 2

			if var_36_2 < arg_33_1.time_ and arg_33_1.time_ <= var_36_2 + arg_36_0 then
				local var_36_3 = manager.ui.mainCamera.transform.localPosition
				local var_36_4 = Vector3.New(0, 0, 10) + Vector3.New(var_36_3.x, var_36_3.y, 0)
				local var_36_5 = arg_33_1.bgs_.B04f

				var_36_5.transform.localPosition = var_36_4
				var_36_5.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_36_6 = var_36_5:GetComponent("SpriteRenderer")

				if var_36_6 and var_36_6.sprite then
					local var_36_7 = (var_36_5.transform.localPosition - var_36_3).z
					local var_36_8 = manager.ui.mainCameraCom_
					local var_36_9 = 2 * var_36_7 * Mathf.Tan(var_36_8.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_36_10 = var_36_9 * var_36_8.aspect
					local var_36_11 = var_36_6.sprite.bounds.size.x
					local var_36_12 = var_36_6.sprite.bounds.size.y
					local var_36_13 = var_36_10 / var_36_11
					local var_36_14 = var_36_9 / var_36_12
					local var_36_15 = var_36_14 < var_36_13 and var_36_13 or var_36_14

					var_36_5.transform.localScale = Vector3.New(var_36_15, var_36_15, 0)
				end

				for iter_36_0, iter_36_1 in pairs(arg_33_1.bgs_) do
					if iter_36_0 ~= "B04f" then
						iter_36_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_36_16 = 0

			if var_36_16 < arg_33_1.time_ and arg_33_1.time_ <= var_36_16 + arg_36_0 then
				arg_33_1.mask_.enabled = true
				arg_33_1.mask_.raycastTarget = true

				arg_33_1:SetGaussion(false)
			end

			local var_36_17 = 2

			if var_36_16 <= arg_33_1.time_ and arg_33_1.time_ < var_36_16 + var_36_17 then
				local var_36_18 = (arg_33_1.time_ - var_36_16) / var_36_17
				local var_36_19 = Color.New(0, 0, 0)

				var_36_19.a = Mathf.Lerp(0, 1, var_36_18)
				arg_33_1.mask_.color = var_36_19
			end

			if arg_33_1.time_ >= var_36_16 + var_36_17 and arg_33_1.time_ < var_36_16 + var_36_17 + arg_36_0 then
				local var_36_20 = Color.New(0, 0, 0)

				var_36_20.a = 1
				arg_33_1.mask_.color = var_36_20
			end

			local var_36_21 = 2

			if var_36_21 < arg_33_1.time_ and arg_33_1.time_ <= var_36_21 + arg_36_0 then
				arg_33_1.mask_.enabled = true
				arg_33_1.mask_.raycastTarget = true

				arg_33_1:SetGaussion(false)
			end

			local var_36_22 = 2

			if var_36_21 <= arg_33_1.time_ and arg_33_1.time_ < var_36_21 + var_36_22 then
				local var_36_23 = (arg_33_1.time_ - var_36_21) / var_36_22
				local var_36_24 = Color.New(0, 0, 0)

				var_36_24.a = Mathf.Lerp(1, 0, var_36_23)
				arg_33_1.mask_.color = var_36_24
			end

			if arg_33_1.time_ >= var_36_21 + var_36_22 and arg_33_1.time_ < var_36_21 + var_36_22 + arg_36_0 then
				local var_36_25 = Color.New(0, 0, 0)
				local var_36_26 = 0

				arg_33_1.mask_.enabled = false
				var_36_25.a = var_36_26
				arg_33_1.mask_.color = var_36_25
			end

			local var_36_27 = arg_33_1.actors_["10014ui_story"].transform
			local var_36_28 = 4

			if var_36_28 < arg_33_1.time_ and arg_33_1.time_ <= var_36_28 + arg_36_0 then
				arg_33_1.var_.moveOldPos10014ui_story = var_36_27.localPosition
			end

			local var_36_29 = 0.001

			if var_36_28 <= arg_33_1.time_ and arg_33_1.time_ < var_36_28 + var_36_29 then
				local var_36_30 = (arg_33_1.time_ - var_36_28) / var_36_29
				local var_36_31 = Vector3.New(0, -1.06, -6.2)

				var_36_27.localPosition = Vector3.Lerp(arg_33_1.var_.moveOldPos10014ui_story, var_36_31, var_36_30)

				local var_36_32 = manager.ui.mainCamera.transform.position - var_36_27.position

				var_36_27.forward = Vector3.New(var_36_32.x, var_36_32.y, var_36_32.z)

				local var_36_33 = var_36_27.localEulerAngles

				var_36_33.z = 0
				var_36_33.x = 0
				var_36_27.localEulerAngles = var_36_33
			end

			if arg_33_1.time_ >= var_36_28 + var_36_29 and arg_33_1.time_ < var_36_28 + var_36_29 + arg_36_0 then
				var_36_27.localPosition = Vector3.New(0, -1.06, -6.2)

				local var_36_34 = manager.ui.mainCamera.transform.position - var_36_27.position

				var_36_27.forward = Vector3.New(var_36_34.x, var_36_34.y, var_36_34.z)

				local var_36_35 = var_36_27.localEulerAngles

				var_36_35.z = 0
				var_36_35.x = 0
				var_36_27.localEulerAngles = var_36_35
			end

			local var_36_36 = arg_33_1.actors_["10014ui_story"]
			local var_36_37 = 4

			if var_36_37 < arg_33_1.time_ and arg_33_1.time_ <= var_36_37 + arg_36_0 and not isNil(var_36_36) and arg_33_1.var_.characterEffect10014ui_story == nil then
				arg_33_1.var_.characterEffect10014ui_story = var_36_36:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_36_38 = 0.200000002980232

			if var_36_37 <= arg_33_1.time_ and arg_33_1.time_ < var_36_37 + var_36_38 and not isNil(var_36_36) then
				local var_36_39 = (arg_33_1.time_ - var_36_37) / var_36_38

				if arg_33_1.var_.characterEffect10014ui_story and not isNil(var_36_36) then
					arg_33_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_33_1.time_ >= var_36_37 + var_36_38 and arg_33_1.time_ < var_36_37 + var_36_38 + arg_36_0 and not isNil(var_36_36) and arg_33_1.var_.characterEffect10014ui_story then
				arg_33_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_36_40 = 4

			if var_36_40 < arg_33_1.time_ and arg_33_1.time_ <= var_36_40 + arg_36_0 then
				arg_33_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action2_1")
			end

			local var_36_41 = 4

			if var_36_41 < arg_33_1.time_ and arg_33_1.time_ <= var_36_41 + arg_36_0 then
				arg_33_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0104cva")
			end

			local var_36_42 = arg_33_1.actors_["10014ui_story"].transform
			local var_36_43 = 2

			if var_36_43 < arg_33_1.time_ and arg_33_1.time_ <= var_36_43 + arg_36_0 then
				arg_33_1.var_.moveOldPos10014ui_story = var_36_42.localPosition
			end

			local var_36_44 = 0.001

			if var_36_43 <= arg_33_1.time_ and arg_33_1.time_ < var_36_43 + var_36_44 then
				local var_36_45 = (arg_33_1.time_ - var_36_43) / var_36_44
				local var_36_46 = Vector3.New(0, 100, 0)

				var_36_42.localPosition = Vector3.Lerp(arg_33_1.var_.moveOldPos10014ui_story, var_36_46, var_36_45)

				local var_36_47 = manager.ui.mainCamera.transform.position - var_36_42.position

				var_36_42.forward = Vector3.New(var_36_47.x, var_36_47.y, var_36_47.z)

				local var_36_48 = var_36_42.localEulerAngles

				var_36_48.z = 0
				var_36_48.x = 0
				var_36_42.localEulerAngles = var_36_48
			end

			if arg_33_1.time_ >= var_36_43 + var_36_44 and arg_33_1.time_ < var_36_43 + var_36_44 + arg_36_0 then
				var_36_42.localPosition = Vector3.New(0, 100, 0)

				local var_36_49 = manager.ui.mainCamera.transform.position - var_36_42.position

				var_36_42.forward = Vector3.New(var_36_49.x, var_36_49.y, var_36_49.z)

				local var_36_50 = var_36_42.localEulerAngles

				var_36_50.z = 0
				var_36_50.x = 0
				var_36_42.localEulerAngles = var_36_50
			end

			if arg_33_1.frameCnt_ <= 1 then
				arg_33_1.dialog_:SetActive(false)
			end

			local var_36_51 = 4
			local var_36_52 = 0.175

			if var_36_51 < arg_33_1.time_ and arg_33_1.time_ <= var_36_51 + arg_36_0 then
				arg_33_1.talkMaxDuration = 0

				arg_33_1.dialog_:SetActive(true)

				local var_36_53 = LeanTween.value(arg_33_1.dialog_, 0, 1, 0.3)

				var_36_53:setOnUpdate(LuaHelper.FloatAction(function(arg_37_0)
					arg_33_1.dialogCg_.alpha = arg_37_0
				end))
				var_36_53:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_33_1.dialog_)
					var_36_53:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_33_1.duration_ = arg_33_1.duration_ + 0.3

				SetActive(arg_33_1.leftNameGo_, true)

				local var_36_54 = arg_33_1:FormatText(StoryNameCfg[264].name)

				arg_33_1.leftNameTxt_.text = var_36_54

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_33_1.leftNameTxt_.transform)

				arg_33_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_33_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_33_1:RecordName(arg_33_1.leftNameTxt_.text)
				SetActive(arg_33_1.iconTrs_.gameObject, false)
				arg_33_1.callingController_:SetSelectedState("normal")

				local var_36_55 = arg_33_1:GetWordFromCfg(411121008)
				local var_36_56 = arg_33_1:FormatText(var_36_55.content)

				arg_33_1.text_.text = var_36_56

				LuaForUtil.ClearLinePrefixSymbol(arg_33_1.text_)

				local var_36_57 = 7
				local var_36_58 = utf8.len(var_36_56)
				local var_36_59 = var_36_57 <= 0 and var_36_52 or var_36_52 * (var_36_58 / var_36_57)

				if var_36_59 > 0 and var_36_52 < var_36_59 then
					arg_33_1.talkMaxDuration = var_36_59
					var_36_51 = var_36_51 + 0.3

					if var_36_59 + var_36_51 > arg_33_1.duration_ then
						arg_33_1.duration_ = var_36_59 + var_36_51
					end
				end

				arg_33_1.text_.text = var_36_56
				arg_33_1.typewritter.percent = 0

				arg_33_1.typewritter:SetDirty()
				arg_33_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121008", "story_v_out_411121.awb") ~= 0 then
					local var_36_60 = manager.audio:GetVoiceLength("story_v_out_411121", "411121008", "story_v_out_411121.awb") / 1000

					if var_36_60 + var_36_51 > arg_33_1.duration_ then
						arg_33_1.duration_ = var_36_60 + var_36_51
					end

					if var_36_55.prefab_name ~= "" and arg_33_1.actors_[var_36_55.prefab_name] ~= nil then
						local var_36_61 = LuaForUtil.PlayVoiceWithCriLipsync(arg_33_1.actors_[var_36_55.prefab_name].transform, "story_v_out_411121", "411121008", "story_v_out_411121.awb")

						arg_33_1:RecordAudio("411121008", var_36_61)
						arg_33_1:RecordAudio("411121008", var_36_61)
					else
						arg_33_1:AudioAction("play", "voice", "story_v_out_411121", "411121008", "story_v_out_411121.awb")
					end

					arg_33_1:RecordHistoryTalkVoice("story_v_out_411121", "411121008", "story_v_out_411121.awb")
				end

				arg_33_1:RecordContent(arg_33_1.text_.text)
			end

			local var_36_62 = var_36_51 + 0.3
			local var_36_63 = math.max(var_36_52, arg_33_1.talkMaxDuration)

			if var_36_62 <= arg_33_1.time_ and arg_33_1.time_ < var_36_62 + var_36_63 then
				arg_33_1.typewritter.percent = (arg_33_1.time_ - var_36_62) / var_36_63

				arg_33_1.typewritter:SetDirty()
			end

			if arg_33_1.time_ >= var_36_62 + var_36_63 and arg_33_1.time_ < var_36_62 + var_36_63 + arg_36_0 then
				arg_33_1.typewritter.percent = 1

				arg_33_1.typewritter:SetDirty()
				arg_33_1:ShowNextGo(true)
			end
		end
	end,
	Play411121009 = function(arg_39_0, arg_39_1)
		arg_39_1.time_ = 0
		arg_39_1.frameCnt_ = 0
		arg_39_1.state_ = "playing"
		arg_39_1.curTalkId_ = 411121009
		arg_39_1.duration_ = 5.77

		local var_39_0 = {
			zh = 4.6,
			ja = 5.766
		}
		local var_39_1 = manager.audio:GetLocalizationFlag()

		if var_39_0[var_39_1] ~= nil then
			arg_39_1.duration_ = var_39_0[var_39_1]
		end

		SetActive(arg_39_1.tipsGo_, false)

		function arg_39_1.onSingleLineFinish_()
			arg_39_1.onSingleLineUpdate_ = nil
			arg_39_1.onSingleLineFinish_ = nil
			arg_39_1.state_ = "waiting"
		end

		function arg_39_1.playNext_(arg_41_0)
			if arg_41_0 == 1 then
				arg_39_0:Play411121010(arg_39_1)
			end
		end

		function arg_39_1.onSingleLineUpdate_(arg_42_0)
			local var_42_0 = arg_39_1.actors_["10014ui_story"]
			local var_42_1 = 0

			if var_42_1 < arg_39_1.time_ and arg_39_1.time_ <= var_42_1 + arg_42_0 and not isNil(var_42_0) and arg_39_1.var_.characterEffect10014ui_story == nil then
				arg_39_1.var_.characterEffect10014ui_story = var_42_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_42_2 = 0.200000002980232

			if var_42_1 <= arg_39_1.time_ and arg_39_1.time_ < var_42_1 + var_42_2 and not isNil(var_42_0) then
				local var_42_3 = (arg_39_1.time_ - var_42_1) / var_42_2

				if arg_39_1.var_.characterEffect10014ui_story and not isNil(var_42_0) then
					local var_42_4 = Mathf.Lerp(0, 0.5, var_42_3)

					arg_39_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_39_1.var_.characterEffect10014ui_story.fillRatio = var_42_4
				end
			end

			if arg_39_1.time_ >= var_42_1 + var_42_2 and arg_39_1.time_ < var_42_1 + var_42_2 + arg_42_0 and not isNil(var_42_0) and arg_39_1.var_.characterEffect10014ui_story then
				local var_42_5 = 0.5

				arg_39_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_39_1.var_.characterEffect10014ui_story.fillRatio = var_42_5
			end

			local var_42_6 = 0
			local var_42_7 = 0.6

			if var_42_6 < arg_39_1.time_ and arg_39_1.time_ <= var_42_6 + arg_42_0 then
				arg_39_1.talkMaxDuration = 0
				arg_39_1.dialogCg_.alpha = 1

				arg_39_1.dialog_:SetActive(true)
				SetActive(arg_39_1.leftNameGo_, true)

				local var_42_8 = arg_39_1:FormatText(StoryNameCfg[689].name)

				arg_39_1.leftNameTxt_.text = var_42_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_39_1.leftNameTxt_.transform)

				arg_39_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_39_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_39_1:RecordName(arg_39_1.leftNameTxt_.text)
				SetActive(arg_39_1.iconTrs_.gameObject, true)
				arg_39_1.iconController_:SetSelectedState("hero")

				arg_39_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_shadoww")

				arg_39_1.callingController_:SetSelectedState("normal")

				arg_39_1.keyicon_.color = Color.New(1, 1, 1)
				arg_39_1.icon_.color = Color.New(1, 1, 1)

				local var_42_9 = arg_39_1:GetWordFromCfg(411121009)
				local var_42_10 = arg_39_1:FormatText(var_42_9.content)

				arg_39_1.text_.text = var_42_10

				LuaForUtil.ClearLinePrefixSymbol(arg_39_1.text_)

				local var_42_11 = 24
				local var_42_12 = utf8.len(var_42_10)
				local var_42_13 = var_42_11 <= 0 and var_42_7 or var_42_7 * (var_42_12 / var_42_11)

				if var_42_13 > 0 and var_42_7 < var_42_13 then
					arg_39_1.talkMaxDuration = var_42_13

					if var_42_13 + var_42_6 > arg_39_1.duration_ then
						arg_39_1.duration_ = var_42_13 + var_42_6
					end
				end

				arg_39_1.text_.text = var_42_10
				arg_39_1.typewritter.percent = 0

				arg_39_1.typewritter:SetDirty()
				arg_39_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121009", "story_v_out_411121.awb") ~= 0 then
					local var_42_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121009", "story_v_out_411121.awb") / 1000

					if var_42_14 + var_42_6 > arg_39_1.duration_ then
						arg_39_1.duration_ = var_42_14 + var_42_6
					end

					if var_42_9.prefab_name ~= "" and arg_39_1.actors_[var_42_9.prefab_name] ~= nil then
						local var_42_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_39_1.actors_[var_42_9.prefab_name].transform, "story_v_out_411121", "411121009", "story_v_out_411121.awb")

						arg_39_1:RecordAudio("411121009", var_42_15)
						arg_39_1:RecordAudio("411121009", var_42_15)
					else
						arg_39_1:AudioAction("play", "voice", "story_v_out_411121", "411121009", "story_v_out_411121.awb")
					end

					arg_39_1:RecordHistoryTalkVoice("story_v_out_411121", "411121009", "story_v_out_411121.awb")
				end

				arg_39_1:RecordContent(arg_39_1.text_.text)
			end

			local var_42_16 = math.max(var_42_7, arg_39_1.talkMaxDuration)

			if var_42_6 <= arg_39_1.time_ and arg_39_1.time_ < var_42_6 + var_42_16 then
				arg_39_1.typewritter.percent = (arg_39_1.time_ - var_42_6) / var_42_16

				arg_39_1.typewritter:SetDirty()
			end

			if arg_39_1.time_ >= var_42_6 + var_42_16 and arg_39_1.time_ < var_42_6 + var_42_16 + arg_42_0 then
				arg_39_1.typewritter.percent = 1

				arg_39_1.typewritter:SetDirty()
				arg_39_1:ShowNextGo(true)
			end
		end
	end,
	Play411121010 = function(arg_43_0, arg_43_1)
		arg_43_1.time_ = 0
		arg_43_1.frameCnt_ = 0
		arg_43_1.state_ = "playing"
		arg_43_1.curTalkId_ = 411121010
		arg_43_1.duration_ = 1.87

		local var_43_0 = {
			zh = 1.866,
			ja = 1.6
		}
		local var_43_1 = manager.audio:GetLocalizationFlag()

		if var_43_0[var_43_1] ~= nil then
			arg_43_1.duration_ = var_43_0[var_43_1]
		end

		SetActive(arg_43_1.tipsGo_, false)

		function arg_43_1.onSingleLineFinish_()
			arg_43_1.onSingleLineUpdate_ = nil
			arg_43_1.onSingleLineFinish_ = nil
			arg_43_1.state_ = "waiting"
		end

		function arg_43_1.playNext_(arg_45_0)
			if arg_45_0 == 1 then
				arg_43_0:Play411121011(arg_43_1)
			end
		end

		function arg_43_1.onSingleLineUpdate_(arg_46_0)
			local var_46_0 = arg_43_1.actors_["10014ui_story"]
			local var_46_1 = 0

			if var_46_1 < arg_43_1.time_ and arg_43_1.time_ <= var_46_1 + arg_46_0 and not isNil(var_46_0) and arg_43_1.var_.characterEffect10014ui_story == nil then
				arg_43_1.var_.characterEffect10014ui_story = var_46_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_46_2 = 0.200000002980232

			if var_46_1 <= arg_43_1.time_ and arg_43_1.time_ < var_46_1 + var_46_2 and not isNil(var_46_0) then
				local var_46_3 = (arg_43_1.time_ - var_46_1) / var_46_2

				if arg_43_1.var_.characterEffect10014ui_story and not isNil(var_46_0) then
					arg_43_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_43_1.time_ >= var_46_1 + var_46_2 and arg_43_1.time_ < var_46_1 + var_46_2 + arg_46_0 and not isNil(var_46_0) and arg_43_1.var_.characterEffect10014ui_story then
				arg_43_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_46_4 = 0
			local var_46_5 = 0.225

			if var_46_4 < arg_43_1.time_ and arg_43_1.time_ <= var_46_4 + arg_46_0 then
				arg_43_1.talkMaxDuration = 0
				arg_43_1.dialogCg_.alpha = 1

				arg_43_1.dialog_:SetActive(true)
				SetActive(arg_43_1.leftNameGo_, true)

				local var_46_6 = arg_43_1:FormatText(StoryNameCfg[264].name)

				arg_43_1.leftNameTxt_.text = var_46_6

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_43_1.leftNameTxt_.transform)

				arg_43_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_43_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_43_1:RecordName(arg_43_1.leftNameTxt_.text)
				SetActive(arg_43_1.iconTrs_.gameObject, false)
				arg_43_1.callingController_:SetSelectedState("normal")

				local var_46_7 = arg_43_1:GetWordFromCfg(411121010)
				local var_46_8 = arg_43_1:FormatText(var_46_7.content)

				arg_43_1.text_.text = var_46_8

				LuaForUtil.ClearLinePrefixSymbol(arg_43_1.text_)

				local var_46_9 = 9
				local var_46_10 = utf8.len(var_46_8)
				local var_46_11 = var_46_9 <= 0 and var_46_5 or var_46_5 * (var_46_10 / var_46_9)

				if var_46_11 > 0 and var_46_5 < var_46_11 then
					arg_43_1.talkMaxDuration = var_46_11

					if var_46_11 + var_46_4 > arg_43_1.duration_ then
						arg_43_1.duration_ = var_46_11 + var_46_4
					end
				end

				arg_43_1.text_.text = var_46_8
				arg_43_1.typewritter.percent = 0

				arg_43_1.typewritter:SetDirty()
				arg_43_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121010", "story_v_out_411121.awb") ~= 0 then
					local var_46_12 = manager.audio:GetVoiceLength("story_v_out_411121", "411121010", "story_v_out_411121.awb") / 1000

					if var_46_12 + var_46_4 > arg_43_1.duration_ then
						arg_43_1.duration_ = var_46_12 + var_46_4
					end

					if var_46_7.prefab_name ~= "" and arg_43_1.actors_[var_46_7.prefab_name] ~= nil then
						local var_46_13 = LuaForUtil.PlayVoiceWithCriLipsync(arg_43_1.actors_[var_46_7.prefab_name].transform, "story_v_out_411121", "411121010", "story_v_out_411121.awb")

						arg_43_1:RecordAudio("411121010", var_46_13)
						arg_43_1:RecordAudio("411121010", var_46_13)
					else
						arg_43_1:AudioAction("play", "voice", "story_v_out_411121", "411121010", "story_v_out_411121.awb")
					end

					arg_43_1:RecordHistoryTalkVoice("story_v_out_411121", "411121010", "story_v_out_411121.awb")
				end

				arg_43_1:RecordContent(arg_43_1.text_.text)
			end

			local var_46_14 = math.max(var_46_5, arg_43_1.talkMaxDuration)

			if var_46_4 <= arg_43_1.time_ and arg_43_1.time_ < var_46_4 + var_46_14 then
				arg_43_1.typewritter.percent = (arg_43_1.time_ - var_46_4) / var_46_14

				arg_43_1.typewritter:SetDirty()
			end

			if arg_43_1.time_ >= var_46_4 + var_46_14 and arg_43_1.time_ < var_46_4 + var_46_14 + arg_46_0 then
				arg_43_1.typewritter.percent = 1

				arg_43_1.typewritter:SetDirty()
				arg_43_1:ShowNextGo(true)
			end
		end
	end,
	Play411121011 = function(arg_47_0, arg_47_1)
		arg_47_1.time_ = 0
		arg_47_1.frameCnt_ = 0
		arg_47_1.state_ = "playing"
		arg_47_1.curTalkId_ = 411121011
		arg_47_1.duration_ = 7.63

		local var_47_0 = {
			zh = 7.633,
			ja = 7.433
		}
		local var_47_1 = manager.audio:GetLocalizationFlag()

		if var_47_0[var_47_1] ~= nil then
			arg_47_1.duration_ = var_47_0[var_47_1]
		end

		SetActive(arg_47_1.tipsGo_, false)

		function arg_47_1.onSingleLineFinish_()
			arg_47_1.onSingleLineUpdate_ = nil
			arg_47_1.onSingleLineFinish_ = nil
			arg_47_1.state_ = "waiting"
		end

		function arg_47_1.playNext_(arg_49_0)
			if arg_49_0 == 1 then
				arg_47_0:Play411121012(arg_47_1)
			end
		end

		function arg_47_1.onSingleLineUpdate_(arg_50_0)
			local var_50_0 = arg_47_1.actors_["10014ui_story"]
			local var_50_1 = 0

			if var_50_1 < arg_47_1.time_ and arg_47_1.time_ <= var_50_1 + arg_50_0 and not isNil(var_50_0) and arg_47_1.var_.characterEffect10014ui_story == nil then
				arg_47_1.var_.characterEffect10014ui_story = var_50_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_50_2 = 0.200000002980232

			if var_50_1 <= arg_47_1.time_ and arg_47_1.time_ < var_50_1 + var_50_2 and not isNil(var_50_0) then
				local var_50_3 = (arg_47_1.time_ - var_50_1) / var_50_2

				if arg_47_1.var_.characterEffect10014ui_story and not isNil(var_50_0) then
					local var_50_4 = Mathf.Lerp(0, 0.5, var_50_3)

					arg_47_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_47_1.var_.characterEffect10014ui_story.fillRatio = var_50_4
				end
			end

			if arg_47_1.time_ >= var_50_1 + var_50_2 and arg_47_1.time_ < var_50_1 + var_50_2 + arg_50_0 and not isNil(var_50_0) and arg_47_1.var_.characterEffect10014ui_story then
				local var_50_5 = 0.5

				arg_47_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_47_1.var_.characterEffect10014ui_story.fillRatio = var_50_5
			end

			local var_50_6 = 0
			local var_50_7 = 0.95

			if var_50_6 < arg_47_1.time_ and arg_47_1.time_ <= var_50_6 + arg_50_0 then
				arg_47_1.talkMaxDuration = 0
				arg_47_1.dialogCg_.alpha = 1

				arg_47_1.dialog_:SetActive(true)
				SetActive(arg_47_1.leftNameGo_, true)

				local var_50_8 = arg_47_1:FormatText(StoryNameCfg[689].name)

				arg_47_1.leftNameTxt_.text = var_50_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_47_1.leftNameTxt_.transform)

				arg_47_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_47_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_47_1:RecordName(arg_47_1.leftNameTxt_.text)
				SetActive(arg_47_1.iconTrs_.gameObject, true)
				arg_47_1.iconController_:SetSelectedState("hero")

				arg_47_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_shadoww")

				arg_47_1.callingController_:SetSelectedState("normal")

				arg_47_1.keyicon_.color = Color.New(1, 1, 1)
				arg_47_1.icon_.color = Color.New(1, 1, 1)

				local var_50_9 = arg_47_1:GetWordFromCfg(411121011)
				local var_50_10 = arg_47_1:FormatText(var_50_9.content)

				arg_47_1.text_.text = var_50_10

				LuaForUtil.ClearLinePrefixSymbol(arg_47_1.text_)

				local var_50_11 = 38
				local var_50_12 = utf8.len(var_50_10)
				local var_50_13 = var_50_11 <= 0 and var_50_7 or var_50_7 * (var_50_12 / var_50_11)

				if var_50_13 > 0 and var_50_7 < var_50_13 then
					arg_47_1.talkMaxDuration = var_50_13

					if var_50_13 + var_50_6 > arg_47_1.duration_ then
						arg_47_1.duration_ = var_50_13 + var_50_6
					end
				end

				arg_47_1.text_.text = var_50_10
				arg_47_1.typewritter.percent = 0

				arg_47_1.typewritter:SetDirty()
				arg_47_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121011", "story_v_out_411121.awb") ~= 0 then
					local var_50_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121011", "story_v_out_411121.awb") / 1000

					if var_50_14 + var_50_6 > arg_47_1.duration_ then
						arg_47_1.duration_ = var_50_14 + var_50_6
					end

					if var_50_9.prefab_name ~= "" and arg_47_1.actors_[var_50_9.prefab_name] ~= nil then
						local var_50_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_47_1.actors_[var_50_9.prefab_name].transform, "story_v_out_411121", "411121011", "story_v_out_411121.awb")

						arg_47_1:RecordAudio("411121011", var_50_15)
						arg_47_1:RecordAudio("411121011", var_50_15)
					else
						arg_47_1:AudioAction("play", "voice", "story_v_out_411121", "411121011", "story_v_out_411121.awb")
					end

					arg_47_1:RecordHistoryTalkVoice("story_v_out_411121", "411121011", "story_v_out_411121.awb")
				end

				arg_47_1:RecordContent(arg_47_1.text_.text)
			end

			local var_50_16 = math.max(var_50_7, arg_47_1.talkMaxDuration)

			if var_50_6 <= arg_47_1.time_ and arg_47_1.time_ < var_50_6 + var_50_16 then
				arg_47_1.typewritter.percent = (arg_47_1.time_ - var_50_6) / var_50_16

				arg_47_1.typewritter:SetDirty()
			end

			if arg_47_1.time_ >= var_50_6 + var_50_16 and arg_47_1.time_ < var_50_6 + var_50_16 + arg_50_0 then
				arg_47_1.typewritter.percent = 1

				arg_47_1.typewritter:SetDirty()
				arg_47_1:ShowNextGo(true)
			end
		end
	end,
	Play411121012 = function(arg_51_0, arg_51_1)
		arg_51_1.time_ = 0
		arg_51_1.frameCnt_ = 0
		arg_51_1.state_ = "playing"
		arg_51_1.curTalkId_ = 411121012
		arg_51_1.duration_ = 7.6

		local var_51_0 = {
			zh = 4.533,
			ja = 7.6
		}
		local var_51_1 = manager.audio:GetLocalizationFlag()

		if var_51_0[var_51_1] ~= nil then
			arg_51_1.duration_ = var_51_0[var_51_1]
		end

		SetActive(arg_51_1.tipsGo_, false)

		function arg_51_1.onSingleLineFinish_()
			arg_51_1.onSingleLineUpdate_ = nil
			arg_51_1.onSingleLineFinish_ = nil
			arg_51_1.state_ = "waiting"
		end

		function arg_51_1.playNext_(arg_53_0)
			if arg_53_0 == 1 then
				arg_51_0:Play411121013(arg_51_1)
			end
		end

		function arg_51_1.onSingleLineUpdate_(arg_54_0)
			local var_54_0 = arg_51_1.actors_["10014ui_story"].transform
			local var_54_1 = 0

			if var_54_1 < arg_51_1.time_ and arg_51_1.time_ <= var_54_1 + arg_54_0 then
				arg_51_1.var_.moveOldPos10014ui_story = var_54_0.localPosition
			end

			local var_54_2 = 0.001

			if var_54_1 <= arg_51_1.time_ and arg_51_1.time_ < var_54_1 + var_54_2 then
				local var_54_3 = (arg_51_1.time_ - var_54_1) / var_54_2
				local var_54_4 = Vector3.New(0, -1.06, -6.2)

				var_54_0.localPosition = Vector3.Lerp(arg_51_1.var_.moveOldPos10014ui_story, var_54_4, var_54_3)

				local var_54_5 = manager.ui.mainCamera.transform.position - var_54_0.position

				var_54_0.forward = Vector3.New(var_54_5.x, var_54_5.y, var_54_5.z)

				local var_54_6 = var_54_0.localEulerAngles

				var_54_6.z = 0
				var_54_6.x = 0
				var_54_0.localEulerAngles = var_54_6
			end

			if arg_51_1.time_ >= var_54_1 + var_54_2 and arg_51_1.time_ < var_54_1 + var_54_2 + arg_54_0 then
				var_54_0.localPosition = Vector3.New(0, -1.06, -6.2)

				local var_54_7 = manager.ui.mainCamera.transform.position - var_54_0.position

				var_54_0.forward = Vector3.New(var_54_7.x, var_54_7.y, var_54_7.z)

				local var_54_8 = var_54_0.localEulerAngles

				var_54_8.z = 0
				var_54_8.x = 0
				var_54_0.localEulerAngles = var_54_8
			end

			local var_54_9 = arg_51_1.actors_["10014ui_story"]
			local var_54_10 = 0

			if var_54_10 < arg_51_1.time_ and arg_51_1.time_ <= var_54_10 + arg_54_0 and not isNil(var_54_9) and arg_51_1.var_.characterEffect10014ui_story == nil then
				arg_51_1.var_.characterEffect10014ui_story = var_54_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_54_11 = 0.200000002980232

			if var_54_10 <= arg_51_1.time_ and arg_51_1.time_ < var_54_10 + var_54_11 and not isNil(var_54_9) then
				local var_54_12 = (arg_51_1.time_ - var_54_10) / var_54_11

				if arg_51_1.var_.characterEffect10014ui_story and not isNil(var_54_9) then
					arg_51_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_51_1.time_ >= var_54_10 + var_54_11 and arg_51_1.time_ < var_54_10 + var_54_11 + arg_54_0 and not isNil(var_54_9) and arg_51_1.var_.characterEffect10014ui_story then
				arg_51_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_54_13 = 0

			if var_54_13 < arg_51_1.time_ and arg_51_1.time_ <= var_54_13 + arg_54_0 then
				arg_51_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action2_2")
			end

			local var_54_14 = 0

			if var_54_14 < arg_51_1.time_ and arg_51_1.time_ <= var_54_14 + arg_54_0 then
				arg_51_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_54_15 = 0
			local var_54_16 = 0.525

			if var_54_15 < arg_51_1.time_ and arg_51_1.time_ <= var_54_15 + arg_54_0 then
				arg_51_1.talkMaxDuration = 0
				arg_51_1.dialogCg_.alpha = 1

				arg_51_1.dialog_:SetActive(true)
				SetActive(arg_51_1.leftNameGo_, true)

				local var_54_17 = arg_51_1:FormatText(StoryNameCfg[264].name)

				arg_51_1.leftNameTxt_.text = var_54_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_51_1.leftNameTxt_.transform)

				arg_51_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_51_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_51_1:RecordName(arg_51_1.leftNameTxt_.text)
				SetActive(arg_51_1.iconTrs_.gameObject, false)
				arg_51_1.callingController_:SetSelectedState("normal")

				local var_54_18 = arg_51_1:GetWordFromCfg(411121012)
				local var_54_19 = arg_51_1:FormatText(var_54_18.content)

				arg_51_1.text_.text = var_54_19

				LuaForUtil.ClearLinePrefixSymbol(arg_51_1.text_)

				local var_54_20 = 21
				local var_54_21 = utf8.len(var_54_19)
				local var_54_22 = var_54_20 <= 0 and var_54_16 or var_54_16 * (var_54_21 / var_54_20)

				if var_54_22 > 0 and var_54_16 < var_54_22 then
					arg_51_1.talkMaxDuration = var_54_22

					if var_54_22 + var_54_15 > arg_51_1.duration_ then
						arg_51_1.duration_ = var_54_22 + var_54_15
					end
				end

				arg_51_1.text_.text = var_54_19
				arg_51_1.typewritter.percent = 0

				arg_51_1.typewritter:SetDirty()
				arg_51_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121012", "story_v_out_411121.awb") ~= 0 then
					local var_54_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121012", "story_v_out_411121.awb") / 1000

					if var_54_23 + var_54_15 > arg_51_1.duration_ then
						arg_51_1.duration_ = var_54_23 + var_54_15
					end

					if var_54_18.prefab_name ~= "" and arg_51_1.actors_[var_54_18.prefab_name] ~= nil then
						local var_54_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_51_1.actors_[var_54_18.prefab_name].transform, "story_v_out_411121", "411121012", "story_v_out_411121.awb")

						arg_51_1:RecordAudio("411121012", var_54_24)
						arg_51_1:RecordAudio("411121012", var_54_24)
					else
						arg_51_1:AudioAction("play", "voice", "story_v_out_411121", "411121012", "story_v_out_411121.awb")
					end

					arg_51_1:RecordHistoryTalkVoice("story_v_out_411121", "411121012", "story_v_out_411121.awb")
				end

				arg_51_1:RecordContent(arg_51_1.text_.text)
			end

			local var_54_25 = math.max(var_54_16, arg_51_1.talkMaxDuration)

			if var_54_15 <= arg_51_1.time_ and arg_51_1.time_ < var_54_15 + var_54_25 then
				arg_51_1.typewritter.percent = (arg_51_1.time_ - var_54_15) / var_54_25

				arg_51_1.typewritter:SetDirty()
			end

			if arg_51_1.time_ >= var_54_15 + var_54_25 and arg_51_1.time_ < var_54_15 + var_54_25 + arg_54_0 then
				arg_51_1.typewritter.percent = 1

				arg_51_1.typewritter:SetDirty()
				arg_51_1:ShowNextGo(true)
			end
		end
	end,
	Play411121013 = function(arg_55_0, arg_55_1)
		arg_55_1.time_ = 0
		arg_55_1.frameCnt_ = 0
		arg_55_1.state_ = "playing"
		arg_55_1.curTalkId_ = 411121013
		arg_55_1.duration_ = 1.47

		local var_55_0 = {
			zh = 1.033,
			ja = 1.466
		}
		local var_55_1 = manager.audio:GetLocalizationFlag()

		if var_55_0[var_55_1] ~= nil then
			arg_55_1.duration_ = var_55_0[var_55_1]
		end

		SetActive(arg_55_1.tipsGo_, false)

		function arg_55_1.onSingleLineFinish_()
			arg_55_1.onSingleLineUpdate_ = nil
			arg_55_1.onSingleLineFinish_ = nil
			arg_55_1.state_ = "waiting"
		end

		function arg_55_1.playNext_(arg_57_0)
			if arg_57_0 == 1 then
				arg_55_0:Play411121014(arg_55_1)
			end
		end

		function arg_55_1.onSingleLineUpdate_(arg_58_0)
			local var_58_0 = arg_55_1.actors_["10014ui_story"]
			local var_58_1 = 0

			if var_58_1 < arg_55_1.time_ and arg_55_1.time_ <= var_58_1 + arg_58_0 and not isNil(var_58_0) and arg_55_1.var_.characterEffect10014ui_story == nil then
				arg_55_1.var_.characterEffect10014ui_story = var_58_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_58_2 = 0.200000002980232

			if var_58_1 <= arg_55_1.time_ and arg_55_1.time_ < var_58_1 + var_58_2 and not isNil(var_58_0) then
				local var_58_3 = (arg_55_1.time_ - var_58_1) / var_58_2

				if arg_55_1.var_.characterEffect10014ui_story and not isNil(var_58_0) then
					local var_58_4 = Mathf.Lerp(0, 0.5, var_58_3)

					arg_55_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_55_1.var_.characterEffect10014ui_story.fillRatio = var_58_4
				end
			end

			if arg_55_1.time_ >= var_58_1 + var_58_2 and arg_55_1.time_ < var_58_1 + var_58_2 + arg_58_0 and not isNil(var_58_0) and arg_55_1.var_.characterEffect10014ui_story then
				local var_58_5 = 0.5

				arg_55_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_55_1.var_.characterEffect10014ui_story.fillRatio = var_58_5
			end

			local var_58_6 = 0
			local var_58_7 = 0.075

			if var_58_6 < arg_55_1.time_ and arg_55_1.time_ <= var_58_6 + arg_58_0 then
				arg_55_1.talkMaxDuration = 0
				arg_55_1.dialogCg_.alpha = 1

				arg_55_1.dialog_:SetActive(true)
				SetActive(arg_55_1.leftNameGo_, true)

				local var_58_8 = arg_55_1:FormatText(StoryNameCfg[689].name)

				arg_55_1.leftNameTxt_.text = var_58_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_55_1.leftNameTxt_.transform)

				arg_55_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_55_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_55_1:RecordName(arg_55_1.leftNameTxt_.text)
				SetActive(arg_55_1.iconTrs_.gameObject, true)
				arg_55_1.iconController_:SetSelectedState("hero")

				arg_55_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_shadoww")

				arg_55_1.callingController_:SetSelectedState("normal")

				arg_55_1.keyicon_.color = Color.New(1, 1, 1)
				arg_55_1.icon_.color = Color.New(1, 1, 1)

				local var_58_9 = arg_55_1:GetWordFromCfg(411121013)
				local var_58_10 = arg_55_1:FormatText(var_58_9.content)

				arg_55_1.text_.text = var_58_10

				LuaForUtil.ClearLinePrefixSymbol(arg_55_1.text_)

				local var_58_11 = 3
				local var_58_12 = utf8.len(var_58_10)
				local var_58_13 = var_58_11 <= 0 and var_58_7 or var_58_7 * (var_58_12 / var_58_11)

				if var_58_13 > 0 and var_58_7 < var_58_13 then
					arg_55_1.talkMaxDuration = var_58_13

					if var_58_13 + var_58_6 > arg_55_1.duration_ then
						arg_55_1.duration_ = var_58_13 + var_58_6
					end
				end

				arg_55_1.text_.text = var_58_10
				arg_55_1.typewritter.percent = 0

				arg_55_1.typewritter:SetDirty()
				arg_55_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121013", "story_v_out_411121.awb") ~= 0 then
					local var_58_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121013", "story_v_out_411121.awb") / 1000

					if var_58_14 + var_58_6 > arg_55_1.duration_ then
						arg_55_1.duration_ = var_58_14 + var_58_6
					end

					if var_58_9.prefab_name ~= "" and arg_55_1.actors_[var_58_9.prefab_name] ~= nil then
						local var_58_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_55_1.actors_[var_58_9.prefab_name].transform, "story_v_out_411121", "411121013", "story_v_out_411121.awb")

						arg_55_1:RecordAudio("411121013", var_58_15)
						arg_55_1:RecordAudio("411121013", var_58_15)
					else
						arg_55_1:AudioAction("play", "voice", "story_v_out_411121", "411121013", "story_v_out_411121.awb")
					end

					arg_55_1:RecordHistoryTalkVoice("story_v_out_411121", "411121013", "story_v_out_411121.awb")
				end

				arg_55_1:RecordContent(arg_55_1.text_.text)
			end

			local var_58_16 = math.max(var_58_7, arg_55_1.talkMaxDuration)

			if var_58_6 <= arg_55_1.time_ and arg_55_1.time_ < var_58_6 + var_58_16 then
				arg_55_1.typewritter.percent = (arg_55_1.time_ - var_58_6) / var_58_16

				arg_55_1.typewritter:SetDirty()
			end

			if arg_55_1.time_ >= var_58_6 + var_58_16 and arg_55_1.time_ < var_58_6 + var_58_16 + arg_58_0 then
				arg_55_1.typewritter.percent = 1

				arg_55_1.typewritter:SetDirty()
				arg_55_1:ShowNextGo(true)
			end
		end
	end,
	Play411121014 = function(arg_59_0, arg_59_1)
		arg_59_1.time_ = 0
		arg_59_1.frameCnt_ = 0
		arg_59_1.state_ = "playing"
		arg_59_1.curTalkId_ = 411121014
		arg_59_1.duration_ = 5.57

		local var_59_0 = {
			zh = 5.133,
			ja = 5.566
		}
		local var_59_1 = manager.audio:GetLocalizationFlag()

		if var_59_0[var_59_1] ~= nil then
			arg_59_1.duration_ = var_59_0[var_59_1]
		end

		SetActive(arg_59_1.tipsGo_, false)

		function arg_59_1.onSingleLineFinish_()
			arg_59_1.onSingleLineUpdate_ = nil
			arg_59_1.onSingleLineFinish_ = nil
			arg_59_1.state_ = "waiting"
		end

		function arg_59_1.playNext_(arg_61_0)
			if arg_61_0 == 1 then
				arg_59_0:Play411121015(arg_59_1)
			end
		end

		function arg_59_1.onSingleLineUpdate_(arg_62_0)
			local var_62_0 = manager.ui.mainCamera.transform
			local var_62_1 = 0

			if var_62_1 < arg_59_1.time_ and arg_59_1.time_ <= var_62_1 + arg_62_0 then
				arg_59_1.var_.shakeOldPos = var_62_0.localPosition
			end

			local var_62_2 = 0.3

			if var_62_1 <= arg_59_1.time_ and arg_59_1.time_ < var_62_1 + var_62_2 then
				local var_62_3 = (arg_59_1.time_ - var_62_1) / 0.066
				local var_62_4, var_62_5 = math.modf(var_62_3)

				var_62_0.localPosition = Vector3.New(var_62_5 * 0.13, var_62_5 * 0.13, var_62_5 * 0.13) + arg_59_1.var_.shakeOldPos
			end

			if arg_59_1.time_ >= var_62_1 + var_62_2 and arg_59_1.time_ < var_62_1 + var_62_2 + arg_62_0 then
				var_62_0.localPosition = arg_59_1.var_.shakeOldPos
			end

			local var_62_6 = arg_59_1.actors_["10014ui_story"].transform
			local var_62_7 = 0

			if var_62_7 < arg_59_1.time_ and arg_59_1.time_ <= var_62_7 + arg_62_0 then
				arg_59_1.var_.moveOldPos10014ui_story = var_62_6.localPosition
			end

			local var_62_8 = 0.001

			if var_62_7 <= arg_59_1.time_ and arg_59_1.time_ < var_62_7 + var_62_8 then
				local var_62_9 = (arg_59_1.time_ - var_62_7) / var_62_8
				local var_62_10 = Vector3.New(0, 100, 0)

				var_62_6.localPosition = Vector3.Lerp(arg_59_1.var_.moveOldPos10014ui_story, var_62_10, var_62_9)

				local var_62_11 = manager.ui.mainCamera.transform.position - var_62_6.position

				var_62_6.forward = Vector3.New(var_62_11.x, var_62_11.y, var_62_11.z)

				local var_62_12 = var_62_6.localEulerAngles

				var_62_12.z = 0
				var_62_12.x = 0
				var_62_6.localEulerAngles = var_62_12
			end

			if arg_59_1.time_ >= var_62_7 + var_62_8 and arg_59_1.time_ < var_62_7 + var_62_8 + arg_62_0 then
				var_62_6.localPosition = Vector3.New(0, 100, 0)

				local var_62_13 = manager.ui.mainCamera.transform.position - var_62_6.position

				var_62_6.forward = Vector3.New(var_62_13.x, var_62_13.y, var_62_13.z)

				local var_62_14 = var_62_6.localEulerAngles

				var_62_14.z = 0
				var_62_14.x = 0
				var_62_6.localEulerAngles = var_62_14
			end

			local var_62_15 = 0
			local var_62_16 = 0.775

			if var_62_15 < arg_59_1.time_ and arg_59_1.time_ <= var_62_15 + arg_62_0 then
				arg_59_1.talkMaxDuration = 0
				arg_59_1.dialogCg_.alpha = 1

				arg_59_1.dialog_:SetActive(true)
				SetActive(arg_59_1.leftNameGo_, true)

				local var_62_17 = arg_59_1:FormatText(StoryNameCfg[688].name)

				arg_59_1.leftNameTxt_.text = var_62_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_59_1.leftNameTxt_.transform)

				arg_59_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_59_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_59_1:RecordName(arg_59_1.leftNameTxt_.text)
				SetActive(arg_59_1.iconTrs_.gameObject, true)
				arg_59_1.iconController_:SetSelectedState("hero")

				arg_59_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_2078")

				arg_59_1.callingController_:SetSelectedState("normal")

				arg_59_1.keyicon_.color = Color.New(1, 1, 1)
				arg_59_1.icon_.color = Color.New(1, 1, 1)

				local var_62_18 = arg_59_1:GetWordFromCfg(411121014)
				local var_62_19 = arg_59_1:FormatText(var_62_18.content)

				arg_59_1.text_.text = var_62_19

				LuaForUtil.ClearLinePrefixSymbol(arg_59_1.text_)

				local var_62_20 = 31
				local var_62_21 = utf8.len(var_62_19)
				local var_62_22 = var_62_20 <= 0 and var_62_16 or var_62_16 * (var_62_21 / var_62_20)

				if var_62_22 > 0 and var_62_16 < var_62_22 then
					arg_59_1.talkMaxDuration = var_62_22

					if var_62_22 + var_62_15 > arg_59_1.duration_ then
						arg_59_1.duration_ = var_62_22 + var_62_15
					end
				end

				arg_59_1.text_.text = var_62_19
				arg_59_1.typewritter.percent = 0

				arg_59_1.typewritter:SetDirty()
				arg_59_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121014", "story_v_out_411121.awb") ~= 0 then
					local var_62_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121014", "story_v_out_411121.awb") / 1000

					if var_62_23 + var_62_15 > arg_59_1.duration_ then
						arg_59_1.duration_ = var_62_23 + var_62_15
					end

					if var_62_18.prefab_name ~= "" and arg_59_1.actors_[var_62_18.prefab_name] ~= nil then
						local var_62_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_59_1.actors_[var_62_18.prefab_name].transform, "story_v_out_411121", "411121014", "story_v_out_411121.awb")

						arg_59_1:RecordAudio("411121014", var_62_24)
						arg_59_1:RecordAudio("411121014", var_62_24)
					else
						arg_59_1:AudioAction("play", "voice", "story_v_out_411121", "411121014", "story_v_out_411121.awb")
					end

					arg_59_1:RecordHistoryTalkVoice("story_v_out_411121", "411121014", "story_v_out_411121.awb")
				end

				arg_59_1:RecordContent(arg_59_1.text_.text)
			end

			local var_62_25 = math.max(var_62_16, arg_59_1.talkMaxDuration)

			if var_62_15 <= arg_59_1.time_ and arg_59_1.time_ < var_62_15 + var_62_25 then
				arg_59_1.typewritter.percent = (arg_59_1.time_ - var_62_15) / var_62_25

				arg_59_1.typewritter:SetDirty()
			end

			if arg_59_1.time_ >= var_62_15 + var_62_25 and arg_59_1.time_ < var_62_15 + var_62_25 + arg_62_0 then
				arg_59_1.typewritter.percent = 1

				arg_59_1.typewritter:SetDirty()
				arg_59_1:ShowNextGo(true)
			end
		end
	end,
	Play411121015 = function(arg_63_0, arg_63_1)
		arg_63_1.time_ = 0
		arg_63_1.frameCnt_ = 0
		arg_63_1.state_ = "playing"
		arg_63_1.curTalkId_ = 411121015
		arg_63_1.duration_ = 5

		SetActive(arg_63_1.tipsGo_, false)

		function arg_63_1.onSingleLineFinish_()
			arg_63_1.onSingleLineUpdate_ = nil
			arg_63_1.onSingleLineFinish_ = nil
			arg_63_1.state_ = "waiting"
		end

		function arg_63_1.playNext_(arg_65_0)
			if arg_65_0 == 1 then
				arg_63_0:Play411121016(arg_63_1)
			end
		end

		function arg_63_1.onSingleLineUpdate_(arg_66_0)
			local var_66_0 = 0
			local var_66_1 = 0.85

			if var_66_0 < arg_63_1.time_ and arg_63_1.time_ <= var_66_0 + arg_66_0 then
				arg_63_1.talkMaxDuration = 0
				arg_63_1.dialogCg_.alpha = 1

				arg_63_1.dialog_:SetActive(true)
				SetActive(arg_63_1.leftNameGo_, false)

				arg_63_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_63_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_63_1:RecordName(arg_63_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_63_1.iconTrs_.gameObject, false)
				arg_63_1.callingController_:SetSelectedState("normal")

				local var_66_2 = arg_63_1:GetWordFromCfg(411121015)
				local var_66_3 = arg_63_1:FormatText(var_66_2.content)

				arg_63_1.text_.text = var_66_3

				LuaForUtil.ClearLinePrefixSymbol(arg_63_1.text_)

				local var_66_4 = 34
				local var_66_5 = utf8.len(var_66_3)
				local var_66_6 = var_66_4 <= 0 and var_66_1 or var_66_1 * (var_66_5 / var_66_4)

				if var_66_6 > 0 and var_66_1 < var_66_6 then
					arg_63_1.talkMaxDuration = var_66_6

					if var_66_6 + var_66_0 > arg_63_1.duration_ then
						arg_63_1.duration_ = var_66_6 + var_66_0
					end
				end

				arg_63_1.text_.text = var_66_3
				arg_63_1.typewritter.percent = 0

				arg_63_1.typewritter:SetDirty()
				arg_63_1:ShowNextGo(false)
				arg_63_1:RecordContent(arg_63_1.text_.text)
			end

			local var_66_7 = math.max(var_66_1, arg_63_1.talkMaxDuration)

			if var_66_0 <= arg_63_1.time_ and arg_63_1.time_ < var_66_0 + var_66_7 then
				arg_63_1.typewritter.percent = (arg_63_1.time_ - var_66_0) / var_66_7

				arg_63_1.typewritter:SetDirty()
			end

			if arg_63_1.time_ >= var_66_0 + var_66_7 and arg_63_1.time_ < var_66_0 + var_66_7 + arg_66_0 then
				arg_63_1.typewritter.percent = 1

				arg_63_1.typewritter:SetDirty()
				arg_63_1:ShowNextGo(true)
			end
		end
	end,
	Play411121016 = function(arg_67_0, arg_67_1)
		arg_67_1.time_ = 0
		arg_67_1.frameCnt_ = 0
		arg_67_1.state_ = "playing"
		arg_67_1.curTalkId_ = 411121016
		arg_67_1.duration_ = 2

		SetActive(arg_67_1.tipsGo_, false)

		function arg_67_1.onSingleLineFinish_()
			arg_67_1.onSingleLineUpdate_ = nil
			arg_67_1.onSingleLineFinish_ = nil
			arg_67_1.state_ = "waiting"
		end

		function arg_67_1.playNext_(arg_69_0)
			if arg_69_0 == 1 then
				arg_67_0:Play411121017(arg_67_1)
			end
		end

		function arg_67_1.onSingleLineUpdate_(arg_70_0)
			local var_70_0 = "1095ui_story"

			if arg_67_1.actors_[var_70_0] == nil then
				local var_70_1 = Asset.Load("Char/" .. "1095ui_story")

				if not isNil(var_70_1) then
					local var_70_2 = Object.Instantiate(Asset.Load("Char/" .. "1095ui_story"), arg_67_1.stage_.transform)

					var_70_2.name = var_70_0
					var_70_2.transform.localPosition = Vector3.New(0, 100, 0)
					arg_67_1.actors_[var_70_0] = var_70_2

					local var_70_3 = var_70_2:GetComponentInChildren(typeof(CharacterEffect))

					var_70_3.enabled = true

					local var_70_4 = GameObjectTools.GetOrAddComponent(var_70_2, typeof(DynamicBoneHelper))

					if var_70_4 then
						var_70_4:EnableDynamicBone(false)
					end

					arg_67_1:ShowWeapon(var_70_3.transform, false)

					arg_67_1.var_[var_70_0 .. "Animator"] = var_70_3.gameObject:GetComponent(typeof(UnityEngine.Animator))
					arg_67_1.var_[var_70_0 .. "Animator"].applyRootMotion = true
					arg_67_1.var_[var_70_0 .. "LipSync"] = var_70_3.gameObject:GetComponentInChildren(typeof(RogoDigital.Lipsync.LipSync))
				end
			end

			local var_70_5 = arg_67_1.actors_["1095ui_story"].transform
			local var_70_6 = 0

			if var_70_6 < arg_67_1.time_ and arg_67_1.time_ <= var_70_6 + arg_70_0 then
				arg_67_1.var_.moveOldPos1095ui_story = var_70_5.localPosition
			end

			local var_70_7 = 0.001

			if var_70_6 <= arg_67_1.time_ and arg_67_1.time_ < var_70_6 + var_70_7 then
				local var_70_8 = (arg_67_1.time_ - var_70_6) / var_70_7
				local var_70_9 = Vector3.New(0.7, -0.98, -6.1)

				var_70_5.localPosition = Vector3.Lerp(arg_67_1.var_.moveOldPos1095ui_story, var_70_9, var_70_8)

				local var_70_10 = manager.ui.mainCamera.transform.position - var_70_5.position

				var_70_5.forward = Vector3.New(var_70_10.x, var_70_10.y, var_70_10.z)

				local var_70_11 = var_70_5.localEulerAngles

				var_70_11.z = 0
				var_70_11.x = 0
				var_70_5.localEulerAngles = var_70_11
			end

			if arg_67_1.time_ >= var_70_6 + var_70_7 and arg_67_1.time_ < var_70_6 + var_70_7 + arg_70_0 then
				var_70_5.localPosition = Vector3.New(0.7, -0.98, -6.1)

				local var_70_12 = manager.ui.mainCamera.transform.position - var_70_5.position

				var_70_5.forward = Vector3.New(var_70_12.x, var_70_12.y, var_70_12.z)

				local var_70_13 = var_70_5.localEulerAngles

				var_70_13.z = 0
				var_70_13.x = 0
				var_70_5.localEulerAngles = var_70_13
			end

			local var_70_14 = arg_67_1.actors_["1095ui_story"]
			local var_70_15 = 0

			if var_70_15 < arg_67_1.time_ and arg_67_1.time_ <= var_70_15 + arg_70_0 and not isNil(var_70_14) and arg_67_1.var_.characterEffect1095ui_story == nil then
				arg_67_1.var_.characterEffect1095ui_story = var_70_14:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_70_16 = 0.200000002980232

			if var_70_15 <= arg_67_1.time_ and arg_67_1.time_ < var_70_15 + var_70_16 and not isNil(var_70_14) then
				local var_70_17 = (arg_67_1.time_ - var_70_15) / var_70_16

				if arg_67_1.var_.characterEffect1095ui_story and not isNil(var_70_14) then
					arg_67_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_67_1.time_ >= var_70_15 + var_70_16 and arg_67_1.time_ < var_70_15 + var_70_16 + arg_70_0 and not isNil(var_70_14) and arg_67_1.var_.characterEffect1095ui_story then
				arg_67_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_70_18 = 0

			if var_70_18 < arg_67_1.time_ and arg_67_1.time_ <= var_70_18 + arg_70_0 then
				arg_67_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_70_19 = 0

			if var_70_19 < arg_67_1.time_ and arg_67_1.time_ <= var_70_19 + arg_70_0 then
				arg_67_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface2204cva")
			end

			local var_70_20 = arg_67_1.actors_["10014ui_story"].transform
			local var_70_21 = 0

			if var_70_21 < arg_67_1.time_ and arg_67_1.time_ <= var_70_21 + arg_70_0 then
				arg_67_1.var_.moveOldPos10014ui_story = var_70_20.localPosition
			end

			local var_70_22 = 0.001

			if var_70_21 <= arg_67_1.time_ and arg_67_1.time_ < var_70_21 + var_70_22 then
				local var_70_23 = (arg_67_1.time_ - var_70_21) / var_70_22
				local var_70_24 = Vector3.New(-0.7, -1.06, -6.2)

				var_70_20.localPosition = Vector3.Lerp(arg_67_1.var_.moveOldPos10014ui_story, var_70_24, var_70_23)

				local var_70_25 = manager.ui.mainCamera.transform.position - var_70_20.position

				var_70_20.forward = Vector3.New(var_70_25.x, var_70_25.y, var_70_25.z)

				local var_70_26 = var_70_20.localEulerAngles

				var_70_26.z = 0
				var_70_26.x = 0
				var_70_20.localEulerAngles = var_70_26
			end

			if arg_67_1.time_ >= var_70_21 + var_70_22 and arg_67_1.time_ < var_70_21 + var_70_22 + arg_70_0 then
				var_70_20.localPosition = Vector3.New(-0.7, -1.06, -6.2)

				local var_70_27 = manager.ui.mainCamera.transform.position - var_70_20.position

				var_70_20.forward = Vector3.New(var_70_27.x, var_70_27.y, var_70_27.z)

				local var_70_28 = var_70_20.localEulerAngles

				var_70_28.z = 0
				var_70_28.x = 0
				var_70_20.localEulerAngles = var_70_28
			end

			local var_70_29 = arg_67_1.actors_["10014ui_story"]
			local var_70_30 = 0

			if var_70_30 < arg_67_1.time_ and arg_67_1.time_ <= var_70_30 + arg_70_0 and not isNil(var_70_29) and arg_67_1.var_.characterEffect10014ui_story == nil then
				arg_67_1.var_.characterEffect10014ui_story = var_70_29:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_70_31 = 0.200000002980232

			if var_70_30 <= arg_67_1.time_ and arg_67_1.time_ < var_70_30 + var_70_31 and not isNil(var_70_29) then
				local var_70_32 = (arg_67_1.time_ - var_70_30) / var_70_31

				if arg_67_1.var_.characterEffect10014ui_story and not isNil(var_70_29) then
					local var_70_33 = Mathf.Lerp(0, 0.5, var_70_32)

					arg_67_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_67_1.var_.characterEffect10014ui_story.fillRatio = var_70_33
				end
			end

			if arg_67_1.time_ >= var_70_30 + var_70_31 and arg_67_1.time_ < var_70_30 + var_70_31 + arg_70_0 and not isNil(var_70_29) and arg_67_1.var_.characterEffect10014ui_story then
				local var_70_34 = 0.5

				arg_67_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_67_1.var_.characterEffect10014ui_story.fillRatio = var_70_34
			end

			local var_70_35 = 0
			local var_70_36 = 0.125

			if var_70_35 < arg_67_1.time_ and arg_67_1.time_ <= var_70_35 + arg_70_0 then
				arg_67_1.talkMaxDuration = 0
				arg_67_1.dialogCg_.alpha = 1

				arg_67_1.dialog_:SetActive(true)
				SetActive(arg_67_1.leftNameGo_, true)

				local var_70_37 = arg_67_1:FormatText(StoryNameCfg[471].name)

				arg_67_1.leftNameTxt_.text = var_70_37

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_67_1.leftNameTxt_.transform)

				arg_67_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_67_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_67_1:RecordName(arg_67_1.leftNameTxt_.text)
				SetActive(arg_67_1.iconTrs_.gameObject, false)
				arg_67_1.callingController_:SetSelectedState("normal")

				local var_70_38 = arg_67_1:GetWordFromCfg(411121016)
				local var_70_39 = arg_67_1:FormatText(var_70_38.content)

				arg_67_1.text_.text = var_70_39

				LuaForUtil.ClearLinePrefixSymbol(arg_67_1.text_)

				local var_70_40 = 5
				local var_70_41 = utf8.len(var_70_39)
				local var_70_42 = var_70_40 <= 0 and var_70_36 or var_70_36 * (var_70_41 / var_70_40)

				if var_70_42 > 0 and var_70_36 < var_70_42 then
					arg_67_1.talkMaxDuration = var_70_42

					if var_70_42 + var_70_35 > arg_67_1.duration_ then
						arg_67_1.duration_ = var_70_42 + var_70_35
					end
				end

				arg_67_1.text_.text = var_70_39
				arg_67_1.typewritter.percent = 0

				arg_67_1.typewritter:SetDirty()
				arg_67_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121016", "story_v_out_411121.awb") ~= 0 then
					local var_70_43 = manager.audio:GetVoiceLength("story_v_out_411121", "411121016", "story_v_out_411121.awb") / 1000

					if var_70_43 + var_70_35 > arg_67_1.duration_ then
						arg_67_1.duration_ = var_70_43 + var_70_35
					end

					if var_70_38.prefab_name ~= "" and arg_67_1.actors_[var_70_38.prefab_name] ~= nil then
						local var_70_44 = LuaForUtil.PlayVoiceWithCriLipsync(arg_67_1.actors_[var_70_38.prefab_name].transform, "story_v_out_411121", "411121016", "story_v_out_411121.awb")

						arg_67_1:RecordAudio("411121016", var_70_44)
						arg_67_1:RecordAudio("411121016", var_70_44)
					else
						arg_67_1:AudioAction("play", "voice", "story_v_out_411121", "411121016", "story_v_out_411121.awb")
					end

					arg_67_1:RecordHistoryTalkVoice("story_v_out_411121", "411121016", "story_v_out_411121.awb")
				end

				arg_67_1:RecordContent(arg_67_1.text_.text)
			end

			local var_70_45 = math.max(var_70_36, arg_67_1.talkMaxDuration)

			if var_70_35 <= arg_67_1.time_ and arg_67_1.time_ < var_70_35 + var_70_45 then
				arg_67_1.typewritter.percent = (arg_67_1.time_ - var_70_35) / var_70_45

				arg_67_1.typewritter:SetDirty()
			end

			if arg_67_1.time_ >= var_70_35 + var_70_45 and arg_67_1.time_ < var_70_35 + var_70_45 + arg_70_0 then
				arg_67_1.typewritter.percent = 1

				arg_67_1.typewritter:SetDirty()
				arg_67_1:ShowNextGo(true)
			end
		end
	end,
	Play411121017 = function(arg_71_0, arg_71_1)
		arg_71_1.time_ = 0
		arg_71_1.frameCnt_ = 0
		arg_71_1.state_ = "playing"
		arg_71_1.curTalkId_ = 411121017
		arg_71_1.duration_ = 6.13

		local var_71_0 = {
			zh = 4.033,
			ja = 6.133
		}
		local var_71_1 = manager.audio:GetLocalizationFlag()

		if var_71_0[var_71_1] ~= nil then
			arg_71_1.duration_ = var_71_0[var_71_1]
		end

		SetActive(arg_71_1.tipsGo_, false)

		function arg_71_1.onSingleLineFinish_()
			arg_71_1.onSingleLineUpdate_ = nil
			arg_71_1.onSingleLineFinish_ = nil
			arg_71_1.state_ = "waiting"
		end

		function arg_71_1.playNext_(arg_73_0)
			if arg_73_0 == 1 then
				arg_71_0:Play411121018(arg_71_1)
			end
		end

		function arg_71_1.onSingleLineUpdate_(arg_74_0)
			local var_74_0 = arg_71_1.actors_["1095ui_story"]
			local var_74_1 = 0

			if var_74_1 < arg_71_1.time_ and arg_71_1.time_ <= var_74_1 + arg_74_0 and not isNil(var_74_0) and arg_71_1.var_.characterEffect1095ui_story == nil then
				arg_71_1.var_.characterEffect1095ui_story = var_74_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_74_2 = 0.200000002980232

			if var_74_1 <= arg_71_1.time_ and arg_71_1.time_ < var_74_1 + var_74_2 and not isNil(var_74_0) then
				local var_74_3 = (arg_71_1.time_ - var_74_1) / var_74_2

				if arg_71_1.var_.characterEffect1095ui_story and not isNil(var_74_0) then
					local var_74_4 = Mathf.Lerp(0, 0.5, var_74_3)

					arg_71_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_71_1.var_.characterEffect1095ui_story.fillRatio = var_74_4
				end
			end

			if arg_71_1.time_ >= var_74_1 + var_74_2 and arg_71_1.time_ < var_74_1 + var_74_2 + arg_74_0 and not isNil(var_74_0) and arg_71_1.var_.characterEffect1095ui_story then
				local var_74_5 = 0.5

				arg_71_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_71_1.var_.characterEffect1095ui_story.fillRatio = var_74_5
			end

			local var_74_6 = arg_71_1.actors_["10014ui_story"]
			local var_74_7 = 0

			if var_74_7 < arg_71_1.time_ and arg_71_1.time_ <= var_74_7 + arg_74_0 and not isNil(var_74_6) and arg_71_1.var_.characterEffect10014ui_story == nil then
				arg_71_1.var_.characterEffect10014ui_story = var_74_6:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_74_8 = 0.200000002980232

			if var_74_7 <= arg_71_1.time_ and arg_71_1.time_ < var_74_7 + var_74_8 and not isNil(var_74_6) then
				local var_74_9 = (arg_71_1.time_ - var_74_7) / var_74_8

				if arg_71_1.var_.characterEffect10014ui_story and not isNil(var_74_6) then
					arg_71_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_71_1.time_ >= var_74_7 + var_74_8 and arg_71_1.time_ < var_74_7 + var_74_8 + arg_74_0 and not isNil(var_74_6) and arg_71_1.var_.characterEffect10014ui_story then
				arg_71_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_74_10 = 0
			local var_74_11 = 0.5

			if var_74_10 < arg_71_1.time_ and arg_71_1.time_ <= var_74_10 + arg_74_0 then
				arg_71_1.talkMaxDuration = 0
				arg_71_1.dialogCg_.alpha = 1

				arg_71_1.dialog_:SetActive(true)
				SetActive(arg_71_1.leftNameGo_, true)

				local var_74_12 = arg_71_1:FormatText(StoryNameCfg[264].name)

				arg_71_1.leftNameTxt_.text = var_74_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_71_1.leftNameTxt_.transform)

				arg_71_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_71_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_71_1:RecordName(arg_71_1.leftNameTxt_.text)
				SetActive(arg_71_1.iconTrs_.gameObject, false)
				arg_71_1.callingController_:SetSelectedState("normal")

				local var_74_13 = arg_71_1:GetWordFromCfg(411121017)
				local var_74_14 = arg_71_1:FormatText(var_74_13.content)

				arg_71_1.text_.text = var_74_14

				LuaForUtil.ClearLinePrefixSymbol(arg_71_1.text_)

				local var_74_15 = 20
				local var_74_16 = utf8.len(var_74_14)
				local var_74_17 = var_74_15 <= 0 and var_74_11 or var_74_11 * (var_74_16 / var_74_15)

				if var_74_17 > 0 and var_74_11 < var_74_17 then
					arg_71_1.talkMaxDuration = var_74_17

					if var_74_17 + var_74_10 > arg_71_1.duration_ then
						arg_71_1.duration_ = var_74_17 + var_74_10
					end
				end

				arg_71_1.text_.text = var_74_14
				arg_71_1.typewritter.percent = 0

				arg_71_1.typewritter:SetDirty()
				arg_71_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121017", "story_v_out_411121.awb") ~= 0 then
					local var_74_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121017", "story_v_out_411121.awb") / 1000

					if var_74_18 + var_74_10 > arg_71_1.duration_ then
						arg_71_1.duration_ = var_74_18 + var_74_10
					end

					if var_74_13.prefab_name ~= "" and arg_71_1.actors_[var_74_13.prefab_name] ~= nil then
						local var_74_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_71_1.actors_[var_74_13.prefab_name].transform, "story_v_out_411121", "411121017", "story_v_out_411121.awb")

						arg_71_1:RecordAudio("411121017", var_74_19)
						arg_71_1:RecordAudio("411121017", var_74_19)
					else
						arg_71_1:AudioAction("play", "voice", "story_v_out_411121", "411121017", "story_v_out_411121.awb")
					end

					arg_71_1:RecordHistoryTalkVoice("story_v_out_411121", "411121017", "story_v_out_411121.awb")
				end

				arg_71_1:RecordContent(arg_71_1.text_.text)
			end

			local var_74_20 = math.max(var_74_11, arg_71_1.talkMaxDuration)

			if var_74_10 <= arg_71_1.time_ and arg_71_1.time_ < var_74_10 + var_74_20 then
				arg_71_1.typewritter.percent = (arg_71_1.time_ - var_74_10) / var_74_20

				arg_71_1.typewritter:SetDirty()
			end

			if arg_71_1.time_ >= var_74_10 + var_74_20 and arg_71_1.time_ < var_74_10 + var_74_20 + arg_74_0 then
				arg_71_1.typewritter.percent = 1

				arg_71_1.typewritter:SetDirty()
				arg_71_1:ShowNextGo(true)
			end
		end
	end,
	Play411121018 = function(arg_75_0, arg_75_1)
		arg_75_1.time_ = 0
		arg_75_1.frameCnt_ = 0
		arg_75_1.state_ = "playing"
		arg_75_1.curTalkId_ = 411121018
		arg_75_1.duration_ = 4.8

		local var_75_0 = {
			zh = 4.3,
			ja = 4.8
		}
		local var_75_1 = manager.audio:GetLocalizationFlag()

		if var_75_0[var_75_1] ~= nil then
			arg_75_1.duration_ = var_75_0[var_75_1]
		end

		SetActive(arg_75_1.tipsGo_, false)

		function arg_75_1.onSingleLineFinish_()
			arg_75_1.onSingleLineUpdate_ = nil
			arg_75_1.onSingleLineFinish_ = nil
			arg_75_1.state_ = "waiting"
		end

		function arg_75_1.playNext_(arg_77_0)
			if arg_77_0 == 1 then
				arg_75_0:Play411121019(arg_75_1)
			end
		end

		function arg_75_1.onSingleLineUpdate_(arg_78_0)
			local var_78_0 = arg_75_1.actors_["1095ui_story"]
			local var_78_1 = 0

			if var_78_1 < arg_75_1.time_ and arg_75_1.time_ <= var_78_1 + arg_78_0 and not isNil(var_78_0) and arg_75_1.var_.characterEffect1095ui_story == nil then
				arg_75_1.var_.characterEffect1095ui_story = var_78_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_78_2 = 0.200000002980232

			if var_78_1 <= arg_75_1.time_ and arg_75_1.time_ < var_78_1 + var_78_2 and not isNil(var_78_0) then
				local var_78_3 = (arg_75_1.time_ - var_78_1) / var_78_2

				if arg_75_1.var_.characterEffect1095ui_story and not isNil(var_78_0) then
					arg_75_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_75_1.time_ >= var_78_1 + var_78_2 and arg_75_1.time_ < var_78_1 + var_78_2 + arg_78_0 and not isNil(var_78_0) and arg_75_1.var_.characterEffect1095ui_story then
				arg_75_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_78_4 = arg_75_1.actors_["10014ui_story"]
			local var_78_5 = 0

			if var_78_5 < arg_75_1.time_ and arg_75_1.time_ <= var_78_5 + arg_78_0 and not isNil(var_78_4) and arg_75_1.var_.characterEffect10014ui_story == nil then
				arg_75_1.var_.characterEffect10014ui_story = var_78_4:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_78_6 = 0.200000002980232

			if var_78_5 <= arg_75_1.time_ and arg_75_1.time_ < var_78_5 + var_78_6 and not isNil(var_78_4) then
				local var_78_7 = (arg_75_1.time_ - var_78_5) / var_78_6

				if arg_75_1.var_.characterEffect10014ui_story and not isNil(var_78_4) then
					local var_78_8 = Mathf.Lerp(0, 0.5, var_78_7)

					arg_75_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_75_1.var_.characterEffect10014ui_story.fillRatio = var_78_8
				end
			end

			if arg_75_1.time_ >= var_78_5 + var_78_6 and arg_75_1.time_ < var_78_5 + var_78_6 + arg_78_0 and not isNil(var_78_4) and arg_75_1.var_.characterEffect10014ui_story then
				local var_78_9 = 0.5

				arg_75_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_75_1.var_.characterEffect10014ui_story.fillRatio = var_78_9
			end

			local var_78_10 = 0
			local var_78_11 = 0.575

			if var_78_10 < arg_75_1.time_ and arg_75_1.time_ <= var_78_10 + arg_78_0 then
				arg_75_1.talkMaxDuration = 0
				arg_75_1.dialogCg_.alpha = 1

				arg_75_1.dialog_:SetActive(true)
				SetActive(arg_75_1.leftNameGo_, true)

				local var_78_12 = arg_75_1:FormatText(StoryNameCfg[471].name)

				arg_75_1.leftNameTxt_.text = var_78_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_75_1.leftNameTxt_.transform)

				arg_75_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_75_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_75_1:RecordName(arg_75_1.leftNameTxt_.text)
				SetActive(arg_75_1.iconTrs_.gameObject, false)
				arg_75_1.callingController_:SetSelectedState("normal")

				local var_78_13 = arg_75_1:GetWordFromCfg(411121018)
				local var_78_14 = arg_75_1:FormatText(var_78_13.content)

				arg_75_1.text_.text = var_78_14

				LuaForUtil.ClearLinePrefixSymbol(arg_75_1.text_)

				local var_78_15 = 23
				local var_78_16 = utf8.len(var_78_14)
				local var_78_17 = var_78_15 <= 0 and var_78_11 or var_78_11 * (var_78_16 / var_78_15)

				if var_78_17 > 0 and var_78_11 < var_78_17 then
					arg_75_1.talkMaxDuration = var_78_17

					if var_78_17 + var_78_10 > arg_75_1.duration_ then
						arg_75_1.duration_ = var_78_17 + var_78_10
					end
				end

				arg_75_1.text_.text = var_78_14
				arg_75_1.typewritter.percent = 0

				arg_75_1.typewritter:SetDirty()
				arg_75_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121018", "story_v_out_411121.awb") ~= 0 then
					local var_78_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121018", "story_v_out_411121.awb") / 1000

					if var_78_18 + var_78_10 > arg_75_1.duration_ then
						arg_75_1.duration_ = var_78_18 + var_78_10
					end

					if var_78_13.prefab_name ~= "" and arg_75_1.actors_[var_78_13.prefab_name] ~= nil then
						local var_78_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_75_1.actors_[var_78_13.prefab_name].transform, "story_v_out_411121", "411121018", "story_v_out_411121.awb")

						arg_75_1:RecordAudio("411121018", var_78_19)
						arg_75_1:RecordAudio("411121018", var_78_19)
					else
						arg_75_1:AudioAction("play", "voice", "story_v_out_411121", "411121018", "story_v_out_411121.awb")
					end

					arg_75_1:RecordHistoryTalkVoice("story_v_out_411121", "411121018", "story_v_out_411121.awb")
				end

				arg_75_1:RecordContent(arg_75_1.text_.text)
			end

			local var_78_20 = math.max(var_78_11, arg_75_1.talkMaxDuration)

			if var_78_10 <= arg_75_1.time_ and arg_75_1.time_ < var_78_10 + var_78_20 then
				arg_75_1.typewritter.percent = (arg_75_1.time_ - var_78_10) / var_78_20

				arg_75_1.typewritter:SetDirty()
			end

			if arg_75_1.time_ >= var_78_10 + var_78_20 and arg_75_1.time_ < var_78_10 + var_78_20 + arg_78_0 then
				arg_75_1.typewritter.percent = 1

				arg_75_1.typewritter:SetDirty()
				arg_75_1:ShowNextGo(true)
			end
		end
	end,
	Play411121019 = function(arg_79_0, arg_79_1)
		arg_79_1.time_ = 0
		arg_79_1.frameCnt_ = 0
		arg_79_1.state_ = "playing"
		arg_79_1.curTalkId_ = 411121019
		arg_79_1.duration_ = 5.6

		local var_79_0 = {
			zh = 5.6,
			ja = 4.7
		}
		local var_79_1 = manager.audio:GetLocalizationFlag()

		if var_79_0[var_79_1] ~= nil then
			arg_79_1.duration_ = var_79_0[var_79_1]
		end

		SetActive(arg_79_1.tipsGo_, false)

		function arg_79_1.onSingleLineFinish_()
			arg_79_1.onSingleLineUpdate_ = nil
			arg_79_1.onSingleLineFinish_ = nil
			arg_79_1.state_ = "waiting"
		end

		function arg_79_1.playNext_(arg_81_0)
			if arg_81_0 == 1 then
				arg_79_0:Play411121020(arg_79_1)
			end
		end

		function arg_79_1.onSingleLineUpdate_(arg_82_0)
			local var_82_0 = arg_79_1.actors_["10014ui_story"].transform
			local var_82_1 = 0

			if var_82_1 < arg_79_1.time_ and arg_79_1.time_ <= var_82_1 + arg_82_0 then
				arg_79_1.var_.moveOldPos10014ui_story = var_82_0.localPosition
			end

			local var_82_2 = 0.001

			if var_82_1 <= arg_79_1.time_ and arg_79_1.time_ < var_82_1 + var_82_2 then
				local var_82_3 = (arg_79_1.time_ - var_82_1) / var_82_2
				local var_82_4 = Vector3.New(-0.7, -1.06, -6.2)

				var_82_0.localPosition = Vector3.Lerp(arg_79_1.var_.moveOldPos10014ui_story, var_82_4, var_82_3)

				local var_82_5 = manager.ui.mainCamera.transform.position - var_82_0.position

				var_82_0.forward = Vector3.New(var_82_5.x, var_82_5.y, var_82_5.z)

				local var_82_6 = var_82_0.localEulerAngles

				var_82_6.z = 0
				var_82_6.x = 0
				var_82_0.localEulerAngles = var_82_6
			end

			if arg_79_1.time_ >= var_82_1 + var_82_2 and arg_79_1.time_ < var_82_1 + var_82_2 + arg_82_0 then
				var_82_0.localPosition = Vector3.New(-0.7, -1.06, -6.2)

				local var_82_7 = manager.ui.mainCamera.transform.position - var_82_0.position

				var_82_0.forward = Vector3.New(var_82_7.x, var_82_7.y, var_82_7.z)

				local var_82_8 = var_82_0.localEulerAngles

				var_82_8.z = 0
				var_82_8.x = 0
				var_82_0.localEulerAngles = var_82_8
			end

			local var_82_9 = 0

			if var_82_9 < arg_79_1.time_ and arg_79_1.time_ <= var_82_9 + arg_82_0 then
				arg_79_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action5_1")
			end

			local var_82_10 = 0

			if var_82_10 < arg_79_1.time_ and arg_79_1.time_ <= var_82_10 + arg_82_0 then
				arg_79_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_82_11 = arg_79_1.actors_["1095ui_story"]
			local var_82_12 = 0

			if var_82_12 < arg_79_1.time_ and arg_79_1.time_ <= var_82_12 + arg_82_0 and not isNil(var_82_11) and arg_79_1.var_.characterEffect1095ui_story == nil then
				arg_79_1.var_.characterEffect1095ui_story = var_82_11:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_82_13 = 0.200000002980232

			if var_82_12 <= arg_79_1.time_ and arg_79_1.time_ < var_82_12 + var_82_13 and not isNil(var_82_11) then
				local var_82_14 = (arg_79_1.time_ - var_82_12) / var_82_13

				if arg_79_1.var_.characterEffect1095ui_story and not isNil(var_82_11) then
					local var_82_15 = Mathf.Lerp(0, 0.5, var_82_14)

					arg_79_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_79_1.var_.characterEffect1095ui_story.fillRatio = var_82_15
				end
			end

			if arg_79_1.time_ >= var_82_12 + var_82_13 and arg_79_1.time_ < var_82_12 + var_82_13 + arg_82_0 and not isNil(var_82_11) and arg_79_1.var_.characterEffect1095ui_story then
				local var_82_16 = 0.5

				arg_79_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_79_1.var_.characterEffect1095ui_story.fillRatio = var_82_16
			end

			local var_82_17 = arg_79_1.actors_["10014ui_story"]
			local var_82_18 = 0

			if var_82_18 < arg_79_1.time_ and arg_79_1.time_ <= var_82_18 + arg_82_0 and not isNil(var_82_17) and arg_79_1.var_.characterEffect10014ui_story == nil then
				arg_79_1.var_.characterEffect10014ui_story = var_82_17:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_82_19 = 0.200000002980232

			if var_82_18 <= arg_79_1.time_ and arg_79_1.time_ < var_82_18 + var_82_19 and not isNil(var_82_17) then
				local var_82_20 = (arg_79_1.time_ - var_82_18) / var_82_19

				if arg_79_1.var_.characterEffect10014ui_story and not isNil(var_82_17) then
					arg_79_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_79_1.time_ >= var_82_18 + var_82_19 and arg_79_1.time_ < var_82_18 + var_82_19 + arg_82_0 and not isNil(var_82_17) and arg_79_1.var_.characterEffect10014ui_story then
				arg_79_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_82_21 = 0
			local var_82_22 = 0.625

			if var_82_21 < arg_79_1.time_ and arg_79_1.time_ <= var_82_21 + arg_82_0 then
				arg_79_1.talkMaxDuration = 0
				arg_79_1.dialogCg_.alpha = 1

				arg_79_1.dialog_:SetActive(true)
				SetActive(arg_79_1.leftNameGo_, true)

				local var_82_23 = arg_79_1:FormatText(StoryNameCfg[264].name)

				arg_79_1.leftNameTxt_.text = var_82_23

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_79_1.leftNameTxt_.transform)

				arg_79_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_79_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_79_1:RecordName(arg_79_1.leftNameTxt_.text)
				SetActive(arg_79_1.iconTrs_.gameObject, false)
				arg_79_1.callingController_:SetSelectedState("normal")

				local var_82_24 = arg_79_1:GetWordFromCfg(411121019)
				local var_82_25 = arg_79_1:FormatText(var_82_24.content)

				arg_79_1.text_.text = var_82_25

				LuaForUtil.ClearLinePrefixSymbol(arg_79_1.text_)

				local var_82_26 = 25
				local var_82_27 = utf8.len(var_82_25)
				local var_82_28 = var_82_26 <= 0 and var_82_22 or var_82_22 * (var_82_27 / var_82_26)

				if var_82_28 > 0 and var_82_22 < var_82_28 then
					arg_79_1.talkMaxDuration = var_82_28

					if var_82_28 + var_82_21 > arg_79_1.duration_ then
						arg_79_1.duration_ = var_82_28 + var_82_21
					end
				end

				arg_79_1.text_.text = var_82_25
				arg_79_1.typewritter.percent = 0

				arg_79_1.typewritter:SetDirty()
				arg_79_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121019", "story_v_out_411121.awb") ~= 0 then
					local var_82_29 = manager.audio:GetVoiceLength("story_v_out_411121", "411121019", "story_v_out_411121.awb") / 1000

					if var_82_29 + var_82_21 > arg_79_1.duration_ then
						arg_79_1.duration_ = var_82_29 + var_82_21
					end

					if var_82_24.prefab_name ~= "" and arg_79_1.actors_[var_82_24.prefab_name] ~= nil then
						local var_82_30 = LuaForUtil.PlayVoiceWithCriLipsync(arg_79_1.actors_[var_82_24.prefab_name].transform, "story_v_out_411121", "411121019", "story_v_out_411121.awb")

						arg_79_1:RecordAudio("411121019", var_82_30)
						arg_79_1:RecordAudio("411121019", var_82_30)
					else
						arg_79_1:AudioAction("play", "voice", "story_v_out_411121", "411121019", "story_v_out_411121.awb")
					end

					arg_79_1:RecordHistoryTalkVoice("story_v_out_411121", "411121019", "story_v_out_411121.awb")
				end

				arg_79_1:RecordContent(arg_79_1.text_.text)
			end

			local var_82_31 = math.max(var_82_22, arg_79_1.talkMaxDuration)

			if var_82_21 <= arg_79_1.time_ and arg_79_1.time_ < var_82_21 + var_82_31 then
				arg_79_1.typewritter.percent = (arg_79_1.time_ - var_82_21) / var_82_31

				arg_79_1.typewritter:SetDirty()
			end

			if arg_79_1.time_ >= var_82_21 + var_82_31 and arg_79_1.time_ < var_82_21 + var_82_31 + arg_82_0 then
				arg_79_1.typewritter.percent = 1

				arg_79_1.typewritter:SetDirty()
				arg_79_1:ShowNextGo(true)
			end
		end
	end,
	Play411121020 = function(arg_83_0, arg_83_1)
		arg_83_1.time_ = 0
		arg_83_1.frameCnt_ = 0
		arg_83_1.state_ = "playing"
		arg_83_1.curTalkId_ = 411121020
		arg_83_1.duration_ = 5.63

		local var_83_0 = {
			zh = 4.033,
			ja = 5.633
		}
		local var_83_1 = manager.audio:GetLocalizationFlag()

		if var_83_0[var_83_1] ~= nil then
			arg_83_1.duration_ = var_83_0[var_83_1]
		end

		SetActive(arg_83_1.tipsGo_, false)

		function arg_83_1.onSingleLineFinish_()
			arg_83_1.onSingleLineUpdate_ = nil
			arg_83_1.onSingleLineFinish_ = nil
			arg_83_1.state_ = "waiting"
		end

		function arg_83_1.playNext_(arg_85_0)
			if arg_85_0 == 1 then
				arg_83_0:Play411121021(arg_83_1)
			end
		end

		function arg_83_1.onSingleLineUpdate_(arg_86_0)
			local var_86_0 = 0
			local var_86_1 = 0.575

			if var_86_0 < arg_83_1.time_ and arg_83_1.time_ <= var_86_0 + arg_86_0 then
				arg_83_1.talkMaxDuration = 0
				arg_83_1.dialogCg_.alpha = 1

				arg_83_1.dialog_:SetActive(true)
				SetActive(arg_83_1.leftNameGo_, true)

				local var_86_2 = arg_83_1:FormatText(StoryNameCfg[264].name)

				arg_83_1.leftNameTxt_.text = var_86_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_83_1.leftNameTxt_.transform)

				arg_83_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_83_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_83_1:RecordName(arg_83_1.leftNameTxt_.text)
				SetActive(arg_83_1.iconTrs_.gameObject, false)
				arg_83_1.callingController_:SetSelectedState("normal")

				local var_86_3 = arg_83_1:GetWordFromCfg(411121020)
				local var_86_4 = arg_83_1:FormatText(var_86_3.content)

				arg_83_1.text_.text = var_86_4

				LuaForUtil.ClearLinePrefixSymbol(arg_83_1.text_)

				local var_86_5 = 23
				local var_86_6 = utf8.len(var_86_4)
				local var_86_7 = var_86_5 <= 0 and var_86_1 or var_86_1 * (var_86_6 / var_86_5)

				if var_86_7 > 0 and var_86_1 < var_86_7 then
					arg_83_1.talkMaxDuration = var_86_7

					if var_86_7 + var_86_0 > arg_83_1.duration_ then
						arg_83_1.duration_ = var_86_7 + var_86_0
					end
				end

				arg_83_1.text_.text = var_86_4
				arg_83_1.typewritter.percent = 0

				arg_83_1.typewritter:SetDirty()
				arg_83_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121020", "story_v_out_411121.awb") ~= 0 then
					local var_86_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121020", "story_v_out_411121.awb") / 1000

					if var_86_8 + var_86_0 > arg_83_1.duration_ then
						arg_83_1.duration_ = var_86_8 + var_86_0
					end

					if var_86_3.prefab_name ~= "" and arg_83_1.actors_[var_86_3.prefab_name] ~= nil then
						local var_86_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_83_1.actors_[var_86_3.prefab_name].transform, "story_v_out_411121", "411121020", "story_v_out_411121.awb")

						arg_83_1:RecordAudio("411121020", var_86_9)
						arg_83_1:RecordAudio("411121020", var_86_9)
					else
						arg_83_1:AudioAction("play", "voice", "story_v_out_411121", "411121020", "story_v_out_411121.awb")
					end

					arg_83_1:RecordHistoryTalkVoice("story_v_out_411121", "411121020", "story_v_out_411121.awb")
				end

				arg_83_1:RecordContent(arg_83_1.text_.text)
			end

			local var_86_10 = math.max(var_86_1, arg_83_1.talkMaxDuration)

			if var_86_0 <= arg_83_1.time_ and arg_83_1.time_ < var_86_0 + var_86_10 then
				arg_83_1.typewritter.percent = (arg_83_1.time_ - var_86_0) / var_86_10

				arg_83_1.typewritter:SetDirty()
			end

			if arg_83_1.time_ >= var_86_0 + var_86_10 and arg_83_1.time_ < var_86_0 + var_86_10 + arg_86_0 then
				arg_83_1.typewritter.percent = 1

				arg_83_1.typewritter:SetDirty()
				arg_83_1:ShowNextGo(true)
			end
		end
	end,
	Play411121021 = function(arg_87_0, arg_87_1)
		arg_87_1.time_ = 0
		arg_87_1.frameCnt_ = 0
		arg_87_1.state_ = "playing"
		arg_87_1.curTalkId_ = 411121021
		arg_87_1.duration_ = 8.73

		local var_87_0 = {
			zh = 6.966,
			ja = 8.733
		}
		local var_87_1 = manager.audio:GetLocalizationFlag()

		if var_87_0[var_87_1] ~= nil then
			arg_87_1.duration_ = var_87_0[var_87_1]
		end

		SetActive(arg_87_1.tipsGo_, false)

		function arg_87_1.onSingleLineFinish_()
			arg_87_1.onSingleLineUpdate_ = nil
			arg_87_1.onSingleLineFinish_ = nil
			arg_87_1.state_ = "waiting"
		end

		function arg_87_1.playNext_(arg_89_0)
			if arg_89_0 == 1 then
				arg_87_0:Play411121022(arg_87_1)
			end
		end

		function arg_87_1.onSingleLineUpdate_(arg_90_0)
			local var_90_0 = 0
			local var_90_1 = 0.85

			if var_90_0 < arg_87_1.time_ and arg_87_1.time_ <= var_90_0 + arg_90_0 then
				arg_87_1.talkMaxDuration = 0
				arg_87_1.dialogCg_.alpha = 1

				arg_87_1.dialog_:SetActive(true)
				SetActive(arg_87_1.leftNameGo_, true)

				local var_90_2 = arg_87_1:FormatText(StoryNameCfg[264].name)

				arg_87_1.leftNameTxt_.text = var_90_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_87_1.leftNameTxt_.transform)

				arg_87_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_87_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_87_1:RecordName(arg_87_1.leftNameTxt_.text)
				SetActive(arg_87_1.iconTrs_.gameObject, false)
				arg_87_1.callingController_:SetSelectedState("normal")

				local var_90_3 = arg_87_1:GetWordFromCfg(411121021)
				local var_90_4 = arg_87_1:FormatText(var_90_3.content)

				arg_87_1.text_.text = var_90_4

				LuaForUtil.ClearLinePrefixSymbol(arg_87_1.text_)

				local var_90_5 = 34
				local var_90_6 = utf8.len(var_90_4)
				local var_90_7 = var_90_5 <= 0 and var_90_1 or var_90_1 * (var_90_6 / var_90_5)

				if var_90_7 > 0 and var_90_1 < var_90_7 then
					arg_87_1.talkMaxDuration = var_90_7

					if var_90_7 + var_90_0 > arg_87_1.duration_ then
						arg_87_1.duration_ = var_90_7 + var_90_0
					end
				end

				arg_87_1.text_.text = var_90_4
				arg_87_1.typewritter.percent = 0

				arg_87_1.typewritter:SetDirty()
				arg_87_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121021", "story_v_out_411121.awb") ~= 0 then
					local var_90_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121021", "story_v_out_411121.awb") / 1000

					if var_90_8 + var_90_0 > arg_87_1.duration_ then
						arg_87_1.duration_ = var_90_8 + var_90_0
					end

					if var_90_3.prefab_name ~= "" and arg_87_1.actors_[var_90_3.prefab_name] ~= nil then
						local var_90_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_87_1.actors_[var_90_3.prefab_name].transform, "story_v_out_411121", "411121021", "story_v_out_411121.awb")

						arg_87_1:RecordAudio("411121021", var_90_9)
						arg_87_1:RecordAudio("411121021", var_90_9)
					else
						arg_87_1:AudioAction("play", "voice", "story_v_out_411121", "411121021", "story_v_out_411121.awb")
					end

					arg_87_1:RecordHistoryTalkVoice("story_v_out_411121", "411121021", "story_v_out_411121.awb")
				end

				arg_87_1:RecordContent(arg_87_1.text_.text)
			end

			local var_90_10 = math.max(var_90_1, arg_87_1.talkMaxDuration)

			if var_90_0 <= arg_87_1.time_ and arg_87_1.time_ < var_90_0 + var_90_10 then
				arg_87_1.typewritter.percent = (arg_87_1.time_ - var_90_0) / var_90_10

				arg_87_1.typewritter:SetDirty()
			end

			if arg_87_1.time_ >= var_90_0 + var_90_10 and arg_87_1.time_ < var_90_0 + var_90_10 + arg_90_0 then
				arg_87_1.typewritter.percent = 1

				arg_87_1.typewritter:SetDirty()
				arg_87_1:ShowNextGo(true)
			end
		end
	end,
	Play411121022 = function(arg_91_0, arg_91_1)
		arg_91_1.time_ = 0
		arg_91_1.frameCnt_ = 0
		arg_91_1.state_ = "playing"
		arg_91_1.curTalkId_ = 411121022
		arg_91_1.duration_ = 3.7

		local var_91_0 = {
			zh = 2.133,
			ja = 3.7
		}
		local var_91_1 = manager.audio:GetLocalizationFlag()

		if var_91_0[var_91_1] ~= nil then
			arg_91_1.duration_ = var_91_0[var_91_1]
		end

		SetActive(arg_91_1.tipsGo_, false)

		function arg_91_1.onSingleLineFinish_()
			arg_91_1.onSingleLineUpdate_ = nil
			arg_91_1.onSingleLineFinish_ = nil
			arg_91_1.state_ = "waiting"
		end

		function arg_91_1.playNext_(arg_93_0)
			if arg_93_0 == 1 then
				arg_91_0:Play411121023(arg_91_1)
			end
		end

		function arg_91_1.onSingleLineUpdate_(arg_94_0)
			local var_94_0 = arg_91_1.actors_["10014ui_story"].transform
			local var_94_1 = 0

			if var_94_1 < arg_91_1.time_ and arg_91_1.time_ <= var_94_1 + arg_94_0 then
				arg_91_1.var_.moveOldPos10014ui_story = var_94_0.localPosition
			end

			local var_94_2 = 0.001

			if var_94_1 <= arg_91_1.time_ and arg_91_1.time_ < var_94_1 + var_94_2 then
				local var_94_3 = (arg_91_1.time_ - var_94_1) / var_94_2
				local var_94_4 = Vector3.New(-0.7, -1.06, -6.2)

				var_94_0.localPosition = Vector3.Lerp(arg_91_1.var_.moveOldPos10014ui_story, var_94_4, var_94_3)

				local var_94_5 = manager.ui.mainCamera.transform.position - var_94_0.position

				var_94_0.forward = Vector3.New(var_94_5.x, var_94_5.y, var_94_5.z)

				local var_94_6 = var_94_0.localEulerAngles

				var_94_6.z = 0
				var_94_6.x = 0
				var_94_0.localEulerAngles = var_94_6
			end

			if arg_91_1.time_ >= var_94_1 + var_94_2 and arg_91_1.time_ < var_94_1 + var_94_2 + arg_94_0 then
				var_94_0.localPosition = Vector3.New(-0.7, -1.06, -6.2)

				local var_94_7 = manager.ui.mainCamera.transform.position - var_94_0.position

				var_94_0.forward = Vector3.New(var_94_7.x, var_94_7.y, var_94_7.z)

				local var_94_8 = var_94_0.localEulerAngles

				var_94_8.z = 0
				var_94_8.x = 0
				var_94_0.localEulerAngles = var_94_8
			end

			local var_94_9 = arg_91_1.actors_["10014ui_story"]
			local var_94_10 = 0

			if var_94_10 < arg_91_1.time_ and arg_91_1.time_ <= var_94_10 + arg_94_0 and not isNil(var_94_9) and arg_91_1.var_.characterEffect10014ui_story == nil then
				arg_91_1.var_.characterEffect10014ui_story = var_94_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_94_11 = 0.200000002980232

			if var_94_10 <= arg_91_1.time_ and arg_91_1.time_ < var_94_10 + var_94_11 and not isNil(var_94_9) then
				local var_94_12 = (arg_91_1.time_ - var_94_10) / var_94_11

				if arg_91_1.var_.characterEffect10014ui_story and not isNil(var_94_9) then
					arg_91_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_91_1.time_ >= var_94_10 + var_94_11 and arg_91_1.time_ < var_94_10 + var_94_11 + arg_94_0 and not isNil(var_94_9) and arg_91_1.var_.characterEffect10014ui_story then
				arg_91_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_94_13 = 0
			local var_94_14 = 0.25

			if var_94_13 < arg_91_1.time_ and arg_91_1.time_ <= var_94_13 + arg_94_0 then
				arg_91_1.talkMaxDuration = 0
				arg_91_1.dialogCg_.alpha = 1

				arg_91_1.dialog_:SetActive(true)
				SetActive(arg_91_1.leftNameGo_, true)

				local var_94_15 = arg_91_1:FormatText(StoryNameCfg[264].name)

				arg_91_1.leftNameTxt_.text = var_94_15

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_91_1.leftNameTxt_.transform)

				arg_91_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_91_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_91_1:RecordName(arg_91_1.leftNameTxt_.text)
				SetActive(arg_91_1.iconTrs_.gameObject, false)
				arg_91_1.callingController_:SetSelectedState("normal")

				local var_94_16 = arg_91_1:GetWordFromCfg(411121022)
				local var_94_17 = arg_91_1:FormatText(var_94_16.content)

				arg_91_1.text_.text = var_94_17

				LuaForUtil.ClearLinePrefixSymbol(arg_91_1.text_)

				local var_94_18 = 10
				local var_94_19 = utf8.len(var_94_17)
				local var_94_20 = var_94_18 <= 0 and var_94_14 or var_94_14 * (var_94_19 / var_94_18)

				if var_94_20 > 0 and var_94_14 < var_94_20 then
					arg_91_1.talkMaxDuration = var_94_20

					if var_94_20 + var_94_13 > arg_91_1.duration_ then
						arg_91_1.duration_ = var_94_20 + var_94_13
					end
				end

				arg_91_1.text_.text = var_94_17
				arg_91_1.typewritter.percent = 0

				arg_91_1.typewritter:SetDirty()
				arg_91_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121022", "story_v_out_411121.awb") ~= 0 then
					local var_94_21 = manager.audio:GetVoiceLength("story_v_out_411121", "411121022", "story_v_out_411121.awb") / 1000

					if var_94_21 + var_94_13 > arg_91_1.duration_ then
						arg_91_1.duration_ = var_94_21 + var_94_13
					end

					if var_94_16.prefab_name ~= "" and arg_91_1.actors_[var_94_16.prefab_name] ~= nil then
						local var_94_22 = LuaForUtil.PlayVoiceWithCriLipsync(arg_91_1.actors_[var_94_16.prefab_name].transform, "story_v_out_411121", "411121022", "story_v_out_411121.awb")

						arg_91_1:RecordAudio("411121022", var_94_22)
						arg_91_1:RecordAudio("411121022", var_94_22)
					else
						arg_91_1:AudioAction("play", "voice", "story_v_out_411121", "411121022", "story_v_out_411121.awb")
					end

					arg_91_1:RecordHistoryTalkVoice("story_v_out_411121", "411121022", "story_v_out_411121.awb")
				end

				arg_91_1:RecordContent(arg_91_1.text_.text)
			end

			local var_94_23 = math.max(var_94_14, arg_91_1.talkMaxDuration)

			if var_94_13 <= arg_91_1.time_ and arg_91_1.time_ < var_94_13 + var_94_23 then
				arg_91_1.typewritter.percent = (arg_91_1.time_ - var_94_13) / var_94_23

				arg_91_1.typewritter:SetDirty()
			end

			if arg_91_1.time_ >= var_94_13 + var_94_23 and arg_91_1.time_ < var_94_13 + var_94_23 + arg_94_0 then
				arg_91_1.typewritter.percent = 1

				arg_91_1.typewritter:SetDirty()
				arg_91_1:ShowNextGo(true)
			end
		end
	end,
	Play411121023 = function(arg_95_0, arg_95_1)
		arg_95_1.time_ = 0
		arg_95_1.frameCnt_ = 0
		arg_95_1.state_ = "playing"
		arg_95_1.curTalkId_ = 411121023
		arg_95_1.duration_ = 2.4

		local var_95_0 = {
			zh = 2,
			ja = 2.4
		}
		local var_95_1 = manager.audio:GetLocalizationFlag()

		if var_95_0[var_95_1] ~= nil then
			arg_95_1.duration_ = var_95_0[var_95_1]
		end

		SetActive(arg_95_1.tipsGo_, false)

		function arg_95_1.onSingleLineFinish_()
			arg_95_1.onSingleLineUpdate_ = nil
			arg_95_1.onSingleLineFinish_ = nil
			arg_95_1.state_ = "waiting"
		end

		function arg_95_1.playNext_(arg_97_0)
			if arg_97_0 == 1 then
				arg_95_0:Play411121024(arg_95_1)
			end
		end

		function arg_95_1.onSingleLineUpdate_(arg_98_0)
			local var_98_0 = arg_95_1.actors_["1095ui_story"].transform
			local var_98_1 = 0

			if var_98_1 < arg_95_1.time_ and arg_95_1.time_ <= var_98_1 + arg_98_0 then
				arg_95_1.var_.moveOldPos1095ui_story = var_98_0.localPosition
			end

			local var_98_2 = 0.001

			if var_98_1 <= arg_95_1.time_ and arg_95_1.time_ < var_98_1 + var_98_2 then
				local var_98_3 = (arg_95_1.time_ - var_98_1) / var_98_2
				local var_98_4 = Vector3.New(0.7, -0.98, -6.1)

				var_98_0.localPosition = Vector3.Lerp(arg_95_1.var_.moveOldPos1095ui_story, var_98_4, var_98_3)

				local var_98_5 = manager.ui.mainCamera.transform.position - var_98_0.position

				var_98_0.forward = Vector3.New(var_98_5.x, var_98_5.y, var_98_5.z)

				local var_98_6 = var_98_0.localEulerAngles

				var_98_6.z = 0
				var_98_6.x = 0
				var_98_0.localEulerAngles = var_98_6
			end

			if arg_95_1.time_ >= var_98_1 + var_98_2 and arg_95_1.time_ < var_98_1 + var_98_2 + arg_98_0 then
				var_98_0.localPosition = Vector3.New(0.7, -0.98, -6.1)

				local var_98_7 = manager.ui.mainCamera.transform.position - var_98_0.position

				var_98_0.forward = Vector3.New(var_98_7.x, var_98_7.y, var_98_7.z)

				local var_98_8 = var_98_0.localEulerAngles

				var_98_8.z = 0
				var_98_8.x = 0
				var_98_0.localEulerAngles = var_98_8
			end

			local var_98_9 = arg_95_1.actors_["1095ui_story"]
			local var_98_10 = 0

			if var_98_10 < arg_95_1.time_ and arg_95_1.time_ <= var_98_10 + arg_98_0 and not isNil(var_98_9) and arg_95_1.var_.characterEffect1095ui_story == nil then
				arg_95_1.var_.characterEffect1095ui_story = var_98_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_98_11 = 0.200000002980232

			if var_98_10 <= arg_95_1.time_ and arg_95_1.time_ < var_98_10 + var_98_11 and not isNil(var_98_9) then
				local var_98_12 = (arg_95_1.time_ - var_98_10) / var_98_11

				if arg_95_1.var_.characterEffect1095ui_story and not isNil(var_98_9) then
					arg_95_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_95_1.time_ >= var_98_10 + var_98_11 and arg_95_1.time_ < var_98_10 + var_98_11 + arg_98_0 and not isNil(var_98_9) and arg_95_1.var_.characterEffect1095ui_story then
				arg_95_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_98_13 = 0

			if var_98_13 < arg_95_1.time_ and arg_95_1.time_ <= var_98_13 + arg_98_0 then
				arg_95_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action3_1")
			end

			local var_98_14 = 0

			if var_98_14 < arg_95_1.time_ and arg_95_1.time_ <= var_98_14 + arg_98_0 then
				arg_95_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_98_15 = arg_95_1.actors_["10014ui_story"]
			local var_98_16 = 0

			if var_98_16 < arg_95_1.time_ and arg_95_1.time_ <= var_98_16 + arg_98_0 and not isNil(var_98_15) and arg_95_1.var_.characterEffect10014ui_story == nil then
				arg_95_1.var_.characterEffect10014ui_story = var_98_15:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_98_17 = 0.200000002980232

			if var_98_16 <= arg_95_1.time_ and arg_95_1.time_ < var_98_16 + var_98_17 and not isNil(var_98_15) then
				local var_98_18 = (arg_95_1.time_ - var_98_16) / var_98_17

				if arg_95_1.var_.characterEffect10014ui_story and not isNil(var_98_15) then
					local var_98_19 = Mathf.Lerp(0, 0.5, var_98_18)

					arg_95_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_95_1.var_.characterEffect10014ui_story.fillRatio = var_98_19
				end
			end

			if arg_95_1.time_ >= var_98_16 + var_98_17 and arg_95_1.time_ < var_98_16 + var_98_17 + arg_98_0 and not isNil(var_98_15) and arg_95_1.var_.characterEffect10014ui_story then
				local var_98_20 = 0.5

				arg_95_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_95_1.var_.characterEffect10014ui_story.fillRatio = var_98_20
			end

			local var_98_21 = 0
			local var_98_22 = 0.25

			if var_98_21 < arg_95_1.time_ and arg_95_1.time_ <= var_98_21 + arg_98_0 then
				arg_95_1.talkMaxDuration = 0
				arg_95_1.dialogCg_.alpha = 1

				arg_95_1.dialog_:SetActive(true)
				SetActive(arg_95_1.leftNameGo_, true)

				local var_98_23 = arg_95_1:FormatText(StoryNameCfg[471].name)

				arg_95_1.leftNameTxt_.text = var_98_23

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_95_1.leftNameTxt_.transform)

				arg_95_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_95_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_95_1:RecordName(arg_95_1.leftNameTxt_.text)
				SetActive(arg_95_1.iconTrs_.gameObject, false)
				arg_95_1.callingController_:SetSelectedState("normal")

				local var_98_24 = arg_95_1:GetWordFromCfg(411121023)
				local var_98_25 = arg_95_1:FormatText(var_98_24.content)

				arg_95_1.text_.text = var_98_25

				LuaForUtil.ClearLinePrefixSymbol(arg_95_1.text_)

				local var_98_26 = 10
				local var_98_27 = utf8.len(var_98_25)
				local var_98_28 = var_98_26 <= 0 and var_98_22 or var_98_22 * (var_98_27 / var_98_26)

				if var_98_28 > 0 and var_98_22 < var_98_28 then
					arg_95_1.talkMaxDuration = var_98_28

					if var_98_28 + var_98_21 > arg_95_1.duration_ then
						arg_95_1.duration_ = var_98_28 + var_98_21
					end
				end

				arg_95_1.text_.text = var_98_25
				arg_95_1.typewritter.percent = 0

				arg_95_1.typewritter:SetDirty()
				arg_95_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121023", "story_v_out_411121.awb") ~= 0 then
					local var_98_29 = manager.audio:GetVoiceLength("story_v_out_411121", "411121023", "story_v_out_411121.awb") / 1000

					if var_98_29 + var_98_21 > arg_95_1.duration_ then
						arg_95_1.duration_ = var_98_29 + var_98_21
					end

					if var_98_24.prefab_name ~= "" and arg_95_1.actors_[var_98_24.prefab_name] ~= nil then
						local var_98_30 = LuaForUtil.PlayVoiceWithCriLipsync(arg_95_1.actors_[var_98_24.prefab_name].transform, "story_v_out_411121", "411121023", "story_v_out_411121.awb")

						arg_95_1:RecordAudio("411121023", var_98_30)
						arg_95_1:RecordAudio("411121023", var_98_30)
					else
						arg_95_1:AudioAction("play", "voice", "story_v_out_411121", "411121023", "story_v_out_411121.awb")
					end

					arg_95_1:RecordHistoryTalkVoice("story_v_out_411121", "411121023", "story_v_out_411121.awb")
				end

				arg_95_1:RecordContent(arg_95_1.text_.text)
			end

			local var_98_31 = math.max(var_98_22, arg_95_1.talkMaxDuration)

			if var_98_21 <= arg_95_1.time_ and arg_95_1.time_ < var_98_21 + var_98_31 then
				arg_95_1.typewritter.percent = (arg_95_1.time_ - var_98_21) / var_98_31

				arg_95_1.typewritter:SetDirty()
			end

			if arg_95_1.time_ >= var_98_21 + var_98_31 and arg_95_1.time_ < var_98_21 + var_98_31 + arg_98_0 then
				arg_95_1.typewritter.percent = 1

				arg_95_1.typewritter:SetDirty()
				arg_95_1:ShowNextGo(true)
			end
		end
	end,
	Play411121024 = function(arg_99_0, arg_99_1)
		arg_99_1.time_ = 0
		arg_99_1.frameCnt_ = 0
		arg_99_1.state_ = "playing"
		arg_99_1.curTalkId_ = 411121024
		arg_99_1.duration_ = 8.2

		local var_99_0 = {
			zh = 6.1,
			ja = 8.2
		}
		local var_99_1 = manager.audio:GetLocalizationFlag()

		if var_99_0[var_99_1] ~= nil then
			arg_99_1.duration_ = var_99_0[var_99_1]
		end

		SetActive(arg_99_1.tipsGo_, false)

		function arg_99_1.onSingleLineFinish_()
			arg_99_1.onSingleLineUpdate_ = nil
			arg_99_1.onSingleLineFinish_ = nil
			arg_99_1.state_ = "waiting"
		end

		function arg_99_1.playNext_(arg_101_0)
			if arg_101_0 == 1 then
				arg_99_0:Play411121025(arg_99_1)
			end
		end

		function arg_99_1.onSingleLineUpdate_(arg_102_0)
			local var_102_0 = arg_99_1.actors_["1095ui_story"]
			local var_102_1 = 0

			if var_102_1 < arg_99_1.time_ and arg_99_1.time_ <= var_102_1 + arg_102_0 and not isNil(var_102_0) and arg_99_1.var_.characterEffect1095ui_story == nil then
				arg_99_1.var_.characterEffect1095ui_story = var_102_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_102_2 = 0.200000002980232

			if var_102_1 <= arg_99_1.time_ and arg_99_1.time_ < var_102_1 + var_102_2 and not isNil(var_102_0) then
				local var_102_3 = (arg_99_1.time_ - var_102_1) / var_102_2

				if arg_99_1.var_.characterEffect1095ui_story and not isNil(var_102_0) then
					local var_102_4 = Mathf.Lerp(0, 0.5, var_102_3)

					arg_99_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_99_1.var_.characterEffect1095ui_story.fillRatio = var_102_4
				end
			end

			if arg_99_1.time_ >= var_102_1 + var_102_2 and arg_99_1.time_ < var_102_1 + var_102_2 + arg_102_0 and not isNil(var_102_0) and arg_99_1.var_.characterEffect1095ui_story then
				local var_102_5 = 0.5

				arg_99_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_99_1.var_.characterEffect1095ui_story.fillRatio = var_102_5
			end

			local var_102_6 = arg_99_1.actors_["10014ui_story"]
			local var_102_7 = 0

			if var_102_7 < arg_99_1.time_ and arg_99_1.time_ <= var_102_7 + arg_102_0 and not isNil(var_102_6) and arg_99_1.var_.characterEffect10014ui_story == nil then
				arg_99_1.var_.characterEffect10014ui_story = var_102_6:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_102_8 = 0.200000002980232

			if var_102_7 <= arg_99_1.time_ and arg_99_1.time_ < var_102_7 + var_102_8 and not isNil(var_102_6) then
				local var_102_9 = (arg_99_1.time_ - var_102_7) / var_102_8

				if arg_99_1.var_.characterEffect10014ui_story and not isNil(var_102_6) then
					arg_99_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_99_1.time_ >= var_102_7 + var_102_8 and arg_99_1.time_ < var_102_7 + var_102_8 + arg_102_0 and not isNil(var_102_6) and arg_99_1.var_.characterEffect10014ui_story then
				arg_99_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_102_10 = 0
			local var_102_11 = 0.675

			if var_102_10 < arg_99_1.time_ and arg_99_1.time_ <= var_102_10 + arg_102_0 then
				arg_99_1.talkMaxDuration = 0
				arg_99_1.dialogCg_.alpha = 1

				arg_99_1.dialog_:SetActive(true)
				SetActive(arg_99_1.leftNameGo_, true)

				local var_102_12 = arg_99_1:FormatText(StoryNameCfg[264].name)

				arg_99_1.leftNameTxt_.text = var_102_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_99_1.leftNameTxt_.transform)

				arg_99_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_99_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_99_1:RecordName(arg_99_1.leftNameTxt_.text)
				SetActive(arg_99_1.iconTrs_.gameObject, false)
				arg_99_1.callingController_:SetSelectedState("normal")

				local var_102_13 = arg_99_1:GetWordFromCfg(411121024)
				local var_102_14 = arg_99_1:FormatText(var_102_13.content)

				arg_99_1.text_.text = var_102_14

				LuaForUtil.ClearLinePrefixSymbol(arg_99_1.text_)

				local var_102_15 = 27
				local var_102_16 = utf8.len(var_102_14)
				local var_102_17 = var_102_15 <= 0 and var_102_11 or var_102_11 * (var_102_16 / var_102_15)

				if var_102_17 > 0 and var_102_11 < var_102_17 then
					arg_99_1.talkMaxDuration = var_102_17

					if var_102_17 + var_102_10 > arg_99_1.duration_ then
						arg_99_1.duration_ = var_102_17 + var_102_10
					end
				end

				arg_99_1.text_.text = var_102_14
				arg_99_1.typewritter.percent = 0

				arg_99_1.typewritter:SetDirty()
				arg_99_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121024", "story_v_out_411121.awb") ~= 0 then
					local var_102_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121024", "story_v_out_411121.awb") / 1000

					if var_102_18 + var_102_10 > arg_99_1.duration_ then
						arg_99_1.duration_ = var_102_18 + var_102_10
					end

					if var_102_13.prefab_name ~= "" and arg_99_1.actors_[var_102_13.prefab_name] ~= nil then
						local var_102_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_99_1.actors_[var_102_13.prefab_name].transform, "story_v_out_411121", "411121024", "story_v_out_411121.awb")

						arg_99_1:RecordAudio("411121024", var_102_19)
						arg_99_1:RecordAudio("411121024", var_102_19)
					else
						arg_99_1:AudioAction("play", "voice", "story_v_out_411121", "411121024", "story_v_out_411121.awb")
					end

					arg_99_1:RecordHistoryTalkVoice("story_v_out_411121", "411121024", "story_v_out_411121.awb")
				end

				arg_99_1:RecordContent(arg_99_1.text_.text)
			end

			local var_102_20 = math.max(var_102_11, arg_99_1.talkMaxDuration)

			if var_102_10 <= arg_99_1.time_ and arg_99_1.time_ < var_102_10 + var_102_20 then
				arg_99_1.typewritter.percent = (arg_99_1.time_ - var_102_10) / var_102_20

				arg_99_1.typewritter:SetDirty()
			end

			if arg_99_1.time_ >= var_102_10 + var_102_20 and arg_99_1.time_ < var_102_10 + var_102_20 + arg_102_0 then
				arg_99_1.typewritter.percent = 1

				arg_99_1.typewritter:SetDirty()
				arg_99_1:ShowNextGo(true)
			end
		end
	end,
	Play411121025 = function(arg_103_0, arg_103_1)
		arg_103_1.time_ = 0
		arg_103_1.frameCnt_ = 0
		arg_103_1.state_ = "playing"
		arg_103_1.curTalkId_ = 411121025
		arg_103_1.duration_ = 6.63

		local var_103_0 = {
			zh = 5.333,
			ja = 6.633
		}
		local var_103_1 = manager.audio:GetLocalizationFlag()

		if var_103_0[var_103_1] ~= nil then
			arg_103_1.duration_ = var_103_0[var_103_1]
		end

		SetActive(arg_103_1.tipsGo_, false)

		function arg_103_1.onSingleLineFinish_()
			arg_103_1.onSingleLineUpdate_ = nil
			arg_103_1.onSingleLineFinish_ = nil
			arg_103_1.state_ = "waiting"
		end

		function arg_103_1.playNext_(arg_105_0)
			if arg_105_0 == 1 then
				arg_103_0:Play411121026(arg_103_1)
			end
		end

		function arg_103_1.onSingleLineUpdate_(arg_106_0)
			local var_106_0 = 0

			if var_106_0 < arg_103_1.time_ and arg_103_1.time_ <= var_106_0 + arg_106_0 then
				arg_103_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action5_2")
			end

			local var_106_1 = 0

			if var_106_1 < arg_103_1.time_ and arg_103_1.time_ <= var_106_1 + arg_106_0 then
				arg_103_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_106_2 = 0
			local var_106_3 = 0.6

			if var_106_2 < arg_103_1.time_ and arg_103_1.time_ <= var_106_2 + arg_106_0 then
				arg_103_1.talkMaxDuration = 0
				arg_103_1.dialogCg_.alpha = 1

				arg_103_1.dialog_:SetActive(true)
				SetActive(arg_103_1.leftNameGo_, true)

				local var_106_4 = arg_103_1:FormatText(StoryNameCfg[264].name)

				arg_103_1.leftNameTxt_.text = var_106_4

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_103_1.leftNameTxt_.transform)

				arg_103_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_103_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_103_1:RecordName(arg_103_1.leftNameTxt_.text)
				SetActive(arg_103_1.iconTrs_.gameObject, false)
				arg_103_1.callingController_:SetSelectedState("normal")

				local var_106_5 = arg_103_1:GetWordFromCfg(411121025)
				local var_106_6 = arg_103_1:FormatText(var_106_5.content)

				arg_103_1.text_.text = var_106_6

				LuaForUtil.ClearLinePrefixSymbol(arg_103_1.text_)

				local var_106_7 = 24
				local var_106_8 = utf8.len(var_106_6)
				local var_106_9 = var_106_7 <= 0 and var_106_3 or var_106_3 * (var_106_8 / var_106_7)

				if var_106_9 > 0 and var_106_3 < var_106_9 then
					arg_103_1.talkMaxDuration = var_106_9

					if var_106_9 + var_106_2 > arg_103_1.duration_ then
						arg_103_1.duration_ = var_106_9 + var_106_2
					end
				end

				arg_103_1.text_.text = var_106_6
				arg_103_1.typewritter.percent = 0

				arg_103_1.typewritter:SetDirty()
				arg_103_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121025", "story_v_out_411121.awb") ~= 0 then
					local var_106_10 = manager.audio:GetVoiceLength("story_v_out_411121", "411121025", "story_v_out_411121.awb") / 1000

					if var_106_10 + var_106_2 > arg_103_1.duration_ then
						arg_103_1.duration_ = var_106_10 + var_106_2
					end

					if var_106_5.prefab_name ~= "" and arg_103_1.actors_[var_106_5.prefab_name] ~= nil then
						local var_106_11 = LuaForUtil.PlayVoiceWithCriLipsync(arg_103_1.actors_[var_106_5.prefab_name].transform, "story_v_out_411121", "411121025", "story_v_out_411121.awb")

						arg_103_1:RecordAudio("411121025", var_106_11)
						arg_103_1:RecordAudio("411121025", var_106_11)
					else
						arg_103_1:AudioAction("play", "voice", "story_v_out_411121", "411121025", "story_v_out_411121.awb")
					end

					arg_103_1:RecordHistoryTalkVoice("story_v_out_411121", "411121025", "story_v_out_411121.awb")
				end

				arg_103_1:RecordContent(arg_103_1.text_.text)
			end

			local var_106_12 = math.max(var_106_3, arg_103_1.talkMaxDuration)

			if var_106_2 <= arg_103_1.time_ and arg_103_1.time_ < var_106_2 + var_106_12 then
				arg_103_1.typewritter.percent = (arg_103_1.time_ - var_106_2) / var_106_12

				arg_103_1.typewritter:SetDirty()
			end

			if arg_103_1.time_ >= var_106_2 + var_106_12 and arg_103_1.time_ < var_106_2 + var_106_12 + arg_106_0 then
				arg_103_1.typewritter.percent = 1

				arg_103_1.typewritter:SetDirty()
				arg_103_1:ShowNextGo(true)
			end
		end
	end,
	Play411121026 = function(arg_107_0, arg_107_1)
		arg_107_1.time_ = 0
		arg_107_1.frameCnt_ = 0
		arg_107_1.state_ = "playing"
		arg_107_1.curTalkId_ = 411121026
		arg_107_1.duration_ = 7.67

		local var_107_0 = {
			zh = 2.066,
			ja = 7.666
		}
		local var_107_1 = manager.audio:GetLocalizationFlag()

		if var_107_0[var_107_1] ~= nil then
			arg_107_1.duration_ = var_107_0[var_107_1]
		end

		SetActive(arg_107_1.tipsGo_, false)

		function arg_107_1.onSingleLineFinish_()
			arg_107_1.onSingleLineUpdate_ = nil
			arg_107_1.onSingleLineFinish_ = nil
			arg_107_1.state_ = "waiting"
		end

		function arg_107_1.playNext_(arg_109_0)
			if arg_109_0 == 1 then
				arg_107_0:Play411121027(arg_107_1)
			end
		end

		function arg_107_1.onSingleLineUpdate_(arg_110_0)
			local var_110_0 = arg_107_1.actors_["1095ui_story"]
			local var_110_1 = 0

			if var_110_1 < arg_107_1.time_ and arg_107_1.time_ <= var_110_1 + arg_110_0 and not isNil(var_110_0) and arg_107_1.var_.characterEffect1095ui_story == nil then
				arg_107_1.var_.characterEffect1095ui_story = var_110_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_110_2 = 0.200000002980232

			if var_110_1 <= arg_107_1.time_ and arg_107_1.time_ < var_110_1 + var_110_2 and not isNil(var_110_0) then
				local var_110_3 = (arg_107_1.time_ - var_110_1) / var_110_2

				if arg_107_1.var_.characterEffect1095ui_story and not isNil(var_110_0) then
					arg_107_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_107_1.time_ >= var_110_1 + var_110_2 and arg_107_1.time_ < var_110_1 + var_110_2 + arg_110_0 and not isNil(var_110_0) and arg_107_1.var_.characterEffect1095ui_story then
				arg_107_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_110_4 = arg_107_1.actors_["10014ui_story"]
			local var_110_5 = 0

			if var_110_5 < arg_107_1.time_ and arg_107_1.time_ <= var_110_5 + arg_110_0 and not isNil(var_110_4) and arg_107_1.var_.characterEffect10014ui_story == nil then
				arg_107_1.var_.characterEffect10014ui_story = var_110_4:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_110_6 = 0.200000002980232

			if var_110_5 <= arg_107_1.time_ and arg_107_1.time_ < var_110_5 + var_110_6 and not isNil(var_110_4) then
				local var_110_7 = (arg_107_1.time_ - var_110_5) / var_110_6

				if arg_107_1.var_.characterEffect10014ui_story and not isNil(var_110_4) then
					local var_110_8 = Mathf.Lerp(0, 0.5, var_110_7)

					arg_107_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_107_1.var_.characterEffect10014ui_story.fillRatio = var_110_8
				end
			end

			if arg_107_1.time_ >= var_110_5 + var_110_6 and arg_107_1.time_ < var_110_5 + var_110_6 + arg_110_0 and not isNil(var_110_4) and arg_107_1.var_.characterEffect10014ui_story then
				local var_110_9 = 0.5

				arg_107_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_107_1.var_.characterEffect10014ui_story.fillRatio = var_110_9
			end

			local var_110_10 = 0
			local var_110_11 = 0.35

			if var_110_10 < arg_107_1.time_ and arg_107_1.time_ <= var_110_10 + arg_110_0 then
				arg_107_1.talkMaxDuration = 0
				arg_107_1.dialogCg_.alpha = 1

				arg_107_1.dialog_:SetActive(true)
				SetActive(arg_107_1.leftNameGo_, true)

				local var_110_12 = arg_107_1:FormatText(StoryNameCfg[471].name)

				arg_107_1.leftNameTxt_.text = var_110_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_107_1.leftNameTxt_.transform)

				arg_107_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_107_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_107_1:RecordName(arg_107_1.leftNameTxt_.text)
				SetActive(arg_107_1.iconTrs_.gameObject, false)
				arg_107_1.callingController_:SetSelectedState("normal")

				local var_110_13 = arg_107_1:GetWordFromCfg(411121026)
				local var_110_14 = arg_107_1:FormatText(var_110_13.content)

				arg_107_1.text_.text = var_110_14

				LuaForUtil.ClearLinePrefixSymbol(arg_107_1.text_)

				local var_110_15 = 14
				local var_110_16 = utf8.len(var_110_14)
				local var_110_17 = var_110_15 <= 0 and var_110_11 or var_110_11 * (var_110_16 / var_110_15)

				if var_110_17 > 0 and var_110_11 < var_110_17 then
					arg_107_1.talkMaxDuration = var_110_17

					if var_110_17 + var_110_10 > arg_107_1.duration_ then
						arg_107_1.duration_ = var_110_17 + var_110_10
					end
				end

				arg_107_1.text_.text = var_110_14
				arg_107_1.typewritter.percent = 0

				arg_107_1.typewritter:SetDirty()
				arg_107_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121026", "story_v_out_411121.awb") ~= 0 then
					local var_110_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121026", "story_v_out_411121.awb") / 1000

					if var_110_18 + var_110_10 > arg_107_1.duration_ then
						arg_107_1.duration_ = var_110_18 + var_110_10
					end

					if var_110_13.prefab_name ~= "" and arg_107_1.actors_[var_110_13.prefab_name] ~= nil then
						local var_110_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_107_1.actors_[var_110_13.prefab_name].transform, "story_v_out_411121", "411121026", "story_v_out_411121.awb")

						arg_107_1:RecordAudio("411121026", var_110_19)
						arg_107_1:RecordAudio("411121026", var_110_19)
					else
						arg_107_1:AudioAction("play", "voice", "story_v_out_411121", "411121026", "story_v_out_411121.awb")
					end

					arg_107_1:RecordHistoryTalkVoice("story_v_out_411121", "411121026", "story_v_out_411121.awb")
				end

				arg_107_1:RecordContent(arg_107_1.text_.text)
			end

			local var_110_20 = math.max(var_110_11, arg_107_1.talkMaxDuration)

			if var_110_10 <= arg_107_1.time_ and arg_107_1.time_ < var_110_10 + var_110_20 then
				arg_107_1.typewritter.percent = (arg_107_1.time_ - var_110_10) / var_110_20

				arg_107_1.typewritter:SetDirty()
			end

			if arg_107_1.time_ >= var_110_10 + var_110_20 and arg_107_1.time_ < var_110_10 + var_110_20 + arg_110_0 then
				arg_107_1.typewritter.percent = 1

				arg_107_1.typewritter:SetDirty()
				arg_107_1:ShowNextGo(true)
			end
		end
	end,
	Play411121027 = function(arg_111_0, arg_111_1)
		arg_111_1.time_ = 0
		arg_111_1.frameCnt_ = 0
		arg_111_1.state_ = "playing"
		arg_111_1.curTalkId_ = 411121027
		arg_111_1.duration_ = 3.2

		local var_111_0 = {
			zh = 3.2,
			ja = 2.7
		}
		local var_111_1 = manager.audio:GetLocalizationFlag()

		if var_111_0[var_111_1] ~= nil then
			arg_111_1.duration_ = var_111_0[var_111_1]
		end

		SetActive(arg_111_1.tipsGo_, false)

		function arg_111_1.onSingleLineFinish_()
			arg_111_1.onSingleLineUpdate_ = nil
			arg_111_1.onSingleLineFinish_ = nil
			arg_111_1.state_ = "waiting"
		end

		function arg_111_1.playNext_(arg_113_0)
			if arg_113_0 == 1 then
				arg_111_0:Play411121028(arg_111_1)
			end
		end

		function arg_111_1.onSingleLineUpdate_(arg_114_0)
			local var_114_0 = arg_111_1.actors_["1095ui_story"]
			local var_114_1 = 0

			if var_114_1 < arg_111_1.time_ and arg_111_1.time_ <= var_114_1 + arg_114_0 and not isNil(var_114_0) and arg_111_1.var_.characterEffect1095ui_story == nil then
				arg_111_1.var_.characterEffect1095ui_story = var_114_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_114_2 = 0.200000002980232

			if var_114_1 <= arg_111_1.time_ and arg_111_1.time_ < var_114_1 + var_114_2 and not isNil(var_114_0) then
				local var_114_3 = (arg_111_1.time_ - var_114_1) / var_114_2

				if arg_111_1.var_.characterEffect1095ui_story and not isNil(var_114_0) then
					local var_114_4 = Mathf.Lerp(0, 0.5, var_114_3)

					arg_111_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_111_1.var_.characterEffect1095ui_story.fillRatio = var_114_4
				end
			end

			if arg_111_1.time_ >= var_114_1 + var_114_2 and arg_111_1.time_ < var_114_1 + var_114_2 + arg_114_0 and not isNil(var_114_0) and arg_111_1.var_.characterEffect1095ui_story then
				local var_114_5 = 0.5

				arg_111_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_111_1.var_.characterEffect1095ui_story.fillRatio = var_114_5
			end

			local var_114_6 = arg_111_1.actors_["10014ui_story"]
			local var_114_7 = 0

			if var_114_7 < arg_111_1.time_ and arg_111_1.time_ <= var_114_7 + arg_114_0 and not isNil(var_114_6) and arg_111_1.var_.characterEffect10014ui_story == nil then
				arg_111_1.var_.characterEffect10014ui_story = var_114_6:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_114_8 = 0.200000002980232

			if var_114_7 <= arg_111_1.time_ and arg_111_1.time_ < var_114_7 + var_114_8 and not isNil(var_114_6) then
				local var_114_9 = (arg_111_1.time_ - var_114_7) / var_114_8

				if arg_111_1.var_.characterEffect10014ui_story and not isNil(var_114_6) then
					arg_111_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_111_1.time_ >= var_114_7 + var_114_8 and arg_111_1.time_ < var_114_7 + var_114_8 + arg_114_0 and not isNil(var_114_6) and arg_111_1.var_.characterEffect10014ui_story then
				arg_111_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_114_10 = 0
			local var_114_11 = 0.25

			if var_114_10 < arg_111_1.time_ and arg_111_1.time_ <= var_114_10 + arg_114_0 then
				arg_111_1.talkMaxDuration = 0
				arg_111_1.dialogCg_.alpha = 1

				arg_111_1.dialog_:SetActive(true)
				SetActive(arg_111_1.leftNameGo_, true)

				local var_114_12 = arg_111_1:FormatText(StoryNameCfg[264].name)

				arg_111_1.leftNameTxt_.text = var_114_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_111_1.leftNameTxt_.transform)

				arg_111_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_111_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_111_1:RecordName(arg_111_1.leftNameTxt_.text)
				SetActive(arg_111_1.iconTrs_.gameObject, false)
				arg_111_1.callingController_:SetSelectedState("normal")

				local var_114_13 = arg_111_1:GetWordFromCfg(411121027)
				local var_114_14 = arg_111_1:FormatText(var_114_13.content)

				arg_111_1.text_.text = var_114_14

				LuaForUtil.ClearLinePrefixSymbol(arg_111_1.text_)

				local var_114_15 = 10
				local var_114_16 = utf8.len(var_114_14)
				local var_114_17 = var_114_15 <= 0 and var_114_11 or var_114_11 * (var_114_16 / var_114_15)

				if var_114_17 > 0 and var_114_11 < var_114_17 then
					arg_111_1.talkMaxDuration = var_114_17

					if var_114_17 + var_114_10 > arg_111_1.duration_ then
						arg_111_1.duration_ = var_114_17 + var_114_10
					end
				end

				arg_111_1.text_.text = var_114_14
				arg_111_1.typewritter.percent = 0

				arg_111_1.typewritter:SetDirty()
				arg_111_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121027", "story_v_out_411121.awb") ~= 0 then
					local var_114_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121027", "story_v_out_411121.awb") / 1000

					if var_114_18 + var_114_10 > arg_111_1.duration_ then
						arg_111_1.duration_ = var_114_18 + var_114_10
					end

					if var_114_13.prefab_name ~= "" and arg_111_1.actors_[var_114_13.prefab_name] ~= nil then
						local var_114_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_111_1.actors_[var_114_13.prefab_name].transform, "story_v_out_411121", "411121027", "story_v_out_411121.awb")

						arg_111_1:RecordAudio("411121027", var_114_19)
						arg_111_1:RecordAudio("411121027", var_114_19)
					else
						arg_111_1:AudioAction("play", "voice", "story_v_out_411121", "411121027", "story_v_out_411121.awb")
					end

					arg_111_1:RecordHistoryTalkVoice("story_v_out_411121", "411121027", "story_v_out_411121.awb")
				end

				arg_111_1:RecordContent(arg_111_1.text_.text)
			end

			local var_114_20 = math.max(var_114_11, arg_111_1.talkMaxDuration)

			if var_114_10 <= arg_111_1.time_ and arg_111_1.time_ < var_114_10 + var_114_20 then
				arg_111_1.typewritter.percent = (arg_111_1.time_ - var_114_10) / var_114_20

				arg_111_1.typewritter:SetDirty()
			end

			if arg_111_1.time_ >= var_114_10 + var_114_20 and arg_111_1.time_ < var_114_10 + var_114_20 + arg_114_0 then
				arg_111_1.typewritter.percent = 1

				arg_111_1.typewritter:SetDirty()
				arg_111_1:ShowNextGo(true)
			end
		end
	end,
	Play411121028 = function(arg_115_0, arg_115_1)
		arg_115_1.time_ = 0
		arg_115_1.frameCnt_ = 0
		arg_115_1.state_ = "playing"
		arg_115_1.curTalkId_ = 411121028
		arg_115_1.duration_ = 2.03

		local var_115_0 = {
			zh = 1.3,
			ja = 2.033
		}
		local var_115_1 = manager.audio:GetLocalizationFlag()

		if var_115_0[var_115_1] ~= nil then
			arg_115_1.duration_ = var_115_0[var_115_1]
		end

		SetActive(arg_115_1.tipsGo_, false)

		function arg_115_1.onSingleLineFinish_()
			arg_115_1.onSingleLineUpdate_ = nil
			arg_115_1.onSingleLineFinish_ = nil
			arg_115_1.state_ = "waiting"
		end

		function arg_115_1.playNext_(arg_117_0)
			if arg_117_0 == 1 then
				arg_115_0:Play411121029(arg_115_1)
			end
		end

		function arg_115_1.onSingleLineUpdate_(arg_118_0)
			local var_118_0 = arg_115_1.actors_["1095ui_story"].transform
			local var_118_1 = 0

			if var_118_1 < arg_115_1.time_ and arg_115_1.time_ <= var_118_1 + arg_118_0 then
				arg_115_1.var_.moveOldPos1095ui_story = var_118_0.localPosition
			end

			local var_118_2 = 0.001

			if var_118_1 <= arg_115_1.time_ and arg_115_1.time_ < var_118_1 + var_118_2 then
				local var_118_3 = (arg_115_1.time_ - var_118_1) / var_118_2
				local var_118_4 = Vector3.New(0.7, -0.98, -6.1)

				var_118_0.localPosition = Vector3.Lerp(arg_115_1.var_.moveOldPos1095ui_story, var_118_4, var_118_3)

				local var_118_5 = manager.ui.mainCamera.transform.position - var_118_0.position

				var_118_0.forward = Vector3.New(var_118_5.x, var_118_5.y, var_118_5.z)

				local var_118_6 = var_118_0.localEulerAngles

				var_118_6.z = 0
				var_118_6.x = 0
				var_118_0.localEulerAngles = var_118_6
			end

			if arg_115_1.time_ >= var_118_1 + var_118_2 and arg_115_1.time_ < var_118_1 + var_118_2 + arg_118_0 then
				var_118_0.localPosition = Vector3.New(0.7, -0.98, -6.1)

				local var_118_7 = manager.ui.mainCamera.transform.position - var_118_0.position

				var_118_0.forward = Vector3.New(var_118_7.x, var_118_7.y, var_118_7.z)

				local var_118_8 = var_118_0.localEulerAngles

				var_118_8.z = 0
				var_118_8.x = 0
				var_118_0.localEulerAngles = var_118_8
			end

			local var_118_9 = arg_115_1.actors_["1095ui_story"]
			local var_118_10 = 0

			if var_118_10 < arg_115_1.time_ and arg_115_1.time_ <= var_118_10 + arg_118_0 and not isNil(var_118_9) and arg_115_1.var_.characterEffect1095ui_story == nil then
				arg_115_1.var_.characterEffect1095ui_story = var_118_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_118_11 = 0.200000002980232

			if var_118_10 <= arg_115_1.time_ and arg_115_1.time_ < var_118_10 + var_118_11 and not isNil(var_118_9) then
				local var_118_12 = (arg_115_1.time_ - var_118_10) / var_118_11

				if arg_115_1.var_.characterEffect1095ui_story and not isNil(var_118_9) then
					arg_115_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_115_1.time_ >= var_118_10 + var_118_11 and arg_115_1.time_ < var_118_10 + var_118_11 + arg_118_0 and not isNil(var_118_9) and arg_115_1.var_.characterEffect1095ui_story then
				arg_115_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_118_13 = arg_115_1.actors_["10014ui_story"]
			local var_118_14 = 0

			if var_118_14 < arg_115_1.time_ and arg_115_1.time_ <= var_118_14 + arg_118_0 and not isNil(var_118_13) and arg_115_1.var_.characterEffect10014ui_story == nil then
				arg_115_1.var_.characterEffect10014ui_story = var_118_13:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_118_15 = 0.200000002980232

			if var_118_14 <= arg_115_1.time_ and arg_115_1.time_ < var_118_14 + var_118_15 and not isNil(var_118_13) then
				local var_118_16 = (arg_115_1.time_ - var_118_14) / var_118_15

				if arg_115_1.var_.characterEffect10014ui_story and not isNil(var_118_13) then
					local var_118_17 = Mathf.Lerp(0, 0.5, var_118_16)

					arg_115_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_115_1.var_.characterEffect10014ui_story.fillRatio = var_118_17
				end
			end

			if arg_115_1.time_ >= var_118_14 + var_118_15 and arg_115_1.time_ < var_118_14 + var_118_15 + arg_118_0 and not isNil(var_118_13) and arg_115_1.var_.characterEffect10014ui_story then
				local var_118_18 = 0.5

				arg_115_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_115_1.var_.characterEffect10014ui_story.fillRatio = var_118_18
			end

			local var_118_19 = 0
			local var_118_20 = 0.125

			if var_118_19 < arg_115_1.time_ and arg_115_1.time_ <= var_118_19 + arg_118_0 then
				arg_115_1.talkMaxDuration = 0
				arg_115_1.dialogCg_.alpha = 1

				arg_115_1.dialog_:SetActive(true)
				SetActive(arg_115_1.leftNameGo_, true)

				local var_118_21 = arg_115_1:FormatText(StoryNameCfg[471].name)

				arg_115_1.leftNameTxt_.text = var_118_21

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_115_1.leftNameTxt_.transform)

				arg_115_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_115_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_115_1:RecordName(arg_115_1.leftNameTxt_.text)
				SetActive(arg_115_1.iconTrs_.gameObject, false)
				arg_115_1.callingController_:SetSelectedState("normal")

				local var_118_22 = arg_115_1:GetWordFromCfg(411121028)
				local var_118_23 = arg_115_1:FormatText(var_118_22.content)

				arg_115_1.text_.text = var_118_23

				LuaForUtil.ClearLinePrefixSymbol(arg_115_1.text_)

				local var_118_24 = 5
				local var_118_25 = utf8.len(var_118_23)
				local var_118_26 = var_118_24 <= 0 and var_118_20 or var_118_20 * (var_118_25 / var_118_24)

				if var_118_26 > 0 and var_118_20 < var_118_26 then
					arg_115_1.talkMaxDuration = var_118_26

					if var_118_26 + var_118_19 > arg_115_1.duration_ then
						arg_115_1.duration_ = var_118_26 + var_118_19
					end
				end

				arg_115_1.text_.text = var_118_23
				arg_115_1.typewritter.percent = 0

				arg_115_1.typewritter:SetDirty()
				arg_115_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121028", "story_v_out_411121.awb") ~= 0 then
					local var_118_27 = manager.audio:GetVoiceLength("story_v_out_411121", "411121028", "story_v_out_411121.awb") / 1000

					if var_118_27 + var_118_19 > arg_115_1.duration_ then
						arg_115_1.duration_ = var_118_27 + var_118_19
					end

					if var_118_22.prefab_name ~= "" and arg_115_1.actors_[var_118_22.prefab_name] ~= nil then
						local var_118_28 = LuaForUtil.PlayVoiceWithCriLipsync(arg_115_1.actors_[var_118_22.prefab_name].transform, "story_v_out_411121", "411121028", "story_v_out_411121.awb")

						arg_115_1:RecordAudio("411121028", var_118_28)
						arg_115_1:RecordAudio("411121028", var_118_28)
					else
						arg_115_1:AudioAction("play", "voice", "story_v_out_411121", "411121028", "story_v_out_411121.awb")
					end

					arg_115_1:RecordHistoryTalkVoice("story_v_out_411121", "411121028", "story_v_out_411121.awb")
				end

				arg_115_1:RecordContent(arg_115_1.text_.text)
			end

			local var_118_29 = math.max(var_118_20, arg_115_1.talkMaxDuration)

			if var_118_19 <= arg_115_1.time_ and arg_115_1.time_ < var_118_19 + var_118_29 then
				arg_115_1.typewritter.percent = (arg_115_1.time_ - var_118_19) / var_118_29

				arg_115_1.typewritter:SetDirty()
			end

			if arg_115_1.time_ >= var_118_19 + var_118_29 and arg_115_1.time_ < var_118_19 + var_118_29 + arg_118_0 then
				arg_115_1.typewritter.percent = 1

				arg_115_1.typewritter:SetDirty()
				arg_115_1:ShowNextGo(true)
			end
		end
	end,
	Play411121029 = function(arg_119_0, arg_119_1)
		arg_119_1.time_ = 0
		arg_119_1.frameCnt_ = 0
		arg_119_1.state_ = "playing"
		arg_119_1.curTalkId_ = 411121029
		arg_119_1.duration_ = 9.3

		local var_119_0 = {
			zh = 7.8,
			ja = 9.3
		}
		local var_119_1 = manager.audio:GetLocalizationFlag()

		if var_119_0[var_119_1] ~= nil then
			arg_119_1.duration_ = var_119_0[var_119_1]
		end

		SetActive(arg_119_1.tipsGo_, false)

		function arg_119_1.onSingleLineFinish_()
			arg_119_1.onSingleLineUpdate_ = nil
			arg_119_1.onSingleLineFinish_ = nil
			arg_119_1.state_ = "waiting"
		end

		function arg_119_1.playNext_(arg_121_0)
			if arg_121_0 == 1 then
				arg_119_0:Play411121030(arg_119_1)
			end
		end

		function arg_119_1.onSingleLineUpdate_(arg_122_0)
			local var_122_0 = arg_119_1.actors_["10014ui_story"].transform
			local var_122_1 = 0

			if var_122_1 < arg_119_1.time_ and arg_119_1.time_ <= var_122_1 + arg_122_0 then
				arg_119_1.var_.moveOldPos10014ui_story = var_122_0.localPosition
			end

			local var_122_2 = 0.001

			if var_122_1 <= arg_119_1.time_ and arg_119_1.time_ < var_122_1 + var_122_2 then
				local var_122_3 = (arg_119_1.time_ - var_122_1) / var_122_2
				local var_122_4 = Vector3.New(-0.7, -1.06, -6.2)

				var_122_0.localPosition = Vector3.Lerp(arg_119_1.var_.moveOldPos10014ui_story, var_122_4, var_122_3)

				local var_122_5 = manager.ui.mainCamera.transform.position - var_122_0.position

				var_122_0.forward = Vector3.New(var_122_5.x, var_122_5.y, var_122_5.z)

				local var_122_6 = var_122_0.localEulerAngles

				var_122_6.z = 0
				var_122_6.x = 0
				var_122_0.localEulerAngles = var_122_6
			end

			if arg_119_1.time_ >= var_122_1 + var_122_2 and arg_119_1.time_ < var_122_1 + var_122_2 + arg_122_0 then
				var_122_0.localPosition = Vector3.New(-0.7, -1.06, -6.2)

				local var_122_7 = manager.ui.mainCamera.transform.position - var_122_0.position

				var_122_0.forward = Vector3.New(var_122_7.x, var_122_7.y, var_122_7.z)

				local var_122_8 = var_122_0.localEulerAngles

				var_122_8.z = 0
				var_122_8.x = 0
				var_122_0.localEulerAngles = var_122_8
			end

			local var_122_9 = arg_119_1.actors_["10014ui_story"]
			local var_122_10 = 0

			if var_122_10 < arg_119_1.time_ and arg_119_1.time_ <= var_122_10 + arg_122_0 and not isNil(var_122_9) and arg_119_1.var_.characterEffect10014ui_story == nil then
				arg_119_1.var_.characterEffect10014ui_story = var_122_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_122_11 = 0.200000002980232

			if var_122_10 <= arg_119_1.time_ and arg_119_1.time_ < var_122_10 + var_122_11 and not isNil(var_122_9) then
				local var_122_12 = (arg_119_1.time_ - var_122_10) / var_122_11

				if arg_119_1.var_.characterEffect10014ui_story and not isNil(var_122_9) then
					arg_119_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_119_1.time_ >= var_122_10 + var_122_11 and arg_119_1.time_ < var_122_10 + var_122_11 + arg_122_0 and not isNil(var_122_9) and arg_119_1.var_.characterEffect10014ui_story then
				arg_119_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_122_13 = 0

			if var_122_13 < arg_119_1.time_ and arg_119_1.time_ <= var_122_13 + arg_122_0 then
				arg_119_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action1_1")
			end

			local var_122_14 = 0

			if var_122_14 < arg_119_1.time_ and arg_119_1.time_ <= var_122_14 + arg_122_0 then
				arg_119_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_122_15 = arg_119_1.actors_["1095ui_story"]
			local var_122_16 = 0

			if var_122_16 < arg_119_1.time_ and arg_119_1.time_ <= var_122_16 + arg_122_0 and not isNil(var_122_15) and arg_119_1.var_.characterEffect1095ui_story == nil then
				arg_119_1.var_.characterEffect1095ui_story = var_122_15:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_122_17 = 0.200000002980232

			if var_122_16 <= arg_119_1.time_ and arg_119_1.time_ < var_122_16 + var_122_17 and not isNil(var_122_15) then
				local var_122_18 = (arg_119_1.time_ - var_122_16) / var_122_17

				if arg_119_1.var_.characterEffect1095ui_story and not isNil(var_122_15) then
					local var_122_19 = Mathf.Lerp(0, 0.5, var_122_18)

					arg_119_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_119_1.var_.characterEffect1095ui_story.fillRatio = var_122_19
				end
			end

			if arg_119_1.time_ >= var_122_16 + var_122_17 and arg_119_1.time_ < var_122_16 + var_122_17 + arg_122_0 and not isNil(var_122_15) and arg_119_1.var_.characterEffect1095ui_story then
				local var_122_20 = 0.5

				arg_119_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_119_1.var_.characterEffect1095ui_story.fillRatio = var_122_20
			end

			local var_122_21 = 0
			local var_122_22 = 0.925

			if var_122_21 < arg_119_1.time_ and arg_119_1.time_ <= var_122_21 + arg_122_0 then
				arg_119_1.talkMaxDuration = 0
				arg_119_1.dialogCg_.alpha = 1

				arg_119_1.dialog_:SetActive(true)
				SetActive(arg_119_1.leftNameGo_, true)

				local var_122_23 = arg_119_1:FormatText(StoryNameCfg[264].name)

				arg_119_1.leftNameTxt_.text = var_122_23

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_119_1.leftNameTxt_.transform)

				arg_119_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_119_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_119_1:RecordName(arg_119_1.leftNameTxt_.text)
				SetActive(arg_119_1.iconTrs_.gameObject, false)
				arg_119_1.callingController_:SetSelectedState("normal")

				local var_122_24 = arg_119_1:GetWordFromCfg(411121029)
				local var_122_25 = arg_119_1:FormatText(var_122_24.content)

				arg_119_1.text_.text = var_122_25

				LuaForUtil.ClearLinePrefixSymbol(arg_119_1.text_)

				local var_122_26 = 37
				local var_122_27 = utf8.len(var_122_25)
				local var_122_28 = var_122_26 <= 0 and var_122_22 or var_122_22 * (var_122_27 / var_122_26)

				if var_122_28 > 0 and var_122_22 < var_122_28 then
					arg_119_1.talkMaxDuration = var_122_28

					if var_122_28 + var_122_21 > arg_119_1.duration_ then
						arg_119_1.duration_ = var_122_28 + var_122_21
					end
				end

				arg_119_1.text_.text = var_122_25
				arg_119_1.typewritter.percent = 0

				arg_119_1.typewritter:SetDirty()
				arg_119_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121029", "story_v_out_411121.awb") ~= 0 then
					local var_122_29 = manager.audio:GetVoiceLength("story_v_out_411121", "411121029", "story_v_out_411121.awb") / 1000

					if var_122_29 + var_122_21 > arg_119_1.duration_ then
						arg_119_1.duration_ = var_122_29 + var_122_21
					end

					if var_122_24.prefab_name ~= "" and arg_119_1.actors_[var_122_24.prefab_name] ~= nil then
						local var_122_30 = LuaForUtil.PlayVoiceWithCriLipsync(arg_119_1.actors_[var_122_24.prefab_name].transform, "story_v_out_411121", "411121029", "story_v_out_411121.awb")

						arg_119_1:RecordAudio("411121029", var_122_30)
						arg_119_1:RecordAudio("411121029", var_122_30)
					else
						arg_119_1:AudioAction("play", "voice", "story_v_out_411121", "411121029", "story_v_out_411121.awb")
					end

					arg_119_1:RecordHistoryTalkVoice("story_v_out_411121", "411121029", "story_v_out_411121.awb")
				end

				arg_119_1:RecordContent(arg_119_1.text_.text)
			end

			local var_122_31 = math.max(var_122_22, arg_119_1.talkMaxDuration)

			if var_122_21 <= arg_119_1.time_ and arg_119_1.time_ < var_122_21 + var_122_31 then
				arg_119_1.typewritter.percent = (arg_119_1.time_ - var_122_21) / var_122_31

				arg_119_1.typewritter:SetDirty()
			end

			if arg_119_1.time_ >= var_122_21 + var_122_31 and arg_119_1.time_ < var_122_21 + var_122_31 + arg_122_0 then
				arg_119_1.typewritter.percent = 1

				arg_119_1.typewritter:SetDirty()
				arg_119_1:ShowNextGo(true)
			end
		end
	end,
	Play411121030 = function(arg_123_0, arg_123_1)
		arg_123_1.time_ = 0
		arg_123_1.frameCnt_ = 0
		arg_123_1.state_ = "playing"
		arg_123_1.curTalkId_ = 411121030
		arg_123_1.duration_ = 5.7

		local var_123_0 = {
			zh = 3.766,
			ja = 5.7
		}
		local var_123_1 = manager.audio:GetLocalizationFlag()

		if var_123_0[var_123_1] ~= nil then
			arg_123_1.duration_ = var_123_0[var_123_1]
		end

		SetActive(arg_123_1.tipsGo_, false)

		function arg_123_1.onSingleLineFinish_()
			arg_123_1.onSingleLineUpdate_ = nil
			arg_123_1.onSingleLineFinish_ = nil
			arg_123_1.state_ = "waiting"
		end

		function arg_123_1.playNext_(arg_125_0)
			if arg_125_0 == 1 then
				arg_123_0:Play411121031(arg_123_1)
			end
		end

		function arg_123_1.onSingleLineUpdate_(arg_126_0)
			local var_126_0 = 0
			local var_126_1 = 0.375

			if var_126_0 < arg_123_1.time_ and arg_123_1.time_ <= var_126_0 + arg_126_0 then
				arg_123_1.talkMaxDuration = 0
				arg_123_1.dialogCg_.alpha = 1

				arg_123_1.dialog_:SetActive(true)
				SetActive(arg_123_1.leftNameGo_, true)

				local var_126_2 = arg_123_1:FormatText(StoryNameCfg[264].name)

				arg_123_1.leftNameTxt_.text = var_126_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_123_1.leftNameTxt_.transform)

				arg_123_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_123_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_123_1:RecordName(arg_123_1.leftNameTxt_.text)
				SetActive(arg_123_1.iconTrs_.gameObject, false)
				arg_123_1.callingController_:SetSelectedState("normal")

				local var_126_3 = arg_123_1:GetWordFromCfg(411121030)
				local var_126_4 = arg_123_1:FormatText(var_126_3.content)

				arg_123_1.text_.text = var_126_4

				LuaForUtil.ClearLinePrefixSymbol(arg_123_1.text_)

				local var_126_5 = 15
				local var_126_6 = utf8.len(var_126_4)
				local var_126_7 = var_126_5 <= 0 and var_126_1 or var_126_1 * (var_126_6 / var_126_5)

				if var_126_7 > 0 and var_126_1 < var_126_7 then
					arg_123_1.talkMaxDuration = var_126_7

					if var_126_7 + var_126_0 > arg_123_1.duration_ then
						arg_123_1.duration_ = var_126_7 + var_126_0
					end
				end

				arg_123_1.text_.text = var_126_4
				arg_123_1.typewritter.percent = 0

				arg_123_1.typewritter:SetDirty()
				arg_123_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121030", "story_v_out_411121.awb") ~= 0 then
					local var_126_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121030", "story_v_out_411121.awb") / 1000

					if var_126_8 + var_126_0 > arg_123_1.duration_ then
						arg_123_1.duration_ = var_126_8 + var_126_0
					end

					if var_126_3.prefab_name ~= "" and arg_123_1.actors_[var_126_3.prefab_name] ~= nil then
						local var_126_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_123_1.actors_[var_126_3.prefab_name].transform, "story_v_out_411121", "411121030", "story_v_out_411121.awb")

						arg_123_1:RecordAudio("411121030", var_126_9)
						arg_123_1:RecordAudio("411121030", var_126_9)
					else
						arg_123_1:AudioAction("play", "voice", "story_v_out_411121", "411121030", "story_v_out_411121.awb")
					end

					arg_123_1:RecordHistoryTalkVoice("story_v_out_411121", "411121030", "story_v_out_411121.awb")
				end

				arg_123_1:RecordContent(arg_123_1.text_.text)
			end

			local var_126_10 = math.max(var_126_1, arg_123_1.talkMaxDuration)

			if var_126_0 <= arg_123_1.time_ and arg_123_1.time_ < var_126_0 + var_126_10 then
				arg_123_1.typewritter.percent = (arg_123_1.time_ - var_126_0) / var_126_10

				arg_123_1.typewritter:SetDirty()
			end

			if arg_123_1.time_ >= var_126_0 + var_126_10 and arg_123_1.time_ < var_126_0 + var_126_10 + arg_126_0 then
				arg_123_1.typewritter.percent = 1

				arg_123_1.typewritter:SetDirty()
				arg_123_1:ShowNextGo(true)
			end
		end
	end,
	Play411121031 = function(arg_127_0, arg_127_1)
		arg_127_1.time_ = 0
		arg_127_1.frameCnt_ = 0
		arg_127_1.state_ = "playing"
		arg_127_1.curTalkId_ = 411121031
		arg_127_1.duration_ = 5

		SetActive(arg_127_1.tipsGo_, false)

		function arg_127_1.onSingleLineFinish_()
			arg_127_1.onSingleLineUpdate_ = nil
			arg_127_1.onSingleLineFinish_ = nil
			arg_127_1.state_ = "waiting"
		end

		function arg_127_1.playNext_(arg_129_0)
			if arg_129_0 == 1 then
				arg_127_0:Play411121032(arg_127_1)
			end
		end

		function arg_127_1.onSingleLineUpdate_(arg_130_0)
			local var_130_0 = arg_127_1.actors_["10014ui_story"]
			local var_130_1 = 0

			if var_130_1 < arg_127_1.time_ and arg_127_1.time_ <= var_130_1 + arg_130_0 and not isNil(var_130_0) and arg_127_1.var_.characterEffect10014ui_story == nil then
				arg_127_1.var_.characterEffect10014ui_story = var_130_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_130_2 = 0.200000002980232

			if var_130_1 <= arg_127_1.time_ and arg_127_1.time_ < var_130_1 + var_130_2 and not isNil(var_130_0) then
				local var_130_3 = (arg_127_1.time_ - var_130_1) / var_130_2

				if arg_127_1.var_.characterEffect10014ui_story and not isNil(var_130_0) then
					local var_130_4 = Mathf.Lerp(0, 0.5, var_130_3)

					arg_127_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_127_1.var_.characterEffect10014ui_story.fillRatio = var_130_4
				end
			end

			if arg_127_1.time_ >= var_130_1 + var_130_2 and arg_127_1.time_ < var_130_1 + var_130_2 + arg_130_0 and not isNil(var_130_0) and arg_127_1.var_.characterEffect10014ui_story then
				local var_130_5 = 0.5

				arg_127_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_127_1.var_.characterEffect10014ui_story.fillRatio = var_130_5
			end

			local var_130_6 = 0
			local var_130_7 = 0.55

			if var_130_6 < arg_127_1.time_ and arg_127_1.time_ <= var_130_6 + arg_130_0 then
				arg_127_1.talkMaxDuration = 0
				arg_127_1.dialogCg_.alpha = 1

				arg_127_1.dialog_:SetActive(true)
				SetActive(arg_127_1.leftNameGo_, false)

				arg_127_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_127_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_127_1:RecordName(arg_127_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_127_1.iconTrs_.gameObject, false)
				arg_127_1.callingController_:SetSelectedState("normal")

				local var_130_8 = arg_127_1:GetWordFromCfg(411121031)
				local var_130_9 = arg_127_1:FormatText(var_130_8.content)

				arg_127_1.text_.text = var_130_9

				LuaForUtil.ClearLinePrefixSymbol(arg_127_1.text_)

				local var_130_10 = 22
				local var_130_11 = utf8.len(var_130_9)
				local var_130_12 = var_130_10 <= 0 and var_130_7 or var_130_7 * (var_130_11 / var_130_10)

				if var_130_12 > 0 and var_130_7 < var_130_12 then
					arg_127_1.talkMaxDuration = var_130_12

					if var_130_12 + var_130_6 > arg_127_1.duration_ then
						arg_127_1.duration_ = var_130_12 + var_130_6
					end
				end

				arg_127_1.text_.text = var_130_9
				arg_127_1.typewritter.percent = 0

				arg_127_1.typewritter:SetDirty()
				arg_127_1:ShowNextGo(false)
				arg_127_1:RecordContent(arg_127_1.text_.text)
			end

			local var_130_13 = math.max(var_130_7, arg_127_1.talkMaxDuration)

			if var_130_6 <= arg_127_1.time_ and arg_127_1.time_ < var_130_6 + var_130_13 then
				arg_127_1.typewritter.percent = (arg_127_1.time_ - var_130_6) / var_130_13

				arg_127_1.typewritter:SetDirty()
			end

			if arg_127_1.time_ >= var_130_6 + var_130_13 and arg_127_1.time_ < var_130_6 + var_130_13 + arg_130_0 then
				arg_127_1.typewritter.percent = 1

				arg_127_1.typewritter:SetDirty()
				arg_127_1:ShowNextGo(true)
			end
		end
	end,
	Play411121032 = function(arg_131_0, arg_131_1)
		arg_131_1.time_ = 0
		arg_131_1.frameCnt_ = 0
		arg_131_1.state_ = "playing"
		arg_131_1.curTalkId_ = 411121032
		arg_131_1.duration_ = 2

		SetActive(arg_131_1.tipsGo_, false)

		function arg_131_1.onSingleLineFinish_()
			arg_131_1.onSingleLineUpdate_ = nil
			arg_131_1.onSingleLineFinish_ = nil
			arg_131_1.state_ = "waiting"
		end

		function arg_131_1.playNext_(arg_133_0)
			if arg_133_0 == 1 then
				arg_131_0:Play411121033(arg_131_1)
			end
		end

		function arg_131_1.onSingleLineUpdate_(arg_134_0)
			local var_134_0 = arg_131_1.actors_["1095ui_story"].transform
			local var_134_1 = 0

			if var_134_1 < arg_131_1.time_ and arg_131_1.time_ <= var_134_1 + arg_134_0 then
				arg_131_1.var_.moveOldPos1095ui_story = var_134_0.localPosition
			end

			local var_134_2 = 0.001

			if var_134_1 <= arg_131_1.time_ and arg_131_1.time_ < var_134_1 + var_134_2 then
				local var_134_3 = (arg_131_1.time_ - var_134_1) / var_134_2
				local var_134_4 = Vector3.New(0.7, -0.98, -6.1)

				var_134_0.localPosition = Vector3.Lerp(arg_131_1.var_.moveOldPos1095ui_story, var_134_4, var_134_3)

				local var_134_5 = manager.ui.mainCamera.transform.position - var_134_0.position

				var_134_0.forward = Vector3.New(var_134_5.x, var_134_5.y, var_134_5.z)

				local var_134_6 = var_134_0.localEulerAngles

				var_134_6.z = 0
				var_134_6.x = 0
				var_134_0.localEulerAngles = var_134_6
			end

			if arg_131_1.time_ >= var_134_1 + var_134_2 and arg_131_1.time_ < var_134_1 + var_134_2 + arg_134_0 then
				var_134_0.localPosition = Vector3.New(0.7, -0.98, -6.1)

				local var_134_7 = manager.ui.mainCamera.transform.position - var_134_0.position

				var_134_0.forward = Vector3.New(var_134_7.x, var_134_7.y, var_134_7.z)

				local var_134_8 = var_134_0.localEulerAngles

				var_134_8.z = 0
				var_134_8.x = 0
				var_134_0.localEulerAngles = var_134_8
			end

			local var_134_9 = arg_131_1.actors_["1095ui_story"]
			local var_134_10 = 0

			if var_134_10 < arg_131_1.time_ and arg_131_1.time_ <= var_134_10 + arg_134_0 and not isNil(var_134_9) and arg_131_1.var_.characterEffect1095ui_story == nil then
				arg_131_1.var_.characterEffect1095ui_story = var_134_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_134_11 = 0.200000002980232

			if var_134_10 <= arg_131_1.time_ and arg_131_1.time_ < var_134_10 + var_134_11 and not isNil(var_134_9) then
				local var_134_12 = (arg_131_1.time_ - var_134_10) / var_134_11

				if arg_131_1.var_.characterEffect1095ui_story and not isNil(var_134_9) then
					arg_131_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_131_1.time_ >= var_134_10 + var_134_11 and arg_131_1.time_ < var_134_10 + var_134_11 + arg_134_0 and not isNil(var_134_9) and arg_131_1.var_.characterEffect1095ui_story then
				arg_131_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_134_13 = 0

			if var_134_13 < arg_131_1.time_ and arg_131_1.time_ <= var_134_13 + arg_134_0 then
				arg_131_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action3_2")
			end

			local var_134_14 = 0

			if var_134_14 < arg_131_1.time_ and arg_131_1.time_ <= var_134_14 + arg_134_0 then
				arg_131_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_134_15 = 0
			local var_134_16 = 0.1

			if var_134_15 < arg_131_1.time_ and arg_131_1.time_ <= var_134_15 + arg_134_0 then
				arg_131_1.talkMaxDuration = 0
				arg_131_1.dialogCg_.alpha = 1

				arg_131_1.dialog_:SetActive(true)
				SetActive(arg_131_1.leftNameGo_, true)

				local var_134_17 = arg_131_1:FormatText(StoryNameCfg[471].name)

				arg_131_1.leftNameTxt_.text = var_134_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_131_1.leftNameTxt_.transform)

				arg_131_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_131_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_131_1:RecordName(arg_131_1.leftNameTxt_.text)
				SetActive(arg_131_1.iconTrs_.gameObject, false)
				arg_131_1.callingController_:SetSelectedState("normal")

				local var_134_18 = arg_131_1:GetWordFromCfg(411121032)
				local var_134_19 = arg_131_1:FormatText(var_134_18.content)

				arg_131_1.text_.text = var_134_19

				LuaForUtil.ClearLinePrefixSymbol(arg_131_1.text_)

				local var_134_20 = 4
				local var_134_21 = utf8.len(var_134_19)
				local var_134_22 = var_134_20 <= 0 and var_134_16 or var_134_16 * (var_134_21 / var_134_20)

				if var_134_22 > 0 and var_134_16 < var_134_22 then
					arg_131_1.talkMaxDuration = var_134_22

					if var_134_22 + var_134_15 > arg_131_1.duration_ then
						arg_131_1.duration_ = var_134_22 + var_134_15
					end
				end

				arg_131_1.text_.text = var_134_19
				arg_131_1.typewritter.percent = 0

				arg_131_1.typewritter:SetDirty()
				arg_131_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121032", "story_v_out_411121.awb") ~= 0 then
					local var_134_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121032", "story_v_out_411121.awb") / 1000

					if var_134_23 + var_134_15 > arg_131_1.duration_ then
						arg_131_1.duration_ = var_134_23 + var_134_15
					end

					if var_134_18.prefab_name ~= "" and arg_131_1.actors_[var_134_18.prefab_name] ~= nil then
						local var_134_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_131_1.actors_[var_134_18.prefab_name].transform, "story_v_out_411121", "411121032", "story_v_out_411121.awb")

						arg_131_1:RecordAudio("411121032", var_134_24)
						arg_131_1:RecordAudio("411121032", var_134_24)
					else
						arg_131_1:AudioAction("play", "voice", "story_v_out_411121", "411121032", "story_v_out_411121.awb")
					end

					arg_131_1:RecordHistoryTalkVoice("story_v_out_411121", "411121032", "story_v_out_411121.awb")
				end

				arg_131_1:RecordContent(arg_131_1.text_.text)
			end

			local var_134_25 = math.max(var_134_16, arg_131_1.talkMaxDuration)

			if var_134_15 <= arg_131_1.time_ and arg_131_1.time_ < var_134_15 + var_134_25 then
				arg_131_1.typewritter.percent = (arg_131_1.time_ - var_134_15) / var_134_25

				arg_131_1.typewritter:SetDirty()
			end

			if arg_131_1.time_ >= var_134_15 + var_134_25 and arg_131_1.time_ < var_134_15 + var_134_25 + arg_134_0 then
				arg_131_1.typewritter.percent = 1

				arg_131_1.typewritter:SetDirty()
				arg_131_1:ShowNextGo(true)
			end
		end
	end,
	Play411121033 = function(arg_135_0, arg_135_1)
		arg_135_1.time_ = 0
		arg_135_1.frameCnt_ = 0
		arg_135_1.state_ = "playing"
		arg_135_1.curTalkId_ = 411121033
		arg_135_1.duration_ = 7.95

		SetActive(arg_135_1.tipsGo_, false)

		function arg_135_1.onSingleLineFinish_()
			arg_135_1.onSingleLineUpdate_ = nil
			arg_135_1.onSingleLineFinish_ = nil
			arg_135_1.state_ = "waiting"
		end

		function arg_135_1.playNext_(arg_137_0)
			if arg_137_0 == 1 then
				arg_135_0:Play411121034(arg_135_1)
			end
		end

		function arg_135_1.onSingleLineUpdate_(arg_138_0)
			local var_138_0 = 0

			if var_138_0 < arg_135_1.time_ and arg_135_1.time_ <= var_138_0 + arg_138_0 then
				local var_138_1 = manager.ui.mainCamera.transform.localPosition
				local var_138_2 = Vector3.New(0, 0, 10) + Vector3.New(var_138_1.x, var_138_1.y, 0)
				local var_138_3 = arg_135_1.bgs_.B04f

				var_138_3.transform.localPosition = var_138_2
				var_138_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_138_4 = var_138_3:GetComponent("SpriteRenderer")

				if var_138_4 and var_138_4.sprite then
					local var_138_5 = (var_138_3.transform.localPosition - var_138_1).z
					local var_138_6 = manager.ui.mainCameraCom_
					local var_138_7 = 2 * var_138_5 * Mathf.Tan(var_138_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_138_8 = var_138_7 * var_138_6.aspect
					local var_138_9 = var_138_4.sprite.bounds.size.x
					local var_138_10 = var_138_4.sprite.bounds.size.y
					local var_138_11 = var_138_8 / var_138_9
					local var_138_12 = var_138_7 / var_138_10
					local var_138_13 = var_138_12 < var_138_11 and var_138_11 or var_138_12

					var_138_3.transform.localScale = Vector3.New(var_138_13, var_138_13, 0)
				end

				for iter_138_0, iter_138_1 in pairs(arg_135_1.bgs_) do
					if iter_138_0 ~= "B04f" then
						iter_138_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_138_14 = "STblack"

			if arg_135_1.bgs_[var_138_14] == nil then
				local var_138_15 = Object.Instantiate(arg_135_1.paintGo_)

				var_138_15:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_138_14)
				var_138_15.name = var_138_14
				var_138_15.transform.parent = arg_135_1.stage_.transform
				var_138_15.transform.localPosition = Vector3.New(0, 100, 0)
				arg_135_1.bgs_[var_138_14] = var_138_15
			end

			local var_138_16 = 2

			if var_138_16 < arg_135_1.time_ and arg_135_1.time_ <= var_138_16 + arg_138_0 then
				local var_138_17 = manager.ui.mainCamera.transform.localPosition
				local var_138_18 = Vector3.New(0, 0, 10) + Vector3.New(var_138_17.x, var_138_17.y, 0)
				local var_138_19 = arg_135_1.bgs_.STblack

				var_138_19.transform.localPosition = var_138_18
				var_138_19.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_138_20 = var_138_19:GetComponent("SpriteRenderer")

				if var_138_20 and var_138_20.sprite then
					local var_138_21 = (var_138_19.transform.localPosition - var_138_17).z
					local var_138_22 = manager.ui.mainCameraCom_
					local var_138_23 = 2 * var_138_21 * Mathf.Tan(var_138_22.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_138_24 = var_138_23 * var_138_22.aspect
					local var_138_25 = var_138_20.sprite.bounds.size.x
					local var_138_26 = var_138_20.sprite.bounds.size.y
					local var_138_27 = var_138_24 / var_138_25
					local var_138_28 = var_138_23 / var_138_26
					local var_138_29 = var_138_28 < var_138_27 and var_138_27 or var_138_28

					var_138_19.transform.localScale = Vector3.New(var_138_29, var_138_29, 0)
				end

				for iter_138_2, iter_138_3 in pairs(arg_135_1.bgs_) do
					if iter_138_2 ~= "STblack" then
						iter_138_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_138_30 = 0

			if var_138_30 < arg_135_1.time_ and arg_135_1.time_ <= var_138_30 + arg_138_0 then
				arg_135_1.mask_.enabled = true
				arg_135_1.mask_.raycastTarget = true

				arg_135_1:SetGaussion(false)
			end

			local var_138_31 = 2

			if var_138_30 <= arg_135_1.time_ and arg_135_1.time_ < var_138_30 + var_138_31 then
				local var_138_32 = (arg_135_1.time_ - var_138_30) / var_138_31
				local var_138_33 = Color.New(0, 0, 0)

				var_138_33.a = Mathf.Lerp(0, 1, var_138_32)
				arg_135_1.mask_.color = var_138_33
			end

			if arg_135_1.time_ >= var_138_30 + var_138_31 and arg_135_1.time_ < var_138_30 + var_138_31 + arg_138_0 then
				local var_138_34 = Color.New(0, 0, 0)

				var_138_34.a = 1
				arg_135_1.mask_.color = var_138_34
			end

			local var_138_35 = 2

			if var_138_35 < arg_135_1.time_ and arg_135_1.time_ <= var_138_35 + arg_138_0 then
				arg_135_1.mask_.enabled = true
				arg_135_1.mask_.raycastTarget = true

				arg_135_1:SetGaussion(false)
			end

			local var_138_36 = 0.949999999999

			if var_138_35 <= arg_135_1.time_ and arg_135_1.time_ < var_138_35 + var_138_36 then
				local var_138_37 = (arg_135_1.time_ - var_138_35) / var_138_36
				local var_138_38 = Color.New(0, 0, 0)

				var_138_38.a = Mathf.Lerp(1, 0, var_138_37)
				arg_135_1.mask_.color = var_138_38
			end

			if arg_135_1.time_ >= var_138_35 + var_138_36 and arg_135_1.time_ < var_138_35 + var_138_36 + arg_138_0 then
				local var_138_39 = Color.New(0, 0, 0)
				local var_138_40 = 0

				arg_135_1.mask_.enabled = false
				var_138_39.a = var_138_40
				arg_135_1.mask_.color = var_138_39
			end

			local var_138_41 = arg_135_1.actors_["1095ui_story"].transform
			local var_138_42 = 1.999999999999

			if var_138_42 < arg_135_1.time_ and arg_135_1.time_ <= var_138_42 + arg_138_0 then
				arg_135_1.var_.moveOldPos1095ui_story = var_138_41.localPosition
			end

			local var_138_43 = 0.001

			if var_138_42 <= arg_135_1.time_ and arg_135_1.time_ < var_138_42 + var_138_43 then
				local var_138_44 = (arg_135_1.time_ - var_138_42) / var_138_43
				local var_138_45 = Vector3.New(0, 100, 0)

				var_138_41.localPosition = Vector3.Lerp(arg_135_1.var_.moveOldPos1095ui_story, var_138_45, var_138_44)

				local var_138_46 = manager.ui.mainCamera.transform.position - var_138_41.position

				var_138_41.forward = Vector3.New(var_138_46.x, var_138_46.y, var_138_46.z)

				local var_138_47 = var_138_41.localEulerAngles

				var_138_47.z = 0
				var_138_47.x = 0
				var_138_41.localEulerAngles = var_138_47
			end

			if arg_135_1.time_ >= var_138_42 + var_138_43 and arg_135_1.time_ < var_138_42 + var_138_43 + arg_138_0 then
				var_138_41.localPosition = Vector3.New(0, 100, 0)

				local var_138_48 = manager.ui.mainCamera.transform.position - var_138_41.position

				var_138_41.forward = Vector3.New(var_138_48.x, var_138_48.y, var_138_48.z)

				local var_138_49 = var_138_41.localEulerAngles

				var_138_49.z = 0
				var_138_49.x = 0
				var_138_41.localEulerAngles = var_138_49
			end

			local var_138_50 = arg_135_1.actors_["1095ui_story"]
			local var_138_51 = 1.999999999999

			if var_138_51 < arg_135_1.time_ and arg_135_1.time_ <= var_138_51 + arg_138_0 and not isNil(var_138_50) and arg_135_1.var_.characterEffect1095ui_story == nil then
				arg_135_1.var_.characterEffect1095ui_story = var_138_50:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_138_52 = 0.200000002980232

			if var_138_51 <= arg_135_1.time_ and arg_135_1.time_ < var_138_51 + var_138_52 and not isNil(var_138_50) then
				local var_138_53 = (arg_135_1.time_ - var_138_51) / var_138_52

				if arg_135_1.var_.characterEffect1095ui_story and not isNil(var_138_50) then
					local var_138_54 = Mathf.Lerp(0, 0.5, var_138_53)

					arg_135_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_135_1.var_.characterEffect1095ui_story.fillRatio = var_138_54
				end
			end

			if arg_135_1.time_ >= var_138_51 + var_138_52 and arg_135_1.time_ < var_138_51 + var_138_52 + arg_138_0 and not isNil(var_138_50) and arg_135_1.var_.characterEffect1095ui_story then
				local var_138_55 = 0.5

				arg_135_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_135_1.var_.characterEffect1095ui_story.fillRatio = var_138_55
			end

			local var_138_56 = arg_135_1.actors_["10014ui_story"].transform
			local var_138_57 = 1.999999999999

			if var_138_57 < arg_135_1.time_ and arg_135_1.time_ <= var_138_57 + arg_138_0 then
				arg_135_1.var_.moveOldPos10014ui_story = var_138_56.localPosition
			end

			local var_138_58 = 0.001

			if var_138_57 <= arg_135_1.time_ and arg_135_1.time_ < var_138_57 + var_138_58 then
				local var_138_59 = (arg_135_1.time_ - var_138_57) / var_138_58
				local var_138_60 = Vector3.New(0, 100, 0)

				var_138_56.localPosition = Vector3.Lerp(arg_135_1.var_.moveOldPos10014ui_story, var_138_60, var_138_59)

				local var_138_61 = manager.ui.mainCamera.transform.position - var_138_56.position

				var_138_56.forward = Vector3.New(var_138_61.x, var_138_61.y, var_138_61.z)

				local var_138_62 = var_138_56.localEulerAngles

				var_138_62.z = 0
				var_138_62.x = 0
				var_138_56.localEulerAngles = var_138_62
			end

			if arg_135_1.time_ >= var_138_57 + var_138_58 and arg_135_1.time_ < var_138_57 + var_138_58 + arg_138_0 then
				var_138_56.localPosition = Vector3.New(0, 100, 0)

				local var_138_63 = manager.ui.mainCamera.transform.position - var_138_56.position

				var_138_56.forward = Vector3.New(var_138_63.x, var_138_63.y, var_138_63.z)

				local var_138_64 = var_138_56.localEulerAngles

				var_138_64.z = 0
				var_138_64.x = 0
				var_138_56.localEulerAngles = var_138_64
			end

			local var_138_65 = arg_135_1.actors_["10014ui_story"]
			local var_138_66 = 1.999999999999

			if var_138_66 < arg_135_1.time_ and arg_135_1.time_ <= var_138_66 + arg_138_0 and not isNil(var_138_65) and arg_135_1.var_.characterEffect10014ui_story == nil then
				arg_135_1.var_.characterEffect10014ui_story = var_138_65:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_138_67 = 0.200000002980232

			if var_138_66 <= arg_135_1.time_ and arg_135_1.time_ < var_138_66 + var_138_67 and not isNil(var_138_65) then
				local var_138_68 = (arg_135_1.time_ - var_138_66) / var_138_67

				if arg_135_1.var_.characterEffect10014ui_story and not isNil(var_138_65) then
					local var_138_69 = Mathf.Lerp(0, 0.5, var_138_68)

					arg_135_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_135_1.var_.characterEffect10014ui_story.fillRatio = var_138_69
				end
			end

			if arg_135_1.time_ >= var_138_66 + var_138_67 and arg_135_1.time_ < var_138_66 + var_138_67 + arg_138_0 and not isNil(var_138_65) and arg_135_1.var_.characterEffect10014ui_story then
				local var_138_70 = 0.5

				arg_135_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_135_1.var_.characterEffect10014ui_story.fillRatio = var_138_70
			end

			local var_138_71 = 0
			local var_138_72 = 0.366666666666667

			if var_138_71 < arg_135_1.time_ and arg_135_1.time_ <= var_138_71 + arg_138_0 then
				local var_138_73 = "play"
				local var_138_74 = "music"

				arg_135_1:AudioAction(var_138_73, var_138_74, "ui_battle", "ui_battle_stopbgm", "")

				local var_138_75 = ""
				local var_138_76 = manager.audio:GetAudioName("ui_battle", "ui_battle_stopbgm")

				if var_138_76 ~= "" then
					if arg_135_1.bgmTxt_.text ~= var_138_76 and arg_135_1.bgmTxt_.text ~= "" then
						if arg_135_1.bgmTxt2_.text ~= "" then
							arg_135_1.bgmTxt_.text = arg_135_1.bgmTxt2_.text
						end

						arg_135_1.bgmTxt2_.text = var_138_76

						arg_135_1.musicChangeAnimator_:Play("music_change", 0, 0)
					else
						arg_135_1.bgmTxt_.text = var_138_76
					end

					if arg_135_1.bgmTimer then
						arg_135_1.bgmTimer:Stop()

						arg_135_1.bgmTimer = nil
					end

					if arg_135_1.settingData.show_music_name == 1 then
						arg_135_1.musicController:SetSelectedState("show")
						arg_135_1.musicAnimator_:Play("open", 0, 0)

						if arg_135_1.settingData.music_time ~= 0 then
							arg_135_1.bgmTimer = TimeTools.StartAfterSeconds(tonumber(arg_135_1.settingData.music_time), function()
								if arg_135_1 == nil or isNil(arg_135_1.bgmTxt_) then
									return
								end

								arg_135_1.musicController:SetSelectedState("hide")
								arg_135_1.musicAnimator_:Play("back", 0, 0)
							end, {})
						end
					end
				end
			end

			if arg_135_1.frameCnt_ <= 1 then
				arg_135_1.dialog_:SetActive(false)
			end

			local var_138_77 = 2.949999999999
			local var_138_78 = 1.05

			if var_138_77 < arg_135_1.time_ and arg_135_1.time_ <= var_138_77 + arg_138_0 then
				arg_135_1.talkMaxDuration = 0

				arg_135_1.dialog_:SetActive(true)

				local var_138_79 = LeanTween.value(arg_135_1.dialog_, 0, 1, 0.3)

				var_138_79:setOnUpdate(LuaHelper.FloatAction(function(arg_140_0)
					arg_135_1.dialogCg_.alpha = arg_140_0
				end))
				var_138_79:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_135_1.dialog_)
					var_138_79:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_135_1.duration_ = arg_135_1.duration_ + 0.3

				SetActive(arg_135_1.leftNameGo_, false)

				arg_135_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_135_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_135_1:RecordName(arg_135_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_135_1.iconTrs_.gameObject, false)
				arg_135_1.callingController_:SetSelectedState("normal")

				local var_138_80 = arg_135_1:GetWordFromCfg(411121033)
				local var_138_81 = arg_135_1:FormatText(var_138_80.content)

				arg_135_1.text_.text = var_138_81

				LuaForUtil.ClearLinePrefixSymbol(arg_135_1.text_)

				local var_138_82 = 42
				local var_138_83 = utf8.len(var_138_81)
				local var_138_84 = var_138_82 <= 0 and var_138_78 or var_138_78 * (var_138_83 / var_138_82)

				if var_138_84 > 0 and var_138_78 < var_138_84 then
					arg_135_1.talkMaxDuration = var_138_84
					var_138_77 = var_138_77 + 0.3

					if var_138_84 + var_138_77 > arg_135_1.duration_ then
						arg_135_1.duration_ = var_138_84 + var_138_77
					end
				end

				arg_135_1.text_.text = var_138_81
				arg_135_1.typewritter.percent = 0

				arg_135_1.typewritter:SetDirty()
				arg_135_1:ShowNextGo(false)
				arg_135_1:RecordContent(arg_135_1.text_.text)
			end

			local var_138_85 = var_138_77 + 0.3
			local var_138_86 = math.max(var_138_78, arg_135_1.talkMaxDuration)

			if var_138_85 <= arg_135_1.time_ and arg_135_1.time_ < var_138_85 + var_138_86 then
				arg_135_1.typewritter.percent = (arg_135_1.time_ - var_138_85) / var_138_86

				arg_135_1.typewritter:SetDirty()
			end

			if arg_135_1.time_ >= var_138_85 + var_138_86 and arg_135_1.time_ < var_138_85 + var_138_86 + arg_138_0 then
				arg_135_1.typewritter.percent = 1

				arg_135_1.typewritter:SetDirty()
				arg_135_1:ShowNextGo(true)
			end
		end
	end,
	Play411121034 = function(arg_142_0, arg_142_1)
		arg_142_1.time_ = 0
		arg_142_1.frameCnt_ = 0
		arg_142_1.state_ = "playing"
		arg_142_1.curTalkId_ = 411121034
		arg_142_1.duration_ = 5

		SetActive(arg_142_1.tipsGo_, false)

		function arg_142_1.onSingleLineFinish_()
			arg_142_1.onSingleLineUpdate_ = nil
			arg_142_1.onSingleLineFinish_ = nil
			arg_142_1.state_ = "waiting"
		end

		function arg_142_1.playNext_(arg_144_0)
			if arg_144_0 == 1 then
				arg_142_0:Play411121035(arg_142_1)
			end
		end

		function arg_142_1.onSingleLineUpdate_(arg_145_0)
			local var_145_0 = 0
			local var_145_1 = 1.125

			if var_145_0 < arg_142_1.time_ and arg_142_1.time_ <= var_145_0 + arg_145_0 then
				arg_142_1.talkMaxDuration = 0
				arg_142_1.dialogCg_.alpha = 1

				arg_142_1.dialog_:SetActive(true)
				SetActive(arg_142_1.leftNameGo_, false)

				arg_142_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_142_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_142_1:RecordName(arg_142_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_142_1.iconTrs_.gameObject, false)
				arg_142_1.callingController_:SetSelectedState("normal")

				local var_145_2 = arg_142_1:GetWordFromCfg(411121034)
				local var_145_3 = arg_142_1:FormatText(var_145_2.content)

				arg_142_1.text_.text = var_145_3

				LuaForUtil.ClearLinePrefixSymbol(arg_142_1.text_)

				local var_145_4 = 45
				local var_145_5 = utf8.len(var_145_3)
				local var_145_6 = var_145_4 <= 0 and var_145_1 or var_145_1 * (var_145_5 / var_145_4)

				if var_145_6 > 0 and var_145_1 < var_145_6 then
					arg_142_1.talkMaxDuration = var_145_6

					if var_145_6 + var_145_0 > arg_142_1.duration_ then
						arg_142_1.duration_ = var_145_6 + var_145_0
					end
				end

				arg_142_1.text_.text = var_145_3
				arg_142_1.typewritter.percent = 0

				arg_142_1.typewritter:SetDirty()
				arg_142_1:ShowNextGo(false)
				arg_142_1:RecordContent(arg_142_1.text_.text)
			end

			local var_145_7 = math.max(var_145_1, arg_142_1.talkMaxDuration)

			if var_145_0 <= arg_142_1.time_ and arg_142_1.time_ < var_145_0 + var_145_7 then
				arg_142_1.typewritter.percent = (arg_142_1.time_ - var_145_0) / var_145_7

				arg_142_1.typewritter:SetDirty()
			end

			if arg_142_1.time_ >= var_145_0 + var_145_7 and arg_142_1.time_ < var_145_0 + var_145_7 + arg_145_0 then
				arg_142_1.typewritter.percent = 1

				arg_142_1.typewritter:SetDirty()
				arg_142_1:ShowNextGo(true)
			end
		end
	end,
	Play411121035 = function(arg_146_0, arg_146_1)
		arg_146_1.time_ = 0
		arg_146_1.frameCnt_ = 0
		arg_146_1.state_ = "playing"
		arg_146_1.curTalkId_ = 411121035
		arg_146_1.duration_ = 3.8

		local var_146_0 = {
			zh = 2.766,
			ja = 3.8
		}
		local var_146_1 = manager.audio:GetLocalizationFlag()

		if var_146_0[var_146_1] ~= nil then
			arg_146_1.duration_ = var_146_0[var_146_1]
		end

		SetActive(arg_146_1.tipsGo_, false)

		function arg_146_1.onSingleLineFinish_()
			arg_146_1.onSingleLineUpdate_ = nil
			arg_146_1.onSingleLineFinish_ = nil
			arg_146_1.state_ = "waiting"
		end

		function arg_146_1.playNext_(arg_148_0)
			if arg_148_0 == 1 then
				arg_146_0:Play411121036(arg_146_1)
			end
		end

		function arg_146_1.onSingleLineUpdate_(arg_149_0)
			local var_149_0 = arg_146_1.actors_["1095ui_story"].transform
			local var_149_1 = 0

			if var_149_1 < arg_146_1.time_ and arg_146_1.time_ <= var_149_1 + arg_149_0 then
				arg_146_1.var_.moveOldPos1095ui_story = var_149_0.localPosition
			end

			local var_149_2 = 0.001

			if var_149_1 <= arg_146_1.time_ and arg_146_1.time_ < var_149_1 + var_149_2 then
				local var_149_3 = (arg_146_1.time_ - var_149_1) / var_149_2
				local var_149_4 = Vector3.New(0, -0.98, -6.1)

				var_149_0.localPosition = Vector3.Lerp(arg_146_1.var_.moveOldPos1095ui_story, var_149_4, var_149_3)

				local var_149_5 = manager.ui.mainCamera.transform.position - var_149_0.position

				var_149_0.forward = Vector3.New(var_149_5.x, var_149_5.y, var_149_5.z)

				local var_149_6 = var_149_0.localEulerAngles

				var_149_6.z = 0
				var_149_6.x = 0
				var_149_0.localEulerAngles = var_149_6
			end

			if arg_146_1.time_ >= var_149_1 + var_149_2 and arg_146_1.time_ < var_149_1 + var_149_2 + arg_149_0 then
				var_149_0.localPosition = Vector3.New(0, -0.98, -6.1)

				local var_149_7 = manager.ui.mainCamera.transform.position - var_149_0.position

				var_149_0.forward = Vector3.New(var_149_7.x, var_149_7.y, var_149_7.z)

				local var_149_8 = var_149_0.localEulerAngles

				var_149_8.z = 0
				var_149_8.x = 0
				var_149_0.localEulerAngles = var_149_8
			end

			local var_149_9 = arg_146_1.actors_["1095ui_story"]
			local var_149_10 = 0

			if var_149_10 < arg_146_1.time_ and arg_146_1.time_ <= var_149_10 + arg_149_0 and not isNil(var_149_9) and arg_146_1.var_.characterEffect1095ui_story == nil then
				arg_146_1.var_.characterEffect1095ui_story = var_149_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_149_11 = 0.200000002980232

			if var_149_10 <= arg_146_1.time_ and arg_146_1.time_ < var_149_10 + var_149_11 and not isNil(var_149_9) then
				local var_149_12 = (arg_146_1.time_ - var_149_10) / var_149_11

				if arg_146_1.var_.characterEffect1095ui_story and not isNil(var_149_9) then
					arg_146_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_146_1.time_ >= var_149_10 + var_149_11 and arg_146_1.time_ < var_149_10 + var_149_11 + arg_149_0 and not isNil(var_149_9) and arg_146_1.var_.characterEffect1095ui_story then
				arg_146_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_149_13 = 0

			if var_149_13 < arg_146_1.time_ and arg_146_1.time_ <= var_149_13 + arg_149_0 then
				arg_146_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action2_1")
			end

			local var_149_14 = 0

			if var_149_14 < arg_146_1.time_ and arg_146_1.time_ <= var_149_14 + arg_149_0 then
				arg_146_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_149_15 = 0
			local var_149_16 = 0.45

			if var_149_15 < arg_146_1.time_ and arg_146_1.time_ <= var_149_15 + arg_149_0 then
				arg_146_1.talkMaxDuration = 0
				arg_146_1.dialogCg_.alpha = 1

				arg_146_1.dialog_:SetActive(true)
				SetActive(arg_146_1.leftNameGo_, true)

				local var_149_17 = arg_146_1:FormatText(StoryNameCfg[471].name)

				arg_146_1.leftNameTxt_.text = var_149_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_146_1.leftNameTxt_.transform)

				arg_146_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_146_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_146_1:RecordName(arg_146_1.leftNameTxt_.text)
				SetActive(arg_146_1.iconTrs_.gameObject, false)
				arg_146_1.callingController_:SetSelectedState("normal")

				local var_149_18 = arg_146_1:GetWordFromCfg(411121035)
				local var_149_19 = arg_146_1:FormatText(var_149_18.content)

				arg_146_1.text_.text = var_149_19

				LuaForUtil.ClearLinePrefixSymbol(arg_146_1.text_)

				local var_149_20 = 18
				local var_149_21 = utf8.len(var_149_19)
				local var_149_22 = var_149_20 <= 0 and var_149_16 or var_149_16 * (var_149_21 / var_149_20)

				if var_149_22 > 0 and var_149_16 < var_149_22 then
					arg_146_1.talkMaxDuration = var_149_22

					if var_149_22 + var_149_15 > arg_146_1.duration_ then
						arg_146_1.duration_ = var_149_22 + var_149_15
					end
				end

				arg_146_1.text_.text = var_149_19
				arg_146_1.typewritter.percent = 0

				arg_146_1.typewritter:SetDirty()
				arg_146_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121035", "story_v_out_411121.awb") ~= 0 then
					local var_149_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121035", "story_v_out_411121.awb") / 1000

					if var_149_23 + var_149_15 > arg_146_1.duration_ then
						arg_146_1.duration_ = var_149_23 + var_149_15
					end

					if var_149_18.prefab_name ~= "" and arg_146_1.actors_[var_149_18.prefab_name] ~= nil then
						local var_149_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_146_1.actors_[var_149_18.prefab_name].transform, "story_v_out_411121", "411121035", "story_v_out_411121.awb")

						arg_146_1:RecordAudio("411121035", var_149_24)
						arg_146_1:RecordAudio("411121035", var_149_24)
					else
						arg_146_1:AudioAction("play", "voice", "story_v_out_411121", "411121035", "story_v_out_411121.awb")
					end

					arg_146_1:RecordHistoryTalkVoice("story_v_out_411121", "411121035", "story_v_out_411121.awb")
				end

				arg_146_1:RecordContent(arg_146_1.text_.text)
			end

			local var_149_25 = math.max(var_149_16, arg_146_1.talkMaxDuration)

			if var_149_15 <= arg_146_1.time_ and arg_146_1.time_ < var_149_15 + var_149_25 then
				arg_146_1.typewritter.percent = (arg_146_1.time_ - var_149_15) / var_149_25

				arg_146_1.typewritter:SetDirty()
			end

			if arg_146_1.time_ >= var_149_15 + var_149_25 and arg_146_1.time_ < var_149_15 + var_149_25 + arg_149_0 then
				arg_146_1.typewritter.percent = 1

				arg_146_1.typewritter:SetDirty()
				arg_146_1:ShowNextGo(true)
			end
		end
	end,
	Play411121036 = function(arg_150_0, arg_150_1)
		arg_150_1.time_ = 0
		arg_150_1.frameCnt_ = 0
		arg_150_1.state_ = "playing"
		arg_150_1.curTalkId_ = 411121036
		arg_150_1.duration_ = 3.7

		local var_150_0 = {
			zh = 3.7,
			ja = 3.6
		}
		local var_150_1 = manager.audio:GetLocalizationFlag()

		if var_150_0[var_150_1] ~= nil then
			arg_150_1.duration_ = var_150_0[var_150_1]
		end

		SetActive(arg_150_1.tipsGo_, false)

		function arg_150_1.onSingleLineFinish_()
			arg_150_1.onSingleLineUpdate_ = nil
			arg_150_1.onSingleLineFinish_ = nil
			arg_150_1.state_ = "waiting"
		end

		function arg_150_1.playNext_(arg_152_0)
			if arg_152_0 == 1 then
				arg_150_0:Play411121037(arg_150_1)
			end
		end

		function arg_150_1.onSingleLineUpdate_(arg_153_0)
			local var_153_0 = 0
			local var_153_1 = 0.5

			if var_153_0 < arg_150_1.time_ and arg_150_1.time_ <= var_153_0 + arg_153_0 then
				arg_150_1.talkMaxDuration = 0
				arg_150_1.dialogCg_.alpha = 1

				arg_150_1.dialog_:SetActive(true)
				SetActive(arg_150_1.leftNameGo_, true)

				local var_153_2 = arg_150_1:FormatText(StoryNameCfg[471].name)

				arg_150_1.leftNameTxt_.text = var_153_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_150_1.leftNameTxt_.transform)

				arg_150_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_150_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_150_1:RecordName(arg_150_1.leftNameTxt_.text)
				SetActive(arg_150_1.iconTrs_.gameObject, false)
				arg_150_1.callingController_:SetSelectedState("normal")

				local var_153_3 = arg_150_1:GetWordFromCfg(411121036)
				local var_153_4 = arg_150_1:FormatText(var_153_3.content)

				arg_150_1.text_.text = var_153_4

				LuaForUtil.ClearLinePrefixSymbol(arg_150_1.text_)

				local var_153_5 = 20
				local var_153_6 = utf8.len(var_153_4)
				local var_153_7 = var_153_5 <= 0 and var_153_1 or var_153_1 * (var_153_6 / var_153_5)

				if var_153_7 > 0 and var_153_1 < var_153_7 then
					arg_150_1.talkMaxDuration = var_153_7

					if var_153_7 + var_153_0 > arg_150_1.duration_ then
						arg_150_1.duration_ = var_153_7 + var_153_0
					end
				end

				arg_150_1.text_.text = var_153_4
				arg_150_1.typewritter.percent = 0

				arg_150_1.typewritter:SetDirty()
				arg_150_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121036", "story_v_out_411121.awb") ~= 0 then
					local var_153_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121036", "story_v_out_411121.awb") / 1000

					if var_153_8 + var_153_0 > arg_150_1.duration_ then
						arg_150_1.duration_ = var_153_8 + var_153_0
					end

					if var_153_3.prefab_name ~= "" and arg_150_1.actors_[var_153_3.prefab_name] ~= nil then
						local var_153_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_150_1.actors_[var_153_3.prefab_name].transform, "story_v_out_411121", "411121036", "story_v_out_411121.awb")

						arg_150_1:RecordAudio("411121036", var_153_9)
						arg_150_1:RecordAudio("411121036", var_153_9)
					else
						arg_150_1:AudioAction("play", "voice", "story_v_out_411121", "411121036", "story_v_out_411121.awb")
					end

					arg_150_1:RecordHistoryTalkVoice("story_v_out_411121", "411121036", "story_v_out_411121.awb")
				end

				arg_150_1:RecordContent(arg_150_1.text_.text)
			end

			local var_153_10 = math.max(var_153_1, arg_150_1.talkMaxDuration)

			if var_153_0 <= arg_150_1.time_ and arg_150_1.time_ < var_153_0 + var_153_10 then
				arg_150_1.typewritter.percent = (arg_150_1.time_ - var_153_0) / var_153_10

				arg_150_1.typewritter:SetDirty()
			end

			if arg_150_1.time_ >= var_153_0 + var_153_10 and arg_150_1.time_ < var_153_0 + var_153_10 + arg_153_0 then
				arg_150_1.typewritter.percent = 1

				arg_150_1.typewritter:SetDirty()
				arg_150_1:ShowNextGo(true)
			end
		end
	end,
	Play411121037 = function(arg_154_0, arg_154_1)
		arg_154_1.time_ = 0
		arg_154_1.frameCnt_ = 0
		arg_154_1.state_ = "playing"
		arg_154_1.curTalkId_ = 411121037
		arg_154_1.duration_ = 8.87

		local var_154_0 = {
			zh = 8.865999999999,
			ja = 8.532999999999
		}
		local var_154_1 = manager.audio:GetLocalizationFlag()

		if var_154_0[var_154_1] ~= nil then
			arg_154_1.duration_ = var_154_0[var_154_1]
		end

		SetActive(arg_154_1.tipsGo_, false)

		function arg_154_1.onSingleLineFinish_()
			arg_154_1.onSingleLineUpdate_ = nil
			arg_154_1.onSingleLineFinish_ = nil
			arg_154_1.state_ = "waiting"
		end

		function arg_154_1.playNext_(arg_156_0)
			if arg_156_0 == 1 then
				arg_154_0:Play411121038(arg_154_1)
			end
		end

		function arg_154_1.onSingleLineUpdate_(arg_157_0)
			local var_157_0 = 0

			if var_157_0 < arg_154_1.time_ and arg_154_1.time_ <= var_157_0 + arg_157_0 then
				local var_157_1 = manager.ui.mainCamera.transform.localPosition
				local var_157_2 = Vector3.New(0, 0, 10) + Vector3.New(var_157_1.x, var_157_1.y, 0)
				local var_157_3 = arg_154_1.bgs_.STblack

				var_157_3.transform.localPosition = var_157_2
				var_157_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_157_4 = var_157_3:GetComponent("SpriteRenderer")

				if var_157_4 and var_157_4.sprite then
					local var_157_5 = (var_157_3.transform.localPosition - var_157_1).z
					local var_157_6 = manager.ui.mainCameraCom_
					local var_157_7 = 2 * var_157_5 * Mathf.Tan(var_157_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_157_8 = var_157_7 * var_157_6.aspect
					local var_157_9 = var_157_4.sprite.bounds.size.x
					local var_157_10 = var_157_4.sprite.bounds.size.y
					local var_157_11 = var_157_8 / var_157_9
					local var_157_12 = var_157_7 / var_157_10
					local var_157_13 = var_157_12 < var_157_11 and var_157_11 or var_157_12

					var_157_3.transform.localScale = Vector3.New(var_157_13, var_157_13, 0)
				end

				for iter_157_0, iter_157_1 in pairs(arg_154_1.bgs_) do
					if iter_157_0 ~= "STblack" then
						iter_157_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_157_14 = "B07a"

			if arg_154_1.bgs_[var_157_14] == nil then
				local var_157_15 = Object.Instantiate(arg_154_1.paintGo_)

				var_157_15:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_157_14)
				var_157_15.name = var_157_14
				var_157_15.transform.parent = arg_154_1.stage_.transform
				var_157_15.transform.localPosition = Vector3.New(0, 100, 0)
				arg_154_1.bgs_[var_157_14] = var_157_15
			end

			local var_157_16 = 1.96666666666667

			if var_157_16 < arg_154_1.time_ and arg_154_1.time_ <= var_157_16 + arg_157_0 then
				local var_157_17 = manager.ui.mainCamera.transform.localPosition
				local var_157_18 = Vector3.New(0, 0, 10) + Vector3.New(var_157_17.x, var_157_17.y, 0)
				local var_157_19 = arg_154_1.bgs_.B07a

				var_157_19.transform.localPosition = var_157_18
				var_157_19.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_157_20 = var_157_19:GetComponent("SpriteRenderer")

				if var_157_20 and var_157_20.sprite then
					local var_157_21 = (var_157_19.transform.localPosition - var_157_17).z
					local var_157_22 = manager.ui.mainCameraCom_
					local var_157_23 = 2 * var_157_21 * Mathf.Tan(var_157_22.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_157_24 = var_157_23 * var_157_22.aspect
					local var_157_25 = var_157_20.sprite.bounds.size.x
					local var_157_26 = var_157_20.sprite.bounds.size.y
					local var_157_27 = var_157_24 / var_157_25
					local var_157_28 = var_157_23 / var_157_26
					local var_157_29 = var_157_28 < var_157_27 and var_157_27 or var_157_28

					var_157_19.transform.localScale = Vector3.New(var_157_29, var_157_29, 0)
				end

				for iter_157_2, iter_157_3 in pairs(arg_154_1.bgs_) do
					if iter_157_2 ~= "B07a" then
						iter_157_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_157_30 = 0

			if var_157_30 < arg_154_1.time_ and arg_154_1.time_ <= var_157_30 + arg_157_0 then
				arg_154_1.mask_.enabled = true
				arg_154_1.mask_.raycastTarget = true

				arg_154_1:SetGaussion(false)
			end

			local var_157_31 = 1.96666666666667

			if var_157_30 <= arg_154_1.time_ and arg_154_1.time_ < var_157_30 + var_157_31 then
				local var_157_32 = (arg_154_1.time_ - var_157_30) / var_157_31
				local var_157_33 = Color.New(0, 0, 0)

				var_157_33.a = Mathf.Lerp(0, 1, var_157_32)
				arg_154_1.mask_.color = var_157_33
			end

			if arg_154_1.time_ >= var_157_30 + var_157_31 and arg_154_1.time_ < var_157_30 + var_157_31 + arg_157_0 then
				local var_157_34 = Color.New(0, 0, 0)

				var_157_34.a = 1
				arg_154_1.mask_.color = var_157_34
			end

			local var_157_35 = 1.96666666666667

			if var_157_35 < arg_154_1.time_ and arg_154_1.time_ <= var_157_35 + arg_157_0 then
				arg_154_1.mask_.enabled = true
				arg_154_1.mask_.raycastTarget = true

				arg_154_1:SetGaussion(false)
			end

			local var_157_36 = 2.03333333333333

			if var_157_35 <= arg_154_1.time_ and arg_154_1.time_ < var_157_35 + var_157_36 then
				local var_157_37 = (arg_154_1.time_ - var_157_35) / var_157_36
				local var_157_38 = Color.New(0, 0, 0)

				var_157_38.a = Mathf.Lerp(1, 0, var_157_37)
				arg_154_1.mask_.color = var_157_38
			end

			if arg_154_1.time_ >= var_157_35 + var_157_36 and arg_154_1.time_ < var_157_35 + var_157_36 + arg_157_0 then
				local var_157_39 = Color.New(0, 0, 0)
				local var_157_40 = 0

				arg_154_1.mask_.enabled = false
				var_157_39.a = var_157_40
				arg_154_1.mask_.color = var_157_39
			end

			local var_157_41 = arg_154_1.actors_["1095ui_story"].transform
			local var_157_42 = 1.96666666666667

			if var_157_42 < arg_154_1.time_ and arg_154_1.time_ <= var_157_42 + arg_157_0 then
				arg_154_1.var_.moveOldPos1095ui_story = var_157_41.localPosition
			end

			local var_157_43 = 0.001

			if var_157_42 <= arg_154_1.time_ and arg_154_1.time_ < var_157_42 + var_157_43 then
				local var_157_44 = (arg_154_1.time_ - var_157_42) / var_157_43
				local var_157_45 = Vector3.New(0, 100, 0)

				var_157_41.localPosition = Vector3.Lerp(arg_154_1.var_.moveOldPos1095ui_story, var_157_45, var_157_44)

				local var_157_46 = manager.ui.mainCamera.transform.position - var_157_41.position

				var_157_41.forward = Vector3.New(var_157_46.x, var_157_46.y, var_157_46.z)

				local var_157_47 = var_157_41.localEulerAngles

				var_157_47.z = 0
				var_157_47.x = 0
				var_157_41.localEulerAngles = var_157_47
			end

			if arg_154_1.time_ >= var_157_42 + var_157_43 and arg_154_1.time_ < var_157_42 + var_157_43 + arg_157_0 then
				var_157_41.localPosition = Vector3.New(0, 100, 0)

				local var_157_48 = manager.ui.mainCamera.transform.position - var_157_41.position

				var_157_41.forward = Vector3.New(var_157_48.x, var_157_48.y, var_157_48.z)

				local var_157_49 = var_157_41.localEulerAngles

				var_157_49.z = 0
				var_157_49.x = 0
				var_157_41.localEulerAngles = var_157_49
			end

			local var_157_50 = arg_154_1.actors_["1095ui_story"]
			local var_157_51 = 1.96666666666667

			if var_157_51 < arg_154_1.time_ and arg_154_1.time_ <= var_157_51 + arg_157_0 and not isNil(var_157_50) and arg_154_1.var_.characterEffect1095ui_story == nil then
				arg_154_1.var_.characterEffect1095ui_story = var_157_50:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_157_52 = 0.200000002980232

			if var_157_51 <= arg_154_1.time_ and arg_154_1.time_ < var_157_51 + var_157_52 and not isNil(var_157_50) then
				local var_157_53 = (arg_154_1.time_ - var_157_51) / var_157_52

				if arg_154_1.var_.characterEffect1095ui_story and not isNil(var_157_50) then
					local var_157_54 = Mathf.Lerp(0, 0.5, var_157_53)

					arg_154_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_154_1.var_.characterEffect1095ui_story.fillRatio = var_157_54
				end
			end

			if arg_154_1.time_ >= var_157_51 + var_157_52 and arg_154_1.time_ < var_157_51 + var_157_52 + arg_157_0 and not isNil(var_157_50) and arg_154_1.var_.characterEffect1095ui_story then
				local var_157_55 = 0.5

				arg_154_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_154_1.var_.characterEffect1095ui_story.fillRatio = var_157_55
			end

			local var_157_56 = 0
			local var_157_57 = 0.366666666666667

			if var_157_56 < arg_154_1.time_ and arg_154_1.time_ <= var_157_56 + arg_157_0 then
				local var_157_58 = "play"
				local var_157_59 = "music"

				arg_154_1:AudioAction(var_157_58, var_157_59, "ui_battle", "ui_battle_stopbgm", "")

				local var_157_60 = ""
				local var_157_61 = manager.audio:GetAudioName("ui_battle", "ui_battle_stopbgm")

				if var_157_61 ~= "" then
					if arg_154_1.bgmTxt_.text ~= var_157_61 and arg_154_1.bgmTxt_.text ~= "" then
						if arg_154_1.bgmTxt2_.text ~= "" then
							arg_154_1.bgmTxt_.text = arg_154_1.bgmTxt2_.text
						end

						arg_154_1.bgmTxt2_.text = var_157_61

						arg_154_1.musicChangeAnimator_:Play("music_change", 0, 0)
					else
						arg_154_1.bgmTxt_.text = var_157_61
					end

					if arg_154_1.bgmTimer then
						arg_154_1.bgmTimer:Stop()

						arg_154_1.bgmTimer = nil
					end

					if arg_154_1.settingData.show_music_name == 1 then
						arg_154_1.musicController:SetSelectedState("show")
						arg_154_1.musicAnimator_:Play("open", 0, 0)

						if arg_154_1.settingData.music_time ~= 0 then
							arg_154_1.bgmTimer = TimeTools.StartAfterSeconds(tonumber(arg_154_1.settingData.music_time), function()
								if arg_154_1 == nil or isNil(arg_154_1.bgmTxt_) then
									return
								end

								arg_154_1.musicController:SetSelectedState("hide")
								arg_154_1.musicAnimator_:Play("back", 0, 0)
							end, {})
						end
					end
				end
			end

			local var_157_62 = 0.6
			local var_157_63 = 1

			if var_157_62 < arg_154_1.time_ and arg_154_1.time_ <= var_157_62 + arg_157_0 then
				local var_157_64 = "play"
				local var_157_65 = "music"

				arg_154_1:AudioAction(var_157_64, var_157_65, "bgm_activity_3_0_story_sad", "bgm_activity_3_0_story_sad", "bgm_activity_3_0_story_sad.awb")

				local var_157_66 = ""
				local var_157_67 = manager.audio:GetAudioName("bgm_activity_3_0_story_sad", "bgm_activity_3_0_story_sad")

				if var_157_67 ~= "" then
					if arg_154_1.bgmTxt_.text ~= var_157_67 and arg_154_1.bgmTxt_.text ~= "" then
						if arg_154_1.bgmTxt2_.text ~= "" then
							arg_154_1.bgmTxt_.text = arg_154_1.bgmTxt2_.text
						end

						arg_154_1.bgmTxt2_.text = var_157_67

						arg_154_1.musicChangeAnimator_:Play("music_change", 0, 0)
					else
						arg_154_1.bgmTxt_.text = var_157_67
					end

					if arg_154_1.bgmTimer then
						arg_154_1.bgmTimer:Stop()

						arg_154_1.bgmTimer = nil
					end

					if arg_154_1.settingData.show_music_name == 1 then
						arg_154_1.musicController:SetSelectedState("show")
						arg_154_1.musicAnimator_:Play("open", 0, 0)

						if arg_154_1.settingData.music_time ~= 0 then
							arg_154_1.bgmTimer = TimeTools.StartAfterSeconds(tonumber(arg_154_1.settingData.music_time), function()
								if arg_154_1 == nil or isNil(arg_154_1.bgmTxt_) then
									return
								end

								arg_154_1.musicController:SetSelectedState("hide")
								arg_154_1.musicAnimator_:Play("back", 0, 0)
							end, {})
						end
					end
				end
			end

			local var_157_68 = 1.96666666666667

			arg_154_1.isInRecall_ = false

			if var_157_68 < arg_154_1.time_ and arg_154_1.time_ <= var_157_68 + arg_157_0 then
				arg_154_1.screenFilterGo_:SetActive(true)

				arg_154_1.screenFilterEffect_.profile = Asset.Load("Effect/Scene/fx_vintageStyle_Profile")

				for iter_157_4, iter_157_5 in pairs(arg_154_1.actors_) do
					local var_157_69 = iter_157_5:GetComponentsInChildren(typeof(Image), true):ToTable()

					for iter_157_6, iter_157_7 in ipairs(var_157_69) do
						if iter_157_7.color.r > 0.51 then
							iter_157_7.color = Color.New(1, 1, 1)
						else
							iter_157_7.color = Color.New(0.5, 0.5, 0.5)
						end
					end
				end
			end

			local var_157_70 = 0.0999999999999999

			if var_157_68 <= arg_154_1.time_ and arg_154_1.time_ < var_157_68 + var_157_70 then
				local var_157_71 = (arg_154_1.time_ - var_157_68) / var_157_70

				arg_154_1.screenFilterEffect_.weight = Mathf.Lerp(0, 1, var_157_71)
			end

			if arg_154_1.time_ >= var_157_68 + var_157_70 and arg_154_1.time_ < var_157_68 + var_157_70 + arg_157_0 then
				arg_154_1.screenFilterEffect_.weight = 1
			end

			if arg_154_1.frameCnt_ <= 1 then
				arg_154_1.dialog_:SetActive(false)
			end

			local var_157_72 = 3.999999999999
			local var_157_73 = 0.55

			if var_157_72 < arg_154_1.time_ and arg_154_1.time_ <= var_157_72 + arg_157_0 then
				arg_154_1.talkMaxDuration = 0

				arg_154_1.dialog_:SetActive(true)

				local var_157_74 = LeanTween.value(arg_154_1.dialog_, 0, 1, 0.3)

				var_157_74:setOnUpdate(LuaHelper.FloatAction(function(arg_160_0)
					arg_154_1.dialogCg_.alpha = arg_160_0
				end))
				var_157_74:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_154_1.dialog_)
					var_157_74:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_154_1.duration_ = arg_154_1.duration_ + 0.3

				SetActive(arg_154_1.leftNameGo_, true)

				local var_157_75 = arg_154_1:FormatText(StoryNameCfg[670].name)

				arg_154_1.leftNameTxt_.text = var_157_75

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_154_1.leftNameTxt_.transform)

				arg_154_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_154_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_154_1:RecordName(arg_154_1.leftNameTxt_.text)
				SetActive(arg_154_1.iconTrs_.gameObject, true)
				arg_154_1.iconController_:SetSelectedState("hero")

				arg_154_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072")

				arg_154_1.callingController_:SetSelectedState("normal")

				arg_154_1.keyicon_.color = Color.New(1, 1, 1)
				arg_154_1.icon_.color = Color.New(1, 1, 1)

				local var_157_76 = arg_154_1:GetWordFromCfg(411121037)
				local var_157_77 = arg_154_1:FormatText(var_157_76.content)

				arg_154_1.text_.text = var_157_77

				LuaForUtil.ClearLinePrefixSymbol(arg_154_1.text_)

				local var_157_78 = 22
				local var_157_79 = utf8.len(var_157_77)
				local var_157_80 = var_157_78 <= 0 and var_157_73 or var_157_73 * (var_157_79 / var_157_78)

				if var_157_80 > 0 and var_157_73 < var_157_80 then
					arg_154_1.talkMaxDuration = var_157_80
					var_157_72 = var_157_72 + 0.3

					if var_157_80 + var_157_72 > arg_154_1.duration_ then
						arg_154_1.duration_ = var_157_80 + var_157_72
					end
				end

				arg_154_1.text_.text = var_157_77
				arg_154_1.typewritter.percent = 0

				arg_154_1.typewritter:SetDirty()
				arg_154_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121037", "story_v_out_411121.awb") ~= 0 then
					local var_157_81 = manager.audio:GetVoiceLength("story_v_out_411121", "411121037", "story_v_out_411121.awb") / 1000

					if var_157_81 + var_157_72 > arg_154_1.duration_ then
						arg_154_1.duration_ = var_157_81 + var_157_72
					end

					if var_157_76.prefab_name ~= "" and arg_154_1.actors_[var_157_76.prefab_name] ~= nil then
						local var_157_82 = LuaForUtil.PlayVoiceWithCriLipsync(arg_154_1.actors_[var_157_76.prefab_name].transform, "story_v_out_411121", "411121037", "story_v_out_411121.awb")

						arg_154_1:RecordAudio("411121037", var_157_82)
						arg_154_1:RecordAudio("411121037", var_157_82)
					else
						arg_154_1:AudioAction("play", "voice", "story_v_out_411121", "411121037", "story_v_out_411121.awb")
					end

					arg_154_1:RecordHistoryTalkVoice("story_v_out_411121", "411121037", "story_v_out_411121.awb")
				end

				arg_154_1:RecordContent(arg_154_1.text_.text)
			end

			local var_157_83 = var_157_72 + 0.3
			local var_157_84 = math.max(var_157_73, arg_154_1.talkMaxDuration)

			if var_157_83 <= arg_154_1.time_ and arg_154_1.time_ < var_157_83 + var_157_84 then
				arg_154_1.typewritter.percent = (arg_154_1.time_ - var_157_83) / var_157_84

				arg_154_1.typewritter:SetDirty()
			end

			if arg_154_1.time_ >= var_157_83 + var_157_84 and arg_154_1.time_ < var_157_83 + var_157_84 + arg_157_0 then
				arg_154_1.typewritter.percent = 1

				arg_154_1.typewritter:SetDirty()
				arg_154_1:ShowNextGo(true)
			end
		end
	end,
	Play411121038 = function(arg_162_0, arg_162_1)
		arg_162_1.time_ = 0
		arg_162_1.frameCnt_ = 0
		arg_162_1.state_ = "playing"
		arg_162_1.curTalkId_ = 411121038
		arg_162_1.duration_ = 4.57

		local var_162_0 = {
			zh = 2.733,
			ja = 4.566
		}
		local var_162_1 = manager.audio:GetLocalizationFlag()

		if var_162_0[var_162_1] ~= nil then
			arg_162_1.duration_ = var_162_0[var_162_1]
		end

		SetActive(arg_162_1.tipsGo_, false)

		function arg_162_1.onSingleLineFinish_()
			arg_162_1.onSingleLineUpdate_ = nil
			arg_162_1.onSingleLineFinish_ = nil
			arg_162_1.state_ = "waiting"
		end

		function arg_162_1.playNext_(arg_164_0)
			if arg_164_0 == 1 then
				arg_162_0:Play411121039(arg_162_1)
			end
		end

		function arg_162_1.onSingleLineUpdate_(arg_165_0)
			local var_165_0 = arg_162_1.actors_["1095ui_story"].transform
			local var_165_1 = 0

			if var_165_1 < arg_162_1.time_ and arg_162_1.time_ <= var_165_1 + arg_165_0 then
				arg_162_1.var_.moveOldPos1095ui_story = var_165_0.localPosition
			end

			local var_165_2 = 0.001

			if var_165_1 <= arg_162_1.time_ and arg_162_1.time_ < var_165_1 + var_165_2 then
				local var_165_3 = (arg_162_1.time_ - var_165_1) / var_165_2
				local var_165_4 = Vector3.New(0, -0.98, -6.1)

				var_165_0.localPosition = Vector3.Lerp(arg_162_1.var_.moveOldPos1095ui_story, var_165_4, var_165_3)

				local var_165_5 = manager.ui.mainCamera.transform.position - var_165_0.position

				var_165_0.forward = Vector3.New(var_165_5.x, var_165_5.y, var_165_5.z)

				local var_165_6 = var_165_0.localEulerAngles

				var_165_6.z = 0
				var_165_6.x = 0
				var_165_0.localEulerAngles = var_165_6
			end

			if arg_162_1.time_ >= var_165_1 + var_165_2 and arg_162_1.time_ < var_165_1 + var_165_2 + arg_165_0 then
				var_165_0.localPosition = Vector3.New(0, -0.98, -6.1)

				local var_165_7 = manager.ui.mainCamera.transform.position - var_165_0.position

				var_165_0.forward = Vector3.New(var_165_7.x, var_165_7.y, var_165_7.z)

				local var_165_8 = var_165_0.localEulerAngles

				var_165_8.z = 0
				var_165_8.x = 0
				var_165_0.localEulerAngles = var_165_8
			end

			local var_165_9 = arg_162_1.actors_["1095ui_story"]
			local var_165_10 = 0

			if var_165_10 < arg_162_1.time_ and arg_162_1.time_ <= var_165_10 + arg_165_0 and not isNil(var_165_9) and arg_162_1.var_.characterEffect1095ui_story == nil then
				arg_162_1.var_.characterEffect1095ui_story = var_165_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_165_11 = 0.200000002980232

			if var_165_10 <= arg_162_1.time_ and arg_162_1.time_ < var_165_10 + var_165_11 and not isNil(var_165_9) then
				local var_165_12 = (arg_162_1.time_ - var_165_10) / var_165_11

				if arg_162_1.var_.characterEffect1095ui_story and not isNil(var_165_9) then
					arg_162_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_162_1.time_ >= var_165_10 + var_165_11 and arg_162_1.time_ < var_165_10 + var_165_11 + arg_165_0 and not isNil(var_165_9) and arg_162_1.var_.characterEffect1095ui_story then
				arg_162_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_165_13 = 0

			if var_165_13 < arg_162_1.time_ and arg_162_1.time_ <= var_165_13 + arg_165_0 then
				arg_162_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_165_14 = 0

			if var_165_14 < arg_162_1.time_ and arg_162_1.time_ <= var_165_14 + arg_165_0 then
				arg_162_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface1101cva")
			end

			local var_165_15 = 0
			local var_165_16 = 0.225

			if var_165_15 < arg_162_1.time_ and arg_162_1.time_ <= var_165_15 + arg_165_0 then
				arg_162_1.talkMaxDuration = 0
				arg_162_1.dialogCg_.alpha = 1

				arg_162_1.dialog_:SetActive(true)
				SetActive(arg_162_1.leftNameGo_, true)

				local var_165_17 = arg_162_1:FormatText(StoryNameCfg[909].name)

				arg_162_1.leftNameTxt_.text = var_165_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_162_1.leftNameTxt_.transform)

				arg_162_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_162_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_162_1:RecordName(arg_162_1.leftNameTxt_.text)
				SetActive(arg_162_1.iconTrs_.gameObject, false)
				arg_162_1.callingController_:SetSelectedState("normal")

				local var_165_18 = arg_162_1:GetWordFromCfg(411121038)
				local var_165_19 = arg_162_1:FormatText(var_165_18.content)

				arg_162_1.text_.text = var_165_19

				LuaForUtil.ClearLinePrefixSymbol(arg_162_1.text_)

				local var_165_20 = 9
				local var_165_21 = utf8.len(var_165_19)
				local var_165_22 = var_165_20 <= 0 and var_165_16 or var_165_16 * (var_165_21 / var_165_20)

				if var_165_22 > 0 and var_165_16 < var_165_22 then
					arg_162_1.talkMaxDuration = var_165_22

					if var_165_22 + var_165_15 > arg_162_1.duration_ then
						arg_162_1.duration_ = var_165_22 + var_165_15
					end
				end

				arg_162_1.text_.text = var_165_19
				arg_162_1.typewritter.percent = 0

				arg_162_1.typewritter:SetDirty()
				arg_162_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121038", "story_v_out_411121.awb") ~= 0 then
					local var_165_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121038", "story_v_out_411121.awb") / 1000

					if var_165_23 + var_165_15 > arg_162_1.duration_ then
						arg_162_1.duration_ = var_165_23 + var_165_15
					end

					if var_165_18.prefab_name ~= "" and arg_162_1.actors_[var_165_18.prefab_name] ~= nil then
						local var_165_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_162_1.actors_[var_165_18.prefab_name].transform, "story_v_out_411121", "411121038", "story_v_out_411121.awb")

						arg_162_1:RecordAudio("411121038", var_165_24)
						arg_162_1:RecordAudio("411121038", var_165_24)
					else
						arg_162_1:AudioAction("play", "voice", "story_v_out_411121", "411121038", "story_v_out_411121.awb")
					end

					arg_162_1:RecordHistoryTalkVoice("story_v_out_411121", "411121038", "story_v_out_411121.awb")
				end

				arg_162_1:RecordContent(arg_162_1.text_.text)
			end

			local var_165_25 = math.max(var_165_16, arg_162_1.talkMaxDuration)

			if var_165_15 <= arg_162_1.time_ and arg_162_1.time_ < var_165_15 + var_165_25 then
				arg_162_1.typewritter.percent = (arg_162_1.time_ - var_165_15) / var_165_25

				arg_162_1.typewritter:SetDirty()
			end

			if arg_162_1.time_ >= var_165_15 + var_165_25 and arg_162_1.time_ < var_165_15 + var_165_25 + arg_165_0 then
				arg_162_1.typewritter.percent = 1

				arg_162_1.typewritter:SetDirty()
				arg_162_1:ShowNextGo(true)
			end
		end
	end,
	Play411121039 = function(arg_166_0, arg_166_1)
		arg_166_1.time_ = 0
		arg_166_1.frameCnt_ = 0
		arg_166_1.state_ = "playing"
		arg_166_1.curTalkId_ = 411121039
		arg_166_1.duration_ = 13.17

		local var_166_0 = {
			zh = 8.866,
			ja = 13.166
		}
		local var_166_1 = manager.audio:GetLocalizationFlag()

		if var_166_0[var_166_1] ~= nil then
			arg_166_1.duration_ = var_166_0[var_166_1]
		end

		SetActive(arg_166_1.tipsGo_, false)

		function arg_166_1.onSingleLineFinish_()
			arg_166_1.onSingleLineUpdate_ = nil
			arg_166_1.onSingleLineFinish_ = nil
			arg_166_1.state_ = "waiting"
		end

		function arg_166_1.playNext_(arg_168_0)
			if arg_168_0 == 1 then
				arg_166_0:Play411121040(arg_166_1)
			end
		end

		function arg_166_1.onSingleLineUpdate_(arg_169_0)
			local var_169_0 = 0
			local var_169_1 = 0.7

			if var_169_0 < arg_166_1.time_ and arg_166_1.time_ <= var_169_0 + arg_169_0 then
				arg_166_1.talkMaxDuration = 0
				arg_166_1.dialogCg_.alpha = 1

				arg_166_1.dialog_:SetActive(true)
				SetActive(arg_166_1.leftNameGo_, true)

				local var_169_2 = arg_166_1:FormatText(StoryNameCfg[909].name)

				arg_166_1.leftNameTxt_.text = var_169_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_166_1.leftNameTxt_.transform)

				arg_166_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_166_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_166_1:RecordName(arg_166_1.leftNameTxt_.text)
				SetActive(arg_166_1.iconTrs_.gameObject, false)
				arg_166_1.callingController_:SetSelectedState("normal")

				local var_169_3 = arg_166_1:GetWordFromCfg(411121039)
				local var_169_4 = arg_166_1:FormatText(var_169_3.content)

				arg_166_1.text_.text = var_169_4

				LuaForUtil.ClearLinePrefixSymbol(arg_166_1.text_)

				local var_169_5 = 28
				local var_169_6 = utf8.len(var_169_4)
				local var_169_7 = var_169_5 <= 0 and var_169_1 or var_169_1 * (var_169_6 / var_169_5)

				if var_169_7 > 0 and var_169_1 < var_169_7 then
					arg_166_1.talkMaxDuration = var_169_7

					if var_169_7 + var_169_0 > arg_166_1.duration_ then
						arg_166_1.duration_ = var_169_7 + var_169_0
					end
				end

				arg_166_1.text_.text = var_169_4
				arg_166_1.typewritter.percent = 0

				arg_166_1.typewritter:SetDirty()
				arg_166_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121039", "story_v_out_411121.awb") ~= 0 then
					local var_169_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121039", "story_v_out_411121.awb") / 1000

					if var_169_8 + var_169_0 > arg_166_1.duration_ then
						arg_166_1.duration_ = var_169_8 + var_169_0
					end

					if var_169_3.prefab_name ~= "" and arg_166_1.actors_[var_169_3.prefab_name] ~= nil then
						local var_169_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_166_1.actors_[var_169_3.prefab_name].transform, "story_v_out_411121", "411121039", "story_v_out_411121.awb")

						arg_166_1:RecordAudio("411121039", var_169_9)
						arg_166_1:RecordAudio("411121039", var_169_9)
					else
						arg_166_1:AudioAction("play", "voice", "story_v_out_411121", "411121039", "story_v_out_411121.awb")
					end

					arg_166_1:RecordHistoryTalkVoice("story_v_out_411121", "411121039", "story_v_out_411121.awb")
				end

				arg_166_1:RecordContent(arg_166_1.text_.text)
			end

			local var_169_10 = math.max(var_169_1, arg_166_1.talkMaxDuration)

			if var_169_0 <= arg_166_1.time_ and arg_166_1.time_ < var_169_0 + var_169_10 then
				arg_166_1.typewritter.percent = (arg_166_1.time_ - var_169_0) / var_169_10

				arg_166_1.typewritter:SetDirty()
			end

			if arg_166_1.time_ >= var_169_0 + var_169_10 and arg_166_1.time_ < var_169_0 + var_169_10 + arg_169_0 then
				arg_166_1.typewritter.percent = 1

				arg_166_1.typewritter:SetDirty()
				arg_166_1:ShowNextGo(true)
			end
		end
	end,
	Play411121040 = function(arg_170_0, arg_170_1)
		arg_170_1.time_ = 0
		arg_170_1.frameCnt_ = 0
		arg_170_1.state_ = "playing"
		arg_170_1.curTalkId_ = 411121040
		arg_170_1.duration_ = 6.97

		local var_170_0 = {
			zh = 5.1,
			ja = 6.966
		}
		local var_170_1 = manager.audio:GetLocalizationFlag()

		if var_170_0[var_170_1] ~= nil then
			arg_170_1.duration_ = var_170_0[var_170_1]
		end

		SetActive(arg_170_1.tipsGo_, false)

		function arg_170_1.onSingleLineFinish_()
			arg_170_1.onSingleLineUpdate_ = nil
			arg_170_1.onSingleLineFinish_ = nil
			arg_170_1.state_ = "waiting"
		end

		function arg_170_1.playNext_(arg_172_0)
			if arg_172_0 == 1 then
				arg_170_0:Play411121041(arg_170_1)
			end
		end

		function arg_170_1.onSingleLineUpdate_(arg_173_0)
			local var_173_0 = arg_170_1.actors_["1095ui_story"]
			local var_173_1 = 0

			if var_173_1 < arg_170_1.time_ and arg_170_1.time_ <= var_173_1 + arg_173_0 and not isNil(var_173_0) and arg_170_1.var_.characterEffect1095ui_story == nil then
				arg_170_1.var_.characterEffect1095ui_story = var_173_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_173_2 = 0.200000002980232

			if var_173_1 <= arg_170_1.time_ and arg_170_1.time_ < var_173_1 + var_173_2 and not isNil(var_173_0) then
				local var_173_3 = (arg_170_1.time_ - var_173_1) / var_173_2

				if arg_170_1.var_.characterEffect1095ui_story and not isNil(var_173_0) then
					local var_173_4 = Mathf.Lerp(0, 0.5, var_173_3)

					arg_170_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_170_1.var_.characterEffect1095ui_story.fillRatio = var_173_4
				end
			end

			if arg_170_1.time_ >= var_173_1 + var_173_2 and arg_170_1.time_ < var_173_1 + var_173_2 + arg_173_0 and not isNil(var_173_0) and arg_170_1.var_.characterEffect1095ui_story then
				local var_173_5 = 0.5

				arg_170_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_170_1.var_.characterEffect1095ui_story.fillRatio = var_173_5
			end

			local var_173_6 = 0
			local var_173_7 = 0.6

			if var_173_6 < arg_170_1.time_ and arg_170_1.time_ <= var_173_6 + arg_173_0 then
				arg_170_1.talkMaxDuration = 0
				arg_170_1.dialogCg_.alpha = 1

				arg_170_1.dialog_:SetActive(true)
				SetActive(arg_170_1.leftNameGo_, true)

				local var_173_8 = arg_170_1:FormatText(StoryNameCfg[670].name)

				arg_170_1.leftNameTxt_.text = var_173_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_170_1.leftNameTxt_.transform)

				arg_170_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_170_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_170_1:RecordName(arg_170_1.leftNameTxt_.text)
				SetActive(arg_170_1.iconTrs_.gameObject, true)
				arg_170_1.iconController_:SetSelectedState("hero")

				arg_170_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072")

				arg_170_1.callingController_:SetSelectedState("normal")

				arg_170_1.keyicon_.color = Color.New(1, 1, 1)
				arg_170_1.icon_.color = Color.New(1, 1, 1)

				local var_173_9 = arg_170_1:GetWordFromCfg(411121040)
				local var_173_10 = arg_170_1:FormatText(var_173_9.content)

				arg_170_1.text_.text = var_173_10

				LuaForUtil.ClearLinePrefixSymbol(arg_170_1.text_)

				local var_173_11 = 24
				local var_173_12 = utf8.len(var_173_10)
				local var_173_13 = var_173_11 <= 0 and var_173_7 or var_173_7 * (var_173_12 / var_173_11)

				if var_173_13 > 0 and var_173_7 < var_173_13 then
					arg_170_1.talkMaxDuration = var_173_13

					if var_173_13 + var_173_6 > arg_170_1.duration_ then
						arg_170_1.duration_ = var_173_13 + var_173_6
					end
				end

				arg_170_1.text_.text = var_173_10
				arg_170_1.typewritter.percent = 0

				arg_170_1.typewritter:SetDirty()
				arg_170_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121040", "story_v_out_411121.awb") ~= 0 then
					local var_173_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121040", "story_v_out_411121.awb") / 1000

					if var_173_14 + var_173_6 > arg_170_1.duration_ then
						arg_170_1.duration_ = var_173_14 + var_173_6
					end

					if var_173_9.prefab_name ~= "" and arg_170_1.actors_[var_173_9.prefab_name] ~= nil then
						local var_173_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_170_1.actors_[var_173_9.prefab_name].transform, "story_v_out_411121", "411121040", "story_v_out_411121.awb")

						arg_170_1:RecordAudio("411121040", var_173_15)
						arg_170_1:RecordAudio("411121040", var_173_15)
					else
						arg_170_1:AudioAction("play", "voice", "story_v_out_411121", "411121040", "story_v_out_411121.awb")
					end

					arg_170_1:RecordHistoryTalkVoice("story_v_out_411121", "411121040", "story_v_out_411121.awb")
				end

				arg_170_1:RecordContent(arg_170_1.text_.text)
			end

			local var_173_16 = math.max(var_173_7, arg_170_1.talkMaxDuration)

			if var_173_6 <= arg_170_1.time_ and arg_170_1.time_ < var_173_6 + var_173_16 then
				arg_170_1.typewritter.percent = (arg_170_1.time_ - var_173_6) / var_173_16

				arg_170_1.typewritter:SetDirty()
			end

			if arg_170_1.time_ >= var_173_6 + var_173_16 and arg_170_1.time_ < var_173_6 + var_173_16 + arg_173_0 then
				arg_170_1.typewritter.percent = 1

				arg_170_1.typewritter:SetDirty()
				arg_170_1:ShowNextGo(true)
			end
		end
	end,
	Play411121041 = function(arg_174_0, arg_174_1)
		arg_174_1.time_ = 0
		arg_174_1.frameCnt_ = 0
		arg_174_1.state_ = "playing"
		arg_174_1.curTalkId_ = 411121041
		arg_174_1.duration_ = 7.43

		local var_174_0 = {
			zh = 7.433,
			ja = 5.533
		}
		local var_174_1 = manager.audio:GetLocalizationFlag()

		if var_174_0[var_174_1] ~= nil then
			arg_174_1.duration_ = var_174_0[var_174_1]
		end

		SetActive(arg_174_1.tipsGo_, false)

		function arg_174_1.onSingleLineFinish_()
			arg_174_1.onSingleLineUpdate_ = nil
			arg_174_1.onSingleLineFinish_ = nil
			arg_174_1.state_ = "waiting"
		end

		function arg_174_1.playNext_(arg_176_0)
			if arg_176_0 == 1 then
				arg_174_0:Play411121042(arg_174_1)
			end
		end

		function arg_174_1.onSingleLineUpdate_(arg_177_0)
			local var_177_0 = 0
			local var_177_1 = 0.725

			if var_177_0 < arg_174_1.time_ and arg_174_1.time_ <= var_177_0 + arg_177_0 then
				arg_174_1.talkMaxDuration = 0
				arg_174_1.dialogCg_.alpha = 1

				arg_174_1.dialog_:SetActive(true)
				SetActive(arg_174_1.leftNameGo_, true)

				local var_177_2 = arg_174_1:FormatText(StoryNameCfg[670].name)

				arg_174_1.leftNameTxt_.text = var_177_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_174_1.leftNameTxt_.transform)

				arg_174_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_174_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_174_1:RecordName(arg_174_1.leftNameTxt_.text)
				SetActive(arg_174_1.iconTrs_.gameObject, true)
				arg_174_1.iconController_:SetSelectedState("hero")

				arg_174_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072")

				arg_174_1.callingController_:SetSelectedState("normal")

				arg_174_1.keyicon_.color = Color.New(1, 1, 1)
				arg_174_1.icon_.color = Color.New(1, 1, 1)

				local var_177_3 = arg_174_1:GetWordFromCfg(411121041)
				local var_177_4 = arg_174_1:FormatText(var_177_3.content)

				arg_174_1.text_.text = var_177_4

				LuaForUtil.ClearLinePrefixSymbol(arg_174_1.text_)

				local var_177_5 = 29
				local var_177_6 = utf8.len(var_177_4)
				local var_177_7 = var_177_5 <= 0 and var_177_1 or var_177_1 * (var_177_6 / var_177_5)

				if var_177_7 > 0 and var_177_1 < var_177_7 then
					arg_174_1.talkMaxDuration = var_177_7

					if var_177_7 + var_177_0 > arg_174_1.duration_ then
						arg_174_1.duration_ = var_177_7 + var_177_0
					end
				end

				arg_174_1.text_.text = var_177_4
				arg_174_1.typewritter.percent = 0

				arg_174_1.typewritter:SetDirty()
				arg_174_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121041", "story_v_out_411121.awb") ~= 0 then
					local var_177_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121041", "story_v_out_411121.awb") / 1000

					if var_177_8 + var_177_0 > arg_174_1.duration_ then
						arg_174_1.duration_ = var_177_8 + var_177_0
					end

					if var_177_3.prefab_name ~= "" and arg_174_1.actors_[var_177_3.prefab_name] ~= nil then
						local var_177_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_174_1.actors_[var_177_3.prefab_name].transform, "story_v_out_411121", "411121041", "story_v_out_411121.awb")

						arg_174_1:RecordAudio("411121041", var_177_9)
						arg_174_1:RecordAudio("411121041", var_177_9)
					else
						arg_174_1:AudioAction("play", "voice", "story_v_out_411121", "411121041", "story_v_out_411121.awb")
					end

					arg_174_1:RecordHistoryTalkVoice("story_v_out_411121", "411121041", "story_v_out_411121.awb")
				end

				arg_174_1:RecordContent(arg_174_1.text_.text)
			end

			local var_177_10 = math.max(var_177_1, arg_174_1.talkMaxDuration)

			if var_177_0 <= arg_174_1.time_ and arg_174_1.time_ < var_177_0 + var_177_10 then
				arg_174_1.typewritter.percent = (arg_174_1.time_ - var_177_0) / var_177_10

				arg_174_1.typewritter:SetDirty()
			end

			if arg_174_1.time_ >= var_177_0 + var_177_10 and arg_174_1.time_ < var_177_0 + var_177_10 + arg_177_0 then
				arg_174_1.typewritter.percent = 1

				arg_174_1.typewritter:SetDirty()
				arg_174_1:ShowNextGo(true)
			end
		end
	end,
	Play411121042 = function(arg_178_0, arg_178_1)
		arg_178_1.time_ = 0
		arg_178_1.frameCnt_ = 0
		arg_178_1.state_ = "playing"
		arg_178_1.curTalkId_ = 411121042
		arg_178_1.duration_ = 1.6

		SetActive(arg_178_1.tipsGo_, false)

		function arg_178_1.onSingleLineFinish_()
			arg_178_1.onSingleLineUpdate_ = nil
			arg_178_1.onSingleLineFinish_ = nil
			arg_178_1.state_ = "waiting"
		end

		function arg_178_1.playNext_(arg_180_0)
			if arg_180_0 == 1 then
				arg_178_0:Play411121043(arg_178_1)
			end
		end

		function arg_178_1.onSingleLineUpdate_(arg_181_0)
			local var_181_0 = 0
			local var_181_1 = 0.15

			if var_181_0 < arg_178_1.time_ and arg_178_1.time_ <= var_181_0 + arg_181_0 then
				arg_178_1.talkMaxDuration = 0
				arg_178_1.dialogCg_.alpha = 1

				arg_178_1.dialog_:SetActive(true)
				SetActive(arg_178_1.leftNameGo_, true)

				local var_181_2 = arg_178_1:FormatText(StoryNameCfg[471].name)

				arg_178_1.leftNameTxt_.text = var_181_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_178_1.leftNameTxt_.transform)

				arg_178_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_178_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_178_1:RecordName(arg_178_1.leftNameTxt_.text)
				SetActive(arg_178_1.iconTrs_.gameObject, true)
				arg_178_1.iconController_:SetSelectedState("hero")

				arg_178_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_1095")

				arg_178_1.callingController_:SetSelectedState("normal")

				arg_178_1.keyicon_.color = Color.New(1, 1, 1)
				arg_178_1.icon_.color = Color.New(1, 1, 1)

				local var_181_3 = arg_178_1:GetWordFromCfg(411121042)
				local var_181_4 = arg_178_1:FormatText(var_181_3.content)

				arg_178_1.text_.text = var_181_4

				LuaForUtil.ClearLinePrefixSymbol(arg_178_1.text_)

				local var_181_5 = 6
				local var_181_6 = utf8.len(var_181_4)
				local var_181_7 = var_181_5 <= 0 and var_181_1 or var_181_1 * (var_181_6 / var_181_5)

				if var_181_7 > 0 and var_181_1 < var_181_7 then
					arg_178_1.talkMaxDuration = var_181_7

					if var_181_7 + var_181_0 > arg_178_1.duration_ then
						arg_178_1.duration_ = var_181_7 + var_181_0
					end
				end

				arg_178_1.text_.text = var_181_4
				arg_178_1.typewritter.percent = 0

				arg_178_1.typewritter:SetDirty()
				arg_178_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121042", "story_v_out_411121.awb") ~= 0 then
					local var_181_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121042", "story_v_out_411121.awb") / 1000

					if var_181_8 + var_181_0 > arg_178_1.duration_ then
						arg_178_1.duration_ = var_181_8 + var_181_0
					end

					if var_181_3.prefab_name ~= "" and arg_178_1.actors_[var_181_3.prefab_name] ~= nil then
						local var_181_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_178_1.actors_[var_181_3.prefab_name].transform, "story_v_out_411121", "411121042", "story_v_out_411121.awb")

						arg_178_1:RecordAudio("411121042", var_181_9)
						arg_178_1:RecordAudio("411121042", var_181_9)
					else
						arg_178_1:AudioAction("play", "voice", "story_v_out_411121", "411121042", "story_v_out_411121.awb")
					end

					arg_178_1:RecordHistoryTalkVoice("story_v_out_411121", "411121042", "story_v_out_411121.awb")
				end

				arg_178_1:RecordContent(arg_178_1.text_.text)
			end

			local var_181_10 = math.max(var_181_1, arg_178_1.talkMaxDuration)

			if var_181_0 <= arg_178_1.time_ and arg_178_1.time_ < var_181_0 + var_181_10 then
				arg_178_1.typewritter.percent = (arg_178_1.time_ - var_181_0) / var_181_10

				arg_178_1.typewritter:SetDirty()
			end

			if arg_178_1.time_ >= var_181_0 + var_181_10 and arg_178_1.time_ < var_181_0 + var_181_10 + arg_181_0 then
				arg_178_1.typewritter.percent = 1

				arg_178_1.typewritter:SetDirty()
				arg_178_1:ShowNextGo(true)
			end
		end
	end,
	Play411121043 = function(arg_182_0, arg_182_1)
		arg_182_1.time_ = 0
		arg_182_1.frameCnt_ = 0
		arg_182_1.state_ = "playing"
		arg_182_1.curTalkId_ = 411121043
		arg_182_1.duration_ = 7.4

		local var_182_0 = {
			zh = 7.399999999999,
			ja = 6.132999999999
		}
		local var_182_1 = manager.audio:GetLocalizationFlag()

		if var_182_0[var_182_1] ~= nil then
			arg_182_1.duration_ = var_182_0[var_182_1]
		end

		SetActive(arg_182_1.tipsGo_, false)

		function arg_182_1.onSingleLineFinish_()
			arg_182_1.onSingleLineUpdate_ = nil
			arg_182_1.onSingleLineFinish_ = nil
			arg_182_1.state_ = "waiting"
		end

		function arg_182_1.playNext_(arg_184_0)
			if arg_184_0 == 1 then
				arg_182_0:Play411121044(arg_182_1)
			end
		end

		function arg_182_1.onSingleLineUpdate_(arg_185_0)
			local var_185_0 = 0

			if var_185_0 < arg_182_1.time_ and arg_182_1.time_ <= var_185_0 + arg_185_0 then
				arg_182_1.mask_.enabled = true
				arg_182_1.mask_.raycastTarget = true

				arg_182_1:SetGaussion(false)
			end

			local var_185_1 = 2

			if var_185_0 <= arg_182_1.time_ and arg_182_1.time_ < var_185_0 + var_185_1 then
				local var_185_2 = (arg_182_1.time_ - var_185_0) / var_185_1
				local var_185_3 = Color.New(0, 0, 0)

				var_185_3.a = Mathf.Lerp(0, 1, var_185_2)
				arg_182_1.mask_.color = var_185_3
			end

			if arg_182_1.time_ >= var_185_0 + var_185_1 and arg_182_1.time_ < var_185_0 + var_185_1 + arg_185_0 then
				local var_185_4 = Color.New(0, 0, 0)

				var_185_4.a = 1
				arg_182_1.mask_.color = var_185_4
			end

			local var_185_5 = 2

			if var_185_5 < arg_182_1.time_ and arg_182_1.time_ <= var_185_5 + arg_185_0 then
				arg_182_1.mask_.enabled = true
				arg_182_1.mask_.raycastTarget = true

				arg_182_1:SetGaussion(false)
			end

			local var_185_6 = 2

			if var_185_5 <= arg_182_1.time_ and arg_182_1.time_ < var_185_5 + var_185_6 then
				local var_185_7 = (arg_182_1.time_ - var_185_5) / var_185_6
				local var_185_8 = Color.New(0, 0, 0)

				var_185_8.a = Mathf.Lerp(1, 0, var_185_7)
				arg_182_1.mask_.color = var_185_8
			end

			if arg_182_1.time_ >= var_185_5 + var_185_6 and arg_182_1.time_ < var_185_5 + var_185_6 + arg_185_0 then
				local var_185_9 = Color.New(0, 0, 0)
				local var_185_10 = 0

				arg_182_1.mask_.enabled = false
				var_185_9.a = var_185_10
				arg_182_1.mask_.color = var_185_9
			end

			local var_185_11 = arg_182_1.actors_["1095ui_story"].transform
			local var_185_12 = 4

			if var_185_12 < arg_182_1.time_ and arg_182_1.time_ <= var_185_12 + arg_185_0 then
				arg_182_1.var_.moveOldPos1095ui_story = var_185_11.localPosition
			end

			local var_185_13 = 0.001

			if var_185_12 <= arg_182_1.time_ and arg_182_1.time_ < var_185_12 + var_185_13 then
				local var_185_14 = (arg_182_1.time_ - var_185_12) / var_185_13
				local var_185_15 = Vector3.New(0, -0.98, -6.1)

				var_185_11.localPosition = Vector3.Lerp(arg_182_1.var_.moveOldPos1095ui_story, var_185_15, var_185_14)

				local var_185_16 = manager.ui.mainCamera.transform.position - var_185_11.position

				var_185_11.forward = Vector3.New(var_185_16.x, var_185_16.y, var_185_16.z)

				local var_185_17 = var_185_11.localEulerAngles

				var_185_17.z = 0
				var_185_17.x = 0
				var_185_11.localEulerAngles = var_185_17
			end

			if arg_182_1.time_ >= var_185_12 + var_185_13 and arg_182_1.time_ < var_185_12 + var_185_13 + arg_185_0 then
				var_185_11.localPosition = Vector3.New(0, -0.98, -6.1)

				local var_185_18 = manager.ui.mainCamera.transform.position - var_185_11.position

				var_185_11.forward = Vector3.New(var_185_18.x, var_185_18.y, var_185_18.z)

				local var_185_19 = var_185_11.localEulerAngles

				var_185_19.z = 0
				var_185_19.x = 0
				var_185_11.localEulerAngles = var_185_19
			end

			local var_185_20 = arg_182_1.actors_["1095ui_story"]
			local var_185_21 = 4

			if var_185_21 < arg_182_1.time_ and arg_182_1.time_ <= var_185_21 + arg_185_0 and not isNil(var_185_20) and arg_182_1.var_.characterEffect1095ui_story == nil then
				arg_182_1.var_.characterEffect1095ui_story = var_185_20:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_185_22 = 0.200000002980232

			if var_185_21 <= arg_182_1.time_ and arg_182_1.time_ < var_185_21 + var_185_22 and not isNil(var_185_20) then
				local var_185_23 = (arg_182_1.time_ - var_185_21) / var_185_22

				if arg_182_1.var_.characterEffect1095ui_story and not isNil(var_185_20) then
					arg_182_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_182_1.time_ >= var_185_21 + var_185_22 and arg_182_1.time_ < var_185_21 + var_185_22 + arg_185_0 and not isNil(var_185_20) and arg_182_1.var_.characterEffect1095ui_story then
				arg_182_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_185_24 = 0

			if var_185_24 < arg_182_1.time_ and arg_182_1.time_ <= var_185_24 + arg_185_0 then
				local var_185_25 = manager.ui.mainCamera.transform.localPosition
				local var_185_26 = Vector3.New(0, 0, 10) + Vector3.New(var_185_25.x, var_185_25.y, 0)
				local var_185_27 = arg_182_1.bgs_.B07a

				var_185_27.transform.localPosition = var_185_26
				var_185_27.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_185_28 = var_185_27:GetComponent("SpriteRenderer")

				if var_185_28 and var_185_28.sprite then
					local var_185_29 = (var_185_27.transform.localPosition - var_185_25).z
					local var_185_30 = manager.ui.mainCameraCom_
					local var_185_31 = 2 * var_185_29 * Mathf.Tan(var_185_30.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_185_32 = var_185_31 * var_185_30.aspect
					local var_185_33 = var_185_28.sprite.bounds.size.x
					local var_185_34 = var_185_28.sprite.bounds.size.y
					local var_185_35 = var_185_32 / var_185_33
					local var_185_36 = var_185_31 / var_185_34
					local var_185_37 = var_185_36 < var_185_35 and var_185_35 or var_185_36

					var_185_27.transform.localScale = Vector3.New(var_185_37, var_185_37, 0)
				end

				for iter_185_0, iter_185_1 in pairs(arg_182_1.bgs_) do
					if iter_185_0 ~= "B07a" then
						iter_185_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_185_38 = "B03b"

			if arg_182_1.bgs_[var_185_38] == nil then
				local var_185_39 = Object.Instantiate(arg_182_1.paintGo_)

				var_185_39:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_185_38)
				var_185_39.name = var_185_38
				var_185_39.transform.parent = arg_182_1.stage_.transform
				var_185_39.transform.localPosition = Vector3.New(0, 100, 0)
				arg_182_1.bgs_[var_185_38] = var_185_39
			end

			local var_185_40 = 2

			if var_185_40 < arg_182_1.time_ and arg_182_1.time_ <= var_185_40 + arg_185_0 then
				local var_185_41 = manager.ui.mainCamera.transform.localPosition
				local var_185_42 = Vector3.New(0, 0, 10) + Vector3.New(var_185_41.x, var_185_41.y, 0)
				local var_185_43 = arg_182_1.bgs_.B03b

				var_185_43.transform.localPosition = var_185_42
				var_185_43.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_185_44 = var_185_43:GetComponent("SpriteRenderer")

				if var_185_44 and var_185_44.sprite then
					local var_185_45 = (var_185_43.transform.localPosition - var_185_41).z
					local var_185_46 = manager.ui.mainCameraCom_
					local var_185_47 = 2 * var_185_45 * Mathf.Tan(var_185_46.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_185_48 = var_185_47 * var_185_46.aspect
					local var_185_49 = var_185_44.sprite.bounds.size.x
					local var_185_50 = var_185_44.sprite.bounds.size.y
					local var_185_51 = var_185_48 / var_185_49
					local var_185_52 = var_185_47 / var_185_50
					local var_185_53 = var_185_52 < var_185_51 and var_185_51 or var_185_52

					var_185_43.transform.localScale = Vector3.New(var_185_53, var_185_53, 0)
				end

				for iter_185_2, iter_185_3 in pairs(arg_182_1.bgs_) do
					if iter_185_2 ~= "B03b" then
						iter_185_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_185_54 = 0

			if var_185_54 < arg_182_1.time_ and arg_182_1.time_ <= var_185_54 + arg_185_0 then
				arg_182_1.mask_.enabled = true
				arg_182_1.mask_.raycastTarget = true

				arg_182_1:SetGaussion(false)
			end

			local var_185_55 = 2

			if var_185_54 <= arg_182_1.time_ and arg_182_1.time_ < var_185_54 + var_185_55 then
				local var_185_56 = (arg_182_1.time_ - var_185_54) / var_185_55
				local var_185_57 = Color.New(0, 0, 0)

				var_185_57.a = Mathf.Lerp(0, 1, var_185_56)
				arg_182_1.mask_.color = var_185_57
			end

			if arg_182_1.time_ >= var_185_54 + var_185_55 and arg_182_1.time_ < var_185_54 + var_185_55 + arg_185_0 then
				local var_185_58 = Color.New(0, 0, 0)

				var_185_58.a = 1
				arg_182_1.mask_.color = var_185_58
			end

			local var_185_59 = 2

			if var_185_59 < arg_182_1.time_ and arg_182_1.time_ <= var_185_59 + arg_185_0 then
				arg_182_1.mask_.enabled = true
				arg_182_1.mask_.raycastTarget = true

				arg_182_1:SetGaussion(false)
			end

			local var_185_60 = 1.999999999999

			if var_185_59 <= arg_182_1.time_ and arg_182_1.time_ < var_185_59 + var_185_60 then
				local var_185_61 = (arg_182_1.time_ - var_185_59) / var_185_60
				local var_185_62 = Color.New(0, 0, 0)

				var_185_62.a = Mathf.Lerp(1, 0, var_185_61)
				arg_182_1.mask_.color = var_185_62
			end

			if arg_182_1.time_ >= var_185_59 + var_185_60 and arg_182_1.time_ < var_185_59 + var_185_60 + arg_185_0 then
				local var_185_63 = Color.New(0, 0, 0)
				local var_185_64 = 0

				arg_182_1.mask_.enabled = false
				var_185_63.a = var_185_64
				arg_182_1.mask_.color = var_185_63
			end

			local var_185_65 = arg_182_1.actors_["1095ui_story"].transform
			local var_185_66 = 2

			if var_185_66 < arg_182_1.time_ and arg_182_1.time_ <= var_185_66 + arg_185_0 then
				arg_182_1.var_.moveOldPos1095ui_story = var_185_65.localPosition
			end

			local var_185_67 = 0.001

			if var_185_66 <= arg_182_1.time_ and arg_182_1.time_ < var_185_66 + var_185_67 then
				local var_185_68 = (arg_182_1.time_ - var_185_66) / var_185_67
				local var_185_69 = Vector3.New(0, 100, 0)

				var_185_65.localPosition = Vector3.Lerp(arg_182_1.var_.moveOldPos1095ui_story, var_185_69, var_185_68)

				local var_185_70 = manager.ui.mainCamera.transform.position - var_185_65.position

				var_185_65.forward = Vector3.New(var_185_70.x, var_185_70.y, var_185_70.z)

				local var_185_71 = var_185_65.localEulerAngles

				var_185_71.z = 0
				var_185_71.x = 0
				var_185_65.localEulerAngles = var_185_71
			end

			if arg_182_1.time_ >= var_185_66 + var_185_67 and arg_182_1.time_ < var_185_66 + var_185_67 + arg_185_0 then
				var_185_65.localPosition = Vector3.New(0, 100, 0)

				local var_185_72 = manager.ui.mainCamera.transform.position - var_185_65.position

				var_185_65.forward = Vector3.New(var_185_72.x, var_185_72.y, var_185_72.z)

				local var_185_73 = var_185_65.localEulerAngles

				var_185_73.z = 0
				var_185_73.x = 0
				var_185_65.localEulerAngles = var_185_73
			end

			if arg_182_1.frameCnt_ <= 1 then
				arg_182_1.dialog_:SetActive(false)
			end

			local var_185_74 = 3.999999999999
			local var_185_75 = 0.4

			if var_185_74 < arg_182_1.time_ and arg_182_1.time_ <= var_185_74 + arg_185_0 then
				arg_182_1.talkMaxDuration = 0

				arg_182_1.dialog_:SetActive(true)

				local var_185_76 = LeanTween.value(arg_182_1.dialog_, 0, 1, 0.3)

				var_185_76:setOnUpdate(LuaHelper.FloatAction(function(arg_186_0)
					arg_182_1.dialogCg_.alpha = arg_186_0
				end))
				var_185_76:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_182_1.dialog_)
					var_185_76:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_182_1.duration_ = arg_182_1.duration_ + 0.3

				SetActive(arg_182_1.leftNameGo_, true)

				local var_185_77 = arg_182_1:FormatText(StoryNameCfg[909].name)

				arg_182_1.leftNameTxt_.text = var_185_77

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_182_1.leftNameTxt_.transform)

				arg_182_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_182_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_182_1:RecordName(arg_182_1.leftNameTxt_.text)
				SetActive(arg_182_1.iconTrs_.gameObject, false)
				arg_182_1.callingController_:SetSelectedState("normal")

				local var_185_78 = arg_182_1:GetWordFromCfg(411121043)
				local var_185_79 = arg_182_1:FormatText(var_185_78.content)

				arg_182_1.text_.text = var_185_79

				LuaForUtil.ClearLinePrefixSymbol(arg_182_1.text_)

				local var_185_80 = 16
				local var_185_81 = utf8.len(var_185_79)
				local var_185_82 = var_185_80 <= 0 and var_185_75 or var_185_75 * (var_185_81 / var_185_80)

				if var_185_82 > 0 and var_185_75 < var_185_82 then
					arg_182_1.talkMaxDuration = var_185_82
					var_185_74 = var_185_74 + 0.3

					if var_185_82 + var_185_74 > arg_182_1.duration_ then
						arg_182_1.duration_ = var_185_82 + var_185_74
					end
				end

				arg_182_1.text_.text = var_185_79
				arg_182_1.typewritter.percent = 0

				arg_182_1.typewritter:SetDirty()
				arg_182_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121043", "story_v_out_411121.awb") ~= 0 then
					local var_185_83 = manager.audio:GetVoiceLength("story_v_out_411121", "411121043", "story_v_out_411121.awb") / 1000

					if var_185_83 + var_185_74 > arg_182_1.duration_ then
						arg_182_1.duration_ = var_185_83 + var_185_74
					end

					if var_185_78.prefab_name ~= "" and arg_182_1.actors_[var_185_78.prefab_name] ~= nil then
						local var_185_84 = LuaForUtil.PlayVoiceWithCriLipsync(arg_182_1.actors_[var_185_78.prefab_name].transform, "story_v_out_411121", "411121043", "story_v_out_411121.awb")

						arg_182_1:RecordAudio("411121043", var_185_84)
						arg_182_1:RecordAudio("411121043", var_185_84)
					else
						arg_182_1:AudioAction("play", "voice", "story_v_out_411121", "411121043", "story_v_out_411121.awb")
					end

					arg_182_1:RecordHistoryTalkVoice("story_v_out_411121", "411121043", "story_v_out_411121.awb")
				end

				arg_182_1:RecordContent(arg_182_1.text_.text)
			end

			local var_185_85 = var_185_74 + 0.3
			local var_185_86 = math.max(var_185_75, arg_182_1.talkMaxDuration)

			if var_185_85 <= arg_182_1.time_ and arg_182_1.time_ < var_185_85 + var_185_86 then
				arg_182_1.typewritter.percent = (arg_182_1.time_ - var_185_85) / var_185_86

				arg_182_1.typewritter:SetDirty()
			end

			if arg_182_1.time_ >= var_185_85 + var_185_86 and arg_182_1.time_ < var_185_85 + var_185_86 + arg_185_0 then
				arg_182_1.typewritter.percent = 1

				arg_182_1.typewritter:SetDirty()
				arg_182_1:ShowNextGo(true)
			end
		end
	end,
	Play411121044 = function(arg_188_0, arg_188_1)
		arg_188_1.time_ = 0
		arg_188_1.frameCnt_ = 0
		arg_188_1.state_ = "playing"
		arg_188_1.curTalkId_ = 411121044
		arg_188_1.duration_ = 8

		local var_188_0 = {
			zh = 5.5,
			ja = 8
		}
		local var_188_1 = manager.audio:GetLocalizationFlag()

		if var_188_0[var_188_1] ~= nil then
			arg_188_1.duration_ = var_188_0[var_188_1]
		end

		SetActive(arg_188_1.tipsGo_, false)

		function arg_188_1.onSingleLineFinish_()
			arg_188_1.onSingleLineUpdate_ = nil
			arg_188_1.onSingleLineFinish_ = nil
			arg_188_1.state_ = "waiting"
		end

		function arg_188_1.playNext_(arg_190_0)
			if arg_190_0 == 1 then
				arg_188_0:Play411121045(arg_188_1)
			end
		end

		function arg_188_1.onSingleLineUpdate_(arg_191_0)
			local var_191_0 = 0
			local var_191_1 = 0.6

			if var_191_0 < arg_188_1.time_ and arg_188_1.time_ <= var_191_0 + arg_191_0 then
				arg_188_1.talkMaxDuration = 0
				arg_188_1.dialogCg_.alpha = 1

				arg_188_1.dialog_:SetActive(true)
				SetActive(arg_188_1.leftNameGo_, true)

				local var_191_2 = arg_188_1:FormatText(StoryNameCfg[909].name)

				arg_188_1.leftNameTxt_.text = var_191_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_188_1.leftNameTxt_.transform)

				arg_188_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_188_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_188_1:RecordName(arg_188_1.leftNameTxt_.text)
				SetActive(arg_188_1.iconTrs_.gameObject, false)
				arg_188_1.callingController_:SetSelectedState("normal")

				local var_191_3 = arg_188_1:GetWordFromCfg(411121044)
				local var_191_4 = arg_188_1:FormatText(var_191_3.content)

				arg_188_1.text_.text = var_191_4

				LuaForUtil.ClearLinePrefixSymbol(arg_188_1.text_)

				local var_191_5 = 24
				local var_191_6 = utf8.len(var_191_4)
				local var_191_7 = var_191_5 <= 0 and var_191_1 or var_191_1 * (var_191_6 / var_191_5)

				if var_191_7 > 0 and var_191_1 < var_191_7 then
					arg_188_1.talkMaxDuration = var_191_7

					if var_191_7 + var_191_0 > arg_188_1.duration_ then
						arg_188_1.duration_ = var_191_7 + var_191_0
					end
				end

				arg_188_1.text_.text = var_191_4
				arg_188_1.typewritter.percent = 0

				arg_188_1.typewritter:SetDirty()
				arg_188_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121044", "story_v_out_411121.awb") ~= 0 then
					local var_191_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121044", "story_v_out_411121.awb") / 1000

					if var_191_8 + var_191_0 > arg_188_1.duration_ then
						arg_188_1.duration_ = var_191_8 + var_191_0
					end

					if var_191_3.prefab_name ~= "" and arg_188_1.actors_[var_191_3.prefab_name] ~= nil then
						local var_191_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_188_1.actors_[var_191_3.prefab_name].transform, "story_v_out_411121", "411121044", "story_v_out_411121.awb")

						arg_188_1:RecordAudio("411121044", var_191_9)
						arg_188_1:RecordAudio("411121044", var_191_9)
					else
						arg_188_1:AudioAction("play", "voice", "story_v_out_411121", "411121044", "story_v_out_411121.awb")
					end

					arg_188_1:RecordHistoryTalkVoice("story_v_out_411121", "411121044", "story_v_out_411121.awb")
				end

				arg_188_1:RecordContent(arg_188_1.text_.text)
			end

			local var_191_10 = math.max(var_191_1, arg_188_1.talkMaxDuration)

			if var_191_0 <= arg_188_1.time_ and arg_188_1.time_ < var_191_0 + var_191_10 then
				arg_188_1.typewritter.percent = (arg_188_1.time_ - var_191_0) / var_191_10

				arg_188_1.typewritter:SetDirty()
			end

			if arg_188_1.time_ >= var_191_0 + var_191_10 and arg_188_1.time_ < var_191_0 + var_191_10 + arg_191_0 then
				arg_188_1.typewritter.percent = 1

				arg_188_1.typewritter:SetDirty()
				arg_188_1:ShowNextGo(true)
			end
		end
	end,
	Play411121045 = function(arg_192_0, arg_192_1)
		arg_192_1.time_ = 0
		arg_192_1.frameCnt_ = 0
		arg_192_1.state_ = "playing"
		arg_192_1.curTalkId_ = 411121045
		arg_192_1.duration_ = 5.33

		local var_192_0 = {
			zh = 4.466,
			ja = 5.333
		}
		local var_192_1 = manager.audio:GetLocalizationFlag()

		if var_192_0[var_192_1] ~= nil then
			arg_192_1.duration_ = var_192_0[var_192_1]
		end

		SetActive(arg_192_1.tipsGo_, false)

		function arg_192_1.onSingleLineFinish_()
			arg_192_1.onSingleLineUpdate_ = nil
			arg_192_1.onSingleLineFinish_ = nil
			arg_192_1.state_ = "waiting"
		end

		function arg_192_1.playNext_(arg_194_0)
			if arg_194_0 == 1 then
				arg_192_0:Play411121046(arg_192_1)
			end
		end

		function arg_192_1.onSingleLineUpdate_(arg_195_0)
			local var_195_0 = arg_192_1.actors_["1095ui_story"]
			local var_195_1 = 0

			if var_195_1 < arg_192_1.time_ and arg_192_1.time_ <= var_195_1 + arg_195_0 and not isNil(var_195_0) and arg_192_1.var_.characterEffect1095ui_story == nil then
				arg_192_1.var_.characterEffect1095ui_story = var_195_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_195_2 = 0.200000002980232

			if var_195_1 <= arg_192_1.time_ and arg_192_1.time_ < var_195_1 + var_195_2 and not isNil(var_195_0) then
				local var_195_3 = (arg_192_1.time_ - var_195_1) / var_195_2

				if arg_192_1.var_.characterEffect1095ui_story and not isNil(var_195_0) then
					local var_195_4 = Mathf.Lerp(0, 0.5, var_195_3)

					arg_192_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_192_1.var_.characterEffect1095ui_story.fillRatio = var_195_4
				end
			end

			if arg_192_1.time_ >= var_195_1 + var_195_2 and arg_192_1.time_ < var_195_1 + var_195_2 + arg_195_0 and not isNil(var_195_0) and arg_192_1.var_.characterEffect1095ui_story then
				local var_195_5 = 0.5

				arg_192_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_192_1.var_.characterEffect1095ui_story.fillRatio = var_195_5
			end

			local var_195_6 = 0
			local var_195_7 = 0.45

			if var_195_6 < arg_192_1.time_ and arg_192_1.time_ <= var_195_6 + arg_195_0 then
				arg_192_1.talkMaxDuration = 0
				arg_192_1.dialogCg_.alpha = 1

				arg_192_1.dialog_:SetActive(true)
				SetActive(arg_192_1.leftNameGo_, true)

				local var_195_8 = arg_192_1:FormatText(StoryNameCfg[670].name)

				arg_192_1.leftNameTxt_.text = var_195_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_192_1.leftNameTxt_.transform)

				arg_192_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_192_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_192_1:RecordName(arg_192_1.leftNameTxt_.text)
				SetActive(arg_192_1.iconTrs_.gameObject, true)
				arg_192_1.iconController_:SetSelectedState("hero")

				arg_192_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072")

				arg_192_1.callingController_:SetSelectedState("normal")

				arg_192_1.keyicon_.color = Color.New(1, 1, 1)
				arg_192_1.icon_.color = Color.New(1, 1, 1)

				local var_195_9 = arg_192_1:GetWordFromCfg(411121045)
				local var_195_10 = arg_192_1:FormatText(var_195_9.content)

				arg_192_1.text_.text = var_195_10

				LuaForUtil.ClearLinePrefixSymbol(arg_192_1.text_)

				local var_195_11 = 18
				local var_195_12 = utf8.len(var_195_10)
				local var_195_13 = var_195_11 <= 0 and var_195_7 or var_195_7 * (var_195_12 / var_195_11)

				if var_195_13 > 0 and var_195_7 < var_195_13 then
					arg_192_1.talkMaxDuration = var_195_13

					if var_195_13 + var_195_6 > arg_192_1.duration_ then
						arg_192_1.duration_ = var_195_13 + var_195_6
					end
				end

				arg_192_1.text_.text = var_195_10
				arg_192_1.typewritter.percent = 0

				arg_192_1.typewritter:SetDirty()
				arg_192_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121045", "story_v_out_411121.awb") ~= 0 then
					local var_195_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121045", "story_v_out_411121.awb") / 1000

					if var_195_14 + var_195_6 > arg_192_1.duration_ then
						arg_192_1.duration_ = var_195_14 + var_195_6
					end

					if var_195_9.prefab_name ~= "" and arg_192_1.actors_[var_195_9.prefab_name] ~= nil then
						local var_195_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_192_1.actors_[var_195_9.prefab_name].transform, "story_v_out_411121", "411121045", "story_v_out_411121.awb")

						arg_192_1:RecordAudio("411121045", var_195_15)
						arg_192_1:RecordAudio("411121045", var_195_15)
					else
						arg_192_1:AudioAction("play", "voice", "story_v_out_411121", "411121045", "story_v_out_411121.awb")
					end

					arg_192_1:RecordHistoryTalkVoice("story_v_out_411121", "411121045", "story_v_out_411121.awb")
				end

				arg_192_1:RecordContent(arg_192_1.text_.text)
			end

			local var_195_16 = math.max(var_195_7, arg_192_1.talkMaxDuration)

			if var_195_6 <= arg_192_1.time_ and arg_192_1.time_ < var_195_6 + var_195_16 then
				arg_192_1.typewritter.percent = (arg_192_1.time_ - var_195_6) / var_195_16

				arg_192_1.typewritter:SetDirty()
			end

			if arg_192_1.time_ >= var_195_6 + var_195_16 and arg_192_1.time_ < var_195_6 + var_195_16 + arg_195_0 then
				arg_192_1.typewritter.percent = 1

				arg_192_1.typewritter:SetDirty()
				arg_192_1:ShowNextGo(true)
			end
		end
	end,
	Play411121046 = function(arg_196_0, arg_196_1)
		arg_196_1.time_ = 0
		arg_196_1.frameCnt_ = 0
		arg_196_1.state_ = "playing"
		arg_196_1.curTalkId_ = 411121046
		arg_196_1.duration_ = 2.57

		local var_196_0 = {
			zh = 1.833,
			ja = 2.566
		}
		local var_196_1 = manager.audio:GetLocalizationFlag()

		if var_196_0[var_196_1] ~= nil then
			arg_196_1.duration_ = var_196_0[var_196_1]
		end

		SetActive(arg_196_1.tipsGo_, false)

		function arg_196_1.onSingleLineFinish_()
			arg_196_1.onSingleLineUpdate_ = nil
			arg_196_1.onSingleLineFinish_ = nil
			arg_196_1.state_ = "waiting"
		end

		function arg_196_1.playNext_(arg_198_0)
			if arg_198_0 == 1 then
				arg_196_0:Play411121047(arg_196_1)
			end
		end

		function arg_196_1.onSingleLineUpdate_(arg_199_0)
			local var_199_0 = 0
			local var_199_1 = 0.15

			if var_199_0 < arg_196_1.time_ and arg_196_1.time_ <= var_199_0 + arg_199_0 then
				arg_196_1.talkMaxDuration = 0
				arg_196_1.dialogCg_.alpha = 1

				arg_196_1.dialog_:SetActive(true)
				SetActive(arg_196_1.leftNameGo_, true)

				local var_199_2 = arg_196_1:FormatText(StoryNameCfg[670].name)

				arg_196_1.leftNameTxt_.text = var_199_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_196_1.leftNameTxt_.transform)

				arg_196_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_196_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_196_1:RecordName(arg_196_1.leftNameTxt_.text)
				SetActive(arg_196_1.iconTrs_.gameObject, true)
				arg_196_1.iconController_:SetSelectedState("hero")

				arg_196_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072")

				arg_196_1.callingController_:SetSelectedState("normal")

				arg_196_1.keyicon_.color = Color.New(1, 1, 1)
				arg_196_1.icon_.color = Color.New(1, 1, 1)

				local var_199_3 = arg_196_1:GetWordFromCfg(411121046)
				local var_199_4 = arg_196_1:FormatText(var_199_3.content)

				arg_196_1.text_.text = var_199_4

				LuaForUtil.ClearLinePrefixSymbol(arg_196_1.text_)

				local var_199_5 = 6
				local var_199_6 = utf8.len(var_199_4)
				local var_199_7 = var_199_5 <= 0 and var_199_1 or var_199_1 * (var_199_6 / var_199_5)

				if var_199_7 > 0 and var_199_1 < var_199_7 then
					arg_196_1.talkMaxDuration = var_199_7

					if var_199_7 + var_199_0 > arg_196_1.duration_ then
						arg_196_1.duration_ = var_199_7 + var_199_0
					end
				end

				arg_196_1.text_.text = var_199_4
				arg_196_1.typewritter.percent = 0

				arg_196_1.typewritter:SetDirty()
				arg_196_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121046", "story_v_out_411121.awb") ~= 0 then
					local var_199_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121046", "story_v_out_411121.awb") / 1000

					if var_199_8 + var_199_0 > arg_196_1.duration_ then
						arg_196_1.duration_ = var_199_8 + var_199_0
					end

					if var_199_3.prefab_name ~= "" and arg_196_1.actors_[var_199_3.prefab_name] ~= nil then
						local var_199_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_196_1.actors_[var_199_3.prefab_name].transform, "story_v_out_411121", "411121046", "story_v_out_411121.awb")

						arg_196_1:RecordAudio("411121046", var_199_9)
						arg_196_1:RecordAudio("411121046", var_199_9)
					else
						arg_196_1:AudioAction("play", "voice", "story_v_out_411121", "411121046", "story_v_out_411121.awb")
					end

					arg_196_1:RecordHistoryTalkVoice("story_v_out_411121", "411121046", "story_v_out_411121.awb")
				end

				arg_196_1:RecordContent(arg_196_1.text_.text)
			end

			local var_199_10 = math.max(var_199_1, arg_196_1.talkMaxDuration)

			if var_199_0 <= arg_196_1.time_ and arg_196_1.time_ < var_199_0 + var_199_10 then
				arg_196_1.typewritter.percent = (arg_196_1.time_ - var_199_0) / var_199_10

				arg_196_1.typewritter:SetDirty()
			end

			if arg_196_1.time_ >= var_199_0 + var_199_10 and arg_196_1.time_ < var_199_0 + var_199_10 + arg_199_0 then
				arg_196_1.typewritter.percent = 1

				arg_196_1.typewritter:SetDirty()
				arg_196_1:ShowNextGo(true)
			end
		end
	end,
	Play411121047 = function(arg_200_0, arg_200_1)
		arg_200_1.time_ = 0
		arg_200_1.frameCnt_ = 0
		arg_200_1.state_ = "playing"
		arg_200_1.curTalkId_ = 411121047
		arg_200_1.duration_ = 1.5

		local var_200_0 = {
			zh = 1.466,
			ja = 1.5
		}
		local var_200_1 = manager.audio:GetLocalizationFlag()

		if var_200_0[var_200_1] ~= nil then
			arg_200_1.duration_ = var_200_0[var_200_1]
		end

		SetActive(arg_200_1.tipsGo_, false)

		function arg_200_1.onSingleLineFinish_()
			arg_200_1.onSingleLineUpdate_ = nil
			arg_200_1.onSingleLineFinish_ = nil
			arg_200_1.state_ = "waiting"
		end

		function arg_200_1.playNext_(arg_202_0)
			if arg_202_0 == 1 then
				arg_200_0:Play411121048(arg_200_1)
			end
		end

		function arg_200_1.onSingleLineUpdate_(arg_203_0)
			local var_203_0 = 0
			local var_203_1 = 0.125

			if var_203_0 < arg_200_1.time_ and arg_200_1.time_ <= var_203_0 + arg_203_0 then
				arg_200_1.talkMaxDuration = 0
				arg_200_1.dialogCg_.alpha = 1

				arg_200_1.dialog_:SetActive(true)
				SetActive(arg_200_1.leftNameGo_, true)

				local var_203_2 = arg_200_1:FormatText(StoryNameCfg[471].name)

				arg_200_1.leftNameTxt_.text = var_203_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_200_1.leftNameTxt_.transform)

				arg_200_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_200_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_200_1:RecordName(arg_200_1.leftNameTxt_.text)
				SetActive(arg_200_1.iconTrs_.gameObject, true)
				arg_200_1.iconController_:SetSelectedState("hero")

				arg_200_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_1095")

				arg_200_1.callingController_:SetSelectedState("normal")

				arg_200_1.keyicon_.color = Color.New(1, 1, 1)
				arg_200_1.icon_.color = Color.New(1, 1, 1)

				local var_203_3 = arg_200_1:GetWordFromCfg(411121047)
				local var_203_4 = arg_200_1:FormatText(var_203_3.content)

				arg_200_1.text_.text = var_203_4

				LuaForUtil.ClearLinePrefixSymbol(arg_200_1.text_)

				local var_203_5 = 5
				local var_203_6 = utf8.len(var_203_4)
				local var_203_7 = var_203_5 <= 0 and var_203_1 or var_203_1 * (var_203_6 / var_203_5)

				if var_203_7 > 0 and var_203_1 < var_203_7 then
					arg_200_1.talkMaxDuration = var_203_7

					if var_203_7 + var_203_0 > arg_200_1.duration_ then
						arg_200_1.duration_ = var_203_7 + var_203_0
					end
				end

				arg_200_1.text_.text = var_203_4
				arg_200_1.typewritter.percent = 0

				arg_200_1.typewritter:SetDirty()
				arg_200_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121047", "story_v_out_411121.awb") ~= 0 then
					local var_203_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121047", "story_v_out_411121.awb") / 1000

					if var_203_8 + var_203_0 > arg_200_1.duration_ then
						arg_200_1.duration_ = var_203_8 + var_203_0
					end

					if var_203_3.prefab_name ~= "" and arg_200_1.actors_[var_203_3.prefab_name] ~= nil then
						local var_203_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_200_1.actors_[var_203_3.prefab_name].transform, "story_v_out_411121", "411121047", "story_v_out_411121.awb")

						arg_200_1:RecordAudio("411121047", var_203_9)
						arg_200_1:RecordAudio("411121047", var_203_9)
					else
						arg_200_1:AudioAction("play", "voice", "story_v_out_411121", "411121047", "story_v_out_411121.awb")
					end

					arg_200_1:RecordHistoryTalkVoice("story_v_out_411121", "411121047", "story_v_out_411121.awb")
				end

				arg_200_1:RecordContent(arg_200_1.text_.text)
			end

			local var_203_10 = math.max(var_203_1, arg_200_1.talkMaxDuration)

			if var_203_0 <= arg_200_1.time_ and arg_200_1.time_ < var_203_0 + var_203_10 then
				arg_200_1.typewritter.percent = (arg_200_1.time_ - var_203_0) / var_203_10

				arg_200_1.typewritter:SetDirty()
			end

			if arg_200_1.time_ >= var_203_0 + var_203_10 and arg_200_1.time_ < var_203_0 + var_203_10 + arg_203_0 then
				arg_200_1.typewritter.percent = 1

				arg_200_1.typewritter:SetDirty()
				arg_200_1:ShowNextGo(true)
			end
		end
	end,
	Play411121048 = function(arg_204_0, arg_204_1)
		arg_204_1.time_ = 0
		arg_204_1.frameCnt_ = 0
		arg_204_1.state_ = "playing"
		arg_204_1.curTalkId_ = 411121048
		arg_204_1.duration_ = 6.53

		local var_204_0 = {
			zh = 6.53333333333333,
			ja = 6.09933333333333
		}
		local var_204_1 = manager.audio:GetLocalizationFlag()

		if var_204_0[var_204_1] ~= nil then
			arg_204_1.duration_ = var_204_0[var_204_1]
		end

		SetActive(arg_204_1.tipsGo_, false)

		function arg_204_1.onSingleLineFinish_()
			arg_204_1.onSingleLineUpdate_ = nil
			arg_204_1.onSingleLineFinish_ = nil
			arg_204_1.state_ = "waiting"
		end

		function arg_204_1.playNext_(arg_206_0)
			if arg_206_0 == 1 then
				arg_204_0:Play411121049(arg_204_1)
			end
		end

		function arg_204_1.onSingleLineUpdate_(arg_207_0)
			local var_207_0 = "10071ui_story"

			if arg_204_1.actors_[var_207_0] == nil then
				local var_207_1 = Asset.Load("Char/" .. "10071ui_story")

				if not isNil(var_207_1) then
					local var_207_2 = Object.Instantiate(Asset.Load("Char/" .. "10071ui_story"), arg_204_1.stage_.transform)

					var_207_2.name = var_207_0
					var_207_2.transform.localPosition = Vector3.New(0, 100, 0)
					arg_204_1.actors_[var_207_0] = var_207_2

					local var_207_3 = var_207_2:GetComponentInChildren(typeof(CharacterEffect))

					var_207_3.enabled = true

					local var_207_4 = GameObjectTools.GetOrAddComponent(var_207_2, typeof(DynamicBoneHelper))

					if var_207_4 then
						var_207_4:EnableDynamicBone(false)
					end

					arg_204_1:ShowWeapon(var_207_3.transform, false)

					arg_204_1.var_[var_207_0 .. "Animator"] = var_207_3.gameObject:GetComponent(typeof(UnityEngine.Animator))
					arg_204_1.var_[var_207_0 .. "Animator"].applyRootMotion = true
					arg_204_1.var_[var_207_0 .. "LipSync"] = var_207_3.gameObject:GetComponentInChildren(typeof(RogoDigital.Lipsync.LipSync))
				end
			end

			local var_207_5 = arg_204_1.actors_["10071ui_story"].transform
			local var_207_6 = 3.93333333333433

			if var_207_6 < arg_204_1.time_ and arg_204_1.time_ <= var_207_6 + arg_207_0 then
				arg_204_1.var_.moveOldPos10071ui_story = var_207_5.localPosition
			end

			local var_207_7 = 0.001

			if var_207_6 <= arg_204_1.time_ and arg_204_1.time_ < var_207_6 + var_207_7 then
				local var_207_8 = (arg_204_1.time_ - var_207_6) / var_207_7
				local var_207_9 = Vector3.New(0, -0.9, -6.26)

				var_207_5.localPosition = Vector3.Lerp(arg_204_1.var_.moveOldPos10071ui_story, var_207_9, var_207_8)

				local var_207_10 = manager.ui.mainCamera.transform.position - var_207_5.position

				var_207_5.forward = Vector3.New(var_207_10.x, var_207_10.y, var_207_10.z)

				local var_207_11 = var_207_5.localEulerAngles

				var_207_11.z = 0
				var_207_11.x = 0
				var_207_5.localEulerAngles = var_207_11
			end

			if arg_204_1.time_ >= var_207_6 + var_207_7 and arg_204_1.time_ < var_207_6 + var_207_7 + arg_207_0 then
				var_207_5.localPosition = Vector3.New(0, -0.9, -6.26)

				local var_207_12 = manager.ui.mainCamera.transform.position - var_207_5.position

				var_207_5.forward = Vector3.New(var_207_12.x, var_207_12.y, var_207_12.z)

				local var_207_13 = var_207_5.localEulerAngles

				var_207_13.z = 0
				var_207_13.x = 0
				var_207_5.localEulerAngles = var_207_13
			end

			local var_207_14 = arg_204_1.actors_["10071ui_story"]
			local var_207_15 = 3.93333333333433

			if var_207_15 < arg_204_1.time_ and arg_204_1.time_ <= var_207_15 + arg_207_0 and not isNil(var_207_14) and arg_204_1.var_.characterEffect10071ui_story == nil then
				arg_204_1.var_.characterEffect10071ui_story = var_207_14:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_207_16 = 0.200000002980232

			if var_207_15 <= arg_204_1.time_ and arg_204_1.time_ < var_207_15 + var_207_16 and not isNil(var_207_14) then
				local var_207_17 = (arg_204_1.time_ - var_207_15) / var_207_16

				if arg_204_1.var_.characterEffect10071ui_story and not isNil(var_207_14) then
					arg_204_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_204_1.time_ >= var_207_15 + var_207_16 and arg_204_1.time_ < var_207_15 + var_207_16 + arg_207_0 and not isNil(var_207_14) and arg_204_1.var_.characterEffect10071ui_story then
				arg_204_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_207_18 = 3.93333333333433

			if var_207_18 < arg_204_1.time_ and arg_204_1.time_ <= var_207_18 + arg_207_0 then
				arg_204_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/story10071/story10071action/10071action2_1")
			end

			local var_207_19 = 3.93333333333433

			if var_207_19 < arg_204_1.time_ and arg_204_1.time_ <= var_207_19 + arg_207_0 then
				arg_204_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface2102cva")
			end

			local var_207_20 = arg_204_1.actors_["1095ui_story"].transform
			local var_207_21 = 2

			if var_207_21 < arg_204_1.time_ and arg_204_1.time_ <= var_207_21 + arg_207_0 then
				arg_204_1.var_.moveOldPos1095ui_story = var_207_20.localPosition
			end

			local var_207_22 = 0.001

			if var_207_21 <= arg_204_1.time_ and arg_204_1.time_ < var_207_21 + var_207_22 then
				local var_207_23 = (arg_204_1.time_ - var_207_21) / var_207_22
				local var_207_24 = Vector3.New(0, 100, 0)

				var_207_20.localPosition = Vector3.Lerp(arg_204_1.var_.moveOldPos1095ui_story, var_207_24, var_207_23)

				local var_207_25 = manager.ui.mainCamera.transform.position - var_207_20.position

				var_207_20.forward = Vector3.New(var_207_25.x, var_207_25.y, var_207_25.z)

				local var_207_26 = var_207_20.localEulerAngles

				var_207_26.z = 0
				var_207_26.x = 0
				var_207_20.localEulerAngles = var_207_26
			end

			if arg_204_1.time_ >= var_207_21 + var_207_22 and arg_204_1.time_ < var_207_21 + var_207_22 + arg_207_0 then
				var_207_20.localPosition = Vector3.New(0, 100, 0)

				local var_207_27 = manager.ui.mainCamera.transform.position - var_207_20.position

				var_207_20.forward = Vector3.New(var_207_27.x, var_207_27.y, var_207_27.z)

				local var_207_28 = var_207_20.localEulerAngles

				var_207_28.z = 0
				var_207_28.x = 0
				var_207_20.localEulerAngles = var_207_28
			end

			local var_207_29 = 0

			if var_207_29 < arg_204_1.time_ and arg_204_1.time_ <= var_207_29 + arg_207_0 then
				local var_207_30 = manager.ui.mainCamera.transform.localPosition
				local var_207_31 = Vector3.New(0, 0, 10) + Vector3.New(var_207_30.x, var_207_30.y, 0)
				local var_207_32 = arg_204_1.bgs_.B03b

				var_207_32.transform.localPosition = var_207_31
				var_207_32.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_207_33 = var_207_32:GetComponent("SpriteRenderer")

				if var_207_33 and var_207_33.sprite then
					local var_207_34 = (var_207_32.transform.localPosition - var_207_30).z
					local var_207_35 = manager.ui.mainCameraCom_
					local var_207_36 = 2 * var_207_34 * Mathf.Tan(var_207_35.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_207_37 = var_207_36 * var_207_35.aspect
					local var_207_38 = var_207_33.sprite.bounds.size.x
					local var_207_39 = var_207_33.sprite.bounds.size.y
					local var_207_40 = var_207_37 / var_207_38
					local var_207_41 = var_207_36 / var_207_39
					local var_207_42 = var_207_41 < var_207_40 and var_207_40 or var_207_41

					var_207_32.transform.localScale = Vector3.New(var_207_42, var_207_42, 0)
				end

				for iter_207_0, iter_207_1 in pairs(arg_204_1.bgs_) do
					if iter_207_0 ~= "B03b" then
						iter_207_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_207_43 = "I11r"

			if arg_204_1.bgs_[var_207_43] == nil then
				local var_207_44 = Object.Instantiate(arg_204_1.paintGo_)

				var_207_44:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_207_43)
				var_207_44.name = var_207_43
				var_207_44.transform.parent = arg_204_1.stage_.transform
				var_207_44.transform.localPosition = Vector3.New(0, 100, 0)
				arg_204_1.bgs_[var_207_43] = var_207_44
			end

			local var_207_45 = 2

			if var_207_45 < arg_204_1.time_ and arg_204_1.time_ <= var_207_45 + arg_207_0 then
				local var_207_46 = manager.ui.mainCamera.transform.localPosition
				local var_207_47 = Vector3.New(0, 0, 10) + Vector3.New(var_207_46.x, var_207_46.y, 0)
				local var_207_48 = arg_204_1.bgs_.I11r

				var_207_48.transform.localPosition = var_207_47
				var_207_48.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_207_49 = var_207_48:GetComponent("SpriteRenderer")

				if var_207_49 and var_207_49.sprite then
					local var_207_50 = (var_207_48.transform.localPosition - var_207_46).z
					local var_207_51 = manager.ui.mainCameraCom_
					local var_207_52 = 2 * var_207_50 * Mathf.Tan(var_207_51.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_207_53 = var_207_52 * var_207_51.aspect
					local var_207_54 = var_207_49.sprite.bounds.size.x
					local var_207_55 = var_207_49.sprite.bounds.size.y
					local var_207_56 = var_207_53 / var_207_54
					local var_207_57 = var_207_52 / var_207_55
					local var_207_58 = var_207_57 < var_207_56 and var_207_56 or var_207_57

					var_207_48.transform.localScale = Vector3.New(var_207_58, var_207_58, 0)
				end

				for iter_207_2, iter_207_3 in pairs(arg_204_1.bgs_) do
					if iter_207_2 ~= "I11r" then
						iter_207_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_207_59 = 0

			if var_207_59 < arg_204_1.time_ and arg_204_1.time_ <= var_207_59 + arg_207_0 then
				arg_204_1.mask_.enabled = true
				arg_204_1.mask_.raycastTarget = true

				arg_204_1:SetGaussion(false)
			end

			local var_207_60 = 2

			if var_207_59 <= arg_204_1.time_ and arg_204_1.time_ < var_207_59 + var_207_60 then
				local var_207_61 = (arg_204_1.time_ - var_207_59) / var_207_60
				local var_207_62 = Color.New(0, 0, 0)

				var_207_62.a = Mathf.Lerp(0, 1, var_207_61)
				arg_204_1.mask_.color = var_207_62
			end

			if arg_204_1.time_ >= var_207_59 + var_207_60 and arg_204_1.time_ < var_207_59 + var_207_60 + arg_207_0 then
				local var_207_63 = Color.New(0, 0, 0)

				var_207_63.a = 1
				arg_204_1.mask_.color = var_207_63
			end

			local var_207_64 = 2

			if var_207_64 < arg_204_1.time_ and arg_204_1.time_ <= var_207_64 + arg_207_0 then
				arg_204_1.mask_.enabled = true
				arg_204_1.mask_.raycastTarget = true

				arg_204_1:SetGaussion(false)
			end

			local var_207_65 = 1.999999999999

			if var_207_64 <= arg_204_1.time_ and arg_204_1.time_ < var_207_64 + var_207_65 then
				local var_207_66 = (arg_204_1.time_ - var_207_64) / var_207_65
				local var_207_67 = Color.New(0, 0, 0)

				var_207_67.a = Mathf.Lerp(1, 0, var_207_66)
				arg_204_1.mask_.color = var_207_67
			end

			if arg_204_1.time_ >= var_207_64 + var_207_65 and arg_204_1.time_ < var_207_64 + var_207_65 + arg_207_0 then
				local var_207_68 = Color.New(0, 0, 0)
				local var_207_69 = 0

				arg_204_1.mask_.enabled = false
				var_207_68.a = var_207_69
				arg_204_1.mask_.color = var_207_68
			end

			if arg_204_1.frameCnt_ <= 1 then
				arg_204_1.dialog_:SetActive(false)
			end

			local var_207_70 = 3.93333333333333
			local var_207_71 = 0.266666666666667

			if var_207_70 < arg_204_1.time_ and arg_204_1.time_ <= var_207_70 + arg_207_0 then
				arg_204_1.talkMaxDuration = 0

				arg_204_1.dialog_:SetActive(true)

				local var_207_72 = LeanTween.value(arg_204_1.dialog_, 0, 1, 0.3)

				var_207_72:setOnUpdate(LuaHelper.FloatAction(function(arg_208_0)
					arg_204_1.dialogCg_.alpha = arg_208_0
				end))
				var_207_72:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_204_1.dialog_)
					var_207_72:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_204_1.duration_ = arg_204_1.duration_ + 0.3

				SetActive(arg_204_1.leftNameGo_, true)

				local var_207_73 = arg_204_1:FormatText(StoryNameCfg[670].name)

				arg_204_1.leftNameTxt_.text = var_207_73

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_204_1.leftNameTxt_.transform)

				arg_204_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_204_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_204_1:RecordName(arg_204_1.leftNameTxt_.text)
				SetActive(arg_204_1.iconTrs_.gameObject, false)
				arg_204_1.callingController_:SetSelectedState("normal")

				local var_207_74 = arg_204_1:GetWordFromCfg(411121048)
				local var_207_75 = arg_204_1:FormatText(var_207_74.content)

				arg_204_1.text_.text = var_207_75

				LuaForUtil.ClearLinePrefixSymbol(arg_204_1.text_)

				local var_207_76 = 5
				local var_207_77 = utf8.len(var_207_75)
				local var_207_78 = var_207_76 <= 0 and var_207_71 or var_207_71 * (var_207_77 / var_207_76)

				if var_207_78 > 0 and var_207_71 < var_207_78 then
					arg_204_1.talkMaxDuration = var_207_78
					var_207_70 = var_207_70 + 0.3

					if var_207_78 + var_207_70 > arg_204_1.duration_ then
						arg_204_1.duration_ = var_207_78 + var_207_70
					end
				end

				arg_204_1.text_.text = var_207_75
				arg_204_1.typewritter.percent = 0

				arg_204_1.typewritter:SetDirty()
				arg_204_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121048", "story_v_out_411121.awb") ~= 0 then
					local var_207_79 = manager.audio:GetVoiceLength("story_v_out_411121", "411121048", "story_v_out_411121.awb") / 1000

					if var_207_79 + var_207_70 > arg_204_1.duration_ then
						arg_204_1.duration_ = var_207_79 + var_207_70
					end

					if var_207_74.prefab_name ~= "" and arg_204_1.actors_[var_207_74.prefab_name] ~= nil then
						local var_207_80 = LuaForUtil.PlayVoiceWithCriLipsync(arg_204_1.actors_[var_207_74.prefab_name].transform, "story_v_out_411121", "411121048", "story_v_out_411121.awb")

						arg_204_1:RecordAudio("411121048", var_207_80)
						arg_204_1:RecordAudio("411121048", var_207_80)
					else
						arg_204_1:AudioAction("play", "voice", "story_v_out_411121", "411121048", "story_v_out_411121.awb")
					end

					arg_204_1:RecordHistoryTalkVoice("story_v_out_411121", "411121048", "story_v_out_411121.awb")
				end

				arg_204_1:RecordContent(arg_204_1.text_.text)
			end

			local var_207_81 = var_207_70 + 0.3
			local var_207_82 = math.max(var_207_71, arg_204_1.talkMaxDuration)

			if var_207_81 <= arg_204_1.time_ and arg_204_1.time_ < var_207_81 + var_207_82 then
				arg_204_1.typewritter.percent = (arg_204_1.time_ - var_207_81) / var_207_82

				arg_204_1.typewritter:SetDirty()
			end

			if arg_204_1.time_ >= var_207_81 + var_207_82 and arg_204_1.time_ < var_207_81 + var_207_82 + arg_207_0 then
				arg_204_1.typewritter.percent = 1

				arg_204_1.typewritter:SetDirty()
				arg_204_1:ShowNextGo(true)
			end
		end
	end,
	Play411121049 = function(arg_210_0, arg_210_1)
		arg_210_1.time_ = 0
		arg_210_1.frameCnt_ = 0
		arg_210_1.state_ = "playing"
		arg_210_1.curTalkId_ = 411121049
		arg_210_1.duration_ = 5

		SetActive(arg_210_1.tipsGo_, false)

		function arg_210_1.onSingleLineFinish_()
			arg_210_1.onSingleLineUpdate_ = nil
			arg_210_1.onSingleLineFinish_ = nil
			arg_210_1.state_ = "waiting"
		end

		function arg_210_1.playNext_(arg_212_0)
			if arg_212_0 == 1 then
				arg_210_0:Play411121050(arg_210_1)
			end
		end

		function arg_210_1.onSingleLineUpdate_(arg_213_0)
			local var_213_0 = arg_210_1.actors_["10071ui_story"]
			local var_213_1 = 0

			if var_213_1 < arg_210_1.time_ and arg_210_1.time_ <= var_213_1 + arg_213_0 and not isNil(var_213_0) and arg_210_1.var_.characterEffect10071ui_story == nil then
				arg_210_1.var_.characterEffect10071ui_story = var_213_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_213_2 = 0.200000002980232

			if var_213_1 <= arg_210_1.time_ and arg_210_1.time_ < var_213_1 + var_213_2 and not isNil(var_213_0) then
				local var_213_3 = (arg_210_1.time_ - var_213_1) / var_213_2

				if arg_210_1.var_.characterEffect10071ui_story and not isNil(var_213_0) then
					local var_213_4 = Mathf.Lerp(0, 0.5, var_213_3)

					arg_210_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_210_1.var_.characterEffect10071ui_story.fillRatio = var_213_4
				end
			end

			if arg_210_1.time_ >= var_213_1 + var_213_2 and arg_210_1.time_ < var_213_1 + var_213_2 + arg_213_0 and not isNil(var_213_0) and arg_210_1.var_.characterEffect10071ui_story then
				local var_213_5 = 0.5

				arg_210_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_210_1.var_.characterEffect10071ui_story.fillRatio = var_213_5
			end

			local var_213_6 = arg_210_1.actors_["10071ui_story"].transform
			local var_213_7 = 0

			if var_213_7 < arg_210_1.time_ and arg_210_1.time_ <= var_213_7 + arg_213_0 then
				arg_210_1.var_.moveOldPos10071ui_story = var_213_6.localPosition
			end

			local var_213_8 = 0.001

			if var_213_7 <= arg_210_1.time_ and arg_210_1.time_ < var_213_7 + var_213_8 then
				local var_213_9 = (arg_210_1.time_ - var_213_7) / var_213_8
				local var_213_10 = Vector3.New(0, 100, 0)

				var_213_6.localPosition = Vector3.Lerp(arg_210_1.var_.moveOldPos10071ui_story, var_213_10, var_213_9)

				local var_213_11 = manager.ui.mainCamera.transform.position - var_213_6.position

				var_213_6.forward = Vector3.New(var_213_11.x, var_213_11.y, var_213_11.z)

				local var_213_12 = var_213_6.localEulerAngles

				var_213_12.z = 0
				var_213_12.x = 0
				var_213_6.localEulerAngles = var_213_12
			end

			if arg_210_1.time_ >= var_213_7 + var_213_8 and arg_210_1.time_ < var_213_7 + var_213_8 + arg_213_0 then
				var_213_6.localPosition = Vector3.New(0, 100, 0)

				local var_213_13 = manager.ui.mainCamera.transform.position - var_213_6.position

				var_213_6.forward = Vector3.New(var_213_13.x, var_213_13.y, var_213_13.z)

				local var_213_14 = var_213_6.localEulerAngles

				var_213_14.z = 0
				var_213_14.x = 0
				var_213_6.localEulerAngles = var_213_14
			end

			local var_213_15 = 0
			local var_213_16 = 1

			if var_213_15 < arg_210_1.time_ and arg_210_1.time_ <= var_213_15 + arg_213_0 then
				local var_213_17 = "play"
				local var_213_18 = "effect"

				arg_210_1:AudioAction(var_213_17, var_213_18, "se_story_6", "se_story_6_monster", "")
			end

			local var_213_19 = 0
			local var_213_20 = 0.15

			if var_213_19 < arg_210_1.time_ and arg_210_1.time_ <= var_213_19 + arg_213_0 then
				arg_210_1.talkMaxDuration = 0
				arg_210_1.dialogCg_.alpha = 1

				arg_210_1.dialog_:SetActive(true)
				SetActive(arg_210_1.leftNameGo_, true)

				local var_213_21 = arg_210_1:FormatText(StoryNameCfg[217].name)

				arg_210_1.leftNameTxt_.text = var_213_21

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_210_1.leftNameTxt_.transform)

				arg_210_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_210_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_210_1:RecordName(arg_210_1.leftNameTxt_.text)
				SetActive(arg_210_1.iconTrs_.gameObject, true)
				arg_210_1.iconController_:SetSelectedState("hero")

				arg_210_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_2118")

				arg_210_1.callingController_:SetSelectedState("normal")

				arg_210_1.keyicon_.color = Color.New(1, 1, 1)
				arg_210_1.icon_.color = Color.New(1, 1, 1)

				local var_213_22 = arg_210_1:GetWordFromCfg(411121049)
				local var_213_23 = arg_210_1:FormatText(var_213_22.content)

				arg_210_1.text_.text = var_213_23

				LuaForUtil.ClearLinePrefixSymbol(arg_210_1.text_)

				local var_213_24 = 6
				local var_213_25 = utf8.len(var_213_23)
				local var_213_26 = var_213_24 <= 0 and var_213_20 or var_213_20 * (var_213_25 / var_213_24)

				if var_213_26 > 0 and var_213_20 < var_213_26 then
					arg_210_1.talkMaxDuration = var_213_26

					if var_213_26 + var_213_19 > arg_210_1.duration_ then
						arg_210_1.duration_ = var_213_26 + var_213_19
					end
				end

				arg_210_1.text_.text = var_213_23
				arg_210_1.typewritter.percent = 0

				arg_210_1.typewritter:SetDirty()
				arg_210_1:ShowNextGo(false)
				arg_210_1:RecordContent(arg_210_1.text_.text)
			end

			local var_213_27 = math.max(var_213_20, arg_210_1.talkMaxDuration)

			if var_213_19 <= arg_210_1.time_ and arg_210_1.time_ < var_213_19 + var_213_27 then
				arg_210_1.typewritter.percent = (arg_210_1.time_ - var_213_19) / var_213_27

				arg_210_1.typewritter:SetDirty()
			end

			if arg_210_1.time_ >= var_213_19 + var_213_27 and arg_210_1.time_ < var_213_19 + var_213_27 + arg_213_0 then
				arg_210_1.typewritter.percent = 1

				arg_210_1.typewritter:SetDirty()
				arg_210_1:ShowNextGo(true)
			end
		end
	end,
	Play411121050 = function(arg_214_0, arg_214_1)
		arg_214_1.time_ = 0
		arg_214_1.frameCnt_ = 0
		arg_214_1.state_ = "playing"
		arg_214_1.curTalkId_ = 411121050
		arg_214_1.duration_ = 2

		SetActive(arg_214_1.tipsGo_, false)

		function arg_214_1.onSingleLineFinish_()
			arg_214_1.onSingleLineUpdate_ = nil
			arg_214_1.onSingleLineFinish_ = nil
			arg_214_1.state_ = "waiting"
		end

		function arg_214_1.playNext_(arg_216_0)
			if arg_216_0 == 1 then
				arg_214_0:Play411121051(arg_214_1)
			end
		end

		function arg_214_1.onSingleLineUpdate_(arg_217_0)
			local var_217_0 = arg_214_1.actors_["1095ui_story"].transform
			local var_217_1 = 0

			if var_217_1 < arg_214_1.time_ and arg_214_1.time_ <= var_217_1 + arg_217_0 then
				arg_214_1.var_.moveOldPos1095ui_story = var_217_0.localPosition
			end

			local var_217_2 = 0.001

			if var_217_1 <= arg_214_1.time_ and arg_214_1.time_ < var_217_1 + var_217_2 then
				local var_217_3 = (arg_214_1.time_ - var_217_1) / var_217_2
				local var_217_4 = Vector3.New(0, -0.98, -6.1)

				var_217_0.localPosition = Vector3.Lerp(arg_214_1.var_.moveOldPos1095ui_story, var_217_4, var_217_3)

				local var_217_5 = manager.ui.mainCamera.transform.position - var_217_0.position

				var_217_0.forward = Vector3.New(var_217_5.x, var_217_5.y, var_217_5.z)

				local var_217_6 = var_217_0.localEulerAngles

				var_217_6.z = 0
				var_217_6.x = 0
				var_217_0.localEulerAngles = var_217_6
			end

			if arg_214_1.time_ >= var_217_1 + var_217_2 and arg_214_1.time_ < var_217_1 + var_217_2 + arg_217_0 then
				var_217_0.localPosition = Vector3.New(0, -0.98, -6.1)

				local var_217_7 = manager.ui.mainCamera.transform.position - var_217_0.position

				var_217_0.forward = Vector3.New(var_217_7.x, var_217_7.y, var_217_7.z)

				local var_217_8 = var_217_0.localEulerAngles

				var_217_8.z = 0
				var_217_8.x = 0
				var_217_0.localEulerAngles = var_217_8
			end

			local var_217_9 = arg_214_1.actors_["1095ui_story"]
			local var_217_10 = 0

			if var_217_10 < arg_214_1.time_ and arg_214_1.time_ <= var_217_10 + arg_217_0 and not isNil(var_217_9) and arg_214_1.var_.characterEffect1095ui_story == nil then
				arg_214_1.var_.characterEffect1095ui_story = var_217_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_217_11 = 0.200000002980232

			if var_217_10 <= arg_214_1.time_ and arg_214_1.time_ < var_217_10 + var_217_11 and not isNil(var_217_9) then
				local var_217_12 = (arg_214_1.time_ - var_217_10) / var_217_11

				if arg_214_1.var_.characterEffect1095ui_story and not isNil(var_217_9) then
					arg_214_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_214_1.time_ >= var_217_10 + var_217_11 and arg_214_1.time_ < var_217_10 + var_217_11 + arg_217_0 and not isNil(var_217_9) and arg_214_1.var_.characterEffect1095ui_story then
				arg_214_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_217_13 = 0

			if var_217_13 < arg_214_1.time_ and arg_214_1.time_ <= var_217_13 + arg_217_0 then
				arg_214_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_217_14 = 0

			if var_217_14 < arg_214_1.time_ and arg_214_1.time_ <= var_217_14 + arg_217_0 then
				arg_214_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface3201cva")
			end

			local var_217_15 = 0
			local var_217_16 = 0.125

			if var_217_15 < arg_214_1.time_ and arg_214_1.time_ <= var_217_15 + arg_217_0 then
				arg_214_1.talkMaxDuration = 0
				arg_214_1.dialogCg_.alpha = 1

				arg_214_1.dialog_:SetActive(true)
				SetActive(arg_214_1.leftNameGo_, true)

				local var_217_17 = arg_214_1:FormatText(StoryNameCfg[909].name)

				arg_214_1.leftNameTxt_.text = var_217_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_214_1.leftNameTxt_.transform)

				arg_214_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_214_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_214_1:RecordName(arg_214_1.leftNameTxt_.text)
				SetActive(arg_214_1.iconTrs_.gameObject, false)
				arg_214_1.callingController_:SetSelectedState("normal")

				local var_217_18 = arg_214_1:GetWordFromCfg(411121050)
				local var_217_19 = arg_214_1:FormatText(var_217_18.content)

				arg_214_1.text_.text = var_217_19

				LuaForUtil.ClearLinePrefixSymbol(arg_214_1.text_)

				local var_217_20 = 5
				local var_217_21 = utf8.len(var_217_19)
				local var_217_22 = var_217_20 <= 0 and var_217_16 or var_217_16 * (var_217_21 / var_217_20)

				if var_217_22 > 0 and var_217_16 < var_217_22 then
					arg_214_1.talkMaxDuration = var_217_22

					if var_217_22 + var_217_15 > arg_214_1.duration_ then
						arg_214_1.duration_ = var_217_22 + var_217_15
					end
				end

				arg_214_1.text_.text = var_217_19
				arg_214_1.typewritter.percent = 0

				arg_214_1.typewritter:SetDirty()
				arg_214_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121050", "story_v_out_411121.awb") ~= 0 then
					local var_217_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121050", "story_v_out_411121.awb") / 1000

					if var_217_23 + var_217_15 > arg_214_1.duration_ then
						arg_214_1.duration_ = var_217_23 + var_217_15
					end

					if var_217_18.prefab_name ~= "" and arg_214_1.actors_[var_217_18.prefab_name] ~= nil then
						local var_217_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_214_1.actors_[var_217_18.prefab_name].transform, "story_v_out_411121", "411121050", "story_v_out_411121.awb")

						arg_214_1:RecordAudio("411121050", var_217_24)
						arg_214_1:RecordAudio("411121050", var_217_24)
					else
						arg_214_1:AudioAction("play", "voice", "story_v_out_411121", "411121050", "story_v_out_411121.awb")
					end

					arg_214_1:RecordHistoryTalkVoice("story_v_out_411121", "411121050", "story_v_out_411121.awb")
				end

				arg_214_1:RecordContent(arg_214_1.text_.text)
			end

			local var_217_25 = math.max(var_217_16, arg_214_1.talkMaxDuration)

			if var_217_15 <= arg_214_1.time_ and arg_214_1.time_ < var_217_15 + var_217_25 then
				arg_214_1.typewritter.percent = (arg_214_1.time_ - var_217_15) / var_217_25

				arg_214_1.typewritter:SetDirty()
			end

			if arg_214_1.time_ >= var_217_15 + var_217_25 and arg_214_1.time_ < var_217_15 + var_217_25 + arg_217_0 then
				arg_214_1.typewritter.percent = 1

				arg_214_1.typewritter:SetDirty()
				arg_214_1:ShowNextGo(true)
			end
		end
	end,
	Play411121051 = function(arg_218_0, arg_218_1)
		arg_218_1.time_ = 0
		arg_218_1.frameCnt_ = 0
		arg_218_1.state_ = "playing"
		arg_218_1.curTalkId_ = 411121051
		arg_218_1.duration_ = 5.5

		local var_218_0 = {
			zh = 3.666,
			ja = 5.5
		}
		local var_218_1 = manager.audio:GetLocalizationFlag()

		if var_218_0[var_218_1] ~= nil then
			arg_218_1.duration_ = var_218_0[var_218_1]
		end

		SetActive(arg_218_1.tipsGo_, false)

		function arg_218_1.onSingleLineFinish_()
			arg_218_1.onSingleLineUpdate_ = nil
			arg_218_1.onSingleLineFinish_ = nil
			arg_218_1.state_ = "waiting"
		end

		function arg_218_1.playNext_(arg_220_0)
			if arg_220_0 == 1 then
				arg_218_0:Play411121052(arg_218_1)
			end
		end

		function arg_218_1.onSingleLineUpdate_(arg_221_0)
			local var_221_0 = arg_218_1.actors_["10071ui_story"].transform
			local var_221_1 = 0

			if var_221_1 < arg_218_1.time_ and arg_218_1.time_ <= var_221_1 + arg_221_0 then
				arg_218_1.var_.moveOldPos10071ui_story = var_221_0.localPosition
			end

			local var_221_2 = 0.001

			if var_221_1 <= arg_218_1.time_ and arg_218_1.time_ < var_221_1 + var_221_2 then
				local var_221_3 = (arg_218_1.time_ - var_221_1) / var_221_2
				local var_221_4 = Vector3.New(0.7, -0.9, -6.26)

				var_221_0.localPosition = Vector3.Lerp(arg_218_1.var_.moveOldPos10071ui_story, var_221_4, var_221_3)

				local var_221_5 = manager.ui.mainCamera.transform.position - var_221_0.position

				var_221_0.forward = Vector3.New(var_221_5.x, var_221_5.y, var_221_5.z)

				local var_221_6 = var_221_0.localEulerAngles

				var_221_6.z = 0
				var_221_6.x = 0
				var_221_0.localEulerAngles = var_221_6
			end

			if arg_218_1.time_ >= var_221_1 + var_221_2 and arg_218_1.time_ < var_221_1 + var_221_2 + arg_221_0 then
				var_221_0.localPosition = Vector3.New(0.7, -0.9, -6.26)

				local var_221_7 = manager.ui.mainCamera.transform.position - var_221_0.position

				var_221_0.forward = Vector3.New(var_221_7.x, var_221_7.y, var_221_7.z)

				local var_221_8 = var_221_0.localEulerAngles

				var_221_8.z = 0
				var_221_8.x = 0
				var_221_0.localEulerAngles = var_221_8
			end

			local var_221_9 = arg_218_1.actors_["10071ui_story"]
			local var_221_10 = 0

			if var_221_10 < arg_218_1.time_ and arg_218_1.time_ <= var_221_10 + arg_221_0 and not isNil(var_221_9) and arg_218_1.var_.characterEffect10071ui_story == nil then
				arg_218_1.var_.characterEffect10071ui_story = var_221_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_221_11 = 0.200000002980232

			if var_221_10 <= arg_218_1.time_ and arg_218_1.time_ < var_221_10 + var_221_11 and not isNil(var_221_9) then
				local var_221_12 = (arg_218_1.time_ - var_221_10) / var_221_11

				if arg_218_1.var_.characterEffect10071ui_story and not isNil(var_221_9) then
					arg_218_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_218_1.time_ >= var_221_10 + var_221_11 and arg_218_1.time_ < var_221_10 + var_221_11 + arg_221_0 and not isNil(var_221_9) and arg_218_1.var_.characterEffect10071ui_story then
				arg_218_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_221_13 = 0

			if var_221_13 < arg_218_1.time_ and arg_218_1.time_ <= var_221_13 + arg_221_0 then
				arg_218_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/story10071/story10071action/10071action2_2")
			end

			local var_221_14 = 0

			if var_221_14 < arg_218_1.time_ and arg_218_1.time_ <= var_221_14 + arg_221_0 then
				arg_218_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface2101cva")
			end

			local var_221_15 = arg_218_1.actors_["1095ui_story"].transform
			local var_221_16 = 0

			if var_221_16 < arg_218_1.time_ and arg_218_1.time_ <= var_221_16 + arg_221_0 then
				arg_218_1.var_.moveOldPos1095ui_story = var_221_15.localPosition
			end

			local var_221_17 = 0.001

			if var_221_16 <= arg_218_1.time_ and arg_218_1.time_ < var_221_16 + var_221_17 then
				local var_221_18 = (arg_218_1.time_ - var_221_16) / var_221_17
				local var_221_19 = Vector3.New(-0.7, -0.98, -6.1)

				var_221_15.localPosition = Vector3.Lerp(arg_218_1.var_.moveOldPos1095ui_story, var_221_19, var_221_18)

				local var_221_20 = manager.ui.mainCamera.transform.position - var_221_15.position

				var_221_15.forward = Vector3.New(var_221_20.x, var_221_20.y, var_221_20.z)

				local var_221_21 = var_221_15.localEulerAngles

				var_221_21.z = 0
				var_221_21.x = 0
				var_221_15.localEulerAngles = var_221_21
			end

			if arg_218_1.time_ >= var_221_16 + var_221_17 and arg_218_1.time_ < var_221_16 + var_221_17 + arg_221_0 then
				var_221_15.localPosition = Vector3.New(-0.7, -0.98, -6.1)

				local var_221_22 = manager.ui.mainCamera.transform.position - var_221_15.position

				var_221_15.forward = Vector3.New(var_221_22.x, var_221_22.y, var_221_22.z)

				local var_221_23 = var_221_15.localEulerAngles

				var_221_23.z = 0
				var_221_23.x = 0
				var_221_15.localEulerAngles = var_221_23
			end

			local var_221_24 = arg_218_1.actors_["1095ui_story"]
			local var_221_25 = 0

			if var_221_25 < arg_218_1.time_ and arg_218_1.time_ <= var_221_25 + arg_221_0 and not isNil(var_221_24) and arg_218_1.var_.characterEffect1095ui_story == nil then
				arg_218_1.var_.characterEffect1095ui_story = var_221_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_221_26 = 0.200000002980232

			if var_221_25 <= arg_218_1.time_ and arg_218_1.time_ < var_221_25 + var_221_26 and not isNil(var_221_24) then
				local var_221_27 = (arg_218_1.time_ - var_221_25) / var_221_26

				if arg_218_1.var_.characterEffect1095ui_story and not isNil(var_221_24) then
					local var_221_28 = Mathf.Lerp(0, 0.5, var_221_27)

					arg_218_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_218_1.var_.characterEffect1095ui_story.fillRatio = var_221_28
				end
			end

			if arg_218_1.time_ >= var_221_25 + var_221_26 and arg_218_1.time_ < var_221_25 + var_221_26 + arg_221_0 and not isNil(var_221_24) and arg_218_1.var_.characterEffect1095ui_story then
				local var_221_29 = 0.5

				arg_218_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_218_1.var_.characterEffect1095ui_story.fillRatio = var_221_29
			end

			local var_221_30 = 0
			local var_221_31 = 0.475

			if var_221_30 < arg_218_1.time_ and arg_218_1.time_ <= var_221_30 + arg_221_0 then
				arg_218_1.talkMaxDuration = 0
				arg_218_1.dialogCg_.alpha = 1

				arg_218_1.dialog_:SetActive(true)
				SetActive(arg_218_1.leftNameGo_, true)

				local var_221_32 = arg_218_1:FormatText(StoryNameCfg[670].name)

				arg_218_1.leftNameTxt_.text = var_221_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_218_1.leftNameTxt_.transform)

				arg_218_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_218_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_218_1:RecordName(arg_218_1.leftNameTxt_.text)
				SetActive(arg_218_1.iconTrs_.gameObject, false)
				arg_218_1.callingController_:SetSelectedState("normal")

				local var_221_33 = arg_218_1:GetWordFromCfg(411121051)
				local var_221_34 = arg_218_1:FormatText(var_221_33.content)

				arg_218_1.text_.text = var_221_34

				LuaForUtil.ClearLinePrefixSymbol(arg_218_1.text_)

				local var_221_35 = 19
				local var_221_36 = utf8.len(var_221_34)
				local var_221_37 = var_221_35 <= 0 and var_221_31 or var_221_31 * (var_221_36 / var_221_35)

				if var_221_37 > 0 and var_221_31 < var_221_37 then
					arg_218_1.talkMaxDuration = var_221_37

					if var_221_37 + var_221_30 > arg_218_1.duration_ then
						arg_218_1.duration_ = var_221_37 + var_221_30
					end
				end

				arg_218_1.text_.text = var_221_34
				arg_218_1.typewritter.percent = 0

				arg_218_1.typewritter:SetDirty()
				arg_218_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121051", "story_v_out_411121.awb") ~= 0 then
					local var_221_38 = manager.audio:GetVoiceLength("story_v_out_411121", "411121051", "story_v_out_411121.awb") / 1000

					if var_221_38 + var_221_30 > arg_218_1.duration_ then
						arg_218_1.duration_ = var_221_38 + var_221_30
					end

					if var_221_33.prefab_name ~= "" and arg_218_1.actors_[var_221_33.prefab_name] ~= nil then
						local var_221_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_218_1.actors_[var_221_33.prefab_name].transform, "story_v_out_411121", "411121051", "story_v_out_411121.awb")

						arg_218_1:RecordAudio("411121051", var_221_39)
						arg_218_1:RecordAudio("411121051", var_221_39)
					else
						arg_218_1:AudioAction("play", "voice", "story_v_out_411121", "411121051", "story_v_out_411121.awb")
					end

					arg_218_1:RecordHistoryTalkVoice("story_v_out_411121", "411121051", "story_v_out_411121.awb")
				end

				arg_218_1:RecordContent(arg_218_1.text_.text)
			end

			local var_221_40 = math.max(var_221_31, arg_218_1.talkMaxDuration)

			if var_221_30 <= arg_218_1.time_ and arg_218_1.time_ < var_221_30 + var_221_40 then
				arg_218_1.typewritter.percent = (arg_218_1.time_ - var_221_30) / var_221_40

				arg_218_1.typewritter:SetDirty()
			end

			if arg_218_1.time_ >= var_221_30 + var_221_40 and arg_218_1.time_ < var_221_30 + var_221_40 + arg_221_0 then
				arg_218_1.typewritter.percent = 1

				arg_218_1.typewritter:SetDirty()
				arg_218_1:ShowNextGo(true)
			end
		end
	end,
	Play411121052 = function(arg_222_0, arg_222_1)
		arg_222_1.time_ = 0
		arg_222_1.frameCnt_ = 0
		arg_222_1.state_ = "playing"
		arg_222_1.curTalkId_ = 411121052
		arg_222_1.duration_ = 5.3

		local var_222_0 = {
			zh = 4.1,
			ja = 5.3
		}
		local var_222_1 = manager.audio:GetLocalizationFlag()

		if var_222_0[var_222_1] ~= nil then
			arg_222_1.duration_ = var_222_0[var_222_1]
		end

		SetActive(arg_222_1.tipsGo_, false)

		function arg_222_1.onSingleLineFinish_()
			arg_222_1.onSingleLineUpdate_ = nil
			arg_222_1.onSingleLineFinish_ = nil
			arg_222_1.state_ = "waiting"
		end

		function arg_222_1.playNext_(arg_224_0)
			if arg_224_0 == 1 then
				arg_222_0:Play411121053(arg_222_1)
			end
		end

		function arg_222_1.onSingleLineUpdate_(arg_225_0)
			local var_225_0 = 0
			local var_225_1 = 0.475

			if var_225_0 < arg_222_1.time_ and arg_222_1.time_ <= var_225_0 + arg_225_0 then
				arg_222_1.talkMaxDuration = 0
				arg_222_1.dialogCg_.alpha = 1

				arg_222_1.dialog_:SetActive(true)
				SetActive(arg_222_1.leftNameGo_, true)

				local var_225_2 = arg_222_1:FormatText(StoryNameCfg[670].name)

				arg_222_1.leftNameTxt_.text = var_225_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_222_1.leftNameTxt_.transform)

				arg_222_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_222_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_222_1:RecordName(arg_222_1.leftNameTxt_.text)
				SetActive(arg_222_1.iconTrs_.gameObject, false)
				arg_222_1.callingController_:SetSelectedState("normal")

				local var_225_3 = arg_222_1:GetWordFromCfg(411121052)
				local var_225_4 = arg_222_1:FormatText(var_225_3.content)

				arg_222_1.text_.text = var_225_4

				LuaForUtil.ClearLinePrefixSymbol(arg_222_1.text_)

				local var_225_5 = 19
				local var_225_6 = utf8.len(var_225_4)
				local var_225_7 = var_225_5 <= 0 and var_225_1 or var_225_1 * (var_225_6 / var_225_5)

				if var_225_7 > 0 and var_225_1 < var_225_7 then
					arg_222_1.talkMaxDuration = var_225_7

					if var_225_7 + var_225_0 > arg_222_1.duration_ then
						arg_222_1.duration_ = var_225_7 + var_225_0
					end
				end

				arg_222_1.text_.text = var_225_4
				arg_222_1.typewritter.percent = 0

				arg_222_1.typewritter:SetDirty()
				arg_222_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121052", "story_v_out_411121.awb") ~= 0 then
					local var_225_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121052", "story_v_out_411121.awb") / 1000

					if var_225_8 + var_225_0 > arg_222_1.duration_ then
						arg_222_1.duration_ = var_225_8 + var_225_0
					end

					if var_225_3.prefab_name ~= "" and arg_222_1.actors_[var_225_3.prefab_name] ~= nil then
						local var_225_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_222_1.actors_[var_225_3.prefab_name].transform, "story_v_out_411121", "411121052", "story_v_out_411121.awb")

						arg_222_1:RecordAudio("411121052", var_225_9)
						arg_222_1:RecordAudio("411121052", var_225_9)
					else
						arg_222_1:AudioAction("play", "voice", "story_v_out_411121", "411121052", "story_v_out_411121.awb")
					end

					arg_222_1:RecordHistoryTalkVoice("story_v_out_411121", "411121052", "story_v_out_411121.awb")
				end

				arg_222_1:RecordContent(arg_222_1.text_.text)
			end

			local var_225_10 = math.max(var_225_1, arg_222_1.talkMaxDuration)

			if var_225_0 <= arg_222_1.time_ and arg_222_1.time_ < var_225_0 + var_225_10 then
				arg_222_1.typewritter.percent = (arg_222_1.time_ - var_225_0) / var_225_10

				arg_222_1.typewritter:SetDirty()
			end

			if arg_222_1.time_ >= var_225_0 + var_225_10 and arg_222_1.time_ < var_225_0 + var_225_10 + arg_225_0 then
				arg_222_1.typewritter.percent = 1

				arg_222_1.typewritter:SetDirty()
				arg_222_1:ShowNextGo(true)
			end
		end
	end,
	Play411121053 = function(arg_226_0, arg_226_1)
		arg_226_1.time_ = 0
		arg_226_1.frameCnt_ = 0
		arg_226_1.state_ = "playing"
		arg_226_1.curTalkId_ = 411121053
		arg_226_1.duration_ = 1.63

		local var_226_0 = {
			zh = 1.5,
			ja = 1.633
		}
		local var_226_1 = manager.audio:GetLocalizationFlag()

		if var_226_0[var_226_1] ~= nil then
			arg_226_1.duration_ = var_226_0[var_226_1]
		end

		SetActive(arg_226_1.tipsGo_, false)

		function arg_226_1.onSingleLineFinish_()
			arg_226_1.onSingleLineUpdate_ = nil
			arg_226_1.onSingleLineFinish_ = nil
			arg_226_1.state_ = "waiting"
		end

		function arg_226_1.playNext_(arg_228_0)
			if arg_228_0 == 1 then
				arg_226_0:Play411121054(arg_226_1)
			end
		end

		function arg_226_1.onSingleLineUpdate_(arg_229_0)
			local var_229_0 = arg_226_1.actors_["10071ui_story"]
			local var_229_1 = 0

			if var_229_1 < arg_226_1.time_ and arg_226_1.time_ <= var_229_1 + arg_229_0 and not isNil(var_229_0) and arg_226_1.var_.characterEffect10071ui_story == nil then
				arg_226_1.var_.characterEffect10071ui_story = var_229_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_229_2 = 0.200000002980232

			if var_229_1 <= arg_226_1.time_ and arg_226_1.time_ < var_229_1 + var_229_2 and not isNil(var_229_0) then
				local var_229_3 = (arg_226_1.time_ - var_229_1) / var_229_2

				if arg_226_1.var_.characterEffect10071ui_story and not isNil(var_229_0) then
					local var_229_4 = Mathf.Lerp(0, 0.5, var_229_3)

					arg_226_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_226_1.var_.characterEffect10071ui_story.fillRatio = var_229_4
				end
			end

			if arg_226_1.time_ >= var_229_1 + var_229_2 and arg_226_1.time_ < var_229_1 + var_229_2 + arg_229_0 and not isNil(var_229_0) and arg_226_1.var_.characterEffect10071ui_story then
				local var_229_5 = 0.5

				arg_226_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_226_1.var_.characterEffect10071ui_story.fillRatio = var_229_5
			end

			local var_229_6 = 0
			local var_229_7 = 0.1

			if var_229_6 < arg_226_1.time_ and arg_226_1.time_ <= var_229_6 + arg_229_0 then
				arg_226_1.talkMaxDuration = 0
				arg_226_1.dialogCg_.alpha = 1

				arg_226_1.dialog_:SetActive(true)
				SetActive(arg_226_1.leftNameGo_, true)

				local var_229_8 = arg_226_1:FormatText(StoryNameCfg[471].name)

				arg_226_1.leftNameTxt_.text = var_229_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_226_1.leftNameTxt_.transform)

				arg_226_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_226_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_226_1:RecordName(arg_226_1.leftNameTxt_.text)
				SetActive(arg_226_1.iconTrs_.gameObject, true)
				arg_226_1.iconController_:SetSelectedState("hero")

				arg_226_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_1095")

				arg_226_1.callingController_:SetSelectedState("normal")

				arg_226_1.keyicon_.color = Color.New(1, 1, 1)
				arg_226_1.icon_.color = Color.New(1, 1, 1)

				local var_229_9 = arg_226_1:GetWordFromCfg(411121053)
				local var_229_10 = arg_226_1:FormatText(var_229_9.content)

				arg_226_1.text_.text = var_229_10

				LuaForUtil.ClearLinePrefixSymbol(arg_226_1.text_)

				local var_229_11 = 4
				local var_229_12 = utf8.len(var_229_10)
				local var_229_13 = var_229_11 <= 0 and var_229_7 or var_229_7 * (var_229_12 / var_229_11)

				if var_229_13 > 0 and var_229_7 < var_229_13 then
					arg_226_1.talkMaxDuration = var_229_13

					if var_229_13 + var_229_6 > arg_226_1.duration_ then
						arg_226_1.duration_ = var_229_13 + var_229_6
					end
				end

				arg_226_1.text_.text = var_229_10
				arg_226_1.typewritter.percent = 0

				arg_226_1.typewritter:SetDirty()
				arg_226_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121053", "story_v_out_411121.awb") ~= 0 then
					local var_229_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121053", "story_v_out_411121.awb") / 1000

					if var_229_14 + var_229_6 > arg_226_1.duration_ then
						arg_226_1.duration_ = var_229_14 + var_229_6
					end

					if var_229_9.prefab_name ~= "" and arg_226_1.actors_[var_229_9.prefab_name] ~= nil then
						local var_229_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_226_1.actors_[var_229_9.prefab_name].transform, "story_v_out_411121", "411121053", "story_v_out_411121.awb")

						arg_226_1:RecordAudio("411121053", var_229_15)
						arg_226_1:RecordAudio("411121053", var_229_15)
					else
						arg_226_1:AudioAction("play", "voice", "story_v_out_411121", "411121053", "story_v_out_411121.awb")
					end

					arg_226_1:RecordHistoryTalkVoice("story_v_out_411121", "411121053", "story_v_out_411121.awb")
				end

				arg_226_1:RecordContent(arg_226_1.text_.text)
			end

			local var_229_16 = math.max(var_229_7, arg_226_1.talkMaxDuration)

			if var_229_6 <= arg_226_1.time_ and arg_226_1.time_ < var_229_6 + var_229_16 then
				arg_226_1.typewritter.percent = (arg_226_1.time_ - var_229_6) / var_229_16

				arg_226_1.typewritter:SetDirty()
			end

			if arg_226_1.time_ >= var_229_6 + var_229_16 and arg_226_1.time_ < var_229_6 + var_229_16 + arg_229_0 then
				arg_226_1.typewritter.percent = 1

				arg_226_1.typewritter:SetDirty()
				arg_226_1:ShowNextGo(true)
			end
		end
	end,
	Play411121054 = function(arg_230_0, arg_230_1)
		arg_230_1.time_ = 0
		arg_230_1.frameCnt_ = 0
		arg_230_1.state_ = "playing"
		arg_230_1.curTalkId_ = 411121054
		arg_230_1.duration_ = 5

		SetActive(arg_230_1.tipsGo_, false)

		function arg_230_1.onSingleLineFinish_()
			arg_230_1.onSingleLineUpdate_ = nil
			arg_230_1.onSingleLineFinish_ = nil
			arg_230_1.state_ = "waiting"
		end

		function arg_230_1.playNext_(arg_232_0)
			if arg_232_0 == 1 then
				arg_230_0:Play411121055(arg_230_1)
			end
		end

		function arg_230_1.onSingleLineUpdate_(arg_233_0)
			local var_233_0 = 0
			local var_233_1 = 1.275

			if var_233_0 < arg_230_1.time_ and arg_230_1.time_ <= var_233_0 + arg_233_0 then
				arg_230_1.talkMaxDuration = 0
				arg_230_1.dialogCg_.alpha = 1

				arg_230_1.dialog_:SetActive(true)
				SetActive(arg_230_1.leftNameGo_, false)

				arg_230_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_230_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_230_1:RecordName(arg_230_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_230_1.iconTrs_.gameObject, false)
				arg_230_1.callingController_:SetSelectedState("normal")

				local var_233_2 = arg_230_1:GetWordFromCfg(411121054)
				local var_233_3 = arg_230_1:FormatText(var_233_2.content)

				arg_230_1.text_.text = var_233_3

				LuaForUtil.ClearLinePrefixSymbol(arg_230_1.text_)

				local var_233_4 = 51
				local var_233_5 = utf8.len(var_233_3)
				local var_233_6 = var_233_4 <= 0 and var_233_1 or var_233_1 * (var_233_5 / var_233_4)

				if var_233_6 > 0 and var_233_1 < var_233_6 then
					arg_230_1.talkMaxDuration = var_233_6

					if var_233_6 + var_233_0 > arg_230_1.duration_ then
						arg_230_1.duration_ = var_233_6 + var_233_0
					end
				end

				arg_230_1.text_.text = var_233_3
				arg_230_1.typewritter.percent = 0

				arg_230_1.typewritter:SetDirty()
				arg_230_1:ShowNextGo(false)
				arg_230_1:RecordContent(arg_230_1.text_.text)
			end

			local var_233_7 = math.max(var_233_1, arg_230_1.talkMaxDuration)

			if var_233_0 <= arg_230_1.time_ and arg_230_1.time_ < var_233_0 + var_233_7 then
				arg_230_1.typewritter.percent = (arg_230_1.time_ - var_233_0) / var_233_7

				arg_230_1.typewritter:SetDirty()
			end

			if arg_230_1.time_ >= var_233_0 + var_233_7 and arg_230_1.time_ < var_233_0 + var_233_7 + arg_233_0 then
				arg_230_1.typewritter.percent = 1

				arg_230_1.typewritter:SetDirty()
				arg_230_1:ShowNextGo(true)
			end
		end
	end,
	Play411121055 = function(arg_234_0, arg_234_1)
		arg_234_1.time_ = 0
		arg_234_1.frameCnt_ = 0
		arg_234_1.state_ = "playing"
		arg_234_1.curTalkId_ = 411121055
		arg_234_1.duration_ = 15.7

		local var_234_0 = {
			zh = 15.699999999999,
			ja = 14.599999999999
		}
		local var_234_1 = manager.audio:GetLocalizationFlag()

		if var_234_0[var_234_1] ~= nil then
			arg_234_1.duration_ = var_234_0[var_234_1]
		end

		SetActive(arg_234_1.tipsGo_, false)

		function arg_234_1.onSingleLineFinish_()
			arg_234_1.onSingleLineUpdate_ = nil
			arg_234_1.onSingleLineFinish_ = nil
			arg_234_1.state_ = "waiting"
		end

		function arg_234_1.playNext_(arg_236_0)
			if arg_236_0 == 1 then
				arg_234_0:Play411121056(arg_234_1)
			end
		end

		function arg_234_1.onSingleLineUpdate_(arg_237_0)
			local var_237_0 = 0

			if var_237_0 < arg_234_1.time_ and arg_234_1.time_ <= var_237_0 + arg_237_0 then
				local var_237_1 = manager.ui.mainCamera.transform.localPosition
				local var_237_2 = Vector3.New(0, 0, 10) + Vector3.New(var_237_1.x, var_237_1.y, 0)
				local var_237_3 = arg_234_1.bgs_.I11r

				var_237_3.transform.localPosition = var_237_2
				var_237_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_237_4 = var_237_3:GetComponent("SpriteRenderer")

				if var_237_4 and var_237_4.sprite then
					local var_237_5 = (var_237_3.transform.localPosition - var_237_1).z
					local var_237_6 = manager.ui.mainCameraCom_
					local var_237_7 = 2 * var_237_5 * Mathf.Tan(var_237_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_237_8 = var_237_7 * var_237_6.aspect
					local var_237_9 = var_237_4.sprite.bounds.size.x
					local var_237_10 = var_237_4.sprite.bounds.size.y
					local var_237_11 = var_237_8 / var_237_9
					local var_237_12 = var_237_7 / var_237_10
					local var_237_13 = var_237_12 < var_237_11 and var_237_11 or var_237_12

					var_237_3.transform.localScale = Vector3.New(var_237_13, var_237_13, 0)
				end

				for iter_237_0, iter_237_1 in pairs(arg_234_1.bgs_) do
					if iter_237_0 ~= "I11r" then
						iter_237_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_237_14 = "ST71a"

			if arg_234_1.bgs_[var_237_14] == nil then
				local var_237_15 = Object.Instantiate(arg_234_1.paintGo_)

				var_237_15:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_237_14)
				var_237_15.name = var_237_14
				var_237_15.transform.parent = arg_234_1.stage_.transform
				var_237_15.transform.localPosition = Vector3.New(0, 100, 0)
				arg_234_1.bgs_[var_237_14] = var_237_15
			end

			local var_237_16 = 1.999999999999

			if var_237_16 < arg_234_1.time_ and arg_234_1.time_ <= var_237_16 + arg_237_0 then
				local var_237_17 = manager.ui.mainCamera.transform.localPosition
				local var_237_18 = Vector3.New(0, 0, 10) + Vector3.New(var_237_17.x, var_237_17.y, 0)
				local var_237_19 = arg_234_1.bgs_.ST71a

				var_237_19.transform.localPosition = var_237_18
				var_237_19.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_237_20 = var_237_19:GetComponent("SpriteRenderer")

				if var_237_20 and var_237_20.sprite then
					local var_237_21 = (var_237_19.transform.localPosition - var_237_17).z
					local var_237_22 = manager.ui.mainCameraCom_
					local var_237_23 = 2 * var_237_21 * Mathf.Tan(var_237_22.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_237_24 = var_237_23 * var_237_22.aspect
					local var_237_25 = var_237_20.sprite.bounds.size.x
					local var_237_26 = var_237_20.sprite.bounds.size.y
					local var_237_27 = var_237_24 / var_237_25
					local var_237_28 = var_237_23 / var_237_26
					local var_237_29 = var_237_28 < var_237_27 and var_237_27 or var_237_28

					var_237_19.transform.localScale = Vector3.New(var_237_29, var_237_29, 0)
				end

				for iter_237_2, iter_237_3 in pairs(arg_234_1.bgs_) do
					if iter_237_2 ~= "ST71a" then
						iter_237_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_237_30 = 0

			if var_237_30 < arg_234_1.time_ and arg_234_1.time_ <= var_237_30 + arg_237_0 then
				arg_234_1.mask_.enabled = true
				arg_234_1.mask_.raycastTarget = true

				arg_234_1:SetGaussion(false)
			end

			local var_237_31 = 2

			if var_237_30 <= arg_234_1.time_ and arg_234_1.time_ < var_237_30 + var_237_31 then
				local var_237_32 = (arg_234_1.time_ - var_237_30) / var_237_31
				local var_237_33 = Color.New(0, 0, 0)

				var_237_33.a = Mathf.Lerp(0, 1, var_237_32)
				arg_234_1.mask_.color = var_237_33
			end

			if arg_234_1.time_ >= var_237_30 + var_237_31 and arg_234_1.time_ < var_237_30 + var_237_31 + arg_237_0 then
				local var_237_34 = Color.New(0, 0, 0)

				var_237_34.a = 1
				arg_234_1.mask_.color = var_237_34
			end

			local var_237_35 = 2

			if var_237_35 < arg_234_1.time_ and arg_234_1.time_ <= var_237_35 + arg_237_0 then
				arg_234_1.mask_.enabled = true
				arg_234_1.mask_.raycastTarget = true

				arg_234_1:SetGaussion(false)
			end

			local var_237_36 = 1.999999999999

			if var_237_35 <= arg_234_1.time_ and arg_234_1.time_ < var_237_35 + var_237_36 then
				local var_237_37 = (arg_234_1.time_ - var_237_35) / var_237_36
				local var_237_38 = Color.New(0, 0, 0)

				var_237_38.a = Mathf.Lerp(1, 0, var_237_37)
				arg_234_1.mask_.color = var_237_38
			end

			if arg_234_1.time_ >= var_237_35 + var_237_36 and arg_234_1.time_ < var_237_35 + var_237_36 + arg_237_0 then
				local var_237_39 = Color.New(0, 0, 0)
				local var_237_40 = 0

				arg_234_1.mask_.enabled = false
				var_237_39.a = var_237_40
				arg_234_1.mask_.color = var_237_39
			end

			local var_237_41 = arg_234_1.actors_["1095ui_story"].transform
			local var_237_42 = 2

			if var_237_42 < arg_234_1.time_ and arg_234_1.time_ <= var_237_42 + arg_237_0 then
				arg_234_1.var_.moveOldPos1095ui_story = var_237_41.localPosition
			end

			local var_237_43 = 0.001

			if var_237_42 <= arg_234_1.time_ and arg_234_1.time_ < var_237_42 + var_237_43 then
				local var_237_44 = (arg_234_1.time_ - var_237_42) / var_237_43
				local var_237_45 = Vector3.New(0, 100, 0)

				var_237_41.localPosition = Vector3.Lerp(arg_234_1.var_.moveOldPos1095ui_story, var_237_45, var_237_44)

				local var_237_46 = manager.ui.mainCamera.transform.position - var_237_41.position

				var_237_41.forward = Vector3.New(var_237_46.x, var_237_46.y, var_237_46.z)

				local var_237_47 = var_237_41.localEulerAngles

				var_237_47.z = 0
				var_237_47.x = 0
				var_237_41.localEulerAngles = var_237_47
			end

			if arg_234_1.time_ >= var_237_42 + var_237_43 and arg_234_1.time_ < var_237_42 + var_237_43 + arg_237_0 then
				var_237_41.localPosition = Vector3.New(0, 100, 0)

				local var_237_48 = manager.ui.mainCamera.transform.position - var_237_41.position

				var_237_41.forward = Vector3.New(var_237_48.x, var_237_48.y, var_237_48.z)

				local var_237_49 = var_237_41.localEulerAngles

				var_237_49.z = 0
				var_237_49.x = 0
				var_237_41.localEulerAngles = var_237_49
			end

			local var_237_50 = arg_234_1.actors_["10071ui_story"].transform
			local var_237_51 = 2

			if var_237_51 < arg_234_1.time_ and arg_234_1.time_ <= var_237_51 + arg_237_0 then
				arg_234_1.var_.moveOldPos10071ui_story = var_237_50.localPosition
			end

			local var_237_52 = 0.001

			if var_237_51 <= arg_234_1.time_ and arg_234_1.time_ < var_237_51 + var_237_52 then
				local var_237_53 = (arg_234_1.time_ - var_237_51) / var_237_52
				local var_237_54 = Vector3.New(0, 100, 0)

				var_237_50.localPosition = Vector3.Lerp(arg_234_1.var_.moveOldPos10071ui_story, var_237_54, var_237_53)

				local var_237_55 = manager.ui.mainCamera.transform.position - var_237_50.position

				var_237_50.forward = Vector3.New(var_237_55.x, var_237_55.y, var_237_55.z)

				local var_237_56 = var_237_50.localEulerAngles

				var_237_56.z = 0
				var_237_56.x = 0
				var_237_50.localEulerAngles = var_237_56
			end

			if arg_234_1.time_ >= var_237_51 + var_237_52 and arg_234_1.time_ < var_237_51 + var_237_52 + arg_237_0 then
				var_237_50.localPosition = Vector3.New(0, 100, 0)

				local var_237_57 = manager.ui.mainCamera.transform.position - var_237_50.position

				var_237_50.forward = Vector3.New(var_237_57.x, var_237_57.y, var_237_57.z)

				local var_237_58 = var_237_50.localEulerAngles

				var_237_58.z = 0
				var_237_58.x = 0
				var_237_50.localEulerAngles = var_237_58
			end

			local var_237_59 = arg_234_1.actors_["1095ui_story"].transform
			local var_237_60 = 3.999999999999

			if var_237_60 < arg_234_1.time_ and arg_234_1.time_ <= var_237_60 + arg_237_0 then
				arg_234_1.var_.moveOldPos1095ui_story = var_237_59.localPosition
			end

			local var_237_61 = 0.001

			if var_237_60 <= arg_234_1.time_ and arg_234_1.time_ < var_237_60 + var_237_61 then
				local var_237_62 = (arg_234_1.time_ - var_237_60) / var_237_61
				local var_237_63 = Vector3.New(0, -0.98, -6.1)

				var_237_59.localPosition = Vector3.Lerp(arg_234_1.var_.moveOldPos1095ui_story, var_237_63, var_237_62)

				local var_237_64 = manager.ui.mainCamera.transform.position - var_237_59.position

				var_237_59.forward = Vector3.New(var_237_64.x, var_237_64.y, var_237_64.z)

				local var_237_65 = var_237_59.localEulerAngles

				var_237_65.z = 0
				var_237_65.x = 0
				var_237_59.localEulerAngles = var_237_65
			end

			if arg_234_1.time_ >= var_237_60 + var_237_61 and arg_234_1.time_ < var_237_60 + var_237_61 + arg_237_0 then
				var_237_59.localPosition = Vector3.New(0, -0.98, -6.1)

				local var_237_66 = manager.ui.mainCamera.transform.position - var_237_59.position

				var_237_59.forward = Vector3.New(var_237_66.x, var_237_66.y, var_237_66.z)

				local var_237_67 = var_237_59.localEulerAngles

				var_237_67.z = 0
				var_237_67.x = 0
				var_237_59.localEulerAngles = var_237_67
			end

			local var_237_68 = arg_234_1.actors_["1095ui_story"]
			local var_237_69 = 3.999999999999

			if var_237_69 < arg_234_1.time_ and arg_234_1.time_ <= var_237_69 + arg_237_0 and not isNil(var_237_68) and arg_234_1.var_.characterEffect1095ui_story == nil then
				arg_234_1.var_.characterEffect1095ui_story = var_237_68:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_237_70 = 0.200000002980232

			if var_237_69 <= arg_234_1.time_ and arg_234_1.time_ < var_237_69 + var_237_70 and not isNil(var_237_68) then
				local var_237_71 = (arg_234_1.time_ - var_237_69) / var_237_70

				if arg_234_1.var_.characterEffect1095ui_story and not isNil(var_237_68) then
					arg_234_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_234_1.time_ >= var_237_69 + var_237_70 and arg_234_1.time_ < var_237_69 + var_237_70 + arg_237_0 and not isNil(var_237_68) and arg_234_1.var_.characterEffect1095ui_story then
				arg_234_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_237_72 = 3.999999999999

			if var_237_72 < arg_234_1.time_ and arg_234_1.time_ <= var_237_72 + arg_237_0 then
				arg_234_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_237_73 = 3.999999999999

			if var_237_73 < arg_234_1.time_ and arg_234_1.time_ <= var_237_73 + arg_237_0 then
				arg_234_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface3101cva")
			end

			if arg_234_1.frameCnt_ <= 1 then
				arg_234_1.dialog_:SetActive(false)
			end

			local var_237_74 = 3.999999999999
			local var_237_75 = 1.4

			if var_237_74 < arg_234_1.time_ and arg_234_1.time_ <= var_237_74 + arg_237_0 then
				arg_234_1.talkMaxDuration = 0

				arg_234_1.dialog_:SetActive(true)

				local var_237_76 = LeanTween.value(arg_234_1.dialog_, 0, 1, 0.3)

				var_237_76:setOnUpdate(LuaHelper.FloatAction(function(arg_238_0)
					arg_234_1.dialogCg_.alpha = arg_238_0
				end))
				var_237_76:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_234_1.dialog_)
					var_237_76:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_234_1.duration_ = arg_234_1.duration_ + 0.3

				SetActive(arg_234_1.leftNameGo_, true)

				local var_237_77 = arg_234_1:FormatText(StoryNameCfg[909].name)

				arg_234_1.leftNameTxt_.text = var_237_77

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_234_1.leftNameTxt_.transform)

				arg_234_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_234_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_234_1:RecordName(arg_234_1.leftNameTxt_.text)
				SetActive(arg_234_1.iconTrs_.gameObject, false)
				arg_234_1.callingController_:SetSelectedState("normal")

				local var_237_78 = arg_234_1:GetWordFromCfg(411121055)
				local var_237_79 = arg_234_1:FormatText(var_237_78.content)

				arg_234_1.text_.text = var_237_79

				LuaForUtil.ClearLinePrefixSymbol(arg_234_1.text_)

				local var_237_80 = 56
				local var_237_81 = utf8.len(var_237_79)
				local var_237_82 = var_237_80 <= 0 and var_237_75 or var_237_75 * (var_237_81 / var_237_80)

				if var_237_82 > 0 and var_237_75 < var_237_82 then
					arg_234_1.talkMaxDuration = var_237_82
					var_237_74 = var_237_74 + 0.3

					if var_237_82 + var_237_74 > arg_234_1.duration_ then
						arg_234_1.duration_ = var_237_82 + var_237_74
					end
				end

				arg_234_1.text_.text = var_237_79
				arg_234_1.typewritter.percent = 0

				arg_234_1.typewritter:SetDirty()
				arg_234_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121055", "story_v_out_411121.awb") ~= 0 then
					local var_237_83 = manager.audio:GetVoiceLength("story_v_out_411121", "411121055", "story_v_out_411121.awb") / 1000

					if var_237_83 + var_237_74 > arg_234_1.duration_ then
						arg_234_1.duration_ = var_237_83 + var_237_74
					end

					if var_237_78.prefab_name ~= "" and arg_234_1.actors_[var_237_78.prefab_name] ~= nil then
						local var_237_84 = LuaForUtil.PlayVoiceWithCriLipsync(arg_234_1.actors_[var_237_78.prefab_name].transform, "story_v_out_411121", "411121055", "story_v_out_411121.awb")

						arg_234_1:RecordAudio("411121055", var_237_84)
						arg_234_1:RecordAudio("411121055", var_237_84)
					else
						arg_234_1:AudioAction("play", "voice", "story_v_out_411121", "411121055", "story_v_out_411121.awb")
					end

					arg_234_1:RecordHistoryTalkVoice("story_v_out_411121", "411121055", "story_v_out_411121.awb")
				end

				arg_234_1:RecordContent(arg_234_1.text_.text)
			end

			local var_237_85 = var_237_74 + 0.3
			local var_237_86 = math.max(var_237_75, arg_234_1.talkMaxDuration)

			if var_237_85 <= arg_234_1.time_ and arg_234_1.time_ < var_237_85 + var_237_86 then
				arg_234_1.typewritter.percent = (arg_234_1.time_ - var_237_85) / var_237_86

				arg_234_1.typewritter:SetDirty()
			end

			if arg_234_1.time_ >= var_237_85 + var_237_86 and arg_234_1.time_ < var_237_85 + var_237_86 + arg_237_0 then
				arg_234_1.typewritter.percent = 1

				arg_234_1.typewritter:SetDirty()
				arg_234_1:ShowNextGo(true)
			end
		end
	end,
	Play411121056 = function(arg_240_0, arg_240_1)
		arg_240_1.time_ = 0
		arg_240_1.frameCnt_ = 0
		arg_240_1.state_ = "playing"
		arg_240_1.curTalkId_ = 411121056
		arg_240_1.duration_ = 10.67

		local var_240_0 = {
			zh = 9.5,
			ja = 10.666
		}
		local var_240_1 = manager.audio:GetLocalizationFlag()

		if var_240_0[var_240_1] ~= nil then
			arg_240_1.duration_ = var_240_0[var_240_1]
		end

		SetActive(arg_240_1.tipsGo_, false)

		function arg_240_1.onSingleLineFinish_()
			arg_240_1.onSingleLineUpdate_ = nil
			arg_240_1.onSingleLineFinish_ = nil
			arg_240_1.state_ = "waiting"
		end

		function arg_240_1.playNext_(arg_242_0)
			if arg_242_0 == 1 then
				arg_240_0:Play411121057(arg_240_1)
			end
		end

		function arg_240_1.onSingleLineUpdate_(arg_243_0)
			local var_243_0 = 0
			local var_243_1 = 0.65

			if var_243_0 < arg_240_1.time_ and arg_240_1.time_ <= var_243_0 + arg_243_0 then
				arg_240_1.talkMaxDuration = 0
				arg_240_1.dialogCg_.alpha = 1

				arg_240_1.dialog_:SetActive(true)
				SetActive(arg_240_1.leftNameGo_, true)

				local var_243_2 = arg_240_1:FormatText(StoryNameCfg[909].name)

				arg_240_1.leftNameTxt_.text = var_243_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_240_1.leftNameTxt_.transform)

				arg_240_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_240_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_240_1:RecordName(arg_240_1.leftNameTxt_.text)
				SetActive(arg_240_1.iconTrs_.gameObject, false)
				arg_240_1.callingController_:SetSelectedState("normal")

				local var_243_3 = arg_240_1:GetWordFromCfg(411121056)
				local var_243_4 = arg_240_1:FormatText(var_243_3.content)

				arg_240_1.text_.text = var_243_4

				LuaForUtil.ClearLinePrefixSymbol(arg_240_1.text_)

				local var_243_5 = 26
				local var_243_6 = utf8.len(var_243_4)
				local var_243_7 = var_243_5 <= 0 and var_243_1 or var_243_1 * (var_243_6 / var_243_5)

				if var_243_7 > 0 and var_243_1 < var_243_7 then
					arg_240_1.talkMaxDuration = var_243_7

					if var_243_7 + var_243_0 > arg_240_1.duration_ then
						arg_240_1.duration_ = var_243_7 + var_243_0
					end
				end

				arg_240_1.text_.text = var_243_4
				arg_240_1.typewritter.percent = 0

				arg_240_1.typewritter:SetDirty()
				arg_240_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121056", "story_v_out_411121.awb") ~= 0 then
					local var_243_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121056", "story_v_out_411121.awb") / 1000

					if var_243_8 + var_243_0 > arg_240_1.duration_ then
						arg_240_1.duration_ = var_243_8 + var_243_0
					end

					if var_243_3.prefab_name ~= "" and arg_240_1.actors_[var_243_3.prefab_name] ~= nil then
						local var_243_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_240_1.actors_[var_243_3.prefab_name].transform, "story_v_out_411121", "411121056", "story_v_out_411121.awb")

						arg_240_1:RecordAudio("411121056", var_243_9)
						arg_240_1:RecordAudio("411121056", var_243_9)
					else
						arg_240_1:AudioAction("play", "voice", "story_v_out_411121", "411121056", "story_v_out_411121.awb")
					end

					arg_240_1:RecordHistoryTalkVoice("story_v_out_411121", "411121056", "story_v_out_411121.awb")
				end

				arg_240_1:RecordContent(arg_240_1.text_.text)
			end

			local var_243_10 = math.max(var_243_1, arg_240_1.talkMaxDuration)

			if var_243_0 <= arg_240_1.time_ and arg_240_1.time_ < var_243_0 + var_243_10 then
				arg_240_1.typewritter.percent = (arg_240_1.time_ - var_243_0) / var_243_10

				arg_240_1.typewritter:SetDirty()
			end

			if arg_240_1.time_ >= var_243_0 + var_243_10 and arg_240_1.time_ < var_243_0 + var_243_10 + arg_243_0 then
				arg_240_1.typewritter.percent = 1

				arg_240_1.typewritter:SetDirty()
				arg_240_1:ShowNextGo(true)
			end
		end
	end,
	Play411121057 = function(arg_244_0, arg_244_1)
		arg_244_1.time_ = 0
		arg_244_1.frameCnt_ = 0
		arg_244_1.state_ = "playing"
		arg_244_1.curTalkId_ = 411121057
		arg_244_1.duration_ = 4.03

		local var_244_0 = {
			zh = 4.033,
			ja = 3.6
		}
		local var_244_1 = manager.audio:GetLocalizationFlag()

		if var_244_0[var_244_1] ~= nil then
			arg_244_1.duration_ = var_244_0[var_244_1]
		end

		SetActive(arg_244_1.tipsGo_, false)

		function arg_244_1.onSingleLineFinish_()
			arg_244_1.onSingleLineUpdate_ = nil
			arg_244_1.onSingleLineFinish_ = nil
			arg_244_1.state_ = "waiting"
		end

		function arg_244_1.playNext_(arg_246_0)
			if arg_246_0 == 1 then
				arg_244_0:Play411121058(arg_244_1)
			end
		end

		function arg_244_1.onSingleLineUpdate_(arg_247_0)
			local var_247_0 = arg_244_1.actors_["10071ui_story"].transform
			local var_247_1 = 0

			if var_247_1 < arg_244_1.time_ and arg_244_1.time_ <= var_247_1 + arg_247_0 then
				arg_244_1.var_.moveOldPos10071ui_story = var_247_0.localPosition
			end

			local var_247_2 = 0.001

			if var_247_1 <= arg_244_1.time_ and arg_244_1.time_ < var_247_1 + var_247_2 then
				local var_247_3 = (arg_244_1.time_ - var_247_1) / var_247_2
				local var_247_4 = Vector3.New(0, -0.9, -6.26)

				var_247_0.localPosition = Vector3.Lerp(arg_244_1.var_.moveOldPos10071ui_story, var_247_4, var_247_3)

				local var_247_5 = manager.ui.mainCamera.transform.position - var_247_0.position

				var_247_0.forward = Vector3.New(var_247_5.x, var_247_5.y, var_247_5.z)

				local var_247_6 = var_247_0.localEulerAngles

				var_247_6.z = 0
				var_247_6.x = 0
				var_247_0.localEulerAngles = var_247_6
			end

			if arg_244_1.time_ >= var_247_1 + var_247_2 and arg_244_1.time_ < var_247_1 + var_247_2 + arg_247_0 then
				var_247_0.localPosition = Vector3.New(0, -0.9, -6.26)

				local var_247_7 = manager.ui.mainCamera.transform.position - var_247_0.position

				var_247_0.forward = Vector3.New(var_247_7.x, var_247_7.y, var_247_7.z)

				local var_247_8 = var_247_0.localEulerAngles

				var_247_8.z = 0
				var_247_8.x = 0
				var_247_0.localEulerAngles = var_247_8
			end

			local var_247_9 = arg_244_1.actors_["10071ui_story"]
			local var_247_10 = 0

			if var_247_10 < arg_244_1.time_ and arg_244_1.time_ <= var_247_10 + arg_247_0 and not isNil(var_247_9) and arg_244_1.var_.characterEffect10071ui_story == nil then
				arg_244_1.var_.characterEffect10071ui_story = var_247_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_247_11 = 0.200000002980232

			if var_247_10 <= arg_244_1.time_ and arg_244_1.time_ < var_247_10 + var_247_11 and not isNil(var_247_9) then
				local var_247_12 = (arg_244_1.time_ - var_247_10) / var_247_11

				if arg_244_1.var_.characterEffect10071ui_story and not isNil(var_247_9) then
					arg_244_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_244_1.time_ >= var_247_10 + var_247_11 and arg_244_1.time_ < var_247_10 + var_247_11 + arg_247_0 and not isNil(var_247_9) and arg_244_1.var_.characterEffect10071ui_story then
				arg_244_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_247_13 = 0

			if var_247_13 < arg_244_1.time_ and arg_244_1.time_ <= var_247_13 + arg_247_0 then
				arg_244_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/story10071/story10071action/10071action3_2")
			end

			local var_247_14 = 0

			if var_247_14 < arg_244_1.time_ and arg_244_1.time_ <= var_247_14 + arg_247_0 then
				arg_244_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0101cva")
			end

			local var_247_15 = arg_244_1.actors_["1095ui_story"].transform
			local var_247_16 = 0

			if var_247_16 < arg_244_1.time_ and arg_244_1.time_ <= var_247_16 + arg_247_0 then
				arg_244_1.var_.moveOldPos1095ui_story = var_247_15.localPosition
			end

			local var_247_17 = 0.001

			if var_247_16 <= arg_244_1.time_ and arg_244_1.time_ < var_247_16 + var_247_17 then
				local var_247_18 = (arg_244_1.time_ - var_247_16) / var_247_17
				local var_247_19 = Vector3.New(0, 100, 0)

				var_247_15.localPosition = Vector3.Lerp(arg_244_1.var_.moveOldPos1095ui_story, var_247_19, var_247_18)

				local var_247_20 = manager.ui.mainCamera.transform.position - var_247_15.position

				var_247_15.forward = Vector3.New(var_247_20.x, var_247_20.y, var_247_20.z)

				local var_247_21 = var_247_15.localEulerAngles

				var_247_21.z = 0
				var_247_21.x = 0
				var_247_15.localEulerAngles = var_247_21
			end

			if arg_244_1.time_ >= var_247_16 + var_247_17 and arg_244_1.time_ < var_247_16 + var_247_17 + arg_247_0 then
				var_247_15.localPosition = Vector3.New(0, 100, 0)

				local var_247_22 = manager.ui.mainCamera.transform.position - var_247_15.position

				var_247_15.forward = Vector3.New(var_247_22.x, var_247_22.y, var_247_22.z)

				local var_247_23 = var_247_15.localEulerAngles

				var_247_23.z = 0
				var_247_23.x = 0
				var_247_15.localEulerAngles = var_247_23
			end

			local var_247_24 = 0
			local var_247_25 = 0.275

			if var_247_24 < arg_244_1.time_ and arg_244_1.time_ <= var_247_24 + arg_247_0 then
				arg_244_1.talkMaxDuration = 0
				arg_244_1.dialogCg_.alpha = 1

				arg_244_1.dialog_:SetActive(true)
				SetActive(arg_244_1.leftNameGo_, true)

				local var_247_26 = arg_244_1:FormatText(StoryNameCfg[670].name)

				arg_244_1.leftNameTxt_.text = var_247_26

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_244_1.leftNameTxt_.transform)

				arg_244_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_244_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_244_1:RecordName(arg_244_1.leftNameTxt_.text)
				SetActive(arg_244_1.iconTrs_.gameObject, false)
				arg_244_1.callingController_:SetSelectedState("normal")

				local var_247_27 = arg_244_1:GetWordFromCfg(411121057)
				local var_247_28 = arg_244_1:FormatText(var_247_27.content)

				arg_244_1.text_.text = var_247_28

				LuaForUtil.ClearLinePrefixSymbol(arg_244_1.text_)

				local var_247_29 = 11
				local var_247_30 = utf8.len(var_247_28)
				local var_247_31 = var_247_29 <= 0 and var_247_25 or var_247_25 * (var_247_30 / var_247_29)

				if var_247_31 > 0 and var_247_25 < var_247_31 then
					arg_244_1.talkMaxDuration = var_247_31

					if var_247_31 + var_247_24 > arg_244_1.duration_ then
						arg_244_1.duration_ = var_247_31 + var_247_24
					end
				end

				arg_244_1.text_.text = var_247_28
				arg_244_1.typewritter.percent = 0

				arg_244_1.typewritter:SetDirty()
				arg_244_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121057", "story_v_out_411121.awb") ~= 0 then
					local var_247_32 = manager.audio:GetVoiceLength("story_v_out_411121", "411121057", "story_v_out_411121.awb") / 1000

					if var_247_32 + var_247_24 > arg_244_1.duration_ then
						arg_244_1.duration_ = var_247_32 + var_247_24
					end

					if var_247_27.prefab_name ~= "" and arg_244_1.actors_[var_247_27.prefab_name] ~= nil then
						local var_247_33 = LuaForUtil.PlayVoiceWithCriLipsync(arg_244_1.actors_[var_247_27.prefab_name].transform, "story_v_out_411121", "411121057", "story_v_out_411121.awb")

						arg_244_1:RecordAudio("411121057", var_247_33)
						arg_244_1:RecordAudio("411121057", var_247_33)
					else
						arg_244_1:AudioAction("play", "voice", "story_v_out_411121", "411121057", "story_v_out_411121.awb")
					end

					arg_244_1:RecordHistoryTalkVoice("story_v_out_411121", "411121057", "story_v_out_411121.awb")
				end

				arg_244_1:RecordContent(arg_244_1.text_.text)
			end

			local var_247_34 = math.max(var_247_25, arg_244_1.talkMaxDuration)

			if var_247_24 <= arg_244_1.time_ and arg_244_1.time_ < var_247_24 + var_247_34 then
				arg_244_1.typewritter.percent = (arg_244_1.time_ - var_247_24) / var_247_34

				arg_244_1.typewritter:SetDirty()
			end

			if arg_244_1.time_ >= var_247_24 + var_247_34 and arg_244_1.time_ < var_247_24 + var_247_34 + arg_247_0 then
				arg_244_1.typewritter.percent = 1

				arg_244_1.typewritter:SetDirty()
				arg_244_1:ShowNextGo(true)
			end
		end
	end,
	Play411121058 = function(arg_248_0, arg_248_1)
		arg_248_1.time_ = 0
		arg_248_1.frameCnt_ = 0
		arg_248_1.state_ = "playing"
		arg_248_1.curTalkId_ = 411121058
		arg_248_1.duration_ = 6.4

		local var_248_0 = {
			zh = 6.4,
			ja = 4.633
		}
		local var_248_1 = manager.audio:GetLocalizationFlag()

		if var_248_0[var_248_1] ~= nil then
			arg_248_1.duration_ = var_248_0[var_248_1]
		end

		SetActive(arg_248_1.tipsGo_, false)

		function arg_248_1.onSingleLineFinish_()
			arg_248_1.onSingleLineUpdate_ = nil
			arg_248_1.onSingleLineFinish_ = nil
			arg_248_1.state_ = "waiting"
		end

		function arg_248_1.playNext_(arg_250_0)
			if arg_250_0 == 1 then
				arg_248_0:Play411121059(arg_248_1)
			end
		end

		function arg_248_1.onSingleLineUpdate_(arg_251_0)
			local var_251_0 = 0
			local var_251_1 = 0.65

			if var_251_0 < arg_248_1.time_ and arg_248_1.time_ <= var_251_0 + arg_251_0 then
				arg_248_1.talkMaxDuration = 0
				arg_248_1.dialogCg_.alpha = 1

				arg_248_1.dialog_:SetActive(true)
				SetActive(arg_248_1.leftNameGo_, true)

				local var_251_2 = arg_248_1:FormatText(StoryNameCfg[670].name)

				arg_248_1.leftNameTxt_.text = var_251_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_248_1.leftNameTxt_.transform)

				arg_248_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_248_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_248_1:RecordName(arg_248_1.leftNameTxt_.text)
				SetActive(arg_248_1.iconTrs_.gameObject, false)
				arg_248_1.callingController_:SetSelectedState("normal")

				local var_251_3 = arg_248_1:GetWordFromCfg(411121058)
				local var_251_4 = arg_248_1:FormatText(var_251_3.content)

				arg_248_1.text_.text = var_251_4

				LuaForUtil.ClearLinePrefixSymbol(arg_248_1.text_)

				local var_251_5 = 26
				local var_251_6 = utf8.len(var_251_4)
				local var_251_7 = var_251_5 <= 0 and var_251_1 or var_251_1 * (var_251_6 / var_251_5)

				if var_251_7 > 0 and var_251_1 < var_251_7 then
					arg_248_1.talkMaxDuration = var_251_7

					if var_251_7 + var_251_0 > arg_248_1.duration_ then
						arg_248_1.duration_ = var_251_7 + var_251_0
					end
				end

				arg_248_1.text_.text = var_251_4
				arg_248_1.typewritter.percent = 0

				arg_248_1.typewritter:SetDirty()
				arg_248_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121058", "story_v_out_411121.awb") ~= 0 then
					local var_251_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121058", "story_v_out_411121.awb") / 1000

					if var_251_8 + var_251_0 > arg_248_1.duration_ then
						arg_248_1.duration_ = var_251_8 + var_251_0
					end

					if var_251_3.prefab_name ~= "" and arg_248_1.actors_[var_251_3.prefab_name] ~= nil then
						local var_251_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_248_1.actors_[var_251_3.prefab_name].transform, "story_v_out_411121", "411121058", "story_v_out_411121.awb")

						arg_248_1:RecordAudio("411121058", var_251_9)
						arg_248_1:RecordAudio("411121058", var_251_9)
					else
						arg_248_1:AudioAction("play", "voice", "story_v_out_411121", "411121058", "story_v_out_411121.awb")
					end

					arg_248_1:RecordHistoryTalkVoice("story_v_out_411121", "411121058", "story_v_out_411121.awb")
				end

				arg_248_1:RecordContent(arg_248_1.text_.text)
			end

			local var_251_10 = math.max(var_251_1, arg_248_1.talkMaxDuration)

			if var_251_0 <= arg_248_1.time_ and arg_248_1.time_ < var_251_0 + var_251_10 then
				arg_248_1.typewritter.percent = (arg_248_1.time_ - var_251_0) / var_251_10

				arg_248_1.typewritter:SetDirty()
			end

			if arg_248_1.time_ >= var_251_0 + var_251_10 and arg_248_1.time_ < var_251_0 + var_251_10 + arg_251_0 then
				arg_248_1.typewritter.percent = 1

				arg_248_1.typewritter:SetDirty()
				arg_248_1:ShowNextGo(true)
			end
		end
	end,
	Play411121059 = function(arg_252_0, arg_252_1)
		arg_252_1.time_ = 0
		arg_252_1.frameCnt_ = 0
		arg_252_1.state_ = "playing"
		arg_252_1.curTalkId_ = 411121059
		arg_252_1.duration_ = 4.57

		local var_252_0 = {
			zh = 4.1,
			ja = 4.566
		}
		local var_252_1 = manager.audio:GetLocalizationFlag()

		if var_252_0[var_252_1] ~= nil then
			arg_252_1.duration_ = var_252_0[var_252_1]
		end

		SetActive(arg_252_1.tipsGo_, false)

		function arg_252_1.onSingleLineFinish_()
			arg_252_1.onSingleLineUpdate_ = nil
			arg_252_1.onSingleLineFinish_ = nil
			arg_252_1.state_ = "waiting"
		end

		function arg_252_1.playNext_(arg_254_0)
			if arg_254_0 == 1 then
				arg_252_0:Play411121060(arg_252_1)
			end
		end

		function arg_252_1.onSingleLineUpdate_(arg_255_0)
			local var_255_0 = arg_252_1.actors_["10071ui_story"].transform
			local var_255_1 = 0

			if var_255_1 < arg_252_1.time_ and arg_252_1.time_ <= var_255_1 + arg_255_0 then
				arg_252_1.var_.moveOldPos10071ui_story = var_255_0.localPosition
			end

			local var_255_2 = 0.001

			if var_255_1 <= arg_252_1.time_ and arg_252_1.time_ < var_255_1 + var_255_2 then
				local var_255_3 = (arg_252_1.time_ - var_255_1) / var_255_2
				local var_255_4 = Vector3.New(0, 100, 0)

				var_255_0.localPosition = Vector3.Lerp(arg_252_1.var_.moveOldPos10071ui_story, var_255_4, var_255_3)

				local var_255_5 = manager.ui.mainCamera.transform.position - var_255_0.position

				var_255_0.forward = Vector3.New(var_255_5.x, var_255_5.y, var_255_5.z)

				local var_255_6 = var_255_0.localEulerAngles

				var_255_6.z = 0
				var_255_6.x = 0
				var_255_0.localEulerAngles = var_255_6
			end

			if arg_252_1.time_ >= var_255_1 + var_255_2 and arg_252_1.time_ < var_255_1 + var_255_2 + arg_255_0 then
				var_255_0.localPosition = Vector3.New(0, 100, 0)

				local var_255_7 = manager.ui.mainCamera.transform.position - var_255_0.position

				var_255_0.forward = Vector3.New(var_255_7.x, var_255_7.y, var_255_7.z)

				local var_255_8 = var_255_0.localEulerAngles

				var_255_8.z = 0
				var_255_8.x = 0
				var_255_0.localEulerAngles = var_255_8
			end

			local var_255_9 = 0
			local var_255_10 = 0.35

			if var_255_9 < arg_252_1.time_ and arg_252_1.time_ <= var_255_9 + arg_255_0 then
				arg_252_1.talkMaxDuration = 0
				arg_252_1.dialogCg_.alpha = 1

				arg_252_1.dialog_:SetActive(true)
				SetActive(arg_252_1.leftNameGo_, true)

				local var_255_11 = arg_252_1:FormatText(StoryNameCfg[471].name)

				arg_252_1.leftNameTxt_.text = var_255_11

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_252_1.leftNameTxt_.transform)

				arg_252_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_252_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_252_1:RecordName(arg_252_1.leftNameTxt_.text)
				SetActive(arg_252_1.iconTrs_.gameObject, true)
				arg_252_1.iconController_:SetSelectedState("hero")

				arg_252_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_1095")

				arg_252_1.callingController_:SetSelectedState("normal")

				arg_252_1.keyicon_.color = Color.New(1, 1, 1)
				arg_252_1.icon_.color = Color.New(1, 1, 1)

				local var_255_12 = arg_252_1:GetWordFromCfg(411121059)
				local var_255_13 = arg_252_1:FormatText(var_255_12.content)

				arg_252_1.text_.text = var_255_13

				LuaForUtil.ClearLinePrefixSymbol(arg_252_1.text_)

				local var_255_14 = 14
				local var_255_15 = utf8.len(var_255_13)
				local var_255_16 = var_255_14 <= 0 and var_255_10 or var_255_10 * (var_255_15 / var_255_14)

				if var_255_16 > 0 and var_255_10 < var_255_16 then
					arg_252_1.talkMaxDuration = var_255_16

					if var_255_16 + var_255_9 > arg_252_1.duration_ then
						arg_252_1.duration_ = var_255_16 + var_255_9
					end
				end

				arg_252_1.text_.text = var_255_13
				arg_252_1.typewritter.percent = 0

				arg_252_1.typewritter:SetDirty()
				arg_252_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121059", "story_v_out_411121.awb") ~= 0 then
					local var_255_17 = manager.audio:GetVoiceLength("story_v_out_411121", "411121059", "story_v_out_411121.awb") / 1000

					if var_255_17 + var_255_9 > arg_252_1.duration_ then
						arg_252_1.duration_ = var_255_17 + var_255_9
					end

					if var_255_12.prefab_name ~= "" and arg_252_1.actors_[var_255_12.prefab_name] ~= nil then
						local var_255_18 = LuaForUtil.PlayVoiceWithCriLipsync(arg_252_1.actors_[var_255_12.prefab_name].transform, "story_v_out_411121", "411121059", "story_v_out_411121.awb")

						arg_252_1:RecordAudio("411121059", var_255_18)
						arg_252_1:RecordAudio("411121059", var_255_18)
					else
						arg_252_1:AudioAction("play", "voice", "story_v_out_411121", "411121059", "story_v_out_411121.awb")
					end

					arg_252_1:RecordHistoryTalkVoice("story_v_out_411121", "411121059", "story_v_out_411121.awb")
				end

				arg_252_1:RecordContent(arg_252_1.text_.text)
			end

			local var_255_19 = math.max(var_255_10, arg_252_1.talkMaxDuration)

			if var_255_9 <= arg_252_1.time_ and arg_252_1.time_ < var_255_9 + var_255_19 then
				arg_252_1.typewritter.percent = (arg_252_1.time_ - var_255_9) / var_255_19

				arg_252_1.typewritter:SetDirty()
			end

			if arg_252_1.time_ >= var_255_9 + var_255_19 and arg_252_1.time_ < var_255_9 + var_255_19 + arg_255_0 then
				arg_252_1.typewritter.percent = 1

				arg_252_1.typewritter:SetDirty()
				arg_252_1:ShowNextGo(true)
			end
		end
	end,
	Play411121060 = function(arg_256_0, arg_256_1)
		arg_256_1.time_ = 0
		arg_256_1.frameCnt_ = 0
		arg_256_1.state_ = "playing"
		arg_256_1.curTalkId_ = 411121060
		arg_256_1.duration_ = 7.8

		SetActive(arg_256_1.tipsGo_, false)

		function arg_256_1.onSingleLineFinish_()
			arg_256_1.onSingleLineUpdate_ = nil
			arg_256_1.onSingleLineFinish_ = nil
			arg_256_1.state_ = "waiting"
		end

		function arg_256_1.playNext_(arg_258_0)
			if arg_258_0 == 1 then
				arg_256_0:Play411121061(arg_256_1)
			end
		end

		function arg_256_1.onSingleLineUpdate_(arg_259_0)
			local var_259_0 = 2

			if var_259_0 < arg_256_1.time_ and arg_256_1.time_ <= var_259_0 + arg_259_0 then
				local var_259_1 = manager.ui.mainCamera.transform.localPosition
				local var_259_2 = Vector3.New(0, 0, 10) + Vector3.New(var_259_1.x, var_259_1.y, 0)
				local var_259_3 = arg_256_1.bgs_.STblack

				var_259_3.transform.localPosition = var_259_2
				var_259_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_259_4 = var_259_3:GetComponent("SpriteRenderer")

				if var_259_4 and var_259_4.sprite then
					local var_259_5 = (var_259_3.transform.localPosition - var_259_1).z
					local var_259_6 = manager.ui.mainCameraCom_
					local var_259_7 = 2 * var_259_5 * Mathf.Tan(var_259_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_259_8 = var_259_7 * var_259_6.aspect
					local var_259_9 = var_259_4.sprite.bounds.size.x
					local var_259_10 = var_259_4.sprite.bounds.size.y
					local var_259_11 = var_259_8 / var_259_9
					local var_259_12 = var_259_7 / var_259_10
					local var_259_13 = var_259_12 < var_259_11 and var_259_11 or var_259_12

					var_259_3.transform.localScale = Vector3.New(var_259_13, var_259_13, 0)
				end

				for iter_259_0, iter_259_1 in pairs(arg_256_1.bgs_) do
					if iter_259_0 ~= "STblack" then
						iter_259_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_259_14 = arg_256_1.actors_["10071ui_story"].transform
			local var_259_15 = 1.96599999815226

			if var_259_15 < arg_256_1.time_ and arg_256_1.time_ <= var_259_15 + arg_259_0 then
				arg_256_1.var_.moveOldPos10071ui_story = var_259_14.localPosition
			end

			local var_259_16 = 0.001

			if var_259_15 <= arg_256_1.time_ and arg_256_1.time_ < var_259_15 + var_259_16 then
				local var_259_17 = (arg_256_1.time_ - var_259_15) / var_259_16
				local var_259_18 = Vector3.New(0, 100, 0)

				var_259_14.localPosition = Vector3.Lerp(arg_256_1.var_.moveOldPos10071ui_story, var_259_18, var_259_17)

				local var_259_19 = manager.ui.mainCamera.transform.position - var_259_14.position

				var_259_14.forward = Vector3.New(var_259_19.x, var_259_19.y, var_259_19.z)

				local var_259_20 = var_259_14.localEulerAngles

				var_259_20.z = 0
				var_259_20.x = 0
				var_259_14.localEulerAngles = var_259_20
			end

			if arg_256_1.time_ >= var_259_15 + var_259_16 and arg_256_1.time_ < var_259_15 + var_259_16 + arg_259_0 then
				var_259_14.localPosition = Vector3.New(0, 100, 0)

				local var_259_21 = manager.ui.mainCamera.transform.position - var_259_14.position

				var_259_14.forward = Vector3.New(var_259_21.x, var_259_21.y, var_259_21.z)

				local var_259_22 = var_259_14.localEulerAngles

				var_259_22.z = 0
				var_259_22.x = 0
				var_259_14.localEulerAngles = var_259_22
			end

			local var_259_23 = arg_256_1.actors_["10071ui_story"]
			local var_259_24 = 1.96599999815226

			if var_259_24 < arg_256_1.time_ and arg_256_1.time_ <= var_259_24 + arg_259_0 and not isNil(var_259_23) and arg_256_1.var_.characterEffect10071ui_story == nil then
				arg_256_1.var_.characterEffect10071ui_story = var_259_23:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_259_25 = 0.034000001847744

			if var_259_24 <= arg_256_1.time_ and arg_256_1.time_ < var_259_24 + var_259_25 and not isNil(var_259_23) then
				local var_259_26 = (arg_256_1.time_ - var_259_24) / var_259_25

				if arg_256_1.var_.characterEffect10071ui_story and not isNil(var_259_23) then
					local var_259_27 = Mathf.Lerp(0, 0.5, var_259_26)

					arg_256_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_256_1.var_.characterEffect10071ui_story.fillRatio = var_259_27
				end
			end

			if arg_256_1.time_ >= var_259_24 + var_259_25 and arg_256_1.time_ < var_259_24 + var_259_25 + arg_259_0 and not isNil(var_259_23) and arg_256_1.var_.characterEffect10071ui_story then
				local var_259_28 = 0.5

				arg_256_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_256_1.var_.characterEffect10071ui_story.fillRatio = var_259_28
			end

			local var_259_29 = arg_256_1.actors_["1095ui_story"].transform
			local var_259_30 = 1.96599999815226

			if var_259_30 < arg_256_1.time_ and arg_256_1.time_ <= var_259_30 + arg_259_0 then
				arg_256_1.var_.moveOldPos1095ui_story = var_259_29.localPosition
			end

			local var_259_31 = 0.001

			if var_259_30 <= arg_256_1.time_ and arg_256_1.time_ < var_259_30 + var_259_31 then
				local var_259_32 = (arg_256_1.time_ - var_259_30) / var_259_31
				local var_259_33 = Vector3.New(0, 100, 0)

				var_259_29.localPosition = Vector3.Lerp(arg_256_1.var_.moveOldPos1095ui_story, var_259_33, var_259_32)

				local var_259_34 = manager.ui.mainCamera.transform.position - var_259_29.position

				var_259_29.forward = Vector3.New(var_259_34.x, var_259_34.y, var_259_34.z)

				local var_259_35 = var_259_29.localEulerAngles

				var_259_35.z = 0
				var_259_35.x = 0
				var_259_29.localEulerAngles = var_259_35
			end

			if arg_256_1.time_ >= var_259_30 + var_259_31 and arg_256_1.time_ < var_259_30 + var_259_31 + arg_259_0 then
				var_259_29.localPosition = Vector3.New(0, 100, 0)

				local var_259_36 = manager.ui.mainCamera.transform.position - var_259_29.position

				var_259_29.forward = Vector3.New(var_259_36.x, var_259_36.y, var_259_36.z)

				local var_259_37 = var_259_29.localEulerAngles

				var_259_37.z = 0
				var_259_37.x = 0
				var_259_29.localEulerAngles = var_259_37
			end

			local var_259_38 = arg_256_1.actors_["1095ui_story"]
			local var_259_39 = 1.96599999815226

			if var_259_39 < arg_256_1.time_ and arg_256_1.time_ <= var_259_39 + arg_259_0 and not isNil(var_259_38) and arg_256_1.var_.characterEffect1095ui_story == nil then
				arg_256_1.var_.characterEffect1095ui_story = var_259_38:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_259_40 = 0.0166666666666667

			if var_259_39 <= arg_256_1.time_ and arg_256_1.time_ < var_259_39 + var_259_40 and not isNil(var_259_38) then
				local var_259_41 = (arg_256_1.time_ - var_259_39) / var_259_40

				if arg_256_1.var_.characterEffect1095ui_story and not isNil(var_259_38) then
					local var_259_42 = Mathf.Lerp(0, 0.5, var_259_41)

					arg_256_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_256_1.var_.characterEffect1095ui_story.fillRatio = var_259_42
				end
			end

			if arg_256_1.time_ >= var_259_39 + var_259_40 and arg_256_1.time_ < var_259_39 + var_259_40 + arg_259_0 and not isNil(var_259_38) and arg_256_1.var_.characterEffect1095ui_story then
				local var_259_43 = 0.5

				arg_256_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_256_1.var_.characterEffect1095ui_story.fillRatio = var_259_43
			end

			local var_259_44 = 0

			if var_259_44 < arg_256_1.time_ and arg_256_1.time_ <= var_259_44 + arg_259_0 then
				arg_256_1.mask_.enabled = true
				arg_256_1.mask_.raycastTarget = true

				arg_256_1:SetGaussion(false)
			end

			local var_259_45 = 2

			if var_259_44 <= arg_256_1.time_ and arg_256_1.time_ < var_259_44 + var_259_45 then
				local var_259_46 = (arg_256_1.time_ - var_259_44) / var_259_45
				local var_259_47 = Color.New(0, 0, 0)

				var_259_47.a = Mathf.Lerp(0, 1, var_259_46)
				arg_256_1.mask_.color = var_259_47
			end

			if arg_256_1.time_ >= var_259_44 + var_259_45 and arg_256_1.time_ < var_259_44 + var_259_45 + arg_259_0 then
				local var_259_48 = Color.New(0, 0, 0)

				var_259_48.a = 1
				arg_256_1.mask_.color = var_259_48
			end

			local var_259_49 = 2

			if var_259_49 < arg_256_1.time_ and arg_256_1.time_ <= var_259_49 + arg_259_0 then
				arg_256_1.mask_.enabled = true
				arg_256_1.mask_.raycastTarget = true

				arg_256_1:SetGaussion(false)
			end

			local var_259_50 = 1

			if var_259_49 <= arg_256_1.time_ and arg_256_1.time_ < var_259_49 + var_259_50 then
				local var_259_51 = (arg_256_1.time_ - var_259_49) / var_259_50
				local var_259_52 = Color.New(0, 0, 0)

				var_259_52.a = Mathf.Lerp(1, 0, var_259_51)
				arg_256_1.mask_.color = var_259_52
			end

			if arg_256_1.time_ >= var_259_49 + var_259_50 and arg_256_1.time_ < var_259_49 + var_259_50 + arg_259_0 then
				local var_259_53 = Color.New(0, 0, 0)
				local var_259_54 = 0

				arg_256_1.mask_.enabled = false
				var_259_53.a = var_259_54
				arg_256_1.mask_.color = var_259_53
			end

			if arg_256_1.frameCnt_ <= 1 then
				arg_256_1.dialog_:SetActive(false)
			end

			local var_259_55 = 2.8
			local var_259_56 = 1.2

			if var_259_55 < arg_256_1.time_ and arg_256_1.time_ <= var_259_55 + arg_259_0 then
				arg_256_1.talkMaxDuration = 0

				arg_256_1.dialog_:SetActive(true)

				local var_259_57 = LeanTween.value(arg_256_1.dialog_, 0, 1, 0.3)

				var_259_57:setOnUpdate(LuaHelper.FloatAction(function(arg_260_0)
					arg_256_1.dialogCg_.alpha = arg_260_0
				end))
				var_259_57:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_256_1.dialog_)
					var_259_57:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_256_1.duration_ = arg_256_1.duration_ + 0.3

				SetActive(arg_256_1.leftNameGo_, false)

				arg_256_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_256_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_256_1:RecordName(arg_256_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_256_1.iconTrs_.gameObject, false)
				arg_256_1.callingController_:SetSelectedState("normal")

				local var_259_58 = arg_256_1:GetWordFromCfg(411121060)
				local var_259_59 = arg_256_1:FormatText(var_259_58.content)

				arg_256_1.text_.text = var_259_59

				LuaForUtil.ClearLinePrefixSymbol(arg_256_1.text_)

				local var_259_60 = 48
				local var_259_61 = utf8.len(var_259_59)
				local var_259_62 = var_259_60 <= 0 and var_259_56 or var_259_56 * (var_259_61 / var_259_60)

				if var_259_62 > 0 and var_259_56 < var_259_62 then
					arg_256_1.talkMaxDuration = var_259_62
					var_259_55 = var_259_55 + 0.3

					if var_259_62 + var_259_55 > arg_256_1.duration_ then
						arg_256_1.duration_ = var_259_62 + var_259_55
					end
				end

				arg_256_1.text_.text = var_259_59
				arg_256_1.typewritter.percent = 0

				arg_256_1.typewritter:SetDirty()
				arg_256_1:ShowNextGo(false)
				arg_256_1:RecordContent(arg_256_1.text_.text)
			end

			local var_259_63 = var_259_55 + 0.3
			local var_259_64 = math.max(var_259_56, arg_256_1.talkMaxDuration)

			if var_259_63 <= arg_256_1.time_ and arg_256_1.time_ < var_259_63 + var_259_64 then
				arg_256_1.typewritter.percent = (arg_256_1.time_ - var_259_63) / var_259_64

				arg_256_1.typewritter:SetDirty()
			end

			if arg_256_1.time_ >= var_259_63 + var_259_64 and arg_256_1.time_ < var_259_63 + var_259_64 + arg_259_0 then
				arg_256_1.typewritter.percent = 1

				arg_256_1.typewritter:SetDirty()
				arg_256_1:ShowNextGo(true)
			end
		end
	end,
	Play411121061 = function(arg_262_0, arg_262_1)
		arg_262_1.time_ = 0
		arg_262_1.frameCnt_ = 0
		arg_262_1.state_ = "playing"
		arg_262_1.curTalkId_ = 411121061
		arg_262_1.duration_ = 2

		SetActive(arg_262_1.tipsGo_, false)

		function arg_262_1.onSingleLineFinish_()
			arg_262_1.onSingleLineUpdate_ = nil
			arg_262_1.onSingleLineFinish_ = nil
			arg_262_1.state_ = "waiting"
		end

		function arg_262_1.playNext_(arg_264_0)
			if arg_264_0 == 1 then
				arg_262_0:Play411121062(arg_262_1)
			end
		end

		function arg_262_1.onSingleLineUpdate_(arg_265_0)
			local var_265_0 = arg_262_1.actors_["10014ui_story"].transform
			local var_265_1 = 0.766666666666667

			if var_265_1 < arg_262_1.time_ and arg_262_1.time_ <= var_265_1 + arg_265_0 then
				arg_262_1.var_.moveOldPos10014ui_story = var_265_0.localPosition
			end

			local var_265_2 = 0.001

			if var_265_1 <= arg_262_1.time_ and arg_262_1.time_ < var_265_1 + var_265_2 then
				local var_265_3 = (arg_262_1.time_ - var_265_1) / var_265_2
				local var_265_4 = Vector3.New(0, 100, 0)

				var_265_0.localPosition = Vector3.Lerp(arg_262_1.var_.moveOldPos10014ui_story, var_265_4, var_265_3)

				local var_265_5 = manager.ui.mainCamera.transform.position - var_265_0.position

				var_265_0.forward = Vector3.New(var_265_5.x, var_265_5.y, var_265_5.z)

				local var_265_6 = var_265_0.localEulerAngles

				var_265_6.z = 0
				var_265_6.x = 0
				var_265_0.localEulerAngles = var_265_6
			end

			if arg_262_1.time_ >= var_265_1 + var_265_2 and arg_262_1.time_ < var_265_1 + var_265_2 + arg_265_0 then
				var_265_0.localPosition = Vector3.New(0, 100, 0)

				local var_265_7 = manager.ui.mainCamera.transform.position - var_265_0.position

				var_265_0.forward = Vector3.New(var_265_7.x, var_265_7.y, var_265_7.z)

				local var_265_8 = var_265_0.localEulerAngles

				var_265_8.z = 0
				var_265_8.x = 0
				var_265_0.localEulerAngles = var_265_8
			end

			local var_265_9 = 0

			if var_265_9 < arg_262_1.time_ and arg_262_1.time_ <= var_265_9 + arg_265_0 then
				arg_262_1.fswbg_:SetActive(true)
				arg_262_1.dialog_:SetActive(false)

				arg_262_1.fswtw_.percent = 0

				local var_265_10 = arg_262_1:GetWordFromCfg(411121061)
				local var_265_11 = arg_262_1:FormatText(var_265_10.content)

				arg_262_1.fswt_.text = var_265_11

				LuaForUtil.ClearLinePrefixSymbol(arg_262_1.fswt_)

				arg_262_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_262_1.fswtw_:SetDirty()

				arg_262_1.typewritterCharCountI18N = 0

				SetActive(arg_262_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_262_1:ShowNextGo(false)
			end

			local var_265_12 = 0.766666666666667

			if var_265_12 < arg_262_1.time_ and arg_262_1.time_ <= var_265_12 + arg_265_0 then
				arg_262_1.var_.oldValueTypewriter = arg_262_1.fswtw_.percent

				arg_262_1:ShowNextGo(false)
			end

			local var_265_13 = 7
			local var_265_14 = 0.466666666666667
			local var_265_15 = arg_262_1:GetWordFromCfg(411121061)
			local var_265_16 = arg_262_1:FormatText(var_265_15.content)
			local var_265_17, var_265_18 = arg_262_1:GetPercentByPara(var_265_16, 1)

			if var_265_12 < arg_262_1.time_ and arg_262_1.time_ <= var_265_12 + arg_265_0 then
				arg_262_1.talkMaxDuration = 0

				local var_265_19 = var_265_13 <= 0 and var_265_14 or var_265_14 * ((var_265_18 - arg_262_1.typewritterCharCountI18N) / var_265_13)

				if var_265_19 > 0 and var_265_14 < var_265_19 then
					arg_262_1.talkMaxDuration = var_265_19

					if var_265_19 + var_265_12 > arg_262_1.duration_ then
						arg_262_1.duration_ = var_265_19 + var_265_12
					end
				end
			end

			local var_265_20 = 0.466666666666667
			local var_265_21 = math.max(var_265_20, arg_262_1.talkMaxDuration)

			if var_265_12 <= arg_262_1.time_ and arg_262_1.time_ < var_265_12 + var_265_21 then
				local var_265_22 = (arg_262_1.time_ - var_265_12) / var_265_21

				arg_262_1.fswtw_.percent = Mathf.Lerp(arg_262_1.var_.oldValueTypewriter, var_265_17, var_265_22)
				arg_262_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_262_1.fswtw_:SetDirty()
			end

			if arg_262_1.time_ >= var_265_12 + var_265_21 and arg_262_1.time_ < var_265_12 + var_265_21 + arg_265_0 then
				arg_262_1.fswtw_.percent = var_265_17

				arg_262_1.fswtw_:SetDirty()
				arg_262_1:ShowNextGo(true)

				arg_262_1.typewritterCharCountI18N = var_265_18
			end

			local var_265_23 = 0.766666666666667

			if var_265_23 < arg_262_1.time_ and arg_262_1.time_ <= var_265_23 + arg_265_0 then
				local var_265_24 = arg_262_1.fswbg_.transform:Find("textbox/adapt/content") or arg_262_1.fswbg_.transform:Find("textbox/content")
				local var_265_25 = var_265_24:GetComponent("Text")
				local var_265_26 = var_265_24:GetComponent("RectTransform")

				var_265_25.alignment = UnityEngine.TextAnchor.LowerCenter
				var_265_26.offsetMin = Vector2.New(0, 0)
				var_265_26.offsetMax = Vector2.New(0, 0)
			end

			local var_265_27 = 0.766666666666667

			if var_265_27 < arg_262_1.time_ and arg_262_1.time_ <= var_265_27 + arg_265_0 then
				arg_262_1.cswbg_:SetActive(true)

				local var_265_28 = arg_262_1.cswt_:GetComponent("RectTransform")

				arg_262_1.cswt_.alignment = UnityEngine.TextAnchor.MiddleCenter
				var_265_28.offsetMin = Vector2.New(400, 270)
				var_265_28.offsetMax = Vector2.New(-400, -200)

				local var_265_29 = arg_262_1:GetWordFromCfg(401001)
				local var_265_30 = arg_262_1:FormatText(var_265_29.content)

				arg_262_1.cswt_.text = var_265_30

				LuaForUtil.ClearLinePrefixSymbol(arg_262_1.cswt_)

				arg_262_1.cswt_.fontSize = 180
				arg_262_1.cswt_:GetComponent("Text").color = Color(1, 1, 1)
				arg_262_1.cswt_.font = Asset.Load("Fonts/SourceHanSerifCN-Bold-3.0")
			end

			local var_265_31 = 0.000666668514410773

			if var_265_31 < arg_262_1.time_ and arg_262_1.time_ <= var_265_31 + arg_265_0 then
				local var_265_32 = manager.ui.mainCamera.transform.localPosition
				local var_265_33 = Vector3.New(0, 0, 10) + Vector3.New(var_265_32.x, var_265_32.y, 0)
				local var_265_34 = arg_262_1.bgs_.STblack

				var_265_34.transform.localPosition = var_265_33
				var_265_34.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_265_35 = var_265_34:GetComponent("SpriteRenderer")

				if var_265_35 and var_265_35.sprite then
					local var_265_36 = (var_265_34.transform.localPosition - var_265_32).z
					local var_265_37 = manager.ui.mainCameraCom_
					local var_265_38 = 2 * var_265_36 * Mathf.Tan(var_265_37.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_265_39 = var_265_38 * var_265_37.aspect
					local var_265_40 = var_265_35.sprite.bounds.size.x
					local var_265_41 = var_265_35.sprite.bounds.size.y
					local var_265_42 = var_265_39 / var_265_40
					local var_265_43 = var_265_38 / var_265_41
					local var_265_44 = var_265_43 < var_265_42 and var_265_42 or var_265_43

					var_265_34.transform.localScale = Vector3.New(var_265_44, var_265_44, 0)
				end

				for iter_265_0, iter_265_1 in pairs(arg_262_1.bgs_) do
					if iter_265_0 ~= "STblack" then
						iter_265_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_265_45 = 0

			if var_265_45 < arg_262_1.time_ and arg_262_1.time_ <= var_265_45 + arg_265_0 then
				arg_262_1.mask_.enabled = true
				arg_262_1.mask_.raycastTarget = true

				arg_262_1:SetGaussion(false)
			end

			local var_265_46 = 1.999999999999

			if var_265_45 <= arg_262_1.time_ and arg_262_1.time_ < var_265_45 + var_265_46 then
				local var_265_47 = (arg_262_1.time_ - var_265_45) / var_265_46
				local var_265_48 = Color.New(0, 0, 0)

				var_265_48.a = Mathf.Lerp(1, 0, var_265_47)
				arg_262_1.mask_.color = var_265_48
			end

			if arg_262_1.time_ >= var_265_45 + var_265_46 and arg_262_1.time_ < var_265_45 + var_265_46 + arg_265_0 then
				local var_265_49 = Color.New(0, 0, 0)
				local var_265_50 = 0

				arg_262_1.mask_.enabled = false
				var_265_49.a = var_265_50
				arg_262_1.mask_.color = var_265_49
			end

			local var_265_51 = 0.766666666666667
			local var_265_52 = 1
			local var_265_53 = manager.audio:GetVoiceLength("story_v_out_411121", "411121061", "story_v_out_411121.awb") / 1000

			if var_265_53 > 0 and var_265_52 < var_265_53 and var_265_53 + var_265_51 > arg_262_1.duration_ then
				local var_265_54 = var_265_53

				arg_262_1.duration_ = var_265_53 + var_265_51
			end

			if var_265_51 < arg_262_1.time_ and arg_262_1.time_ <= var_265_51 + arg_265_0 then
				local var_265_55 = "play"
				local var_265_56 = "voice"

				arg_262_1:AudioAction(var_265_55, var_265_56, "story_v_out_411121", "411121061", "story_v_out_411121.awb")
			end
		end
	end,
	Play411121062 = function(arg_266_0, arg_266_1)
		arg_266_1.time_ = 0
		arg_266_1.frameCnt_ = 0
		arg_266_1.state_ = "playing"
		arg_266_1.curTalkId_ = 411121062
		arg_266_1.duration_ = 1.28

		SetActive(arg_266_1.tipsGo_, false)

		function arg_266_1.onSingleLineFinish_()
			arg_266_1.onSingleLineUpdate_ = nil
			arg_266_1.onSingleLineFinish_ = nil
			arg_266_1.state_ = "waiting"
		end

		function arg_266_1.playNext_(arg_268_0)
			if arg_268_0 == 1 then
				arg_266_0:Play411121063(arg_266_1)
			end
		end

		function arg_266_1.onSingleLineUpdate_(arg_269_0)
			local var_269_0 = 0

			if var_269_0 < arg_266_1.time_ and arg_266_1.time_ <= var_269_0 + arg_269_0 then
				arg_266_1.fswbg_:SetActive(true)
				arg_266_1.dialog_:SetActive(false)

				arg_266_1.fswtw_.percent = 0

				local var_269_1 = arg_266_1:GetWordFromCfg(411121062)
				local var_269_2 = arg_266_1:FormatText(var_269_1.content)

				arg_266_1.fswt_.text = var_269_2

				LuaForUtil.ClearLinePrefixSymbol(arg_266_1.fswt_)

				arg_266_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_266_1.fswtw_:SetDirty()

				arg_266_1.typewritterCharCountI18N = 0

				SetActive(arg_266_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_266_1:ShowNextGo(false)
			end

			local var_269_3 = 0.0166666666666666

			if var_269_3 < arg_266_1.time_ and arg_266_1.time_ <= var_269_3 + arg_269_0 then
				arg_266_1.var_.oldValueTypewriter = arg_266_1.fswtw_.percent

				arg_266_1:ShowNextGo(false)
			end

			local var_269_4 = 19
			local var_269_5 = 1.26666666666667
			local var_269_6 = arg_266_1:GetWordFromCfg(411121062)
			local var_269_7 = arg_266_1:FormatText(var_269_6.content)
			local var_269_8, var_269_9 = arg_266_1:GetPercentByPara(var_269_7, 1)

			if var_269_3 < arg_266_1.time_ and arg_266_1.time_ <= var_269_3 + arg_269_0 then
				arg_266_1.talkMaxDuration = 0

				local var_269_10 = var_269_4 <= 0 and var_269_5 or var_269_5 * ((var_269_9 - arg_266_1.typewritterCharCountI18N) / var_269_4)

				if var_269_10 > 0 and var_269_5 < var_269_10 then
					arg_266_1.talkMaxDuration = var_269_10

					if var_269_10 + var_269_3 > arg_266_1.duration_ then
						arg_266_1.duration_ = var_269_10 + var_269_3
					end
				end
			end

			local var_269_11 = 1.26666666666667
			local var_269_12 = math.max(var_269_11, arg_266_1.talkMaxDuration)

			if var_269_3 <= arg_266_1.time_ and arg_266_1.time_ < var_269_3 + var_269_12 then
				local var_269_13 = (arg_266_1.time_ - var_269_3) / var_269_12

				arg_266_1.fswtw_.percent = Mathf.Lerp(arg_266_1.var_.oldValueTypewriter, var_269_8, var_269_13)
				arg_266_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_266_1.fswtw_:SetDirty()
			end

			if arg_266_1.time_ >= var_269_3 + var_269_12 and arg_266_1.time_ < var_269_3 + var_269_12 + arg_269_0 then
				arg_266_1.fswtw_.percent = var_269_8

				arg_266_1.fswtw_:SetDirty()
				arg_266_1:ShowNextGo(true)

				arg_266_1.typewritterCharCountI18N = var_269_9
			end

			local var_269_14 = 0.0166666666666667
			local var_269_15 = 1
			local var_269_16 = manager.audio:GetVoiceLength("story_v_out_411121", "411121062", "story_v_out_411121.awb") / 1000

			if var_269_16 > 0 and var_269_15 < var_269_16 and var_269_16 + var_269_14 > arg_266_1.duration_ then
				local var_269_17 = var_269_16

				arg_266_1.duration_ = var_269_16 + var_269_14
			end

			if var_269_14 < arg_266_1.time_ and arg_266_1.time_ <= var_269_14 + arg_269_0 then
				local var_269_18 = "play"
				local var_269_19 = "voice"

				arg_266_1:AudioAction(var_269_18, var_269_19, "story_v_out_411121", "411121062", "story_v_out_411121.awb")
			end
		end
	end,
	Play411121063 = function(arg_270_0, arg_270_1)
		arg_270_1.time_ = 0
		arg_270_1.frameCnt_ = 0
		arg_270_1.state_ = "playing"
		arg_270_1.curTalkId_ = 411121063
		arg_270_1.duration_ = 2.48

		SetActive(arg_270_1.tipsGo_, false)

		function arg_270_1.onSingleLineFinish_()
			arg_270_1.onSingleLineUpdate_ = nil
			arg_270_1.onSingleLineFinish_ = nil
			arg_270_1.state_ = "waiting"
		end

		function arg_270_1.playNext_(arg_272_0)
			if arg_272_0 == 1 then
				arg_270_0:Play411121064(arg_270_1)
			end
		end

		function arg_270_1.onSingleLineUpdate_(arg_273_0)
			local var_273_0 = 0

			if var_273_0 < arg_270_1.time_ and arg_270_1.time_ <= var_273_0 + arg_273_0 then
				arg_270_1.fswbg_:SetActive(true)
				arg_270_1.dialog_:SetActive(false)

				arg_270_1.fswtw_.percent = 0

				local var_273_1 = arg_270_1:GetWordFromCfg(411121063)
				local var_273_2 = arg_270_1:FormatText(var_273_1.content)

				arg_270_1.fswt_.text = var_273_2

				LuaForUtil.ClearLinePrefixSymbol(arg_270_1.fswt_)

				arg_270_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_270_1.fswtw_:SetDirty()

				arg_270_1.typewritterCharCountI18N = 0

				SetActive(arg_270_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_270_1:ShowNextGo(false)
			end

			local var_273_3 = 0.0166666666666666

			if var_273_3 < arg_270_1.time_ and arg_270_1.time_ <= var_273_3 + arg_273_0 then
				arg_270_1.var_.oldValueTypewriter = arg_270_1.fswtw_.percent

				arg_270_1:ShowNextGo(false)
			end

			local var_273_4 = 37
			local var_273_5 = 2.46666666666667
			local var_273_6 = arg_270_1:GetWordFromCfg(411121063)
			local var_273_7 = arg_270_1:FormatText(var_273_6.content)
			local var_273_8, var_273_9 = arg_270_1:GetPercentByPara(var_273_7, 1)

			if var_273_3 < arg_270_1.time_ and arg_270_1.time_ <= var_273_3 + arg_273_0 then
				arg_270_1.talkMaxDuration = 0

				local var_273_10 = var_273_4 <= 0 and var_273_5 or var_273_5 * ((var_273_9 - arg_270_1.typewritterCharCountI18N) / var_273_4)

				if var_273_10 > 0 and var_273_5 < var_273_10 then
					arg_270_1.talkMaxDuration = var_273_10

					if var_273_10 + var_273_3 > arg_270_1.duration_ then
						arg_270_1.duration_ = var_273_10 + var_273_3
					end
				end
			end

			local var_273_11 = 2.46666666666667
			local var_273_12 = math.max(var_273_11, arg_270_1.talkMaxDuration)

			if var_273_3 <= arg_270_1.time_ and arg_270_1.time_ < var_273_3 + var_273_12 then
				local var_273_13 = (arg_270_1.time_ - var_273_3) / var_273_12

				arg_270_1.fswtw_.percent = Mathf.Lerp(arg_270_1.var_.oldValueTypewriter, var_273_8, var_273_13)
				arg_270_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_270_1.fswtw_:SetDirty()
			end

			if arg_270_1.time_ >= var_273_3 + var_273_12 and arg_270_1.time_ < var_273_3 + var_273_12 + arg_273_0 then
				arg_270_1.fswtw_.percent = var_273_8

				arg_270_1.fswtw_:SetDirty()
				arg_270_1:ShowNextGo(true)

				arg_270_1.typewritterCharCountI18N = var_273_9
			end

			local var_273_14 = 0.0166666666666667
			local var_273_15 = 1
			local var_273_16 = manager.audio:GetVoiceLength("story_v_out_411121", "411121063", "story_v_out_411121.awb") / 1000

			if var_273_16 > 0 and var_273_15 < var_273_16 and var_273_16 + var_273_14 > arg_270_1.duration_ then
				local var_273_17 = var_273_16

				arg_270_1.duration_ = var_273_16 + var_273_14
			end

			if var_273_14 < arg_270_1.time_ and arg_270_1.time_ <= var_273_14 + arg_273_0 then
				local var_273_18 = "play"
				local var_273_19 = "voice"

				arg_270_1:AudioAction(var_273_18, var_273_19, "story_v_out_411121", "411121063", "story_v_out_411121.awb")
			end
		end
	end,
	Play411121064 = function(arg_274_0, arg_274_1)
		arg_274_1.time_ = 0
		arg_274_1.frameCnt_ = 0
		arg_274_1.state_ = "playing"
		arg_274_1.curTalkId_ = 411121064
		arg_274_1.duration_ = 5

		SetActive(arg_274_1.tipsGo_, false)

		function arg_274_1.onSingleLineFinish_()
			arg_274_1.onSingleLineUpdate_ = nil
			arg_274_1.onSingleLineFinish_ = nil
			arg_274_1.state_ = "waiting"
		end

		function arg_274_1.playNext_(arg_276_0)
			if arg_276_0 == 1 then
				arg_274_0:Play411121065(arg_274_1)
			end
		end

		function arg_274_1.onSingleLineUpdate_(arg_277_0)
			local var_277_0 = 0

			if var_277_0 < arg_274_1.time_ and arg_274_1.time_ <= var_277_0 + arg_277_0 then
				arg_274_1.fswbg_:SetActive(true)
				arg_274_1.dialog_:SetActive(false)

				arg_274_1.fswtw_.percent = 0

				local var_277_1 = arg_274_1:GetWordFromCfg(411121064)
				local var_277_2 = arg_274_1:FormatText(var_277_1.content)

				arg_274_1.fswt_.text = var_277_2

				LuaForUtil.ClearLinePrefixSymbol(arg_274_1.fswt_)

				arg_274_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_274_1.fswtw_:SetDirty()

				arg_274_1.typewritterCharCountI18N = 0

				SetActive(arg_274_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_274_1:ShowNextGo(false)
			end

			local var_277_3 = 0.0166666666666666

			if var_277_3 < arg_274_1.time_ and arg_274_1.time_ <= var_277_3 + arg_277_0 then
				arg_274_1.var_.oldValueTypewriter = arg_274_1.fswtw_.percent

				arg_274_1:ShowNextGo(false)
			end

			local var_277_4 = 51
			local var_277_5 = 3.4
			local var_277_6 = arg_274_1:GetWordFromCfg(411121064)
			local var_277_7 = arg_274_1:FormatText(var_277_6.content)
			local var_277_8, var_277_9 = arg_274_1:GetPercentByPara(var_277_7, 1)

			if var_277_3 < arg_274_1.time_ and arg_274_1.time_ <= var_277_3 + arg_277_0 then
				arg_274_1.talkMaxDuration = 0

				local var_277_10 = var_277_4 <= 0 and var_277_5 or var_277_5 * ((var_277_9 - arg_274_1.typewritterCharCountI18N) / var_277_4)

				if var_277_10 > 0 and var_277_5 < var_277_10 then
					arg_274_1.talkMaxDuration = var_277_10

					if var_277_10 + var_277_3 > arg_274_1.duration_ then
						arg_274_1.duration_ = var_277_10 + var_277_3
					end
				end
			end

			local var_277_11 = 3.4
			local var_277_12 = math.max(var_277_11, arg_274_1.talkMaxDuration)

			if var_277_3 <= arg_274_1.time_ and arg_274_1.time_ < var_277_3 + var_277_12 then
				local var_277_13 = (arg_274_1.time_ - var_277_3) / var_277_12

				arg_274_1.fswtw_.percent = Mathf.Lerp(arg_274_1.var_.oldValueTypewriter, var_277_8, var_277_13)
				arg_274_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_274_1.fswtw_:SetDirty()
			end

			if arg_274_1.time_ >= var_277_3 + var_277_12 and arg_274_1.time_ < var_277_3 + var_277_12 + arg_277_0 then
				arg_274_1.fswtw_.percent = var_277_8

				arg_274_1.fswtw_:SetDirty()
				arg_274_1:ShowNextGo(true)

				arg_274_1.typewritterCharCountI18N = var_277_9
			end

			local var_277_14 = 0

			if var_277_14 < arg_274_1.time_ and arg_274_1.time_ <= var_277_14 + arg_277_0 then
				local var_277_15 = arg_274_1.fswbg_.transform:Find("textbox/adapt/content") or arg_274_1.fswbg_.transform:Find("textbox/content")
				local var_277_16 = var_277_15:GetComponent("Text")
				local var_277_17 = var_277_15:GetComponent("RectTransform")

				var_277_16.alignment = UnityEngine.TextAnchor.LowerCenter
				var_277_17.offsetMin = Vector2.New(0, 20)
				var_277_17.offsetMax = Vector2.New(0, 0)
			end

			local var_277_18 = 0.0166666666666667
			local var_277_19 = 1
			local var_277_20 = manager.audio:GetVoiceLength("story_v_out_411121", "411121064", "story_v_out_411121.awb") / 1000

			if var_277_20 > 0 and var_277_19 < var_277_20 and var_277_20 + var_277_18 > arg_274_1.duration_ then
				local var_277_21 = var_277_20

				arg_274_1.duration_ = var_277_20 + var_277_18
			end

			if var_277_18 < arg_274_1.time_ and arg_274_1.time_ <= var_277_18 + arg_277_0 then
				local var_277_22 = "play"
				local var_277_23 = "voice"

				arg_274_1:AudioAction(var_277_22, var_277_23, "story_v_out_411121", "411121064", "story_v_out_411121.awb")
			end
		end
	end,
	Play411121065 = function(arg_278_0, arg_278_1)
		arg_278_1.time_ = 0
		arg_278_1.frameCnt_ = 0
		arg_278_1.state_ = "playing"
		arg_278_1.curTalkId_ = 411121065
		arg_278_1.duration_ = 3.22

		SetActive(arg_278_1.tipsGo_, false)

		function arg_278_1.onSingleLineFinish_()
			arg_278_1.onSingleLineUpdate_ = nil
			arg_278_1.onSingleLineFinish_ = nil
			arg_278_1.state_ = "waiting"
		end

		function arg_278_1.playNext_(arg_280_0)
			if arg_280_0 == 1 then
				arg_278_0:Play411121066(arg_278_1)
			end
		end

		function arg_278_1.onSingleLineUpdate_(arg_281_0)
			local var_281_0 = 0

			if var_281_0 < arg_278_1.time_ and arg_278_1.time_ <= var_281_0 + arg_281_0 then
				arg_278_1.fswbg_:SetActive(true)
				arg_278_1.dialog_:SetActive(false)

				arg_278_1.fswtw_.percent = 0

				local var_281_1 = arg_278_1:GetWordFromCfg(411121065)
				local var_281_2 = arg_278_1:FormatText(var_281_1.content)

				arg_278_1.fswt_.text = var_281_2

				LuaForUtil.ClearLinePrefixSymbol(arg_278_1.fswt_)

				arg_278_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_278_1.fswtw_:SetDirty()

				arg_278_1.typewritterCharCountI18N = 0

				SetActive(arg_278_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_278_1:ShowNextGo(false)
			end

			local var_281_3 = 0.0166666666666666

			if var_281_3 < arg_278_1.time_ and arg_278_1.time_ <= var_281_3 + arg_281_0 then
				arg_278_1.var_.oldValueTypewriter = arg_278_1.fswtw_.percent

				arg_278_1:ShowNextGo(false)
			end

			local var_281_4 = 48
			local var_281_5 = 3.2
			local var_281_6 = arg_278_1:GetWordFromCfg(411121065)
			local var_281_7 = arg_278_1:FormatText(var_281_6.content)
			local var_281_8, var_281_9 = arg_278_1:GetPercentByPara(var_281_7, 1)

			if var_281_3 < arg_278_1.time_ and arg_278_1.time_ <= var_281_3 + arg_281_0 then
				arg_278_1.talkMaxDuration = 0

				local var_281_10 = var_281_4 <= 0 and var_281_5 or var_281_5 * ((var_281_9 - arg_278_1.typewritterCharCountI18N) / var_281_4)

				if var_281_10 > 0 and var_281_5 < var_281_10 then
					arg_278_1.talkMaxDuration = var_281_10

					if var_281_10 + var_281_3 > arg_278_1.duration_ then
						arg_278_1.duration_ = var_281_10 + var_281_3
					end
				end
			end

			local var_281_11 = 3.2
			local var_281_12 = math.max(var_281_11, arg_278_1.talkMaxDuration)

			if var_281_3 <= arg_278_1.time_ and arg_278_1.time_ < var_281_3 + var_281_12 then
				local var_281_13 = (arg_278_1.time_ - var_281_3) / var_281_12

				arg_278_1.fswtw_.percent = Mathf.Lerp(arg_278_1.var_.oldValueTypewriter, var_281_8, var_281_13)
				arg_278_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_278_1.fswtw_:SetDirty()
			end

			if arg_278_1.time_ >= var_281_3 + var_281_12 and arg_278_1.time_ < var_281_3 + var_281_12 + arg_281_0 then
				arg_278_1.fswtw_.percent = var_281_8

				arg_278_1.fswtw_:SetDirty()
				arg_278_1:ShowNextGo(true)

				arg_278_1.typewritterCharCountI18N = var_281_9
			end

			local var_281_14 = 0
			local var_281_15 = 1

			if var_281_14 < arg_278_1.time_ and arg_278_1.time_ <= var_281_14 + arg_281_0 then
				local var_281_16 = "play"
				local var_281_17 = "music"

				arg_278_1:AudioAction(var_281_16, var_281_17, "", "", "")

				local var_281_18 = ""
				local var_281_19 = manager.audio:GetAudioName("", "")

				if var_281_19 ~= "" then
					if arg_278_1.bgmTxt_.text ~= var_281_19 and arg_278_1.bgmTxt_.text ~= "" then
						if arg_278_1.bgmTxt2_.text ~= "" then
							arg_278_1.bgmTxt_.text = arg_278_1.bgmTxt2_.text
						end

						arg_278_1.bgmTxt2_.text = var_281_19

						arg_278_1.musicChangeAnimator_:Play("music_change", 0, 0)
					else
						arg_278_1.bgmTxt_.text = var_281_19
					end

					if arg_278_1.bgmTimer then
						arg_278_1.bgmTimer:Stop()

						arg_278_1.bgmTimer = nil
					end

					if arg_278_1.settingData.show_music_name == 1 then
						arg_278_1.musicController:SetSelectedState("show")
						arg_278_1.musicAnimator_:Play("open", 0, 0)

						if arg_278_1.settingData.music_time ~= 0 then
							arg_278_1.bgmTimer = TimeTools.StartAfterSeconds(tonumber(arg_278_1.settingData.music_time), function()
								if arg_278_1 == nil or isNil(arg_278_1.bgmTxt_) then
									return
								end

								arg_278_1.musicController:SetSelectedState("hide")
								arg_278_1.musicAnimator_:Play("back", 0, 0)
							end, {})
						end
					end
				end
			end

			local var_281_20 = 0

			if var_281_20 < arg_278_1.time_ and arg_278_1.time_ <= var_281_20 + arg_281_0 then
				local var_281_21 = arg_278_1.fswbg_.transform:Find("textbox/adapt/content") or arg_278_1.fswbg_.transform:Find("textbox/content")
				local var_281_22 = var_281_21:GetComponent("Text")
				local var_281_23 = var_281_21:GetComponent("RectTransform")

				var_281_22.alignment = UnityEngine.TextAnchor.LowerCenter
				var_281_23.offsetMin = Vector2.New(-10, 20)
				var_281_23.offsetMax = Vector2.New(0, 0)
			end

			local var_281_24 = 0.0166666666666667
			local var_281_25 = 1
			local var_281_26 = manager.audio:GetVoiceLength("story_v_out_411121", "411121065", "story_v_out_411121.awb") / 1000

			if var_281_26 > 0 and var_281_25 < var_281_26 and var_281_26 + var_281_24 > arg_278_1.duration_ then
				local var_281_27 = var_281_26

				arg_278_1.duration_ = var_281_26 + var_281_24
			end

			if var_281_24 < arg_278_1.time_ and arg_278_1.time_ <= var_281_24 + arg_281_0 then
				local var_281_28 = "play"
				local var_281_29 = "voice"

				arg_278_1:AudioAction(var_281_28, var_281_29, "story_v_out_411121", "411121065", "story_v_out_411121.awb")
			end
		end
	end,
	Play411121066 = function(arg_283_0, arg_283_1)
		arg_283_1.time_ = 0
		arg_283_1.frameCnt_ = 0
		arg_283_1.state_ = "playing"
		arg_283_1.curTalkId_ = 411121066
		arg_283_1.duration_ = 1.62

		SetActive(arg_283_1.tipsGo_, false)

		function arg_283_1.onSingleLineFinish_()
			arg_283_1.onSingleLineUpdate_ = nil
			arg_283_1.onSingleLineFinish_ = nil
			arg_283_1.state_ = "waiting"
		end

		function arg_283_1.playNext_(arg_285_0)
			if arg_285_0 == 1 then
				arg_283_0:Play411121067(arg_283_1)
			end
		end

		function arg_283_1.onSingleLineUpdate_(arg_286_0)
			local var_286_0 = 0

			if var_286_0 < arg_283_1.time_ and arg_283_1.time_ <= var_286_0 + arg_286_0 then
				arg_283_1.fswbg_:SetActive(true)
				arg_283_1.dialog_:SetActive(false)

				arg_283_1.fswtw_.percent = 0

				local var_286_1 = arg_283_1:GetWordFromCfg(411121066)
				local var_286_2 = arg_283_1:FormatText(var_286_1.content)

				arg_283_1.fswt_.text = var_286_2

				LuaForUtil.ClearLinePrefixSymbol(arg_283_1.fswt_)

				arg_283_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_283_1.fswtw_:SetDirty()

				arg_283_1.typewritterCharCountI18N = 0

				SetActive(arg_283_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_283_1:ShowNextGo(false)
			end

			local var_286_3 = 0.0166666666666666

			if var_286_3 < arg_283_1.time_ and arg_283_1.time_ <= var_286_3 + arg_286_0 then
				arg_283_1.var_.oldValueTypewriter = arg_283_1.fswtw_.percent

				arg_283_1:ShowNextGo(false)
			end

			local var_286_4 = 24
			local var_286_5 = 1.6
			local var_286_6 = arg_283_1:GetWordFromCfg(411121066)
			local var_286_7 = arg_283_1:FormatText(var_286_6.content)
			local var_286_8, var_286_9 = arg_283_1:GetPercentByPara(var_286_7, 1)

			if var_286_3 < arg_283_1.time_ and arg_283_1.time_ <= var_286_3 + arg_286_0 then
				arg_283_1.talkMaxDuration = 0

				local var_286_10 = var_286_4 <= 0 and var_286_5 or var_286_5 * ((var_286_9 - arg_283_1.typewritterCharCountI18N) / var_286_4)

				if var_286_10 > 0 and var_286_5 < var_286_10 then
					arg_283_1.talkMaxDuration = var_286_10

					if var_286_10 + var_286_3 > arg_283_1.duration_ then
						arg_283_1.duration_ = var_286_10 + var_286_3
					end
				end
			end

			local var_286_11 = 1.6
			local var_286_12 = math.max(var_286_11, arg_283_1.talkMaxDuration)

			if var_286_3 <= arg_283_1.time_ and arg_283_1.time_ < var_286_3 + var_286_12 then
				local var_286_13 = (arg_283_1.time_ - var_286_3) / var_286_12

				arg_283_1.fswtw_.percent = Mathf.Lerp(arg_283_1.var_.oldValueTypewriter, var_286_8, var_286_13)
				arg_283_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_283_1.fswtw_:SetDirty()
			end

			if arg_283_1.time_ >= var_286_3 + var_286_12 and arg_283_1.time_ < var_286_3 + var_286_12 + arg_286_0 then
				arg_283_1.fswtw_.percent = var_286_8

				arg_283_1.fswtw_:SetDirty()
				arg_283_1:ShowNextGo(true)

				arg_283_1.typewritterCharCountI18N = var_286_9
			end

			local var_286_14 = 0

			if var_286_14 < arg_283_1.time_ and arg_283_1.time_ <= var_286_14 + arg_286_0 then
				local var_286_15 = arg_283_1.fswbg_.transform:Find("textbox/adapt/content") or arg_283_1.fswbg_.transform:Find("textbox/content")
				local var_286_16 = var_286_15:GetComponent("Text")
				local var_286_17 = var_286_15:GetComponent("RectTransform")

				var_286_16.alignment = UnityEngine.TextAnchor.LowerCenter
				var_286_17.offsetMin = Vector2.New(0, 0)
				var_286_17.offsetMax = Vector2.New(0, 0)
			end

			local var_286_18 = 0.0166666666666667
			local var_286_19 = 1
			local var_286_20 = manager.audio:GetVoiceLength("story_v_out_411121", "411121066", "story_v_out_411121.awb") / 1000

			if var_286_20 > 0 and var_286_19 < var_286_20 and var_286_20 + var_286_18 > arg_283_1.duration_ then
				local var_286_21 = var_286_20

				arg_283_1.duration_ = var_286_20 + var_286_18
			end

			if var_286_18 < arg_283_1.time_ and arg_283_1.time_ <= var_286_18 + arg_286_0 then
				local var_286_22 = "play"
				local var_286_23 = "voice"

				arg_283_1:AudioAction(var_286_22, var_286_23, "story_v_out_411121", "411121066", "story_v_out_411121.awb")
			end
		end
	end,
	Play411121067 = function(arg_287_0, arg_287_1)
		arg_287_1.time_ = 0
		arg_287_1.frameCnt_ = 0
		arg_287_1.state_ = "playing"
		arg_287_1.curTalkId_ = 411121067
		arg_287_1.duration_ = 1.82

		SetActive(arg_287_1.tipsGo_, false)

		function arg_287_1.onSingleLineFinish_()
			arg_287_1.onSingleLineUpdate_ = nil
			arg_287_1.onSingleLineFinish_ = nil
			arg_287_1.state_ = "waiting"
		end

		function arg_287_1.playNext_(arg_289_0)
			if arg_289_0 == 1 then
				arg_287_0:Play411121068(arg_287_1)
			end
		end

		function arg_287_1.onSingleLineUpdate_(arg_290_0)
			local var_290_0 = 0

			if var_290_0 < arg_287_1.time_ and arg_287_1.time_ <= var_290_0 + arg_290_0 then
				arg_287_1.fswbg_:SetActive(true)
				arg_287_1.dialog_:SetActive(false)

				arg_287_1.fswtw_.percent = 0

				local var_290_1 = arg_287_1:GetWordFromCfg(411121067)
				local var_290_2 = arg_287_1:FormatText(var_290_1.content)

				arg_287_1.fswt_.text = var_290_2

				LuaForUtil.ClearLinePrefixSymbol(arg_287_1.fswt_)

				arg_287_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_287_1.fswtw_:SetDirty()

				arg_287_1.typewritterCharCountI18N = 0

				SetActive(arg_287_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_287_1:ShowNextGo(false)
			end

			local var_290_3 = 0.0166666666666666

			if var_290_3 < arg_287_1.time_ and arg_287_1.time_ <= var_290_3 + arg_290_0 then
				arg_287_1.var_.oldValueTypewriter = arg_287_1.fswtw_.percent

				arg_287_1:ShowNextGo(false)
			end

			local var_290_4 = 27
			local var_290_5 = 1.8
			local var_290_6 = arg_287_1:GetWordFromCfg(411121067)
			local var_290_7 = arg_287_1:FormatText(var_290_6.content)
			local var_290_8, var_290_9 = arg_287_1:GetPercentByPara(var_290_7, 1)

			if var_290_3 < arg_287_1.time_ and arg_287_1.time_ <= var_290_3 + arg_290_0 then
				arg_287_1.talkMaxDuration = 0

				local var_290_10 = var_290_4 <= 0 and var_290_5 or var_290_5 * ((var_290_9 - arg_287_1.typewritterCharCountI18N) / var_290_4)

				if var_290_10 > 0 and var_290_5 < var_290_10 then
					arg_287_1.talkMaxDuration = var_290_10

					if var_290_10 + var_290_3 > arg_287_1.duration_ then
						arg_287_1.duration_ = var_290_10 + var_290_3
					end
				end
			end

			local var_290_11 = 1.8
			local var_290_12 = math.max(var_290_11, arg_287_1.talkMaxDuration)

			if var_290_3 <= arg_287_1.time_ and arg_287_1.time_ < var_290_3 + var_290_12 then
				local var_290_13 = (arg_287_1.time_ - var_290_3) / var_290_12

				arg_287_1.fswtw_.percent = Mathf.Lerp(arg_287_1.var_.oldValueTypewriter, var_290_8, var_290_13)
				arg_287_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_287_1.fswtw_:SetDirty()
			end

			if arg_287_1.time_ >= var_290_3 + var_290_12 and arg_287_1.time_ < var_290_3 + var_290_12 + arg_290_0 then
				arg_287_1.fswtw_.percent = var_290_8

				arg_287_1.fswtw_:SetDirty()
				arg_287_1:ShowNextGo(true)

				arg_287_1.typewritterCharCountI18N = var_290_9
			end

			local var_290_14 = 0.0166666666666667
			local var_290_15 = 1
			local var_290_16 = manager.audio:GetVoiceLength("story_v_out_411121", "411121067", "story_v_out_411121.awb") / 1000

			if var_290_16 > 0 and var_290_15 < var_290_16 and var_290_16 + var_290_14 > arg_287_1.duration_ then
				local var_290_17 = var_290_16

				arg_287_1.duration_ = var_290_16 + var_290_14
			end

			if var_290_14 < arg_287_1.time_ and arg_287_1.time_ <= var_290_14 + arg_290_0 then
				local var_290_18 = "play"
				local var_290_19 = "voice"

				arg_287_1:AudioAction(var_290_18, var_290_19, "story_v_out_411121", "411121067", "story_v_out_411121.awb")
			end
		end
	end,
	Play411121068 = function(arg_291_0, arg_291_1)
		arg_291_1.time_ = 0
		arg_291_1.frameCnt_ = 0
		arg_291_1.state_ = "playing"
		arg_291_1.curTalkId_ = 411121068
		arg_291_1.duration_ = 2.28

		SetActive(arg_291_1.tipsGo_, false)

		function arg_291_1.onSingleLineFinish_()
			arg_291_1.onSingleLineUpdate_ = nil
			arg_291_1.onSingleLineFinish_ = nil
			arg_291_1.state_ = "waiting"
		end

		function arg_291_1.playNext_(arg_293_0)
			if arg_293_0 == 1 then
				arg_291_0:Play411121069(arg_291_1)
			end
		end

		function arg_291_1.onSingleLineUpdate_(arg_294_0)
			local var_294_0 = 0

			if var_294_0 < arg_291_1.time_ and arg_291_1.time_ <= var_294_0 + arg_294_0 then
				arg_291_1.fswbg_:SetActive(true)
				arg_291_1.dialog_:SetActive(false)

				arg_291_1.fswtw_.percent = 0

				local var_294_1 = arg_291_1:GetWordFromCfg(411121068)
				local var_294_2 = arg_291_1:FormatText(var_294_1.content)

				arg_291_1.fswt_.text = var_294_2

				LuaForUtil.ClearLinePrefixSymbol(arg_291_1.fswt_)

				arg_291_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_291_1.fswtw_:SetDirty()

				arg_291_1.typewritterCharCountI18N = 0

				SetActive(arg_291_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_291_1:ShowNextGo(false)
			end

			local var_294_3 = 0.0166666666666666

			if var_294_3 < arg_291_1.time_ and arg_291_1.time_ <= var_294_3 + arg_294_0 then
				arg_291_1.var_.oldValueTypewriter = arg_291_1.fswtw_.percent

				arg_291_1:ShowNextGo(false)
			end

			local var_294_4 = 34
			local var_294_5 = 2.26666666666667
			local var_294_6 = arg_291_1:GetWordFromCfg(411121068)
			local var_294_7 = arg_291_1:FormatText(var_294_6.content)
			local var_294_8, var_294_9 = arg_291_1:GetPercentByPara(var_294_7, 1)

			if var_294_3 < arg_291_1.time_ and arg_291_1.time_ <= var_294_3 + arg_294_0 then
				arg_291_1.talkMaxDuration = 0

				local var_294_10 = var_294_4 <= 0 and var_294_5 or var_294_5 * ((var_294_9 - arg_291_1.typewritterCharCountI18N) / var_294_4)

				if var_294_10 > 0 and var_294_5 < var_294_10 then
					arg_291_1.talkMaxDuration = var_294_10

					if var_294_10 + var_294_3 > arg_291_1.duration_ then
						arg_291_1.duration_ = var_294_10 + var_294_3
					end
				end
			end

			local var_294_11 = 2.26666666666667
			local var_294_12 = math.max(var_294_11, arg_291_1.talkMaxDuration)

			if var_294_3 <= arg_291_1.time_ and arg_291_1.time_ < var_294_3 + var_294_12 then
				local var_294_13 = (arg_291_1.time_ - var_294_3) / var_294_12

				arg_291_1.fswtw_.percent = Mathf.Lerp(arg_291_1.var_.oldValueTypewriter, var_294_8, var_294_13)
				arg_291_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_291_1.fswtw_:SetDirty()
			end

			if arg_291_1.time_ >= var_294_3 + var_294_12 and arg_291_1.time_ < var_294_3 + var_294_12 + arg_294_0 then
				arg_291_1.fswtw_.percent = var_294_8

				arg_291_1.fswtw_:SetDirty()
				arg_291_1:ShowNextGo(true)

				arg_291_1.typewritterCharCountI18N = var_294_9
			end

			local var_294_14 = 0.0166666666666667
			local var_294_15 = 1
			local var_294_16 = manager.audio:GetVoiceLength("story_v_out_411121", "411121068", "story_v_out_411121.awb") / 1000

			if var_294_16 > 0 and var_294_15 < var_294_16 and var_294_16 + var_294_14 > arg_291_1.duration_ then
				local var_294_17 = var_294_16

				arg_291_1.duration_ = var_294_16 + var_294_14
			end

			if var_294_14 < arg_291_1.time_ and arg_291_1.time_ <= var_294_14 + arg_294_0 then
				local var_294_18 = "play"
				local var_294_19 = "voice"

				arg_291_1:AudioAction(var_294_18, var_294_19, "story_v_out_411121", "411121068", "story_v_out_411121.awb")
			end
		end
	end,
	Play411121069 = function(arg_295_0, arg_295_1)
		arg_295_1.time_ = 0
		arg_295_1.frameCnt_ = 0
		arg_295_1.state_ = "playing"
		arg_295_1.curTalkId_ = 411121069
		arg_295_1.duration_ = 2.08

		SetActive(arg_295_1.tipsGo_, false)

		function arg_295_1.onSingleLineFinish_()
			arg_295_1.onSingleLineUpdate_ = nil
			arg_295_1.onSingleLineFinish_ = nil
			arg_295_1.state_ = "waiting"
		end

		function arg_295_1.playNext_(arg_297_0)
			if arg_297_0 == 1 then
				arg_295_0:Play411121070(arg_295_1)
			end
		end

		function arg_295_1.onSingleLineUpdate_(arg_298_0)
			local var_298_0 = 0

			if var_298_0 < arg_295_1.time_ and arg_295_1.time_ <= var_298_0 + arg_298_0 then
				arg_295_1.fswbg_:SetActive(true)
				arg_295_1.dialog_:SetActive(false)

				arg_295_1.fswtw_.percent = 0

				local var_298_1 = arg_295_1:GetWordFromCfg(411121069)
				local var_298_2 = arg_295_1:FormatText(var_298_1.content)

				arg_295_1.fswt_.text = var_298_2

				LuaForUtil.ClearLinePrefixSymbol(arg_295_1.fswt_)

				arg_295_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_295_1.fswtw_:SetDirty()

				arg_295_1.typewritterCharCountI18N = 0

				SetActive(arg_295_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_295_1:ShowNextGo(false)
			end

			local var_298_3 = 0.0166666666666666

			if var_298_3 < arg_295_1.time_ and arg_295_1.time_ <= var_298_3 + arg_298_0 then
				arg_295_1.var_.oldValueTypewriter = arg_295_1.fswtw_.percent

				arg_295_1:ShowNextGo(false)
			end

			local var_298_4 = 31
			local var_298_5 = 2.06666666666667
			local var_298_6 = arg_295_1:GetWordFromCfg(411121069)
			local var_298_7 = arg_295_1:FormatText(var_298_6.content)
			local var_298_8, var_298_9 = arg_295_1:GetPercentByPara(var_298_7, 1)

			if var_298_3 < arg_295_1.time_ and arg_295_1.time_ <= var_298_3 + arg_298_0 then
				arg_295_1.talkMaxDuration = 0

				local var_298_10 = var_298_4 <= 0 and var_298_5 or var_298_5 * ((var_298_9 - arg_295_1.typewritterCharCountI18N) / var_298_4)

				if var_298_10 > 0 and var_298_5 < var_298_10 then
					arg_295_1.talkMaxDuration = var_298_10

					if var_298_10 + var_298_3 > arg_295_1.duration_ then
						arg_295_1.duration_ = var_298_10 + var_298_3
					end
				end
			end

			local var_298_11 = 2.06666666666667
			local var_298_12 = math.max(var_298_11, arg_295_1.talkMaxDuration)

			if var_298_3 <= arg_295_1.time_ and arg_295_1.time_ < var_298_3 + var_298_12 then
				local var_298_13 = (arg_295_1.time_ - var_298_3) / var_298_12

				arg_295_1.fswtw_.percent = Mathf.Lerp(arg_295_1.var_.oldValueTypewriter, var_298_8, var_298_13)
				arg_295_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_295_1.fswtw_:SetDirty()
			end

			if arg_295_1.time_ >= var_298_3 + var_298_12 and arg_295_1.time_ < var_298_3 + var_298_12 + arg_298_0 then
				arg_295_1.fswtw_.percent = var_298_8

				arg_295_1.fswtw_:SetDirty()
				arg_295_1:ShowNextGo(true)

				arg_295_1.typewritterCharCountI18N = var_298_9
			end

			local var_298_14 = 0.0166666666666667
			local var_298_15 = 1
			local var_298_16 = manager.audio:GetVoiceLength("story_v_out_411121", "411121069", "story_v_out_411121.awb") / 1000

			if var_298_16 > 0 and var_298_15 < var_298_16 and var_298_16 + var_298_14 > arg_295_1.duration_ then
				local var_298_17 = var_298_16

				arg_295_1.duration_ = var_298_16 + var_298_14
			end

			if var_298_14 < arg_295_1.time_ and arg_295_1.time_ <= var_298_14 + arg_298_0 then
				local var_298_18 = "play"
				local var_298_19 = "voice"

				arg_295_1:AudioAction(var_298_18, var_298_19, "story_v_out_411121", "411121069", "story_v_out_411121.awb")
			end
		end
	end,
	Play411121070 = function(arg_299_0, arg_299_1)
		arg_299_1.time_ = 0
		arg_299_1.frameCnt_ = 0
		arg_299_1.state_ = "playing"
		arg_299_1.curTalkId_ = 411121070
		arg_299_1.duration_ = 1.62

		SetActive(arg_299_1.tipsGo_, false)

		function arg_299_1.onSingleLineFinish_()
			arg_299_1.onSingleLineUpdate_ = nil
			arg_299_1.onSingleLineFinish_ = nil
			arg_299_1.state_ = "waiting"
		end

		function arg_299_1.playNext_(arg_301_0)
			if arg_301_0 == 1 then
				arg_299_0:Play411121071(arg_299_1)
			end
		end

		function arg_299_1.onSingleLineUpdate_(arg_302_0)
			local var_302_0 = 0

			if var_302_0 < arg_299_1.time_ and arg_299_1.time_ <= var_302_0 + arg_302_0 then
				arg_299_1.fswbg_:SetActive(true)
				arg_299_1.dialog_:SetActive(false)

				arg_299_1.fswtw_.percent = 0

				local var_302_1 = arg_299_1:GetWordFromCfg(411121070)
				local var_302_2 = arg_299_1:FormatText(var_302_1.content)

				arg_299_1.fswt_.text = var_302_2

				LuaForUtil.ClearLinePrefixSymbol(arg_299_1.fswt_)

				arg_299_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_299_1.fswtw_:SetDirty()

				arg_299_1.typewritterCharCountI18N = 0

				SetActive(arg_299_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_299_1:ShowNextGo(false)
			end

			local var_302_3 = 0.0166666666666666

			if var_302_3 < arg_299_1.time_ and arg_299_1.time_ <= var_302_3 + arg_302_0 then
				arg_299_1.var_.oldValueTypewriter = arg_299_1.fswtw_.percent

				arg_299_1:ShowNextGo(false)
			end

			local var_302_4 = 24
			local var_302_5 = 1.6
			local var_302_6 = arg_299_1:GetWordFromCfg(411121070)
			local var_302_7 = arg_299_1:FormatText(var_302_6.content)
			local var_302_8, var_302_9 = arg_299_1:GetPercentByPara(var_302_7, 1)

			if var_302_3 < arg_299_1.time_ and arg_299_1.time_ <= var_302_3 + arg_302_0 then
				arg_299_1.talkMaxDuration = 0

				local var_302_10 = var_302_4 <= 0 and var_302_5 or var_302_5 * ((var_302_9 - arg_299_1.typewritterCharCountI18N) / var_302_4)

				if var_302_10 > 0 and var_302_5 < var_302_10 then
					arg_299_1.talkMaxDuration = var_302_10

					if var_302_10 + var_302_3 > arg_299_1.duration_ then
						arg_299_1.duration_ = var_302_10 + var_302_3
					end
				end
			end

			local var_302_11 = 1.6
			local var_302_12 = math.max(var_302_11, arg_299_1.talkMaxDuration)

			if var_302_3 <= arg_299_1.time_ and arg_299_1.time_ < var_302_3 + var_302_12 then
				local var_302_13 = (arg_299_1.time_ - var_302_3) / var_302_12

				arg_299_1.fswtw_.percent = Mathf.Lerp(arg_299_1.var_.oldValueTypewriter, var_302_8, var_302_13)
				arg_299_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_299_1.fswtw_:SetDirty()
			end

			if arg_299_1.time_ >= var_302_3 + var_302_12 and arg_299_1.time_ < var_302_3 + var_302_12 + arg_302_0 then
				arg_299_1.fswtw_.percent = var_302_8

				arg_299_1.fswtw_:SetDirty()
				arg_299_1:ShowNextGo(true)

				arg_299_1.typewritterCharCountI18N = var_302_9
			end
		end
	end,
	Play411121071 = function(arg_303_0, arg_303_1)
		arg_303_1.time_ = 0
		arg_303_1.frameCnt_ = 0
		arg_303_1.state_ = "playing"
		arg_303_1.curTalkId_ = 411121071
		arg_303_1.duration_ = 6.53

		local var_303_0 = {
			zh = 6.33400000184774,
			ja = 6.53400000184774
		}
		local var_303_1 = manager.audio:GetLocalizationFlag()

		if var_303_0[var_303_1] ~= nil then
			arg_303_1.duration_ = var_303_0[var_303_1]
		end

		SetActive(arg_303_1.tipsGo_, false)

		function arg_303_1.onSingleLineFinish_()
			arg_303_1.onSingleLineUpdate_ = nil
			arg_303_1.onSingleLineFinish_ = nil
			arg_303_1.state_ = "waiting"
		end

		function arg_303_1.playNext_(arg_305_0)
			if arg_305_0 == 1 then
				arg_303_0:Play411121072(arg_303_1)
			end
		end

		function arg_303_1.onSingleLineUpdate_(arg_306_0)
			local var_306_0 = 3

			if var_306_0 < arg_303_1.time_ and arg_303_1.time_ <= var_306_0 + arg_306_0 then
				local var_306_1 = manager.ui.mainCamera.transform.localPosition
				local var_306_2 = Vector3.New(0, 0, 10) + Vector3.New(var_306_1.x, var_306_1.y, 0)
				local var_306_3 = arg_303_1.bgs_.ST71a

				var_306_3.transform.localPosition = var_306_2
				var_306_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_306_4 = var_306_3:GetComponent("SpriteRenderer")

				if var_306_4 and var_306_4.sprite then
					local var_306_5 = (var_306_3.transform.localPosition - var_306_1).z
					local var_306_6 = manager.ui.mainCameraCom_
					local var_306_7 = 2 * var_306_5 * Mathf.Tan(var_306_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_306_8 = var_306_7 * var_306_6.aspect
					local var_306_9 = var_306_4.sprite.bounds.size.x
					local var_306_10 = var_306_4.sprite.bounds.size.y
					local var_306_11 = var_306_8 / var_306_9
					local var_306_12 = var_306_7 / var_306_10
					local var_306_13 = var_306_12 < var_306_11 and var_306_11 or var_306_12

					var_306_3.transform.localScale = Vector3.New(var_306_13, var_306_13, 0)
				end

				for iter_306_0, iter_306_1 in pairs(arg_303_1.bgs_) do
					if iter_306_0 ~= "ST71a" then
						iter_306_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_306_14 = 0

			if var_306_14 < arg_303_1.time_ and arg_303_1.time_ <= var_306_14 + arg_306_0 then
				local var_306_15 = manager.ui.mainCamera.transform.localPosition
				local var_306_16 = Vector3.New(0, 0, 10) + Vector3.New(var_306_15.x, var_306_15.y, 0)
				local var_306_17 = arg_303_1.bgs_.STblack

				var_306_17.transform.localPosition = var_306_16
				var_306_17.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_306_18 = var_306_17:GetComponent("SpriteRenderer")

				if var_306_18 and var_306_18.sprite then
					local var_306_19 = (var_306_17.transform.localPosition - var_306_15).z
					local var_306_20 = manager.ui.mainCameraCom_
					local var_306_21 = 2 * var_306_19 * Mathf.Tan(var_306_20.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_306_22 = var_306_21 * var_306_20.aspect
					local var_306_23 = var_306_18.sprite.bounds.size.x
					local var_306_24 = var_306_18.sprite.bounds.size.y
					local var_306_25 = var_306_22 / var_306_23
					local var_306_26 = var_306_21 / var_306_24
					local var_306_27 = var_306_26 < var_306_25 and var_306_25 or var_306_26

					var_306_17.transform.localScale = Vector3.New(var_306_27, var_306_27, 0)
				end

				for iter_306_2, iter_306_3 in pairs(arg_303_1.bgs_) do
					if iter_306_2 ~= "STblack" then
						iter_306_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_306_28 = 3

			if var_306_28 < arg_303_1.time_ and arg_303_1.time_ <= var_306_28 + arg_306_0 then
				arg_303_1.mask_.enabled = true
				arg_303_1.mask_.raycastTarget = true

				arg_303_1:SetGaussion(false)
			end

			local var_306_29 = 0.166666666666667

			if var_306_28 <= arg_303_1.time_ and arg_303_1.time_ < var_306_28 + var_306_29 then
				local var_306_30 = (arg_303_1.time_ - var_306_28) / var_306_29
				local var_306_31 = Color.New(0.8490566, 0, 0)

				var_306_31.a = Mathf.Lerp(1, 0, var_306_30)
				arg_303_1.mask_.color = var_306_31
			end

			if arg_303_1.time_ >= var_306_28 + var_306_29 and arg_303_1.time_ < var_306_28 + var_306_29 + arg_306_0 then
				local var_306_32 = Color.New(0.8490566, 0, 0)
				local var_306_33 = 0

				arg_303_1.mask_.enabled = false
				var_306_32.a = var_306_33
				arg_303_1.mask_.color = var_306_32
			end

			local var_306_34 = 3.16666666666667

			if var_306_34 < arg_303_1.time_ and arg_303_1.time_ <= var_306_34 + arg_306_0 then
				arg_303_1.mask_.enabled = true
				arg_303_1.mask_.raycastTarget = true

				arg_303_1:SetGaussion(false)
			end

			local var_306_35 = 0.166666666666667

			if var_306_34 <= arg_303_1.time_ and arg_303_1.time_ < var_306_34 + var_306_35 then
				local var_306_36 = (arg_303_1.time_ - var_306_34) / var_306_35
				local var_306_37 = Color.New(0.8490566, 0, 0)

				var_306_37.a = Mathf.Lerp(1, 0, var_306_36)
				arg_303_1.mask_.color = var_306_37
			end

			if arg_303_1.time_ >= var_306_34 + var_306_35 and arg_303_1.time_ < var_306_34 + var_306_35 + arg_306_0 then
				local var_306_38 = Color.New(0.8490566, 0, 0)
				local var_306_39 = 0

				arg_303_1.mask_.enabled = false
				var_306_38.a = var_306_39
				arg_303_1.mask_.color = var_306_38
			end

			local var_306_40 = 3.33333333333333

			if var_306_40 < arg_303_1.time_ and arg_303_1.time_ <= var_306_40 + arg_306_0 then
				arg_303_1.mask_.enabled = true
				arg_303_1.mask_.raycastTarget = true

				arg_303_1:SetGaussion(false)
			end

			local var_306_41 = 0.166666666666667

			if var_306_40 <= arg_303_1.time_ and arg_303_1.time_ < var_306_40 + var_306_41 then
				local var_306_42 = (arg_303_1.time_ - var_306_40) / var_306_41
				local var_306_43 = Color.New(0.8490566, 0, 0)

				var_306_43.a = Mathf.Lerp(1, 0, var_306_42)
				arg_303_1.mask_.color = var_306_43
			end

			if arg_303_1.time_ >= var_306_40 + var_306_41 and arg_303_1.time_ < var_306_40 + var_306_41 + arg_306_0 then
				local var_306_44 = Color.New(0.8490566, 0, 0)
				local var_306_45 = 0

				arg_303_1.mask_.enabled = false
				var_306_44.a = var_306_45
				arg_303_1.mask_.color = var_306_44
			end

			local var_306_46 = manager.ui.mainCamera.transform
			local var_306_47 = 3.26666666666667

			if var_306_47 < arg_303_1.time_ and arg_303_1.time_ <= var_306_47 + arg_306_0 then
				arg_303_1.var_.shakeOldPos = var_306_46.localPosition
			end

			local var_306_48 = 0.933333333333334

			if var_306_47 <= arg_303_1.time_ and arg_303_1.time_ < var_306_47 + var_306_48 then
				local var_306_49 = (arg_303_1.time_ - var_306_47) / 0.066
				local var_306_50, var_306_51 = math.modf(var_306_49)

				var_306_46.localPosition = Vector3.New(var_306_51 * 0.13, var_306_51 * 0.13, var_306_51 * 0.13) + arg_303_1.var_.shakeOldPos
			end

			if arg_303_1.time_ >= var_306_47 + var_306_48 and arg_303_1.time_ < var_306_47 + var_306_48 + arg_306_0 then
				var_306_46.localPosition = arg_303_1.var_.shakeOldPos
			end

			local var_306_52 = 0.383333333333333

			if var_306_52 < arg_303_1.time_ and arg_303_1.time_ <= var_306_52 + arg_306_0 then
				arg_303_1.mask_.enabled = true
				arg_303_1.mask_.raycastTarget = true

				arg_303_1:SetGaussion(false)
			end

			local var_306_53 = 2.61666666666667

			if var_306_52 <= arg_303_1.time_ and arg_303_1.time_ < var_306_52 + var_306_53 then
				local var_306_54 = (arg_303_1.time_ - var_306_52) / var_306_53
				local var_306_55 = Color.New(0, 0, 0)

				var_306_55.a = Mathf.Lerp(0, 1, var_306_54)
				arg_303_1.mask_.color = var_306_55
			end

			if arg_303_1.time_ >= var_306_52 + var_306_53 and arg_303_1.time_ < var_306_52 + var_306_53 + arg_306_0 then
				local var_306_56 = Color.New(0, 0, 0)

				var_306_56.a = 1
				arg_303_1.mask_.color = var_306_56
			end

			local var_306_57 = 0

			if var_306_57 < arg_303_1.time_ and arg_303_1.time_ <= var_306_57 + arg_306_0 then
				arg_303_1.cswbg_:SetActive(false)
			end

			local var_306_58 = 3

			if var_306_58 < arg_303_1.time_ and arg_303_1.time_ <= var_306_58 + arg_306_0 then
				arg_303_1.fswbg_:SetActive(false)
				arg_303_1.dialog_:SetActive(true)
				arg_303_1:ShowNextGo(false)
			end

			local var_306_59 = 3.01666666666667

			if var_306_59 < arg_303_1.time_ and arg_303_1.time_ <= var_306_59 + arg_306_0 then
				arg_303_1.fswbg_:SetActive(false)
				arg_303_1.dialog_:SetActive(false)
				arg_303_1:ShowNextGo(false)
			end

			local var_306_60 = 3
			local var_306_61 = 0.566666666666667

			if var_306_60 < arg_303_1.time_ and arg_303_1.time_ <= var_306_60 + arg_306_0 then
				local var_306_62 = "play"
				local var_306_63 = "effect"

				arg_303_1:AudioAction(var_306_62, var_306_63, "se_story_128", "se_story_128_stab", "")
			end

			if arg_303_1.frameCnt_ <= 1 then
				arg_303_1.dialog_:SetActive(false)
			end

			local var_306_64 = 4.03400000184774
			local var_306_65 = 1.29933333148559

			if var_306_64 < arg_303_1.time_ and arg_303_1.time_ <= var_306_64 + arg_306_0 then
				arg_303_1.talkMaxDuration = 0

				arg_303_1.dialog_:SetActive(true)

				local var_306_66 = LeanTween.value(arg_303_1.dialog_, 0, 1, 0.3)

				var_306_66:setOnUpdate(LuaHelper.FloatAction(function(arg_307_0)
					arg_303_1.dialogCg_.alpha = arg_307_0
				end))
				var_306_66:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_303_1.dialog_)
					var_306_66:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_303_1.duration_ = arg_303_1.duration_ + 0.3

				SetActive(arg_303_1.leftNameGo_, true)

				local var_306_67 = arg_303_1:FormatText(StoryNameCfg[670].name)

				arg_303_1.leftNameTxt_.text = var_306_67

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_303_1.leftNameTxt_.transform)

				arg_303_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_303_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_303_1:RecordName(arg_303_1.leftNameTxt_.text)
				SetActive(arg_303_1.iconTrs_.gameObject, true)
				arg_303_1.iconController_:SetSelectedState("hero")

				arg_303_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_shadoww")

				arg_303_1.callingController_:SetSelectedState("normal")

				arg_303_1.keyicon_.color = Color.New(1, 1, 1)
				arg_303_1.icon_.color = Color.New(1, 1, 1)

				local var_306_68 = arg_303_1:GetWordFromCfg(411121071)
				local var_306_69 = arg_303_1:FormatText(var_306_68.content)

				arg_303_1.text_.text = var_306_69

				LuaForUtil.ClearLinePrefixSymbol(arg_303_1.text_)

				local var_306_70 = 6
				local var_306_71 = utf8.len(var_306_69)
				local var_306_72 = var_306_70 <= 0 and var_306_65 or var_306_65 * (var_306_71 / var_306_70)

				if var_306_72 > 0 and var_306_65 < var_306_72 then
					arg_303_1.talkMaxDuration = var_306_72
					var_306_64 = var_306_64 + 0.3

					if var_306_72 + var_306_64 > arg_303_1.duration_ then
						arg_303_1.duration_ = var_306_72 + var_306_64
					end
				end

				arg_303_1.text_.text = var_306_69
				arg_303_1.typewritter.percent = 0

				arg_303_1.typewritter:SetDirty()
				arg_303_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121071", "story_v_out_411121.awb") ~= 0 then
					local var_306_73 = manager.audio:GetVoiceLength("story_v_out_411121", "411121071", "story_v_out_411121.awb") / 1000

					if var_306_73 + var_306_64 > arg_303_1.duration_ then
						arg_303_1.duration_ = var_306_73 + var_306_64
					end

					if var_306_68.prefab_name ~= "" and arg_303_1.actors_[var_306_68.prefab_name] ~= nil then
						local var_306_74 = LuaForUtil.PlayVoiceWithCriLipsync(arg_303_1.actors_[var_306_68.prefab_name].transform, "story_v_out_411121", "411121071", "story_v_out_411121.awb")

						arg_303_1:RecordAudio("411121071", var_306_74)
						arg_303_1:RecordAudio("411121071", var_306_74)
					else
						arg_303_1:AudioAction("play", "voice", "story_v_out_411121", "411121071", "story_v_out_411121.awb")
					end

					arg_303_1:RecordHistoryTalkVoice("story_v_out_411121", "411121071", "story_v_out_411121.awb")
				end

				arg_303_1:RecordContent(arg_303_1.text_.text)
			end

			local var_306_75 = var_306_64 + 0.3
			local var_306_76 = math.max(var_306_65, arg_303_1.talkMaxDuration)

			if var_306_75 <= arg_303_1.time_ and arg_303_1.time_ < var_306_75 + var_306_76 then
				arg_303_1.typewritter.percent = (arg_303_1.time_ - var_306_75) / var_306_76

				arg_303_1.typewritter:SetDirty()
			end

			if arg_303_1.time_ >= var_306_75 + var_306_76 and arg_303_1.time_ < var_306_75 + var_306_76 + arg_306_0 then
				arg_303_1.typewritter.percent = 1

				arg_303_1.typewritter:SetDirty()
				arg_303_1:ShowNextGo(true)
			end
		end
	end,
	Play411121072 = function(arg_309_0, arg_309_1)
		arg_309_1.time_ = 0
		arg_309_1.frameCnt_ = 0
		arg_309_1.state_ = "playing"
		arg_309_1.curTalkId_ = 411121072
		arg_309_1.duration_ = 11.6

		local var_309_0 = {
			zh = 11.5996666666667,
			ja = 9.43266666666667
		}
		local var_309_1 = manager.audio:GetLocalizationFlag()

		if var_309_0[var_309_1] ~= nil then
			arg_309_1.duration_ = var_309_0[var_309_1]
		end

		SetActive(arg_309_1.tipsGo_, false)

		function arg_309_1.onSingleLineFinish_()
			arg_309_1.onSingleLineUpdate_ = nil
			arg_309_1.onSingleLineFinish_ = nil
			arg_309_1.state_ = "waiting"
		end

		function arg_309_1.playNext_(arg_311_0)
			if arg_311_0 == 1 then
				arg_309_0:Play411121073(arg_309_1)
			end
		end

		function arg_309_1.onSingleLineUpdate_(arg_312_0)
			local var_312_0 = 0

			if var_312_0 < arg_309_1.time_ and arg_309_1.time_ <= var_312_0 + arg_312_0 then
				arg_309_1.mask_.enabled = true
				arg_309_1.mask_.raycastTarget = true

				arg_309_1:SetGaussion(false)
			end

			local var_312_1 = 0.366666666666667

			if var_312_0 <= arg_309_1.time_ and arg_309_1.time_ < var_312_0 + var_312_1 then
				local var_312_2 = (arg_309_1.time_ - var_312_0) / var_312_1
				local var_312_3 = Color.New(0.8490566, 0, 0)

				var_312_3.a = Mathf.Lerp(1, 0, var_312_2)
				arg_309_1.mask_.color = var_312_3
			end

			if arg_309_1.time_ >= var_312_0 + var_312_1 and arg_309_1.time_ < var_312_0 + var_312_1 + arg_312_0 then
				local var_312_4 = Color.New(0.8490566, 0, 0)
				local var_312_5 = 0

				arg_309_1.mask_.enabled = false
				var_312_4.a = var_312_5
				arg_309_1.mask_.color = var_312_4
			end

			local var_312_6 = 0.366666666666667

			if var_312_6 < arg_309_1.time_ and arg_309_1.time_ <= var_312_6 + arg_312_0 then
				arg_309_1.mask_.enabled = true
				arg_309_1.mask_.raycastTarget = true

				arg_309_1:SetGaussion(false)
			end

			local var_312_7 = 0.333333333333333

			if var_312_6 <= arg_309_1.time_ and arg_309_1.time_ < var_312_6 + var_312_7 then
				local var_312_8 = (arg_309_1.time_ - var_312_6) / var_312_7
				local var_312_9 = Color.New(0.5660378, 0.002669996, 0.002669996)

				var_312_9.a = Mathf.Lerp(1, 0, var_312_8)
				arg_309_1.mask_.color = var_312_9
			end

			if arg_309_1.time_ >= var_312_6 + var_312_7 and arg_309_1.time_ < var_312_6 + var_312_7 + arg_312_0 then
				local var_312_10 = Color.New(0.5660378, 0.002669996, 0.002669996)
				local var_312_11 = 0

				arg_309_1.mask_.enabled = false
				var_312_10.a = var_312_11
				arg_309_1.mask_.color = var_312_10
			end

			local var_312_12 = 0.7

			if var_312_12 < arg_309_1.time_ and arg_309_1.time_ <= var_312_12 + arg_312_0 then
				arg_309_1.mask_.enabled = true
				arg_309_1.mask_.raycastTarget = true

				arg_309_1:SetGaussion(false)
			end

			local var_312_13 = 0.3

			if var_312_12 <= arg_309_1.time_ and arg_309_1.time_ < var_312_12 + var_312_13 then
				local var_312_14 = (arg_309_1.time_ - var_312_12) / var_312_13
				local var_312_15 = Color.New(0.3113208, 0, 0)

				var_312_15.a = Mathf.Lerp(1, 0, var_312_14)
				arg_309_1.mask_.color = var_312_15
			end

			if arg_309_1.time_ >= var_312_12 + var_312_13 and arg_309_1.time_ < var_312_12 + var_312_13 + arg_312_0 then
				local var_312_16 = Color.New(0.3113208, 0, 0)
				local var_312_17 = 0

				arg_309_1.mask_.enabled = false
				var_312_16.a = var_312_17
				arg_309_1.mask_.color = var_312_16
			end

			local var_312_18 = 1

			if var_312_18 < arg_309_1.time_ and arg_309_1.time_ <= var_312_18 + arg_312_0 then
				arg_309_1.mask_.enabled = true
				arg_309_1.mask_.raycastTarget = true

				arg_309_1:SetGaussion(false)
			end

			local var_312_19 = 1.76666666666667

			if var_312_18 <= arg_309_1.time_ and arg_309_1.time_ < var_312_18 + var_312_19 then
				local var_312_20 = (arg_309_1.time_ - var_312_18) / var_312_19
				local var_312_21 = Color.New(0, 0, 0)

				var_312_21.a = Mathf.Lerp(0, 1, var_312_20)
				arg_309_1.mask_.color = var_312_21
			end

			if arg_309_1.time_ >= var_312_18 + var_312_19 and arg_309_1.time_ < var_312_18 + var_312_19 + arg_312_0 then
				local var_312_22 = Color.New(0, 0, 0)

				var_312_22.a = 1
				arg_309_1.mask_.color = var_312_22
			end

			local var_312_23 = 2.76666666666667

			if var_312_23 < arg_309_1.time_ and arg_309_1.time_ <= var_312_23 + arg_312_0 then
				arg_309_1.mask_.enabled = true
				arg_309_1.mask_.raycastTarget = true

				arg_309_1:SetGaussion(false)
			end

			local var_312_24 = 1.5

			if var_312_23 <= arg_309_1.time_ and arg_309_1.time_ < var_312_23 + var_312_24 then
				local var_312_25 = (arg_309_1.time_ - var_312_23) / var_312_24
				local var_312_26 = Color.New(0, 0, 0)

				var_312_26.a = Mathf.Lerp(1, 0, var_312_25)
				arg_309_1.mask_.color = var_312_26
			end

			if arg_309_1.time_ >= var_312_23 + var_312_24 and arg_309_1.time_ < var_312_23 + var_312_24 + arg_312_0 then
				local var_312_27 = Color.New(0, 0, 0)
				local var_312_28 = 0

				arg_309_1.mask_.enabled = false
				var_312_27.a = var_312_28
				arg_309_1.mask_.color = var_312_27
			end

			local var_312_29 = 2.76666666666667

			if var_312_29 < arg_309_1.time_ and arg_309_1.time_ <= var_312_29 + arg_312_0 then
				local var_312_30 = manager.ui.mainCamera.transform.localPosition
				local var_312_31 = Vector3.New(0, 0, 10) + Vector3.New(var_312_30.x, var_312_30.y, 0)
				local var_312_32 = arg_309_1.bgs_.STblack

				var_312_32.transform.localPosition = var_312_31
				var_312_32.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_312_33 = var_312_32:GetComponent("SpriteRenderer")

				if var_312_33 and var_312_33.sprite then
					local var_312_34 = (var_312_32.transform.localPosition - var_312_30).z
					local var_312_35 = manager.ui.mainCameraCom_
					local var_312_36 = 2 * var_312_34 * Mathf.Tan(var_312_35.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_312_37 = var_312_36 * var_312_35.aspect
					local var_312_38 = var_312_33.sprite.bounds.size.x
					local var_312_39 = var_312_33.sprite.bounds.size.y
					local var_312_40 = var_312_37 / var_312_38
					local var_312_41 = var_312_36 / var_312_39
					local var_312_42 = var_312_41 < var_312_40 and var_312_40 or var_312_41

					var_312_32.transform.localScale = Vector3.New(var_312_42, var_312_42, 0)
				end

				for iter_312_0, iter_312_1 in pairs(arg_309_1.bgs_) do
					if iter_312_0 ~= "STblack" then
						iter_312_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_312_43 = 0

			if var_312_43 < arg_309_1.time_ and arg_309_1.time_ <= var_312_43 + arg_312_0 then
				local var_312_44 = manager.ui.mainCamera.transform.localPosition
				local var_312_45 = Vector3.New(0, 0, 10) + Vector3.New(var_312_44.x, var_312_44.y, 0)
				local var_312_46 = arg_309_1.bgs_.ST71a

				var_312_46.transform.localPosition = var_312_45
				var_312_46.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_312_47 = var_312_46:GetComponent("SpriteRenderer")

				if var_312_47 and var_312_47.sprite then
					local var_312_48 = (var_312_46.transform.localPosition - var_312_44).z
					local var_312_49 = manager.ui.mainCameraCom_
					local var_312_50 = 2 * var_312_48 * Mathf.Tan(var_312_49.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_312_51 = var_312_50 * var_312_49.aspect
					local var_312_52 = var_312_47.sprite.bounds.size.x
					local var_312_53 = var_312_47.sprite.bounds.size.y
					local var_312_54 = var_312_51 / var_312_52
					local var_312_55 = var_312_50 / var_312_53
					local var_312_56 = var_312_55 < var_312_54 and var_312_54 or var_312_55

					var_312_46.transform.localScale = Vector3.New(var_312_56, var_312_56, 0)
				end

				for iter_312_2, iter_312_3 in pairs(arg_309_1.bgs_) do
					if iter_312_2 ~= "ST71a" then
						iter_312_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			if arg_309_1.frameCnt_ <= 1 then
				arg_309_1.dialog_:SetActive(false)
			end

			local var_312_57 = 4.16666666666667
			local var_312_58 = 1.15

			if var_312_57 < arg_309_1.time_ and arg_309_1.time_ <= var_312_57 + arg_312_0 then
				arg_309_1.talkMaxDuration = 0

				arg_309_1.dialog_:SetActive(true)

				local var_312_59 = LeanTween.value(arg_309_1.dialog_, 0, 1, 0.3)

				var_312_59:setOnUpdate(LuaHelper.FloatAction(function(arg_313_0)
					arg_309_1.dialogCg_.alpha = arg_313_0
				end))
				var_312_59:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_309_1.dialog_)
					var_312_59:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_309_1.duration_ = arg_309_1.duration_ + 0.3

				SetActive(arg_309_1.leftNameGo_, true)

				local var_312_60 = arg_309_1:FormatText(StoryNameCfg[670].name)

				arg_309_1.leftNameTxt_.text = var_312_60

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_309_1.leftNameTxt_.transform)

				arg_309_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_309_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_309_1:RecordName(arg_309_1.leftNameTxt_.text)
				SetActive(arg_309_1.iconTrs_.gameObject, true)
				arg_309_1.iconController_:SetSelectedState("hero")

				arg_309_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_shadoww")

				arg_309_1.callingController_:SetSelectedState("normal")

				arg_309_1.keyicon_.color = Color.New(1, 1, 1)
				arg_309_1.icon_.color = Color.New(1, 1, 1)

				local var_312_61 = arg_309_1:GetWordFromCfg(411121072)
				local var_312_62 = arg_309_1:FormatText(var_312_61.content)

				arg_309_1.text_.text = var_312_62

				LuaForUtil.ClearLinePrefixSymbol(arg_309_1.text_)

				local var_312_63 = 14
				local var_312_64 = utf8.len(var_312_62)
				local var_312_65 = var_312_63 <= 0 and var_312_58 or var_312_58 * (var_312_64 / var_312_63)

				if var_312_65 > 0 and var_312_58 < var_312_65 then
					arg_309_1.talkMaxDuration = var_312_65
					var_312_57 = var_312_57 + 0.3

					if var_312_65 + var_312_57 > arg_309_1.duration_ then
						arg_309_1.duration_ = var_312_65 + var_312_57
					end
				end

				arg_309_1.text_.text = var_312_62
				arg_309_1.typewritter.percent = 0

				arg_309_1.typewritter:SetDirty()
				arg_309_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121072", "story_v_out_411121.awb") ~= 0 then
					local var_312_66 = manager.audio:GetVoiceLength("story_v_out_411121", "411121072", "story_v_out_411121.awb") / 1000

					if var_312_66 + var_312_57 > arg_309_1.duration_ then
						arg_309_1.duration_ = var_312_66 + var_312_57
					end

					if var_312_61.prefab_name ~= "" and arg_309_1.actors_[var_312_61.prefab_name] ~= nil then
						local var_312_67 = LuaForUtil.PlayVoiceWithCriLipsync(arg_309_1.actors_[var_312_61.prefab_name].transform, "story_v_out_411121", "411121072", "story_v_out_411121.awb")

						arg_309_1:RecordAudio("411121072", var_312_67)
						arg_309_1:RecordAudio("411121072", var_312_67)
					else
						arg_309_1:AudioAction("play", "voice", "story_v_out_411121", "411121072", "story_v_out_411121.awb")
					end

					arg_309_1:RecordHistoryTalkVoice("story_v_out_411121", "411121072", "story_v_out_411121.awb")
				end

				arg_309_1:RecordContent(arg_309_1.text_.text)
			end

			local var_312_68 = var_312_57 + 0.3
			local var_312_69 = math.max(var_312_58, arg_309_1.talkMaxDuration)

			if var_312_68 <= arg_309_1.time_ and arg_309_1.time_ < var_312_68 + var_312_69 then
				arg_309_1.typewritter.percent = (arg_309_1.time_ - var_312_68) / var_312_69

				arg_309_1.typewritter:SetDirty()
			end

			if arg_309_1.time_ >= var_312_68 + var_312_69 and arg_309_1.time_ < var_312_68 + var_312_69 + arg_312_0 then
				arg_309_1.typewritter.percent = 1

				arg_309_1.typewritter:SetDirty()
				arg_309_1:ShowNextGo(true)
			end
		end
	end,
	Play411121073 = function(arg_315_0, arg_315_1)
		arg_315_1.time_ = 0
		arg_315_1.frameCnt_ = 0
		arg_315_1.state_ = "playing"
		arg_315_1.curTalkId_ = 411121073
		arg_315_1.duration_ = 5

		SetActive(arg_315_1.tipsGo_, false)

		function arg_315_1.onSingleLineFinish_()
			arg_315_1.onSingleLineUpdate_ = nil
			arg_315_1.onSingleLineFinish_ = nil
			arg_315_1.state_ = "waiting"
		end

		function arg_315_1.playNext_(arg_317_0)
			if arg_317_0 == 1 then
				arg_315_0:Play411121074(arg_315_1)
			end
		end

		function arg_315_1.onSingleLineUpdate_(arg_318_0)
			local var_318_0 = 0
			local var_318_1 = 0.8

			if var_318_0 < arg_315_1.time_ and arg_315_1.time_ <= var_318_0 + arg_318_0 then
				arg_315_1.talkMaxDuration = 0
				arg_315_1.dialogCg_.alpha = 1

				arg_315_1.dialog_:SetActive(true)
				SetActive(arg_315_1.leftNameGo_, false)

				arg_315_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_315_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_315_1:RecordName(arg_315_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_315_1.iconTrs_.gameObject, false)
				arg_315_1.callingController_:SetSelectedState("normal")

				local var_318_2 = arg_315_1:GetWordFromCfg(411121073)
				local var_318_3 = arg_315_1:FormatText(var_318_2.content)

				arg_315_1.text_.text = var_318_3

				LuaForUtil.ClearLinePrefixSymbol(arg_315_1.text_)

				local var_318_4 = 32
				local var_318_5 = utf8.len(var_318_3)
				local var_318_6 = var_318_4 <= 0 and var_318_1 or var_318_1 * (var_318_5 / var_318_4)

				if var_318_6 > 0 and var_318_1 < var_318_6 then
					arg_315_1.talkMaxDuration = var_318_6

					if var_318_6 + var_318_0 > arg_315_1.duration_ then
						arg_315_1.duration_ = var_318_6 + var_318_0
					end
				end

				arg_315_1.text_.text = var_318_3
				arg_315_1.typewritter.percent = 0

				arg_315_1.typewritter:SetDirty()
				arg_315_1:ShowNextGo(false)
				arg_315_1:RecordContent(arg_315_1.text_.text)
			end

			local var_318_7 = math.max(var_318_1, arg_315_1.talkMaxDuration)

			if var_318_0 <= arg_315_1.time_ and arg_315_1.time_ < var_318_0 + var_318_7 then
				arg_315_1.typewritter.percent = (arg_315_1.time_ - var_318_0) / var_318_7

				arg_315_1.typewritter:SetDirty()
			end

			if arg_315_1.time_ >= var_318_0 + var_318_7 and arg_315_1.time_ < var_318_0 + var_318_7 + arg_318_0 then
				arg_315_1.typewritter.percent = 1

				arg_315_1.typewritter:SetDirty()
				arg_315_1:ShowNextGo(true)
			end
		end
	end,
	Play411121074 = function(arg_319_0, arg_319_1)
		arg_319_1.time_ = 0
		arg_319_1.frameCnt_ = 0
		arg_319_1.state_ = "playing"
		arg_319_1.curTalkId_ = 411121074
		arg_319_1.duration_ = 5

		SetActive(arg_319_1.tipsGo_, false)

		function arg_319_1.onSingleLineFinish_()
			arg_319_1.onSingleLineUpdate_ = nil
			arg_319_1.onSingleLineFinish_ = nil
			arg_319_1.state_ = "waiting"
		end

		function arg_319_1.playNext_(arg_321_0)
			if arg_321_0 == 1 then
				arg_319_0:Play411121075(arg_319_1)
			end
		end

		function arg_319_1.onSingleLineUpdate_(arg_322_0)
			local var_322_0 = 0
			local var_322_1 = 0.4

			if var_322_0 < arg_319_1.time_ and arg_319_1.time_ <= var_322_0 + arg_322_0 then
				arg_319_1.talkMaxDuration = 0
				arg_319_1.dialogCg_.alpha = 1

				arg_319_1.dialog_:SetActive(true)
				SetActive(arg_319_1.leftNameGo_, false)

				arg_319_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_319_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_319_1:RecordName(arg_319_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_319_1.iconTrs_.gameObject, false)
				arg_319_1.callingController_:SetSelectedState("normal")

				local var_322_2 = arg_319_1:GetWordFromCfg(411121074)
				local var_322_3 = arg_319_1:FormatText(var_322_2.content)

				arg_319_1.text_.text = var_322_3

				LuaForUtil.ClearLinePrefixSymbol(arg_319_1.text_)

				local var_322_4 = 16
				local var_322_5 = utf8.len(var_322_3)
				local var_322_6 = var_322_4 <= 0 and var_322_1 or var_322_1 * (var_322_5 / var_322_4)

				if var_322_6 > 0 and var_322_1 < var_322_6 then
					arg_319_1.talkMaxDuration = var_322_6

					if var_322_6 + var_322_0 > arg_319_1.duration_ then
						arg_319_1.duration_ = var_322_6 + var_322_0
					end
				end

				arg_319_1.text_.text = var_322_3
				arg_319_1.typewritter.percent = 0

				arg_319_1.typewritter:SetDirty()
				arg_319_1:ShowNextGo(false)
				arg_319_1:RecordContent(arg_319_1.text_.text)
			end

			local var_322_7 = math.max(var_322_1, arg_319_1.talkMaxDuration)

			if var_322_0 <= arg_319_1.time_ and arg_319_1.time_ < var_322_0 + var_322_7 then
				arg_319_1.typewritter.percent = (arg_319_1.time_ - var_322_0) / var_322_7

				arg_319_1.typewritter:SetDirty()
			end

			if arg_319_1.time_ >= var_322_0 + var_322_7 and arg_319_1.time_ < var_322_0 + var_322_7 + arg_322_0 then
				arg_319_1.typewritter.percent = 1

				arg_319_1.typewritter:SetDirty()
				arg_319_1:ShowNextGo(true)
			end
		end
	end,
	Play411121075 = function(arg_323_0, arg_323_1)
		arg_323_1.time_ = 0
		arg_323_1.frameCnt_ = 0
		arg_323_1.state_ = "playing"
		arg_323_1.curTalkId_ = 411121075
		arg_323_1.duration_ = 5

		SetActive(arg_323_1.tipsGo_, false)

		function arg_323_1.onSingleLineFinish_()
			arg_323_1.onSingleLineUpdate_ = nil
			arg_323_1.onSingleLineFinish_ = nil
			arg_323_1.state_ = "waiting"
		end

		function arg_323_1.playNext_(arg_325_0)
			if arg_325_0 == 1 then
				arg_323_0:Play411121076(arg_323_1)
			end
		end

		function arg_323_1.onSingleLineUpdate_(arg_326_0)
			local var_326_0 = 0
			local var_326_1 = 0.875

			if var_326_0 < arg_323_1.time_ and arg_323_1.time_ <= var_326_0 + arg_326_0 then
				arg_323_1.talkMaxDuration = 0
				arg_323_1.dialogCg_.alpha = 1

				arg_323_1.dialog_:SetActive(true)
				SetActive(arg_323_1.leftNameGo_, false)

				arg_323_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_323_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_323_1:RecordName(arg_323_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_323_1.iconTrs_.gameObject, false)
				arg_323_1.callingController_:SetSelectedState("normal")

				local var_326_2 = arg_323_1:GetWordFromCfg(411121075)
				local var_326_3 = arg_323_1:FormatText(var_326_2.content)

				arg_323_1.text_.text = var_326_3

				LuaForUtil.ClearLinePrefixSymbol(arg_323_1.text_)

				local var_326_4 = 35
				local var_326_5 = utf8.len(var_326_3)
				local var_326_6 = var_326_4 <= 0 and var_326_1 or var_326_1 * (var_326_5 / var_326_4)

				if var_326_6 > 0 and var_326_1 < var_326_6 then
					arg_323_1.talkMaxDuration = var_326_6

					if var_326_6 + var_326_0 > arg_323_1.duration_ then
						arg_323_1.duration_ = var_326_6 + var_326_0
					end
				end

				arg_323_1.text_.text = var_326_3
				arg_323_1.typewritter.percent = 0

				arg_323_1.typewritter:SetDirty()
				arg_323_1:ShowNextGo(false)
				arg_323_1:RecordContent(arg_323_1.text_.text)
			end

			local var_326_7 = math.max(var_326_1, arg_323_1.talkMaxDuration)

			if var_326_0 <= arg_323_1.time_ and arg_323_1.time_ < var_326_0 + var_326_7 then
				arg_323_1.typewritter.percent = (arg_323_1.time_ - var_326_0) / var_326_7

				arg_323_1.typewritter:SetDirty()
			end

			if arg_323_1.time_ >= var_326_0 + var_326_7 and arg_323_1.time_ < var_326_0 + var_326_7 + arg_326_0 then
				arg_323_1.typewritter.percent = 1

				arg_323_1.typewritter:SetDirty()
				arg_323_1:ShowNextGo(true)
			end
		end
	end,
	Play411121076 = function(arg_327_0, arg_327_1)
		arg_327_1.time_ = 0
		arg_327_1.frameCnt_ = 0
		arg_327_1.state_ = "playing"
		arg_327_1.curTalkId_ = 411121076
		arg_327_1.duration_ = 5.3

		local var_327_0 = {
			zh = 5.3,
			ja = 3.733
		}
		local var_327_1 = manager.audio:GetLocalizationFlag()

		if var_327_0[var_327_1] ~= nil then
			arg_327_1.duration_ = var_327_0[var_327_1]
		end

		SetActive(arg_327_1.tipsGo_, false)

		function arg_327_1.onSingleLineFinish_()
			arg_327_1.onSingleLineUpdate_ = nil
			arg_327_1.onSingleLineFinish_ = nil
			arg_327_1.state_ = "waiting"
		end

		function arg_327_1.playNext_(arg_329_0)
			if arg_329_0 == 1 then
				arg_327_0:Play411121077(arg_327_1)
			end
		end

		function arg_327_1.onSingleLineUpdate_(arg_330_0)
			local var_330_0 = 0

			if var_330_0 < arg_327_1.time_ and arg_327_1.time_ <= var_330_0 + arg_330_0 then
				local var_330_1 = manager.ui.mainCamera.transform.localPosition
				local var_330_2 = Vector3.New(0, 0, 10) + Vector3.New(var_330_1.x, var_330_1.y, 0)
				local var_330_3 = arg_327_1.bgs_.ST71a

				var_330_3.transform.localPosition = var_330_2
				var_330_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_330_4 = var_330_3:GetComponent("SpriteRenderer")

				if var_330_4 and var_330_4.sprite then
					local var_330_5 = (var_330_3.transform.localPosition - var_330_1).z
					local var_330_6 = manager.ui.mainCameraCom_
					local var_330_7 = 2 * var_330_5 * Mathf.Tan(var_330_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_330_8 = var_330_7 * var_330_6.aspect
					local var_330_9 = var_330_4.sprite.bounds.size.x
					local var_330_10 = var_330_4.sprite.bounds.size.y
					local var_330_11 = var_330_8 / var_330_9
					local var_330_12 = var_330_7 / var_330_10
					local var_330_13 = var_330_12 < var_330_11 and var_330_11 or var_330_12

					var_330_3.transform.localScale = Vector3.New(var_330_13, var_330_13, 0)
				end

				for iter_330_0, iter_330_1 in pairs(arg_327_1.bgs_) do
					if iter_330_0 ~= "ST71a" then
						iter_330_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_330_14 = 0

			if var_330_14 < arg_327_1.time_ and arg_327_1.time_ <= var_330_14 + arg_330_0 then
				arg_327_1.mask_.enabled = true
				arg_327_1.mask_.raycastTarget = true

				arg_327_1:SetGaussion(false)
			end

			local var_330_15 = 0.8

			if var_330_14 <= arg_327_1.time_ and arg_327_1.time_ < var_330_14 + var_330_15 then
				local var_330_16 = (arg_327_1.time_ - var_330_14) / var_330_15
				local var_330_17 = Color.New(0, 0, 0)

				var_330_17.a = Mathf.Lerp(1, 0, var_330_16)
				arg_327_1.mask_.color = var_330_17
			end

			if arg_327_1.time_ >= var_330_14 + var_330_15 and arg_327_1.time_ < var_330_14 + var_330_15 + arg_330_0 then
				local var_330_18 = Color.New(0, 0, 0)
				local var_330_19 = 0

				arg_327_1.mask_.enabled = false
				var_330_18.a = var_330_19
				arg_327_1.mask_.color = var_330_18
			end

			local var_330_20 = arg_327_1.bgs_.ST71a.transform
			local var_330_21 = 0

			if var_330_21 < arg_327_1.time_ and arg_327_1.time_ <= var_330_21 + arg_330_0 then
				arg_327_1.var_.moveOldPosST71a = var_330_20.localPosition
			end

			local var_330_22 = 0.001

			if var_330_21 <= arg_327_1.time_ and arg_327_1.time_ < var_330_21 + var_330_22 then
				local var_330_23 = (arg_327_1.time_ - var_330_21) / var_330_22
				local var_330_24 = Vector3.New(0, 1, 10)

				var_330_20.localPosition = Vector3.Lerp(arg_327_1.var_.moveOldPosST71a, var_330_24, var_330_23)
			end

			if arg_327_1.time_ >= var_330_21 + var_330_22 and arg_327_1.time_ < var_330_21 + var_330_22 + arg_330_0 then
				var_330_20.localPosition = Vector3.New(0, 1, 10)
			end

			if arg_327_1.frameCnt_ <= 1 then
				arg_327_1.dialog_:SetActive(false)
			end

			local var_330_25 = 2
			local var_330_26 = 0.075

			if var_330_25 < arg_327_1.time_ and arg_327_1.time_ <= var_330_25 + arg_330_0 then
				arg_327_1.talkMaxDuration = 0

				arg_327_1.dialog_:SetActive(true)

				local var_330_27 = LeanTween.value(arg_327_1.dialog_, 0, 1, 0.3)

				var_330_27:setOnUpdate(LuaHelper.FloatAction(function(arg_331_0)
					arg_327_1.dialogCg_.alpha = arg_331_0
				end))
				var_330_27:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_327_1.dialog_)
					var_330_27:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_327_1.duration_ = arg_327_1.duration_ + 0.3

				SetActive(arg_327_1.leftNameGo_, true)

				local var_330_28 = arg_327_1:FormatText(StoryNameCfg[670].name)

				arg_327_1.leftNameTxt_.text = var_330_28

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_327_1.leftNameTxt_.transform)

				arg_327_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_327_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_327_1:RecordName(arg_327_1.leftNameTxt_.text)
				SetActive(arg_327_1.iconTrs_.gameObject, true)
				arg_327_1.iconController_:SetSelectedState("hero")

				arg_327_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_shadoww")

				arg_327_1.callingController_:SetSelectedState("normal")

				arg_327_1.keyicon_.color = Color.New(1, 1, 1)
				arg_327_1.icon_.color = Color.New(1, 1, 1)

				local var_330_29 = arg_327_1:GetWordFromCfg(411121076)
				local var_330_30 = arg_327_1:FormatText(var_330_29.content)

				arg_327_1.text_.text = var_330_30

				LuaForUtil.ClearLinePrefixSymbol(arg_327_1.text_)

				local var_330_31 = 3
				local var_330_32 = utf8.len(var_330_30)
				local var_330_33 = var_330_31 <= 0 and var_330_26 or var_330_26 * (var_330_32 / var_330_31)

				if var_330_33 > 0 and var_330_26 < var_330_33 then
					arg_327_1.talkMaxDuration = var_330_33
					var_330_25 = var_330_25 + 0.3

					if var_330_33 + var_330_25 > arg_327_1.duration_ then
						arg_327_1.duration_ = var_330_33 + var_330_25
					end
				end

				arg_327_1.text_.text = var_330_30
				arg_327_1.typewritter.percent = 0

				arg_327_1.typewritter:SetDirty()
				arg_327_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121076", "story_v_out_411121.awb") ~= 0 then
					local var_330_34 = manager.audio:GetVoiceLength("story_v_out_411121", "411121076", "story_v_out_411121.awb") / 1000

					if var_330_34 + var_330_25 > arg_327_1.duration_ then
						arg_327_1.duration_ = var_330_34 + var_330_25
					end

					if var_330_29.prefab_name ~= "" and arg_327_1.actors_[var_330_29.prefab_name] ~= nil then
						local var_330_35 = LuaForUtil.PlayVoiceWithCriLipsync(arg_327_1.actors_[var_330_29.prefab_name].transform, "story_v_out_411121", "411121076", "story_v_out_411121.awb")

						arg_327_1:RecordAudio("411121076", var_330_35)
						arg_327_1:RecordAudio("411121076", var_330_35)
					else
						arg_327_1:AudioAction("play", "voice", "story_v_out_411121", "411121076", "story_v_out_411121.awb")
					end

					arg_327_1:RecordHistoryTalkVoice("story_v_out_411121", "411121076", "story_v_out_411121.awb")
				end

				arg_327_1:RecordContent(arg_327_1.text_.text)
			end

			local var_330_36 = var_330_25 + 0.3
			local var_330_37 = math.max(var_330_26, arg_327_1.talkMaxDuration)

			if var_330_36 <= arg_327_1.time_ and arg_327_1.time_ < var_330_36 + var_330_37 then
				arg_327_1.typewritter.percent = (arg_327_1.time_ - var_330_36) / var_330_37

				arg_327_1.typewritter:SetDirty()
			end

			if arg_327_1.time_ >= var_330_36 + var_330_37 and arg_327_1.time_ < var_330_36 + var_330_37 + arg_330_0 then
				arg_327_1.typewritter.percent = 1

				arg_327_1.typewritter:SetDirty()
				arg_327_1:ShowNextGo(true)
			end
		end
	end,
	Play411121077 = function(arg_333_0, arg_333_1)
		arg_333_1.time_ = 0
		arg_333_1.frameCnt_ = 0
		arg_333_1.state_ = "playing"
		arg_333_1.curTalkId_ = 411121077
		arg_333_1.duration_ = 8.23

		local var_333_0 = {
			zh = 8.233,
			ja = 5.166
		}
		local var_333_1 = manager.audio:GetLocalizationFlag()

		if var_333_0[var_333_1] ~= nil then
			arg_333_1.duration_ = var_333_0[var_333_1]
		end

		SetActive(arg_333_1.tipsGo_, false)

		function arg_333_1.onSingleLineFinish_()
			arg_333_1.onSingleLineUpdate_ = nil
			arg_333_1.onSingleLineFinish_ = nil
			arg_333_1.state_ = "waiting"
		end

		function arg_333_1.playNext_(arg_335_0)
			if arg_335_0 == 1 then
				arg_333_0:Play411121078(arg_333_1)
			end
		end

		function arg_333_1.onSingleLineUpdate_(arg_336_0)
			local var_336_0 = 0
			local var_336_1 = 0.65

			if var_336_0 < arg_333_1.time_ and arg_333_1.time_ <= var_336_0 + arg_336_0 then
				arg_333_1.talkMaxDuration = 0
				arg_333_1.dialogCg_.alpha = 1

				arg_333_1.dialog_:SetActive(true)
				SetActive(arg_333_1.leftNameGo_, true)

				local var_336_2 = arg_333_1:FormatText(StoryNameCfg[670].name)

				arg_333_1.leftNameTxt_.text = var_336_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_333_1.leftNameTxt_.transform)

				arg_333_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_333_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_333_1:RecordName(arg_333_1.leftNameTxt_.text)
				SetActive(arg_333_1.iconTrs_.gameObject, true)
				arg_333_1.iconController_:SetSelectedState("hero")

				arg_333_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_shadoww")

				arg_333_1.callingController_:SetSelectedState("normal")

				arg_333_1.keyicon_.color = Color.New(1, 1, 1)
				arg_333_1.icon_.color = Color.New(1, 1, 1)

				local var_336_3 = arg_333_1:GetWordFromCfg(411121077)
				local var_336_4 = arg_333_1:FormatText(var_336_3.content)

				arg_333_1.text_.text = var_336_4

				LuaForUtil.ClearLinePrefixSymbol(arg_333_1.text_)

				local var_336_5 = 26
				local var_336_6 = utf8.len(var_336_4)
				local var_336_7 = var_336_5 <= 0 and var_336_1 or var_336_1 * (var_336_6 / var_336_5)

				if var_336_7 > 0 and var_336_1 < var_336_7 then
					arg_333_1.talkMaxDuration = var_336_7

					if var_336_7 + var_336_0 > arg_333_1.duration_ then
						arg_333_1.duration_ = var_336_7 + var_336_0
					end
				end

				arg_333_1.text_.text = var_336_4
				arg_333_1.typewritter.percent = 0

				arg_333_1.typewritter:SetDirty()
				arg_333_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121077", "story_v_out_411121.awb") ~= 0 then
					local var_336_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121077", "story_v_out_411121.awb") / 1000

					if var_336_8 + var_336_0 > arg_333_1.duration_ then
						arg_333_1.duration_ = var_336_8 + var_336_0
					end

					if var_336_3.prefab_name ~= "" and arg_333_1.actors_[var_336_3.prefab_name] ~= nil then
						local var_336_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_333_1.actors_[var_336_3.prefab_name].transform, "story_v_out_411121", "411121077", "story_v_out_411121.awb")

						arg_333_1:RecordAudio("411121077", var_336_9)
						arg_333_1:RecordAudio("411121077", var_336_9)
					else
						arg_333_1:AudioAction("play", "voice", "story_v_out_411121", "411121077", "story_v_out_411121.awb")
					end

					arg_333_1:RecordHistoryTalkVoice("story_v_out_411121", "411121077", "story_v_out_411121.awb")
				end

				arg_333_1:RecordContent(arg_333_1.text_.text)
			end

			local var_336_10 = math.max(var_336_1, arg_333_1.talkMaxDuration)

			if var_336_0 <= arg_333_1.time_ and arg_333_1.time_ < var_336_0 + var_336_10 then
				arg_333_1.typewritter.percent = (arg_333_1.time_ - var_336_0) / var_336_10

				arg_333_1.typewritter:SetDirty()
			end

			if arg_333_1.time_ >= var_336_0 + var_336_10 and arg_333_1.time_ < var_336_0 + var_336_10 + arg_336_0 then
				arg_333_1.typewritter.percent = 1

				arg_333_1.typewritter:SetDirty()
				arg_333_1:ShowNextGo(true)
			end
		end
	end,
	Play411121078 = function(arg_337_0, arg_337_1)
		arg_337_1.time_ = 0
		arg_337_1.frameCnt_ = 0
		arg_337_1.state_ = "playing"
		arg_337_1.curTalkId_ = 411121078
		arg_337_1.duration_ = 5

		SetActive(arg_337_1.tipsGo_, false)

		function arg_337_1.onSingleLineFinish_()
			arg_337_1.onSingleLineUpdate_ = nil
			arg_337_1.onSingleLineFinish_ = nil
			arg_337_1.state_ = "waiting"
		end

		function arg_337_1.playNext_(arg_339_0)
			if arg_339_0 == 1 then
				arg_337_0:Play411121079(arg_337_1)
			end
		end

		function arg_337_1.onSingleLineUpdate_(arg_340_0)
			local var_340_0 = 0
			local var_340_1 = 0.575

			if var_340_0 < arg_337_1.time_ and arg_337_1.time_ <= var_340_0 + arg_340_0 then
				arg_337_1.talkMaxDuration = 0
				arg_337_1.dialogCg_.alpha = 1

				arg_337_1.dialog_:SetActive(true)
				SetActive(arg_337_1.leftNameGo_, false)

				arg_337_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_337_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_337_1:RecordName(arg_337_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_337_1.iconTrs_.gameObject, false)
				arg_337_1.callingController_:SetSelectedState("normal")

				local var_340_2 = arg_337_1:GetWordFromCfg(411121078)
				local var_340_3 = arg_337_1:FormatText(var_340_2.content)

				arg_337_1.text_.text = var_340_3

				LuaForUtil.ClearLinePrefixSymbol(arg_337_1.text_)

				local var_340_4 = 23
				local var_340_5 = utf8.len(var_340_3)
				local var_340_6 = var_340_4 <= 0 and var_340_1 or var_340_1 * (var_340_5 / var_340_4)

				if var_340_6 > 0 and var_340_1 < var_340_6 then
					arg_337_1.talkMaxDuration = var_340_6

					if var_340_6 + var_340_0 > arg_337_1.duration_ then
						arg_337_1.duration_ = var_340_6 + var_340_0
					end
				end

				arg_337_1.text_.text = var_340_3
				arg_337_1.typewritter.percent = 0

				arg_337_1.typewritter:SetDirty()
				arg_337_1:ShowNextGo(false)
				arg_337_1:RecordContent(arg_337_1.text_.text)
			end

			local var_340_7 = math.max(var_340_1, arg_337_1.talkMaxDuration)

			if var_340_0 <= arg_337_1.time_ and arg_337_1.time_ < var_340_0 + var_340_7 then
				arg_337_1.typewritter.percent = (arg_337_1.time_ - var_340_0) / var_340_7

				arg_337_1.typewritter:SetDirty()
			end

			if arg_337_1.time_ >= var_340_0 + var_340_7 and arg_337_1.time_ < var_340_0 + var_340_7 + arg_340_0 then
				arg_337_1.typewritter.percent = 1

				arg_337_1.typewritter:SetDirty()
				arg_337_1:ShowNextGo(true)
			end
		end
	end,
	Play411121079 = function(arg_341_0, arg_341_1)
		arg_341_1.time_ = 0
		arg_341_1.frameCnt_ = 0
		arg_341_1.state_ = "playing"
		arg_341_1.curTalkId_ = 411121079
		arg_341_1.duration_ = 9.53

		local var_341_0 = {
			zh = 9.533,
			ja = 3.5
		}
		local var_341_1 = manager.audio:GetLocalizationFlag()

		if var_341_0[var_341_1] ~= nil then
			arg_341_1.duration_ = var_341_0[var_341_1]
		end

		SetActive(arg_341_1.tipsGo_, false)

		function arg_341_1.onSingleLineFinish_()
			arg_341_1.onSingleLineUpdate_ = nil
			arg_341_1.onSingleLineFinish_ = nil
			arg_341_1.state_ = "waiting"
		end

		function arg_341_1.playNext_(arg_343_0)
			if arg_343_0 == 1 then
				arg_341_0:Play411121080(arg_341_1)
			end
		end

		function arg_341_1.onSingleLineUpdate_(arg_344_0)
			local var_344_0 = 0
			local var_344_1 = 0.45

			if var_344_0 < arg_341_1.time_ and arg_341_1.time_ <= var_344_0 + arg_344_0 then
				arg_341_1.talkMaxDuration = 0
				arg_341_1.dialogCg_.alpha = 1

				arg_341_1.dialog_:SetActive(true)
				SetActive(arg_341_1.leftNameGo_, true)

				local var_344_2 = arg_341_1:FormatText(StoryNameCfg[670].name)

				arg_341_1.leftNameTxt_.text = var_344_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_341_1.leftNameTxt_.transform)

				arg_341_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_341_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_341_1:RecordName(arg_341_1.leftNameTxt_.text)
				SetActive(arg_341_1.iconTrs_.gameObject, true)
				arg_341_1.iconController_:SetSelectedState("hero")

				arg_341_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_shadoww")

				arg_341_1.callingController_:SetSelectedState("normal")

				arg_341_1.keyicon_.color = Color.New(1, 1, 1)
				arg_341_1.icon_.color = Color.New(1, 1, 1)

				local var_344_3 = arg_341_1:GetWordFromCfg(411121079)
				local var_344_4 = arg_341_1:FormatText(var_344_3.content)

				arg_341_1.text_.text = var_344_4

				LuaForUtil.ClearLinePrefixSymbol(arg_341_1.text_)

				local var_344_5 = 18
				local var_344_6 = utf8.len(var_344_4)
				local var_344_7 = var_344_5 <= 0 and var_344_1 or var_344_1 * (var_344_6 / var_344_5)

				if var_344_7 > 0 and var_344_1 < var_344_7 then
					arg_341_1.talkMaxDuration = var_344_7

					if var_344_7 + var_344_0 > arg_341_1.duration_ then
						arg_341_1.duration_ = var_344_7 + var_344_0
					end
				end

				arg_341_1.text_.text = var_344_4
				arg_341_1.typewritter.percent = 0

				arg_341_1.typewritter:SetDirty()
				arg_341_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121079", "story_v_out_411121.awb") ~= 0 then
					local var_344_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121079", "story_v_out_411121.awb") / 1000

					if var_344_8 + var_344_0 > arg_341_1.duration_ then
						arg_341_1.duration_ = var_344_8 + var_344_0
					end

					if var_344_3.prefab_name ~= "" and arg_341_1.actors_[var_344_3.prefab_name] ~= nil then
						local var_344_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_341_1.actors_[var_344_3.prefab_name].transform, "story_v_out_411121", "411121079", "story_v_out_411121.awb")

						arg_341_1:RecordAudio("411121079", var_344_9)
						arg_341_1:RecordAudio("411121079", var_344_9)
					else
						arg_341_1:AudioAction("play", "voice", "story_v_out_411121", "411121079", "story_v_out_411121.awb")
					end

					arg_341_1:RecordHistoryTalkVoice("story_v_out_411121", "411121079", "story_v_out_411121.awb")
				end

				arg_341_1:RecordContent(arg_341_1.text_.text)
			end

			local var_344_10 = math.max(var_344_1, arg_341_1.talkMaxDuration)

			if var_344_0 <= arg_341_1.time_ and arg_341_1.time_ < var_344_0 + var_344_10 then
				arg_341_1.typewritter.percent = (arg_341_1.time_ - var_344_0) / var_344_10

				arg_341_1.typewritter:SetDirty()
			end

			if arg_341_1.time_ >= var_344_0 + var_344_10 and arg_341_1.time_ < var_344_0 + var_344_10 + arg_344_0 then
				arg_341_1.typewritter.percent = 1

				arg_341_1.typewritter:SetDirty()
				arg_341_1:ShowNextGo(true)
			end
		end
	end,
	Play411121080 = function(arg_345_0, arg_345_1)
		arg_345_1.time_ = 0
		arg_345_1.frameCnt_ = 0
		arg_345_1.state_ = "playing"
		arg_345_1.curTalkId_ = 411121080
		arg_345_1.duration_ = 4.27

		local var_345_0 = {
			zh = 4.233,
			ja = 4.266
		}
		local var_345_1 = manager.audio:GetLocalizationFlag()

		if var_345_0[var_345_1] ~= nil then
			arg_345_1.duration_ = var_345_0[var_345_1]
		end

		SetActive(arg_345_1.tipsGo_, false)

		function arg_345_1.onSingleLineFinish_()
			arg_345_1.onSingleLineUpdate_ = nil
			arg_345_1.onSingleLineFinish_ = nil
			arg_345_1.state_ = "waiting"
		end

		function arg_345_1.playNext_(arg_347_0)
			if arg_347_0 == 1 then
				arg_345_0:Play411121081(arg_345_1)
			end
		end

		function arg_345_1.onSingleLineUpdate_(arg_348_0)
			local var_348_0 = 0
			local var_348_1 = 0.375

			if var_348_0 < arg_345_1.time_ and arg_345_1.time_ <= var_348_0 + arg_348_0 then
				arg_345_1.talkMaxDuration = 0
				arg_345_1.dialogCg_.alpha = 1

				arg_345_1.dialog_:SetActive(true)
				SetActive(arg_345_1.leftNameGo_, true)

				local var_348_2 = arg_345_1:FormatText(StoryNameCfg[670].name)

				arg_345_1.leftNameTxt_.text = var_348_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_345_1.leftNameTxt_.transform)

				arg_345_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_345_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_345_1:RecordName(arg_345_1.leftNameTxt_.text)
				SetActive(arg_345_1.iconTrs_.gameObject, true)
				arg_345_1.iconController_:SetSelectedState("hero")

				arg_345_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_shadoww")

				arg_345_1.callingController_:SetSelectedState("normal")

				arg_345_1.keyicon_.color = Color.New(1, 1, 1)
				arg_345_1.icon_.color = Color.New(1, 1, 1)

				local var_348_3 = arg_345_1:GetWordFromCfg(411121080)
				local var_348_4 = arg_345_1:FormatText(var_348_3.content)

				arg_345_1.text_.text = var_348_4

				LuaForUtil.ClearLinePrefixSymbol(arg_345_1.text_)

				local var_348_5 = 15
				local var_348_6 = utf8.len(var_348_4)
				local var_348_7 = var_348_5 <= 0 and var_348_1 or var_348_1 * (var_348_6 / var_348_5)

				if var_348_7 > 0 and var_348_1 < var_348_7 then
					arg_345_1.talkMaxDuration = var_348_7

					if var_348_7 + var_348_0 > arg_345_1.duration_ then
						arg_345_1.duration_ = var_348_7 + var_348_0
					end
				end

				arg_345_1.text_.text = var_348_4
				arg_345_1.typewritter.percent = 0

				arg_345_1.typewritter:SetDirty()
				arg_345_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121080", "story_v_out_411121.awb") ~= 0 then
					local var_348_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121080", "story_v_out_411121.awb") / 1000

					if var_348_8 + var_348_0 > arg_345_1.duration_ then
						arg_345_1.duration_ = var_348_8 + var_348_0
					end

					if var_348_3.prefab_name ~= "" and arg_345_1.actors_[var_348_3.prefab_name] ~= nil then
						local var_348_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_345_1.actors_[var_348_3.prefab_name].transform, "story_v_out_411121", "411121080", "story_v_out_411121.awb")

						arg_345_1:RecordAudio("411121080", var_348_9)
						arg_345_1:RecordAudio("411121080", var_348_9)
					else
						arg_345_1:AudioAction("play", "voice", "story_v_out_411121", "411121080", "story_v_out_411121.awb")
					end

					arg_345_1:RecordHistoryTalkVoice("story_v_out_411121", "411121080", "story_v_out_411121.awb")
				end

				arg_345_1:RecordContent(arg_345_1.text_.text)
			end

			local var_348_10 = math.max(var_348_1, arg_345_1.talkMaxDuration)

			if var_348_0 <= arg_345_1.time_ and arg_345_1.time_ < var_348_0 + var_348_10 then
				arg_345_1.typewritter.percent = (arg_345_1.time_ - var_348_0) / var_348_10

				arg_345_1.typewritter:SetDirty()
			end

			if arg_345_1.time_ >= var_348_0 + var_348_10 and arg_345_1.time_ < var_348_0 + var_348_10 + arg_348_0 then
				arg_345_1.typewritter.percent = 1

				arg_345_1.typewritter:SetDirty()
				arg_345_1:ShowNextGo(true)
			end
		end
	end,
	Play411121081 = function(arg_349_0, arg_349_1)
		arg_349_1.time_ = 0
		arg_349_1.frameCnt_ = 0
		arg_349_1.state_ = "playing"
		arg_349_1.curTalkId_ = 411121081
		arg_349_1.duration_ = 7.73

		SetActive(arg_349_1.tipsGo_, false)

		function arg_349_1.onSingleLineFinish_()
			arg_349_1.onSingleLineUpdate_ = nil
			arg_349_1.onSingleLineFinish_ = nil
			arg_349_1.state_ = "waiting"
		end

		function arg_349_1.playNext_(arg_351_0)
			if arg_351_0 == 1 then
				arg_349_0:Play411121082(arg_349_1)
			end
		end

		function arg_349_1.onSingleLineUpdate_(arg_352_0)
			local var_352_0 = 0

			if var_352_0 < arg_349_1.time_ and arg_349_1.time_ <= var_352_0 + arg_352_0 then
				local var_352_1 = manager.ui.mainCamera.transform.localPosition
				local var_352_2 = Vector3.New(0, 0, 10) + Vector3.New(var_352_1.x, var_352_1.y, 0)
				local var_352_3 = arg_349_1.bgs_.ST71a

				var_352_3.transform.localPosition = var_352_2
				var_352_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_352_4 = var_352_3:GetComponent("SpriteRenderer")

				if var_352_4 and var_352_4.sprite then
					local var_352_5 = (var_352_3.transform.localPosition - var_352_1).z
					local var_352_6 = manager.ui.mainCameraCom_
					local var_352_7 = 2 * var_352_5 * Mathf.Tan(var_352_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_352_8 = var_352_7 * var_352_6.aspect
					local var_352_9 = var_352_4.sprite.bounds.size.x
					local var_352_10 = var_352_4.sprite.bounds.size.y
					local var_352_11 = var_352_8 / var_352_9
					local var_352_12 = var_352_7 / var_352_10
					local var_352_13 = var_352_12 < var_352_11 and var_352_11 or var_352_12

					var_352_3.transform.localScale = Vector3.New(var_352_13, var_352_13, 0)
				end

				for iter_352_0, iter_352_1 in pairs(arg_349_1.bgs_) do
					if iter_352_0 ~= "ST71a" then
						iter_352_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_352_14 = 1.16666666666667

			if var_352_14 < arg_349_1.time_ and arg_349_1.time_ <= var_352_14 + arg_352_0 then
				local var_352_15 = manager.ui.mainCamera.transform.localPosition
				local var_352_16 = Vector3.New(0, 0, 10) + Vector3.New(var_352_15.x, var_352_15.y, 0)
				local var_352_17 = arg_349_1.bgs_.ST71a

				var_352_17.transform.localPosition = var_352_16
				var_352_17.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_352_18 = var_352_17:GetComponent("SpriteRenderer")

				if var_352_18 and var_352_18.sprite then
					local var_352_19 = (var_352_17.transform.localPosition - var_352_15).z
					local var_352_20 = manager.ui.mainCameraCom_
					local var_352_21 = 2 * var_352_19 * Mathf.Tan(var_352_20.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_352_22 = var_352_21 * var_352_20.aspect
					local var_352_23 = var_352_18.sprite.bounds.size.x
					local var_352_24 = var_352_18.sprite.bounds.size.y
					local var_352_25 = var_352_22 / var_352_23
					local var_352_26 = var_352_21 / var_352_24
					local var_352_27 = var_352_26 < var_352_25 and var_352_25 or var_352_26

					var_352_17.transform.localScale = Vector3.New(var_352_27, var_352_27, 0)
				end

				for iter_352_2, iter_352_3 in pairs(arg_349_1.bgs_) do
					if iter_352_2 ~= "ST71a" then
						iter_352_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_352_28 = 0

			if var_352_28 < arg_349_1.time_ and arg_349_1.time_ <= var_352_28 + arg_352_0 then
				arg_349_1.mask_.enabled = true
				arg_349_1.mask_.raycastTarget = true

				arg_349_1:SetGaussion(false)
			end

			local var_352_29 = 1.16666666666667

			if var_352_28 <= arg_349_1.time_ and arg_349_1.time_ < var_352_28 + var_352_29 then
				local var_352_30 = (arg_349_1.time_ - var_352_28) / var_352_29
				local var_352_31 = Color.New(0, 0, 0)

				var_352_31.a = Mathf.Lerp(0, 1, var_352_30)
				arg_349_1.mask_.color = var_352_31
			end

			if arg_349_1.time_ >= var_352_28 + var_352_29 and arg_349_1.time_ < var_352_28 + var_352_29 + arg_352_0 then
				local var_352_32 = Color.New(0, 0, 0)

				var_352_32.a = 1
				arg_349_1.mask_.color = var_352_32
			end

			local var_352_33 = 1.16666666666667

			if var_352_33 < arg_349_1.time_ and arg_349_1.time_ <= var_352_33 + arg_352_0 then
				arg_349_1.mask_.enabled = true
				arg_349_1.mask_.raycastTarget = true

				arg_349_1:SetGaussion(false)
			end

			local var_352_34 = 1.56666666666667

			if var_352_33 <= arg_349_1.time_ and arg_349_1.time_ < var_352_33 + var_352_34 then
				local var_352_35 = (arg_349_1.time_ - var_352_33) / var_352_34
				local var_352_36 = Color.New(0, 0, 0)

				var_352_36.a = Mathf.Lerp(1, 0, var_352_35)
				arg_349_1.mask_.color = var_352_36
			end

			if arg_349_1.time_ >= var_352_33 + var_352_34 and arg_349_1.time_ < var_352_33 + var_352_34 + arg_352_0 then
				local var_352_37 = Color.New(0, 0, 0)
				local var_352_38 = 0

				arg_349_1.mask_.enabled = false
				var_352_37.a = var_352_38
				arg_349_1.mask_.color = var_352_37
			end

			local var_352_39 = arg_349_1.bgs_.ST71a.transform
			local var_352_40 = 1.16666666666667

			if var_352_40 < arg_349_1.time_ and arg_349_1.time_ <= var_352_40 + arg_352_0 then
				arg_349_1.var_.moveOldPosST71a = var_352_39.localPosition
			end

			local var_352_41 = 0.001

			if var_352_40 <= arg_349_1.time_ and arg_349_1.time_ < var_352_40 + var_352_41 then
				local var_352_42 = (arg_349_1.time_ - var_352_40) / var_352_41
				local var_352_43 = Vector3.New(0, 1, 9.5)

				var_352_39.localPosition = Vector3.Lerp(arg_349_1.var_.moveOldPosST71a, var_352_43, var_352_42)
			end

			if arg_349_1.time_ >= var_352_40 + var_352_41 and arg_349_1.time_ < var_352_40 + var_352_41 + arg_352_0 then
				var_352_39.localPosition = Vector3.New(0, 1, 9.5)
			end

			if arg_349_1.frameCnt_ <= 1 then
				arg_349_1.dialog_:SetActive(false)
			end

			local var_352_44 = 2.73333333333333
			local var_352_45 = 0.3

			if var_352_44 < arg_349_1.time_ and arg_349_1.time_ <= var_352_44 + arg_352_0 then
				arg_349_1.talkMaxDuration = 0

				arg_349_1.dialog_:SetActive(true)

				local var_352_46 = LeanTween.value(arg_349_1.dialog_, 0, 1, 0.3)

				var_352_46:setOnUpdate(LuaHelper.FloatAction(function(arg_353_0)
					arg_349_1.dialogCg_.alpha = arg_353_0
				end))
				var_352_46:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_349_1.dialog_)
					var_352_46:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_349_1.duration_ = arg_349_1.duration_ + 0.3

				SetActive(arg_349_1.leftNameGo_, false)

				arg_349_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_349_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_349_1:RecordName(arg_349_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_349_1.iconTrs_.gameObject, false)
				arg_349_1.callingController_:SetSelectedState("normal")

				local var_352_47 = arg_349_1:GetWordFromCfg(411121081)
				local var_352_48 = arg_349_1:FormatText(var_352_47.content)

				arg_349_1.text_.text = var_352_48

				LuaForUtil.ClearLinePrefixSymbol(arg_349_1.text_)

				local var_352_49 = 12
				local var_352_50 = utf8.len(var_352_48)
				local var_352_51 = var_352_49 <= 0 and var_352_45 or var_352_45 * (var_352_50 / var_352_49)

				if var_352_51 > 0 and var_352_45 < var_352_51 then
					arg_349_1.talkMaxDuration = var_352_51
					var_352_44 = var_352_44 + 0.3

					if var_352_51 + var_352_44 > arg_349_1.duration_ then
						arg_349_1.duration_ = var_352_51 + var_352_44
					end
				end

				arg_349_1.text_.text = var_352_48
				arg_349_1.typewritter.percent = 0

				arg_349_1.typewritter:SetDirty()
				arg_349_1:ShowNextGo(false)
				arg_349_1:RecordContent(arg_349_1.text_.text)
			end

			local var_352_52 = var_352_44 + 0.3
			local var_352_53 = math.max(var_352_45, arg_349_1.talkMaxDuration)

			if var_352_52 <= arg_349_1.time_ and arg_349_1.time_ < var_352_52 + var_352_53 then
				arg_349_1.typewritter.percent = (arg_349_1.time_ - var_352_52) / var_352_53

				arg_349_1.typewritter:SetDirty()
			end

			if arg_349_1.time_ >= var_352_52 + var_352_53 and arg_349_1.time_ < var_352_52 + var_352_53 + arg_352_0 then
				arg_349_1.typewritter.percent = 1

				arg_349_1.typewritter:SetDirty()
				arg_349_1:ShowNextGo(true)
			end
		end
	end,
	Play411121082 = function(arg_355_0, arg_355_1)
		arg_355_1.time_ = 0
		arg_355_1.frameCnt_ = 0
		arg_355_1.state_ = "playing"
		arg_355_1.curTalkId_ = 411121082
		arg_355_1.duration_ = 5

		SetActive(arg_355_1.tipsGo_, false)

		function arg_355_1.onSingleLineFinish_()
			arg_355_1.onSingleLineUpdate_ = nil
			arg_355_1.onSingleLineFinish_ = nil
			arg_355_1.state_ = "waiting"
		end

		function arg_355_1.playNext_(arg_357_0)
			if arg_357_0 == 1 then
				arg_355_0:Play411121083(arg_355_1)
			end
		end

		function arg_355_1.onSingleLineUpdate_(arg_358_0)
			local var_358_0 = 0
			local var_358_1 = 1.075

			if var_358_0 < arg_355_1.time_ and arg_355_1.time_ <= var_358_0 + arg_358_0 then
				arg_355_1.talkMaxDuration = 0
				arg_355_1.dialogCg_.alpha = 1

				arg_355_1.dialog_:SetActive(true)
				SetActive(arg_355_1.leftNameGo_, false)

				arg_355_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_355_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_355_1:RecordName(arg_355_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_355_1.iconTrs_.gameObject, false)
				arg_355_1.callingController_:SetSelectedState("normal")

				local var_358_2 = arg_355_1:GetWordFromCfg(411121082)
				local var_358_3 = arg_355_1:FormatText(var_358_2.content)

				arg_355_1.text_.text = var_358_3

				LuaForUtil.ClearLinePrefixSymbol(arg_355_1.text_)

				local var_358_4 = 43
				local var_358_5 = utf8.len(var_358_3)
				local var_358_6 = var_358_4 <= 0 and var_358_1 or var_358_1 * (var_358_5 / var_358_4)

				if var_358_6 > 0 and var_358_1 < var_358_6 then
					arg_355_1.talkMaxDuration = var_358_6

					if var_358_6 + var_358_0 > arg_355_1.duration_ then
						arg_355_1.duration_ = var_358_6 + var_358_0
					end
				end

				arg_355_1.text_.text = var_358_3
				arg_355_1.typewritter.percent = 0

				arg_355_1.typewritter:SetDirty()
				arg_355_1:ShowNextGo(false)
				arg_355_1:RecordContent(arg_355_1.text_.text)
			end

			local var_358_7 = math.max(var_358_1, arg_355_1.talkMaxDuration)

			if var_358_0 <= arg_355_1.time_ and arg_355_1.time_ < var_358_0 + var_358_7 then
				arg_355_1.typewritter.percent = (arg_355_1.time_ - var_358_0) / var_358_7

				arg_355_1.typewritter:SetDirty()
			end

			if arg_355_1.time_ >= var_358_0 + var_358_7 and arg_355_1.time_ < var_358_0 + var_358_7 + arg_358_0 then
				arg_355_1.typewritter.percent = 1

				arg_355_1.typewritter:SetDirty()
				arg_355_1:ShowNextGo(true)
			end
		end
	end,
	Play411121083 = function(arg_359_0, arg_359_1)
		arg_359_1.time_ = 0
		arg_359_1.frameCnt_ = 0
		arg_359_1.state_ = "playing"
		arg_359_1.curTalkId_ = 411121083
		arg_359_1.duration_ = 5

		SetActive(arg_359_1.tipsGo_, false)

		function arg_359_1.onSingleLineFinish_()
			arg_359_1.onSingleLineUpdate_ = nil
			arg_359_1.onSingleLineFinish_ = nil
			arg_359_1.state_ = "waiting"
		end

		function arg_359_1.playNext_(arg_361_0)
			if arg_361_0 == 1 then
				arg_359_0:Play411121084(arg_359_1)
			end
		end

		function arg_359_1.onSingleLineUpdate_(arg_362_0)
			local var_362_0 = 0
			local var_362_1 = 0.45

			if var_362_0 < arg_359_1.time_ and arg_359_1.time_ <= var_362_0 + arg_362_0 then
				arg_359_1.talkMaxDuration = 0
				arg_359_1.dialogCg_.alpha = 1

				arg_359_1.dialog_:SetActive(true)
				SetActive(arg_359_1.leftNameGo_, false)

				arg_359_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_359_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_359_1:RecordName(arg_359_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_359_1.iconTrs_.gameObject, false)
				arg_359_1.callingController_:SetSelectedState("normal")

				local var_362_2 = arg_359_1:GetWordFromCfg(411121083)
				local var_362_3 = arg_359_1:FormatText(var_362_2.content)

				arg_359_1.text_.text = var_362_3

				LuaForUtil.ClearLinePrefixSymbol(arg_359_1.text_)

				local var_362_4 = 18
				local var_362_5 = utf8.len(var_362_3)
				local var_362_6 = var_362_4 <= 0 and var_362_1 or var_362_1 * (var_362_5 / var_362_4)

				if var_362_6 > 0 and var_362_1 < var_362_6 then
					arg_359_1.talkMaxDuration = var_362_6

					if var_362_6 + var_362_0 > arg_359_1.duration_ then
						arg_359_1.duration_ = var_362_6 + var_362_0
					end
				end

				arg_359_1.text_.text = var_362_3
				arg_359_1.typewritter.percent = 0

				arg_359_1.typewritter:SetDirty()
				arg_359_1:ShowNextGo(false)
				arg_359_1:RecordContent(arg_359_1.text_.text)
			end

			local var_362_7 = math.max(var_362_1, arg_359_1.talkMaxDuration)

			if var_362_0 <= arg_359_1.time_ and arg_359_1.time_ < var_362_0 + var_362_7 then
				arg_359_1.typewritter.percent = (arg_359_1.time_ - var_362_0) / var_362_7

				arg_359_1.typewritter:SetDirty()
			end

			if arg_359_1.time_ >= var_362_0 + var_362_7 and arg_359_1.time_ < var_362_0 + var_362_7 + arg_362_0 then
				arg_359_1.typewritter.percent = 1

				arg_359_1.typewritter:SetDirty()
				arg_359_1:ShowNextGo(true)
			end
		end
	end,
	Play411121084 = function(arg_363_0, arg_363_1)
		arg_363_1.time_ = 0
		arg_363_1.frameCnt_ = 0
		arg_363_1.state_ = "playing"
		arg_363_1.curTalkId_ = 411121084
		arg_363_1.duration_ = 1.57

		local var_363_0 = {
			zh = 1.2,
			ja = 1.566
		}
		local var_363_1 = manager.audio:GetLocalizationFlag()

		if var_363_0[var_363_1] ~= nil then
			arg_363_1.duration_ = var_363_0[var_363_1]
		end

		SetActive(arg_363_1.tipsGo_, false)

		function arg_363_1.onSingleLineFinish_()
			arg_363_1.onSingleLineUpdate_ = nil
			arg_363_1.onSingleLineFinish_ = nil
			arg_363_1.state_ = "waiting"
		end

		function arg_363_1.playNext_(arg_365_0)
			if arg_365_0 == 1 then
				arg_363_0:Play411121085(arg_363_1)
			end
		end

		function arg_363_1.onSingleLineUpdate_(arg_366_0)
			local var_366_0 = manager.ui.mainCamera.transform
			local var_366_1 = 0

			if var_366_1 < arg_363_1.time_ and arg_363_1.time_ <= var_366_1 + arg_366_0 then
				arg_363_1.var_.shakeOldPos = var_366_0.localPosition
			end

			local var_366_2 = 0.366666666666667

			if var_366_1 <= arg_363_1.time_ and arg_363_1.time_ < var_366_1 + var_366_2 then
				local var_366_3 = (arg_363_1.time_ - var_366_1) / 0.066
				local var_366_4, var_366_5 = math.modf(var_366_3)

				var_366_0.localPosition = Vector3.New(var_366_5 * 0.13, var_366_5 * 0.13, var_366_5 * 0.13) + arg_363_1.var_.shakeOldPos
			end

			if arg_363_1.time_ >= var_366_1 + var_366_2 and arg_363_1.time_ < var_366_1 + var_366_2 + arg_366_0 then
				var_366_0.localPosition = arg_363_1.var_.shakeOldPos
			end

			local var_366_6 = 0

			if var_366_6 < arg_363_1.time_ and arg_363_1.time_ <= var_366_6 + arg_366_0 then
				arg_363_1.allBtn_.enabled = false
			end

			local var_366_7 = 0.366666666666667

			if arg_363_1.time_ >= var_366_6 + var_366_7 and arg_363_1.time_ < var_366_6 + var_366_7 + arg_366_0 then
				arg_363_1.allBtn_.enabled = true
			end

			local var_366_8 = 0
			local var_366_9 = 0.125

			if var_366_8 < arg_363_1.time_ and arg_363_1.time_ <= var_366_8 + arg_366_0 then
				arg_363_1.talkMaxDuration = 0
				arg_363_1.dialogCg_.alpha = 1

				arg_363_1.dialog_:SetActive(true)
				SetActive(arg_363_1.leftNameGo_, true)

				local var_366_10 = arg_363_1:FormatText(StoryNameCfg[471].name)

				arg_363_1.leftNameTxt_.text = var_366_10

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_363_1.leftNameTxt_.transform)

				arg_363_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_363_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_363_1:RecordName(arg_363_1.leftNameTxt_.text)
				SetActive(arg_363_1.iconTrs_.gameObject, true)
				arg_363_1.iconController_:SetSelectedState("hero")

				arg_363_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_1095")

				arg_363_1.callingController_:SetSelectedState("normal")

				arg_363_1.keyicon_.color = Color.New(1, 1, 1)
				arg_363_1.icon_.color = Color.New(1, 1, 1)

				local var_366_11 = arg_363_1:GetWordFromCfg(411121084)
				local var_366_12 = arg_363_1:FormatText(var_366_11.content)

				arg_363_1.text_.text = var_366_12

				LuaForUtil.ClearLinePrefixSymbol(arg_363_1.text_)

				local var_366_13 = 5
				local var_366_14 = utf8.len(var_366_12)
				local var_366_15 = var_366_13 <= 0 and var_366_9 or var_366_9 * (var_366_14 / var_366_13)

				if var_366_15 > 0 and var_366_9 < var_366_15 then
					arg_363_1.talkMaxDuration = var_366_15

					if var_366_15 + var_366_8 > arg_363_1.duration_ then
						arg_363_1.duration_ = var_366_15 + var_366_8
					end
				end

				arg_363_1.text_.text = var_366_12
				arg_363_1.typewritter.percent = 0

				arg_363_1.typewritter:SetDirty()
				arg_363_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121084", "story_v_out_411121.awb") ~= 0 then
					local var_366_16 = manager.audio:GetVoiceLength("story_v_out_411121", "411121084", "story_v_out_411121.awb") / 1000

					if var_366_16 + var_366_8 > arg_363_1.duration_ then
						arg_363_1.duration_ = var_366_16 + var_366_8
					end

					if var_366_11.prefab_name ~= "" and arg_363_1.actors_[var_366_11.prefab_name] ~= nil then
						local var_366_17 = LuaForUtil.PlayVoiceWithCriLipsync(arg_363_1.actors_[var_366_11.prefab_name].transform, "story_v_out_411121", "411121084", "story_v_out_411121.awb")

						arg_363_1:RecordAudio("411121084", var_366_17)
						arg_363_1:RecordAudio("411121084", var_366_17)
					else
						arg_363_1:AudioAction("play", "voice", "story_v_out_411121", "411121084", "story_v_out_411121.awb")
					end

					arg_363_1:RecordHistoryTalkVoice("story_v_out_411121", "411121084", "story_v_out_411121.awb")
				end

				arg_363_1:RecordContent(arg_363_1.text_.text)
			end

			local var_366_18 = math.max(var_366_9, arg_363_1.talkMaxDuration)

			if var_366_8 <= arg_363_1.time_ and arg_363_1.time_ < var_366_8 + var_366_18 then
				arg_363_1.typewritter.percent = (arg_363_1.time_ - var_366_8) / var_366_18

				arg_363_1.typewritter:SetDirty()
			end

			if arg_363_1.time_ >= var_366_8 + var_366_18 and arg_363_1.time_ < var_366_8 + var_366_18 + arg_366_0 then
				arg_363_1.typewritter.percent = 1

				arg_363_1.typewritter:SetDirty()
				arg_363_1:ShowNextGo(true)
			end
		end
	end,
	Play411121085 = function(arg_367_0, arg_367_1)
		arg_367_1.time_ = 0
		arg_367_1.frameCnt_ = 0
		arg_367_1.state_ = "playing"
		arg_367_1.curTalkId_ = 411121085
		arg_367_1.duration_ = 7.1

		SetActive(arg_367_1.tipsGo_, false)

		function arg_367_1.onSingleLineFinish_()
			arg_367_1.onSingleLineUpdate_ = nil
			arg_367_1.onSingleLineFinish_ = nil
			arg_367_1.state_ = "waiting"
		end

		function arg_367_1.playNext_(arg_369_0)
			if arg_369_0 == 1 then
				arg_367_0:Play411121086(arg_367_1)
			end
		end

		function arg_367_1.onSingleLineUpdate_(arg_370_0)
			local var_370_0 = arg_367_1.actors_["1095ui_story"]
			local var_370_1 = 0

			if var_370_1 < arg_367_1.time_ and arg_367_1.time_ <= var_370_1 + arg_370_0 and not isNil(var_370_0) and arg_367_1.var_.characterEffect1095ui_story == nil then
				arg_367_1.var_.characterEffect1095ui_story = var_370_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_370_2 = 0.200000002980232

			if var_370_1 <= arg_367_1.time_ and arg_367_1.time_ < var_370_1 + var_370_2 and not isNil(var_370_0) then
				local var_370_3 = (arg_367_1.time_ - var_370_1) / var_370_2

				if arg_367_1.var_.characterEffect1095ui_story and not isNil(var_370_0) then
					local var_370_4 = Mathf.Lerp(0, 0.5, var_370_3)

					arg_367_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_367_1.var_.characterEffect1095ui_story.fillRatio = var_370_4
				end
			end

			if arg_367_1.time_ >= var_370_1 + var_370_2 and arg_367_1.time_ < var_370_1 + var_370_2 + arg_370_0 and not isNil(var_370_0) and arg_367_1.var_.characterEffect1095ui_story then
				local var_370_5 = 0.5

				arg_367_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_367_1.var_.characterEffect1095ui_story.fillRatio = var_370_5
			end

			local var_370_6 = arg_367_1.bgs_.ST71a.transform
			local var_370_7 = 0

			if var_370_7 < arg_367_1.time_ and arg_367_1.time_ <= var_370_7 + arg_370_0 then
				arg_367_1.var_.moveOldPosST71a = var_370_6.localPosition
			end

			local var_370_8 = 2.1

			if var_370_7 <= arg_367_1.time_ and arg_367_1.time_ < var_370_7 + var_370_8 then
				local var_370_9 = (arg_367_1.time_ - var_370_7) / var_370_8
				local var_370_10 = Vector3.New(0, 1, 10)

				var_370_6.localPosition = Vector3.Lerp(arg_367_1.var_.moveOldPosST71a, var_370_10, var_370_9)
			end

			if arg_367_1.time_ >= var_370_7 + var_370_8 and arg_367_1.time_ < var_370_7 + var_370_8 + arg_370_0 then
				var_370_6.localPosition = Vector3.New(0, 1, 10)
			end

			local var_370_11 = 0

			if var_370_11 < arg_367_1.time_ and arg_367_1.time_ <= var_370_11 + arg_370_0 then
				arg_367_1.allBtn_.enabled = false
			end

			local var_370_12 = 2.1

			if arg_367_1.time_ >= var_370_11 + var_370_12 and arg_367_1.time_ < var_370_11 + var_370_12 + arg_370_0 then
				arg_367_1.allBtn_.enabled = true
			end

			if arg_367_1.frameCnt_ <= 1 then
				arg_367_1.dialog_:SetActive(false)
			end

			local var_370_13 = 2.1
			local var_370_14 = 0.5

			if var_370_13 < arg_367_1.time_ and arg_367_1.time_ <= var_370_13 + arg_370_0 then
				arg_367_1.talkMaxDuration = 0

				arg_367_1.dialog_:SetActive(true)

				local var_370_15 = LeanTween.value(arg_367_1.dialog_, 0, 1, 0.3)

				var_370_15:setOnUpdate(LuaHelper.FloatAction(function(arg_371_0)
					arg_367_1.dialogCg_.alpha = arg_371_0
				end))
				var_370_15:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_367_1.dialog_)
					var_370_15:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_367_1.duration_ = arg_367_1.duration_ + 0.3

				SetActive(arg_367_1.leftNameGo_, false)

				arg_367_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_367_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_367_1:RecordName(arg_367_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_367_1.iconTrs_.gameObject, false)
				arg_367_1.callingController_:SetSelectedState("normal")

				local var_370_16 = arg_367_1:GetWordFromCfg(411121085)
				local var_370_17 = arg_367_1:FormatText(var_370_16.content)

				arg_367_1.text_.text = var_370_17

				LuaForUtil.ClearLinePrefixSymbol(arg_367_1.text_)

				local var_370_18 = 20
				local var_370_19 = utf8.len(var_370_17)
				local var_370_20 = var_370_18 <= 0 and var_370_14 or var_370_14 * (var_370_19 / var_370_18)

				if var_370_20 > 0 and var_370_14 < var_370_20 then
					arg_367_1.talkMaxDuration = var_370_20
					var_370_13 = var_370_13 + 0.3

					if var_370_20 + var_370_13 > arg_367_1.duration_ then
						arg_367_1.duration_ = var_370_20 + var_370_13
					end
				end

				arg_367_1.text_.text = var_370_17
				arg_367_1.typewritter.percent = 0

				arg_367_1.typewritter:SetDirty()
				arg_367_1:ShowNextGo(false)
				arg_367_1:RecordContent(arg_367_1.text_.text)
			end

			local var_370_21 = var_370_13 + 0.3
			local var_370_22 = math.max(var_370_14, arg_367_1.talkMaxDuration)

			if var_370_21 <= arg_367_1.time_ and arg_367_1.time_ < var_370_21 + var_370_22 then
				arg_367_1.typewritter.percent = (arg_367_1.time_ - var_370_21) / var_370_22

				arg_367_1.typewritter:SetDirty()
			end

			if arg_367_1.time_ >= var_370_21 + var_370_22 and arg_367_1.time_ < var_370_21 + var_370_22 + arg_370_0 then
				arg_367_1.typewritter.percent = 1

				arg_367_1.typewritter:SetDirty()
				arg_367_1:ShowNextGo(true)
			end
		end
	end,
	Play411121086 = function(arg_373_0, arg_373_1)
		arg_373_1.time_ = 0
		arg_373_1.frameCnt_ = 0
		arg_373_1.state_ = "playing"
		arg_373_1.curTalkId_ = 411121086
		arg_373_1.duration_ = 2

		SetActive(arg_373_1.tipsGo_, false)

		function arg_373_1.onSingleLineFinish_()
			arg_373_1.onSingleLineUpdate_ = nil
			arg_373_1.onSingleLineFinish_ = nil
			arg_373_1.state_ = "waiting"
		end

		function arg_373_1.playNext_(arg_375_0)
			if arg_375_0 == 1 then
				arg_373_0:Play411121087(arg_373_1)
			end
		end

		function arg_373_1.onSingleLineUpdate_(arg_376_0)
			local var_376_0 = arg_373_1.actors_["1095ui_story"].transform
			local var_376_1 = 0

			if var_376_1 < arg_373_1.time_ and arg_373_1.time_ <= var_376_1 + arg_376_0 then
				arg_373_1.var_.moveOldPos1095ui_story = var_376_0.localPosition
			end

			local var_376_2 = 0.001

			if var_376_1 <= arg_373_1.time_ and arg_373_1.time_ < var_376_1 + var_376_2 then
				local var_376_3 = (arg_373_1.time_ - var_376_1) / var_376_2
				local var_376_4 = Vector3.New(0, -0.98, -6.1)

				var_376_0.localPosition = Vector3.Lerp(arg_373_1.var_.moveOldPos1095ui_story, var_376_4, var_376_3)

				local var_376_5 = manager.ui.mainCamera.transform.position - var_376_0.position

				var_376_0.forward = Vector3.New(var_376_5.x, var_376_5.y, var_376_5.z)

				local var_376_6 = var_376_0.localEulerAngles

				var_376_6.z = 0
				var_376_6.x = 0
				var_376_0.localEulerAngles = var_376_6
			end

			if arg_373_1.time_ >= var_376_1 + var_376_2 and arg_373_1.time_ < var_376_1 + var_376_2 + arg_376_0 then
				var_376_0.localPosition = Vector3.New(0, -0.98, -6.1)

				local var_376_7 = manager.ui.mainCamera.transform.position - var_376_0.position

				var_376_0.forward = Vector3.New(var_376_7.x, var_376_7.y, var_376_7.z)

				local var_376_8 = var_376_0.localEulerAngles

				var_376_8.z = 0
				var_376_8.x = 0
				var_376_0.localEulerAngles = var_376_8
			end

			local var_376_9 = arg_373_1.actors_["1095ui_story"]
			local var_376_10 = 0

			if var_376_10 < arg_373_1.time_ and arg_373_1.time_ <= var_376_10 + arg_376_0 and not isNil(var_376_9) and arg_373_1.var_.characterEffect1095ui_story == nil then
				arg_373_1.var_.characterEffect1095ui_story = var_376_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_376_11 = 0.200000002980232

			if var_376_10 <= arg_373_1.time_ and arg_373_1.time_ < var_376_10 + var_376_11 and not isNil(var_376_9) then
				local var_376_12 = (arg_373_1.time_ - var_376_10) / var_376_11

				if arg_373_1.var_.characterEffect1095ui_story and not isNil(var_376_9) then
					arg_373_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_373_1.time_ >= var_376_10 + var_376_11 and arg_373_1.time_ < var_376_10 + var_376_11 + arg_376_0 and not isNil(var_376_9) and arg_373_1.var_.characterEffect1095ui_story then
				arg_373_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_376_13 = 0

			if var_376_13 < arg_373_1.time_ and arg_373_1.time_ <= var_376_13 + arg_376_0 then
				arg_373_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_376_14 = 0

			if var_376_14 < arg_373_1.time_ and arg_373_1.time_ <= var_376_14 + arg_376_0 then
				arg_373_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface2101cva")
			end

			local var_376_15 = 0

			if var_376_15 < arg_373_1.time_ and arg_373_1.time_ <= var_376_15 + arg_376_0 then
				arg_373_1.mask_.enabled = true
				arg_373_1.mask_.raycastTarget = true

				arg_373_1:SetGaussion(false)
			end

			local var_376_16 = 0.6

			if var_376_15 <= arg_373_1.time_ and arg_373_1.time_ < var_376_15 + var_376_16 then
				local var_376_17 = (arg_373_1.time_ - var_376_15) / var_376_16
				local var_376_18 = Color.New(1, 1, 1)

				var_376_18.a = Mathf.Lerp(1, 0, var_376_17)
				arg_373_1.mask_.color = var_376_18
			end

			if arg_373_1.time_ >= var_376_15 + var_376_16 and arg_373_1.time_ < var_376_15 + var_376_16 + arg_376_0 then
				local var_376_19 = Color.New(1, 1, 1)
				local var_376_20 = 0

				arg_373_1.mask_.enabled = false
				var_376_19.a = var_376_20
				arg_373_1.mask_.color = var_376_19
			end

			local var_376_21 = 0

			arg_373_1.isInRecall_ = false

			if var_376_21 < arg_373_1.time_ and arg_373_1.time_ <= var_376_21 + arg_376_0 then
				arg_373_1.screenFilterGo_:SetActive(false)

				for iter_376_0, iter_376_1 in pairs(arg_373_1.actors_) do
					local var_376_22 = iter_376_1:GetComponentsInChildren(typeof(Image), true):ToTable()

					for iter_376_2, iter_376_3 in ipairs(var_376_22) do
						if iter_376_3.color.r > 0.51 then
							iter_376_3.color = Color.New(1, 1, 1)
						else
							iter_376_3.color = Color.New(0.5, 0.5, 0.5)
						end
					end
				end
			end

			local var_376_23 = 0.2

			if var_376_21 <= arg_373_1.time_ and arg_373_1.time_ < var_376_21 + var_376_23 then
				local var_376_24 = (arg_373_1.time_ - var_376_21) / var_376_23

				arg_373_1.screenFilterEffect_.weight = Mathf.Lerp(1, 0, var_376_24)
			end

			if arg_373_1.time_ >= var_376_21 + var_376_23 and arg_373_1.time_ < var_376_21 + var_376_23 + arg_376_0 then
				arg_373_1.screenFilterEffect_.weight = 0
			end

			local var_376_25 = 0
			local var_376_26 = 0.175

			if var_376_25 < arg_373_1.time_ and arg_373_1.time_ <= var_376_25 + arg_376_0 then
				arg_373_1.talkMaxDuration = 0
				arg_373_1.dialogCg_.alpha = 1

				arg_373_1.dialog_:SetActive(true)
				SetActive(arg_373_1.leftNameGo_, true)

				local var_376_27 = arg_373_1:FormatText(StoryNameCfg[471].name)

				arg_373_1.leftNameTxt_.text = var_376_27

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_373_1.leftNameTxt_.transform)

				arg_373_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_373_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_373_1:RecordName(arg_373_1.leftNameTxt_.text)
				SetActive(arg_373_1.iconTrs_.gameObject, false)
				arg_373_1.callingController_:SetSelectedState("normal")

				local var_376_28 = arg_373_1:GetWordFromCfg(411121086)
				local var_376_29 = arg_373_1:FormatText(var_376_28.content)

				arg_373_1.text_.text = var_376_29

				LuaForUtil.ClearLinePrefixSymbol(arg_373_1.text_)

				local var_376_30 = 7
				local var_376_31 = utf8.len(var_376_29)
				local var_376_32 = var_376_30 <= 0 and var_376_26 or var_376_26 * (var_376_31 / var_376_30)

				if var_376_32 > 0 and var_376_26 < var_376_32 then
					arg_373_1.talkMaxDuration = var_376_32

					if var_376_32 + var_376_25 > arg_373_1.duration_ then
						arg_373_1.duration_ = var_376_32 + var_376_25
					end
				end

				arg_373_1.text_.text = var_376_29
				arg_373_1.typewritter.percent = 0

				arg_373_1.typewritter:SetDirty()
				arg_373_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121086", "story_v_out_411121.awb") ~= 0 then
					local var_376_33 = manager.audio:GetVoiceLength("story_v_out_411121", "411121086", "story_v_out_411121.awb") / 1000

					if var_376_33 + var_376_25 > arg_373_1.duration_ then
						arg_373_1.duration_ = var_376_33 + var_376_25
					end

					if var_376_28.prefab_name ~= "" and arg_373_1.actors_[var_376_28.prefab_name] ~= nil then
						local var_376_34 = LuaForUtil.PlayVoiceWithCriLipsync(arg_373_1.actors_[var_376_28.prefab_name].transform, "story_v_out_411121", "411121086", "story_v_out_411121.awb")

						arg_373_1:RecordAudio("411121086", var_376_34)
						arg_373_1:RecordAudio("411121086", var_376_34)
					else
						arg_373_1:AudioAction("play", "voice", "story_v_out_411121", "411121086", "story_v_out_411121.awb")
					end

					arg_373_1:RecordHistoryTalkVoice("story_v_out_411121", "411121086", "story_v_out_411121.awb")
				end

				arg_373_1:RecordContent(arg_373_1.text_.text)
			end

			local var_376_35 = math.max(var_376_26, arg_373_1.talkMaxDuration)

			if var_376_25 <= arg_373_1.time_ and arg_373_1.time_ < var_376_25 + var_376_35 then
				arg_373_1.typewritter.percent = (arg_373_1.time_ - var_376_25) / var_376_35

				arg_373_1.typewritter:SetDirty()
			end

			if arg_373_1.time_ >= var_376_25 + var_376_35 and arg_373_1.time_ < var_376_25 + var_376_35 + arg_376_0 then
				arg_373_1.typewritter.percent = 1

				arg_373_1.typewritter:SetDirty()
				arg_373_1:ShowNextGo(true)
			end
		end
	end,
	Play411121087 = function(arg_377_0, arg_377_1)
		arg_377_1.time_ = 0
		arg_377_1.frameCnt_ = 0
		arg_377_1.state_ = "playing"
		arg_377_1.curTalkId_ = 411121087
		arg_377_1.duration_ = 9

		SetActive(arg_377_1.tipsGo_, false)

		function arg_377_1.onSingleLineFinish_()
			arg_377_1.onSingleLineUpdate_ = nil
			arg_377_1.onSingleLineFinish_ = nil
			arg_377_1.state_ = "waiting"
		end

		function arg_377_1.playNext_(arg_379_0)
			if arg_379_0 == 1 then
				arg_377_0:Play411121088(arg_377_1)
			end
		end

		function arg_377_1.onSingleLineUpdate_(arg_380_0)
			local var_380_0 = 0

			if var_380_0 < arg_377_1.time_ and arg_377_1.time_ <= var_380_0 + arg_380_0 then
				local var_380_1 = manager.ui.mainCamera.transform.localPosition
				local var_380_2 = Vector3.New(0, 0, 10) + Vector3.New(var_380_1.x, var_380_1.y, 0)
				local var_380_3 = arg_377_1.bgs_.ST71a

				var_380_3.transform.localPosition = var_380_2
				var_380_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_380_4 = var_380_3:GetComponent("SpriteRenderer")

				if var_380_4 and var_380_4.sprite then
					local var_380_5 = (var_380_3.transform.localPosition - var_380_1).z
					local var_380_6 = manager.ui.mainCameraCom_
					local var_380_7 = 2 * var_380_5 * Mathf.Tan(var_380_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_380_8 = var_380_7 * var_380_6.aspect
					local var_380_9 = var_380_4.sprite.bounds.size.x
					local var_380_10 = var_380_4.sprite.bounds.size.y
					local var_380_11 = var_380_8 / var_380_9
					local var_380_12 = var_380_7 / var_380_10
					local var_380_13 = var_380_12 < var_380_11 and var_380_11 or var_380_12

					var_380_3.transform.localScale = Vector3.New(var_380_13, var_380_13, 0)
				end

				for iter_380_0, iter_380_1 in pairs(arg_377_1.bgs_) do
					if iter_380_0 ~= "ST71a" then
						iter_380_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_380_14 = 2

			if var_380_14 < arg_377_1.time_ and arg_377_1.time_ <= var_380_14 + arg_380_0 then
				local var_380_15 = manager.ui.mainCamera.transform.localPosition
				local var_380_16 = Vector3.New(0, 0, 10) + Vector3.New(var_380_15.x, var_380_15.y, 0)
				local var_380_17 = arg_377_1.bgs_.ST71a

				var_380_17.transform.localPosition = var_380_16
				var_380_17.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_380_18 = var_380_17:GetComponent("SpriteRenderer")

				if var_380_18 and var_380_18.sprite then
					local var_380_19 = (var_380_17.transform.localPosition - var_380_15).z
					local var_380_20 = manager.ui.mainCameraCom_
					local var_380_21 = 2 * var_380_19 * Mathf.Tan(var_380_20.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_380_22 = var_380_21 * var_380_20.aspect
					local var_380_23 = var_380_18.sprite.bounds.size.x
					local var_380_24 = var_380_18.sprite.bounds.size.y
					local var_380_25 = var_380_22 / var_380_23
					local var_380_26 = var_380_21 / var_380_24
					local var_380_27 = var_380_26 < var_380_25 and var_380_25 or var_380_26

					var_380_17.transform.localScale = Vector3.New(var_380_27, var_380_27, 0)
				end

				for iter_380_2, iter_380_3 in pairs(arg_377_1.bgs_) do
					if iter_380_2 ~= "ST71a" then
						iter_380_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_380_28 = 0

			if var_380_28 < arg_377_1.time_ and arg_377_1.time_ <= var_380_28 + arg_380_0 then
				arg_377_1.mask_.enabled = true
				arg_377_1.mask_.raycastTarget = true

				arg_377_1:SetGaussion(false)
			end

			local var_380_29 = 2

			if var_380_28 <= arg_377_1.time_ and arg_377_1.time_ < var_380_28 + var_380_29 then
				local var_380_30 = (arg_377_1.time_ - var_380_28) / var_380_29
				local var_380_31 = Color.New(0, 0, 0)

				var_380_31.a = Mathf.Lerp(0, 1, var_380_30)
				arg_377_1.mask_.color = var_380_31
			end

			if arg_377_1.time_ >= var_380_28 + var_380_29 and arg_377_1.time_ < var_380_28 + var_380_29 + arg_380_0 then
				local var_380_32 = Color.New(0, 0, 0)

				var_380_32.a = 1
				arg_377_1.mask_.color = var_380_32
			end

			local var_380_33 = 2

			if var_380_33 < arg_377_1.time_ and arg_377_1.time_ <= var_380_33 + arg_380_0 then
				arg_377_1.mask_.enabled = true
				arg_377_1.mask_.raycastTarget = true

				arg_377_1:SetGaussion(false)
			end

			local var_380_34 = 2

			if var_380_33 <= arg_377_1.time_ and arg_377_1.time_ < var_380_33 + var_380_34 then
				local var_380_35 = (arg_377_1.time_ - var_380_33) / var_380_34
				local var_380_36 = Color.New(0, 0, 0)

				var_380_36.a = Mathf.Lerp(1, 0, var_380_35)
				arg_377_1.mask_.color = var_380_36
			end

			if arg_377_1.time_ >= var_380_33 + var_380_34 and arg_377_1.time_ < var_380_33 + var_380_34 + arg_380_0 then
				local var_380_37 = Color.New(0, 0, 0)
				local var_380_38 = 0

				arg_377_1.mask_.enabled = false
				var_380_37.a = var_380_38
				arg_377_1.mask_.color = var_380_37
			end

			local var_380_39 = arg_377_1.actors_["1095ui_story"].transform
			local var_380_40 = 1.96599999815226

			if var_380_40 < arg_377_1.time_ and arg_377_1.time_ <= var_380_40 + arg_380_0 then
				arg_377_1.var_.moveOldPos1095ui_story = var_380_39.localPosition
			end

			local var_380_41 = 0.001

			if var_380_40 <= arg_377_1.time_ and arg_377_1.time_ < var_380_40 + var_380_41 then
				local var_380_42 = (arg_377_1.time_ - var_380_40) / var_380_41
				local var_380_43 = Vector3.New(0, 100, 0)

				var_380_39.localPosition = Vector3.Lerp(arg_377_1.var_.moveOldPos1095ui_story, var_380_43, var_380_42)

				local var_380_44 = manager.ui.mainCamera.transform.position - var_380_39.position

				var_380_39.forward = Vector3.New(var_380_44.x, var_380_44.y, var_380_44.z)

				local var_380_45 = var_380_39.localEulerAngles

				var_380_45.z = 0
				var_380_45.x = 0
				var_380_39.localEulerAngles = var_380_45
			end

			if arg_377_1.time_ >= var_380_40 + var_380_41 and arg_377_1.time_ < var_380_40 + var_380_41 + arg_380_0 then
				var_380_39.localPosition = Vector3.New(0, 100, 0)

				local var_380_46 = manager.ui.mainCamera.transform.position - var_380_39.position

				var_380_39.forward = Vector3.New(var_380_46.x, var_380_46.y, var_380_46.z)

				local var_380_47 = var_380_39.localEulerAngles

				var_380_47.z = 0
				var_380_47.x = 0
				var_380_39.localEulerAngles = var_380_47
			end

			if arg_377_1.frameCnt_ <= 1 then
				arg_377_1.dialog_:SetActive(false)
			end

			local var_380_48 = 4
			local var_380_49 = 0.9

			if var_380_48 < arg_377_1.time_ and arg_377_1.time_ <= var_380_48 + arg_380_0 then
				arg_377_1.talkMaxDuration = 0

				arg_377_1.dialog_:SetActive(true)

				local var_380_50 = LeanTween.value(arg_377_1.dialog_, 0, 1, 0.3)

				var_380_50:setOnUpdate(LuaHelper.FloatAction(function(arg_381_0)
					arg_377_1.dialogCg_.alpha = arg_381_0
				end))
				var_380_50:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_377_1.dialog_)
					var_380_50:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_377_1.duration_ = arg_377_1.duration_ + 0.3

				SetActive(arg_377_1.leftNameGo_, false)

				arg_377_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_377_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_377_1:RecordName(arg_377_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_377_1.iconTrs_.gameObject, false)
				arg_377_1.callingController_:SetSelectedState("normal")

				local var_380_51 = arg_377_1:GetWordFromCfg(411121087)
				local var_380_52 = arg_377_1:FormatText(var_380_51.content)

				arg_377_1.text_.text = var_380_52

				LuaForUtil.ClearLinePrefixSymbol(arg_377_1.text_)

				local var_380_53 = 36
				local var_380_54 = utf8.len(var_380_52)
				local var_380_55 = var_380_53 <= 0 and var_380_49 or var_380_49 * (var_380_54 / var_380_53)

				if var_380_55 > 0 and var_380_49 < var_380_55 then
					arg_377_1.talkMaxDuration = var_380_55
					var_380_48 = var_380_48 + 0.3

					if var_380_55 + var_380_48 > arg_377_1.duration_ then
						arg_377_1.duration_ = var_380_55 + var_380_48
					end
				end

				arg_377_1.text_.text = var_380_52
				arg_377_1.typewritter.percent = 0

				arg_377_1.typewritter:SetDirty()
				arg_377_1:ShowNextGo(false)
				arg_377_1:RecordContent(arg_377_1.text_.text)
			end

			local var_380_56 = var_380_48 + 0.3
			local var_380_57 = math.max(var_380_49, arg_377_1.talkMaxDuration)

			if var_380_56 <= arg_377_1.time_ and arg_377_1.time_ < var_380_56 + var_380_57 then
				arg_377_1.typewritter.percent = (arg_377_1.time_ - var_380_56) / var_380_57

				arg_377_1.typewritter:SetDirty()
			end

			if arg_377_1.time_ >= var_380_56 + var_380_57 and arg_377_1.time_ < var_380_56 + var_380_57 + arg_380_0 then
				arg_377_1.typewritter.percent = 1

				arg_377_1.typewritter:SetDirty()
				arg_377_1:ShowNextGo(true)
			end
		end
	end,
	Play411121088 = function(arg_383_0, arg_383_1)
		arg_383_1.time_ = 0
		arg_383_1.frameCnt_ = 0
		arg_383_1.state_ = "playing"
		arg_383_1.curTalkId_ = 411121088
		arg_383_1.duration_ = 5

		SetActive(arg_383_1.tipsGo_, false)

		function arg_383_1.onSingleLineFinish_()
			arg_383_1.onSingleLineUpdate_ = nil
			arg_383_1.onSingleLineFinish_ = nil
			arg_383_1.state_ = "waiting"
		end

		function arg_383_1.playNext_(arg_385_0)
			if arg_385_0 == 1 then
				arg_383_0:Play411121089(arg_383_1)
			end
		end

		function arg_383_1.onSingleLineUpdate_(arg_386_0)
			local var_386_0 = 0
			local var_386_1 = 0.125

			if var_386_0 < arg_383_1.time_ and arg_383_1.time_ <= var_386_0 + arg_386_0 then
				arg_383_1.talkMaxDuration = 0
				arg_383_1.dialogCg_.alpha = 1

				arg_383_1.dialog_:SetActive(true)
				SetActive(arg_383_1.leftNameGo_, false)

				arg_383_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_383_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_383_1:RecordName(arg_383_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_383_1.iconTrs_.gameObject, false)
				arg_383_1.callingController_:SetSelectedState("normal")

				local var_386_2 = arg_383_1:GetWordFromCfg(411121088)
				local var_386_3 = arg_383_1:FormatText(var_386_2.content)

				arg_383_1.text_.text = var_386_3

				LuaForUtil.ClearLinePrefixSymbol(arg_383_1.text_)

				local var_386_4 = 5
				local var_386_5 = utf8.len(var_386_3)
				local var_386_6 = var_386_4 <= 0 and var_386_1 or var_386_1 * (var_386_5 / var_386_4)

				if var_386_6 > 0 and var_386_1 < var_386_6 then
					arg_383_1.talkMaxDuration = var_386_6

					if var_386_6 + var_386_0 > arg_383_1.duration_ then
						arg_383_1.duration_ = var_386_6 + var_386_0
					end
				end

				arg_383_1.text_.text = var_386_3
				arg_383_1.typewritter.percent = 0

				arg_383_1.typewritter:SetDirty()
				arg_383_1:ShowNextGo(false)
				arg_383_1:RecordContent(arg_383_1.text_.text)
			end

			local var_386_7 = math.max(var_386_1, arg_383_1.talkMaxDuration)

			if var_386_0 <= arg_383_1.time_ and arg_383_1.time_ < var_386_0 + var_386_7 then
				arg_383_1.typewritter.percent = (arg_383_1.time_ - var_386_0) / var_386_7

				arg_383_1.typewritter:SetDirty()
			end

			if arg_383_1.time_ >= var_386_0 + var_386_7 and arg_383_1.time_ < var_386_0 + var_386_7 + arg_386_0 then
				arg_383_1.typewritter.percent = 1

				arg_383_1.typewritter:SetDirty()
				arg_383_1:ShowNextGo(true)
			end
		end
	end,
	Play411121089 = function(arg_387_0, arg_387_1)
		arg_387_1.time_ = 0
		arg_387_1.frameCnt_ = 0
		arg_387_1.state_ = "playing"
		arg_387_1.curTalkId_ = 411121089
		arg_387_1.duration_ = 5

		SetActive(arg_387_1.tipsGo_, false)

		function arg_387_1.onSingleLineFinish_()
			arg_387_1.onSingleLineUpdate_ = nil
			arg_387_1.onSingleLineFinish_ = nil
			arg_387_1.state_ = "waiting"
		end

		function arg_387_1.playNext_(arg_389_0)
			if arg_389_0 == 1 then
				arg_387_0:Play411121090(arg_387_1)
			end
		end

		function arg_387_1.onSingleLineUpdate_(arg_390_0)
			local var_390_0 = 0
			local var_390_1 = 0.25

			if var_390_0 < arg_387_1.time_ and arg_387_1.time_ <= var_390_0 + arg_390_0 then
				arg_387_1.talkMaxDuration = 0
				arg_387_1.dialogCg_.alpha = 1

				arg_387_1.dialog_:SetActive(true)
				SetActive(arg_387_1.leftNameGo_, false)

				arg_387_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_387_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_387_1:RecordName(arg_387_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_387_1.iconTrs_.gameObject, false)
				arg_387_1.callingController_:SetSelectedState("normal")

				local var_390_2 = arg_387_1:GetWordFromCfg(411121089)
				local var_390_3 = arg_387_1:FormatText(var_390_2.content)

				arg_387_1.text_.text = var_390_3

				LuaForUtil.ClearLinePrefixSymbol(arg_387_1.text_)

				local var_390_4 = 10
				local var_390_5 = utf8.len(var_390_3)
				local var_390_6 = var_390_4 <= 0 and var_390_1 or var_390_1 * (var_390_5 / var_390_4)

				if var_390_6 > 0 and var_390_1 < var_390_6 then
					arg_387_1.talkMaxDuration = var_390_6

					if var_390_6 + var_390_0 > arg_387_1.duration_ then
						arg_387_1.duration_ = var_390_6 + var_390_0
					end
				end

				arg_387_1.text_.text = var_390_3
				arg_387_1.typewritter.percent = 0

				arg_387_1.typewritter:SetDirty()
				arg_387_1:ShowNextGo(false)
				arg_387_1:RecordContent(arg_387_1.text_.text)
			end

			local var_390_7 = math.max(var_390_1, arg_387_1.talkMaxDuration)

			if var_390_0 <= arg_387_1.time_ and arg_387_1.time_ < var_390_0 + var_390_7 then
				arg_387_1.typewritter.percent = (arg_387_1.time_ - var_390_0) / var_390_7

				arg_387_1.typewritter:SetDirty()
			end

			if arg_387_1.time_ >= var_390_0 + var_390_7 and arg_387_1.time_ < var_390_0 + var_390_7 + arg_390_0 then
				arg_387_1.typewritter.percent = 1

				arg_387_1.typewritter:SetDirty()
				arg_387_1:ShowNextGo(true)
			end
		end
	end,
	Play411121090 = function(arg_391_0, arg_391_1)
		arg_391_1.time_ = 0
		arg_391_1.frameCnt_ = 0
		arg_391_1.state_ = "playing"
		arg_391_1.curTalkId_ = 411121090
		arg_391_1.duration_ = 5

		SetActive(arg_391_1.tipsGo_, false)

		function arg_391_1.onSingleLineFinish_()
			arg_391_1.onSingleLineUpdate_ = nil
			arg_391_1.onSingleLineFinish_ = nil
			arg_391_1.state_ = "waiting"
		end

		function arg_391_1.playNext_(arg_393_0)
			if arg_393_0 == 1 then
				arg_391_0:Play411121091(arg_391_1)
			end
		end

		function arg_391_1.onSingleLineUpdate_(arg_394_0)
			local var_394_0 = 0
			local var_394_1 = 0.65

			if var_394_0 < arg_391_1.time_ and arg_391_1.time_ <= var_394_0 + arg_394_0 then
				arg_391_1.talkMaxDuration = 0
				arg_391_1.dialogCg_.alpha = 1

				arg_391_1.dialog_:SetActive(true)
				SetActive(arg_391_1.leftNameGo_, false)

				arg_391_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_391_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_391_1:RecordName(arg_391_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_391_1.iconTrs_.gameObject, false)
				arg_391_1.callingController_:SetSelectedState("normal")

				local var_394_2 = arg_391_1:GetWordFromCfg(411121090)
				local var_394_3 = arg_391_1:FormatText(var_394_2.content)

				arg_391_1.text_.text = var_394_3

				LuaForUtil.ClearLinePrefixSymbol(arg_391_1.text_)

				local var_394_4 = 26
				local var_394_5 = utf8.len(var_394_3)
				local var_394_6 = var_394_4 <= 0 and var_394_1 or var_394_1 * (var_394_5 / var_394_4)

				if var_394_6 > 0 and var_394_1 < var_394_6 then
					arg_391_1.talkMaxDuration = var_394_6

					if var_394_6 + var_394_0 > arg_391_1.duration_ then
						arg_391_1.duration_ = var_394_6 + var_394_0
					end
				end

				arg_391_1.text_.text = var_394_3
				arg_391_1.typewritter.percent = 0

				arg_391_1.typewritter:SetDirty()
				arg_391_1:ShowNextGo(false)
				arg_391_1:RecordContent(arg_391_1.text_.text)
			end

			local var_394_7 = math.max(var_394_1, arg_391_1.talkMaxDuration)

			if var_394_0 <= arg_391_1.time_ and arg_391_1.time_ < var_394_0 + var_394_7 then
				arg_391_1.typewritter.percent = (arg_391_1.time_ - var_394_0) / var_394_7

				arg_391_1.typewritter:SetDirty()
			end

			if arg_391_1.time_ >= var_394_0 + var_394_7 and arg_391_1.time_ < var_394_0 + var_394_7 + arg_394_0 then
				arg_391_1.typewritter.percent = 1

				arg_391_1.typewritter:SetDirty()
				arg_391_1:ShowNextGo(true)
			end
		end
	end,
	Play411121091 = function(arg_395_0, arg_395_1)
		arg_395_1.time_ = 0
		arg_395_1.frameCnt_ = 0
		arg_395_1.state_ = "playing"
		arg_395_1.curTalkId_ = 411121091
		arg_395_1.duration_ = 3.57

		local var_395_0 = {
			zh = 3.56633333333333,
			ja = 3.49933333333333
		}
		local var_395_1 = manager.audio:GetLocalizationFlag()

		if var_395_0[var_395_1] ~= nil then
			arg_395_1.duration_ = var_395_0[var_395_1]
		end

		SetActive(arg_395_1.tipsGo_, false)

		function arg_395_1.onSingleLineFinish_()
			arg_395_1.onSingleLineUpdate_ = nil
			arg_395_1.onSingleLineFinish_ = nil
			arg_395_1.state_ = "waiting"
		end

		function arg_395_1.playNext_(arg_397_0)
			if arg_397_0 == 1 then
				arg_395_0:Play411121092(arg_395_1)
			end
		end

		function arg_395_1.onSingleLineUpdate_(arg_398_0)
			local var_398_0 = 0

			if var_398_0 < arg_395_1.time_ and arg_395_1.time_ <= var_398_0 + arg_398_0 then
				local var_398_1 = manager.ui.mainCamera.transform.localPosition
				local var_398_2 = Vector3.New(0, 0, 10) + Vector3.New(var_398_1.x, var_398_1.y, 0)
				local var_398_3 = arg_395_1.bgs_.ST71a

				var_398_3.transform.localPosition = var_398_2
				var_398_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_398_4 = var_398_3:GetComponent("SpriteRenderer")

				if var_398_4 and var_398_4.sprite then
					local var_398_5 = (var_398_3.transform.localPosition - var_398_1).z
					local var_398_6 = manager.ui.mainCameraCom_
					local var_398_7 = 2 * var_398_5 * Mathf.Tan(var_398_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_398_8 = var_398_7 * var_398_6.aspect
					local var_398_9 = var_398_4.sprite.bounds.size.x
					local var_398_10 = var_398_4.sprite.bounds.size.y
					local var_398_11 = var_398_8 / var_398_9
					local var_398_12 = var_398_7 / var_398_10
					local var_398_13 = var_398_12 < var_398_11 and var_398_11 or var_398_12

					var_398_3.transform.localScale = Vector3.New(var_398_13, var_398_13, 0)
				end

				for iter_398_0, iter_398_1 in pairs(arg_395_1.bgs_) do
					if iter_398_0 ~= "ST71a" then
						iter_398_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_398_14 = 1.26666666666667

			if var_398_14 < arg_395_1.time_ and arg_395_1.time_ <= var_398_14 + arg_398_0 then
				local var_398_15 = manager.ui.mainCamera.transform.localPosition
				local var_398_16 = Vector3.New(0, 0, 10) + Vector3.New(var_398_15.x, var_398_15.y, 0)
				local var_398_17 = arg_395_1.bgs_.STblack

				var_398_17.transform.localPosition = var_398_16
				var_398_17.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_398_18 = var_398_17:GetComponent("SpriteRenderer")

				if var_398_18 and var_398_18.sprite then
					local var_398_19 = (var_398_17.transform.localPosition - var_398_15).z
					local var_398_20 = manager.ui.mainCameraCom_
					local var_398_21 = 2 * var_398_19 * Mathf.Tan(var_398_20.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_398_22 = var_398_21 * var_398_20.aspect
					local var_398_23 = var_398_18.sprite.bounds.size.x
					local var_398_24 = var_398_18.sprite.bounds.size.y
					local var_398_25 = var_398_22 / var_398_23
					local var_398_26 = var_398_21 / var_398_24
					local var_398_27 = var_398_26 < var_398_25 and var_398_25 or var_398_26

					var_398_17.transform.localScale = Vector3.New(var_398_27, var_398_27, 0)
				end

				for iter_398_2, iter_398_3 in pairs(arg_395_1.bgs_) do
					if iter_398_2 ~= "STblack" then
						iter_398_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_398_28 = 0

			if var_398_28 < arg_395_1.time_ and arg_395_1.time_ <= var_398_28 + arg_398_0 then
				arg_395_1.mask_.enabled = true
				arg_395_1.mask_.raycastTarget = true

				arg_395_1:SetGaussion(false)
			end

			local var_398_29 = 1.26666666666667

			if var_398_28 <= arg_395_1.time_ and arg_395_1.time_ < var_398_28 + var_398_29 then
				local var_398_30 = (arg_395_1.time_ - var_398_28) / var_398_29
				local var_398_31 = Color.New(0, 0, 0)

				var_398_31.a = Mathf.Lerp(0, 1, var_398_30)
				arg_395_1.mask_.color = var_398_31
			end

			if arg_395_1.time_ >= var_398_28 + var_398_29 and arg_395_1.time_ < var_398_28 + var_398_29 + arg_398_0 then
				local var_398_32 = Color.New(0, 0, 0)

				var_398_32.a = 1
				arg_395_1.mask_.color = var_398_32
			end

			local var_398_33 = 1.26666666666667

			if var_398_33 < arg_395_1.time_ and arg_395_1.time_ <= var_398_33 + arg_398_0 then
				arg_395_1.mask_.enabled = true
				arg_395_1.mask_.raycastTarget = true

				arg_395_1:SetGaussion(false)
			end

			local var_398_34 = 1.26666666666667

			if var_398_33 <= arg_395_1.time_ and arg_395_1.time_ < var_398_33 + var_398_34 then
				local var_398_35 = (arg_395_1.time_ - var_398_33) / var_398_34
				local var_398_36 = Color.New(0, 0, 0)

				var_398_36.a = Mathf.Lerp(1, 0, var_398_35)
				arg_395_1.mask_.color = var_398_36
			end

			if arg_395_1.time_ >= var_398_33 + var_398_34 and arg_395_1.time_ < var_398_33 + var_398_34 + arg_398_0 then
				local var_398_37 = Color.New(0, 0, 0)
				local var_398_38 = 0

				arg_395_1.mask_.enabled = false
				var_398_37.a = var_398_38
				arg_395_1.mask_.color = var_398_37
			end

			if arg_395_1.frameCnt_ <= 1 then
				arg_395_1.dialog_:SetActive(false)
			end

			local var_398_39 = 2.53333333333333
			local var_398_40 = 0.108333333333333

			if var_398_39 < arg_395_1.time_ and arg_395_1.time_ <= var_398_39 + arg_398_0 then
				arg_395_1.talkMaxDuration = 0

				arg_395_1.dialog_:SetActive(true)

				local var_398_41 = LeanTween.value(arg_395_1.dialog_, 0, 1, 0.3)

				var_398_41:setOnUpdate(LuaHelper.FloatAction(function(arg_399_0)
					arg_395_1.dialogCg_.alpha = arg_399_0
				end))
				var_398_41:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_395_1.dialog_)
					var_398_41:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_395_1.duration_ = arg_395_1.duration_ + 0.3

				SetActive(arg_395_1.leftNameGo_, true)

				local var_398_42 = arg_395_1:FormatText(StoryNameCfg[670].name)

				arg_395_1.leftNameTxt_.text = var_398_42

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_395_1.leftNameTxt_.transform)

				arg_395_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_395_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_395_1:RecordName(arg_395_1.leftNameTxt_.text)
				SetActive(arg_395_1.iconTrs_.gameObject, false)
				arg_395_1.callingController_:SetSelectedState("normal")

				local var_398_43 = arg_395_1:GetWordFromCfg(411121091)
				local var_398_44 = arg_395_1:FormatText(var_398_43.content)

				arg_395_1.text_.text = var_398_44

				LuaForUtil.ClearLinePrefixSymbol(arg_395_1.text_)

				local var_398_45 = 3
				local var_398_46 = utf8.len(var_398_44)
				local var_398_47 = var_398_45 <= 0 and var_398_40 or var_398_40 * (var_398_46 / var_398_45)

				if var_398_47 > 0 and var_398_40 < var_398_47 then
					arg_395_1.talkMaxDuration = var_398_47
					var_398_39 = var_398_39 + 0.3

					if var_398_47 + var_398_39 > arg_395_1.duration_ then
						arg_395_1.duration_ = var_398_47 + var_398_39
					end
				end

				arg_395_1.text_.text = var_398_44
				arg_395_1.typewritter.percent = 0

				arg_395_1.typewritter:SetDirty()
				arg_395_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121091", "story_v_out_411121.awb") ~= 0 then
					local var_398_48 = manager.audio:GetVoiceLength("story_v_out_411121", "411121091", "story_v_out_411121.awb") / 1000

					if var_398_48 + var_398_39 > arg_395_1.duration_ then
						arg_395_1.duration_ = var_398_48 + var_398_39
					end

					if var_398_43.prefab_name ~= "" and arg_395_1.actors_[var_398_43.prefab_name] ~= nil then
						local var_398_49 = LuaForUtil.PlayVoiceWithCriLipsync(arg_395_1.actors_[var_398_43.prefab_name].transform, "story_v_out_411121", "411121091", "story_v_out_411121.awb")

						arg_395_1:RecordAudio("411121091", var_398_49)
						arg_395_1:RecordAudio("411121091", var_398_49)
					else
						arg_395_1:AudioAction("play", "voice", "story_v_out_411121", "411121091", "story_v_out_411121.awb")
					end

					arg_395_1:RecordHistoryTalkVoice("story_v_out_411121", "411121091", "story_v_out_411121.awb")
				end

				arg_395_1:RecordContent(arg_395_1.text_.text)
			end

			local var_398_50 = var_398_39 + 0.3
			local var_398_51 = math.max(var_398_40, arg_395_1.talkMaxDuration)

			if var_398_50 <= arg_395_1.time_ and arg_395_1.time_ < var_398_50 + var_398_51 then
				arg_395_1.typewritter.percent = (arg_395_1.time_ - var_398_50) / var_398_51

				arg_395_1.typewritter:SetDirty()
			end

			if arg_395_1.time_ >= var_398_50 + var_398_51 and arg_395_1.time_ < var_398_50 + var_398_51 + arg_398_0 then
				arg_395_1.typewritter.percent = 1

				arg_395_1.typewritter:SetDirty()
				arg_395_1:ShowNextGo(true)
			end
		end
	end,
	Play411121092 = function(arg_401_0, arg_401_1)
		arg_401_1.time_ = 0
		arg_401_1.frameCnt_ = 0
		arg_401_1.state_ = "playing"
		arg_401_1.curTalkId_ = 411121092
		arg_401_1.duration_ = 1.03

		local var_401_0 = {
			zh = 1.033,
			ja = 0.999999999999
		}
		local var_401_1 = manager.audio:GetLocalizationFlag()

		if var_401_0[var_401_1] ~= nil then
			arg_401_1.duration_ = var_401_0[var_401_1]
		end

		SetActive(arg_401_1.tipsGo_, false)

		function arg_401_1.onSingleLineFinish_()
			arg_401_1.onSingleLineUpdate_ = nil
			arg_401_1.onSingleLineFinish_ = nil
			arg_401_1.state_ = "waiting"
		end

		function arg_401_1.playNext_(arg_403_0)
			if arg_403_0 == 1 then
				arg_401_0:Play411121093(arg_401_1)
			end
		end

		function arg_401_1.onSingleLineUpdate_(arg_404_0)
			local var_404_0 = 0
			local var_404_1 = 0.0329999998211861

			if var_404_0 < arg_401_1.time_ and arg_401_1.time_ <= var_404_0 + arg_404_0 then
				arg_401_1.talkMaxDuration = 0
				arg_401_1.dialogCg_.alpha = 1

				arg_401_1.dialog_:SetActive(true)
				SetActive(arg_401_1.leftNameGo_, true)

				local var_404_2 = arg_401_1:FormatText(StoryNameCfg[471].name)

				arg_401_1.leftNameTxt_.text = var_404_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_401_1.leftNameTxt_.transform)

				arg_401_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_401_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_401_1:RecordName(arg_401_1.leftNameTxt_.text)
				SetActive(arg_401_1.iconTrs_.gameObject, false)
				arg_401_1.callingController_:SetSelectedState("normal")

				local var_404_3 = arg_401_1:GetWordFromCfg(411121092)
				local var_404_4 = arg_401_1:FormatText(var_404_3.content)

				arg_401_1.text_.text = var_404_4

				LuaForUtil.ClearLinePrefixSymbol(arg_401_1.text_)

				local var_404_5 = 1
				local var_404_6 = utf8.len(var_404_4)
				local var_404_7 = var_404_5 <= 0 and var_404_1 or var_404_1 * (var_404_6 / var_404_5)

				if var_404_7 > 0 and var_404_1 < var_404_7 then
					arg_401_1.talkMaxDuration = var_404_7

					if var_404_7 + var_404_0 > arg_401_1.duration_ then
						arg_401_1.duration_ = var_404_7 + var_404_0
					end
				end

				arg_401_1.text_.text = var_404_4
				arg_401_1.typewritter.percent = 0

				arg_401_1.typewritter:SetDirty()
				arg_401_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121092", "story_v_out_411121.awb") ~= 0 then
					local var_404_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121092", "story_v_out_411121.awb") / 1000

					if var_404_8 + var_404_0 > arg_401_1.duration_ then
						arg_401_1.duration_ = var_404_8 + var_404_0
					end

					if var_404_3.prefab_name ~= "" and arg_401_1.actors_[var_404_3.prefab_name] ~= nil then
						local var_404_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_401_1.actors_[var_404_3.prefab_name].transform, "story_v_out_411121", "411121092", "story_v_out_411121.awb")

						arg_401_1:RecordAudio("411121092", var_404_9)
						arg_401_1:RecordAudio("411121092", var_404_9)
					else
						arg_401_1:AudioAction("play", "voice", "story_v_out_411121", "411121092", "story_v_out_411121.awb")
					end

					arg_401_1:RecordHistoryTalkVoice("story_v_out_411121", "411121092", "story_v_out_411121.awb")
				end

				arg_401_1:RecordContent(arg_401_1.text_.text)
			end

			local var_404_10 = math.max(var_404_1, arg_401_1.talkMaxDuration)

			if var_404_0 <= arg_401_1.time_ and arg_401_1.time_ < var_404_0 + var_404_10 then
				arg_401_1.typewritter.percent = (arg_401_1.time_ - var_404_0) / var_404_10

				arg_401_1.typewritter:SetDirty()
			end

			if arg_401_1.time_ >= var_404_0 + var_404_10 and arg_401_1.time_ < var_404_0 + var_404_10 + arg_404_0 then
				arg_401_1.typewritter.percent = 1

				arg_401_1.typewritter:SetDirty()
				arg_401_1:ShowNextGo(true)
			end
		end
	end,
	Play411121093 = function(arg_405_0, arg_405_1)
		arg_405_1.time_ = 0
		arg_405_1.frameCnt_ = 0
		arg_405_1.state_ = "playing"
		arg_405_1.curTalkId_ = 411121093
		arg_405_1.duration_ = 9.1

		SetActive(arg_405_1.tipsGo_, false)

		function arg_405_1.onSingleLineFinish_()
			arg_405_1.onSingleLineUpdate_ = nil
			arg_405_1.onSingleLineFinish_ = nil
			arg_405_1.state_ = "waiting"
		end

		function arg_405_1.playNext_(arg_407_0)
			if arg_407_0 == 1 then
				arg_405_0:Play411121094(arg_405_1)
			end
		end

		function arg_405_1.onSingleLineUpdate_(arg_408_0)
			local var_408_0 = 0

			if var_408_0 < arg_405_1.time_ and arg_405_1.time_ <= var_408_0 + arg_408_0 then
				local var_408_1 = manager.ui.mainCamera.transform.localPosition
				local var_408_2 = Vector3.New(0, 0, 10) + Vector3.New(var_408_1.x, var_408_1.y, 0)
				local var_408_3 = arg_405_1.bgs_.STblack

				var_408_3.transform.localPosition = var_408_2
				var_408_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_408_4 = var_408_3:GetComponent("SpriteRenderer")

				if var_408_4 and var_408_4.sprite then
					local var_408_5 = (var_408_3.transform.localPosition - var_408_1).z
					local var_408_6 = manager.ui.mainCameraCom_
					local var_408_7 = 2 * var_408_5 * Mathf.Tan(var_408_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_408_8 = var_408_7 * var_408_6.aspect
					local var_408_9 = var_408_4.sprite.bounds.size.x
					local var_408_10 = var_408_4.sprite.bounds.size.y
					local var_408_11 = var_408_8 / var_408_9
					local var_408_12 = var_408_7 / var_408_10
					local var_408_13 = var_408_12 < var_408_11 and var_408_11 or var_408_12

					var_408_3.transform.localScale = Vector3.New(var_408_13, var_408_13, 0)
				end

				for iter_408_0, iter_408_1 in pairs(arg_405_1.bgs_) do
					if iter_408_0 ~= "STblack" then
						iter_408_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_408_14 = "ST74a"

			if arg_405_1.bgs_[var_408_14] == nil then
				local var_408_15 = Object.Instantiate(arg_405_1.paintGo_)

				var_408_15:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_408_14)
				var_408_15.name = var_408_14
				var_408_15.transform.parent = arg_405_1.stage_.transform
				var_408_15.transform.localPosition = Vector3.New(0, 100, 0)
				arg_405_1.bgs_[var_408_14] = var_408_15
			end

			local var_408_16 = 2.099999999999

			if var_408_16 < arg_405_1.time_ and arg_405_1.time_ <= var_408_16 + arg_408_0 then
				local var_408_17 = manager.ui.mainCamera.transform.localPosition
				local var_408_18 = Vector3.New(0, 0, 10) + Vector3.New(var_408_17.x, var_408_17.y, 0)
				local var_408_19 = arg_405_1.bgs_.ST74a

				var_408_19.transform.localPosition = var_408_18
				var_408_19.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_408_20 = var_408_19:GetComponent("SpriteRenderer")

				if var_408_20 and var_408_20.sprite then
					local var_408_21 = (var_408_19.transform.localPosition - var_408_17).z
					local var_408_22 = manager.ui.mainCameraCom_
					local var_408_23 = 2 * var_408_21 * Mathf.Tan(var_408_22.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_408_24 = var_408_23 * var_408_22.aspect
					local var_408_25 = var_408_20.sprite.bounds.size.x
					local var_408_26 = var_408_20.sprite.bounds.size.y
					local var_408_27 = var_408_24 / var_408_25
					local var_408_28 = var_408_23 / var_408_26
					local var_408_29 = var_408_28 < var_408_27 and var_408_27 or var_408_28

					var_408_19.transform.localScale = Vector3.New(var_408_29, var_408_29, 0)
				end

				for iter_408_2, iter_408_3 in pairs(arg_405_1.bgs_) do
					if iter_408_2 ~= "ST74a" then
						iter_408_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_408_30 = 0

			if var_408_30 < arg_405_1.time_ and arg_405_1.time_ <= var_408_30 + arg_408_0 then
				arg_405_1.mask_.enabled = true
				arg_405_1.mask_.raycastTarget = true

				arg_405_1:SetGaussion(false)
			end

			local var_408_31 = 2.099999999999

			if var_408_30 <= arg_405_1.time_ and arg_405_1.time_ < var_408_30 + var_408_31 then
				local var_408_32 = (arg_405_1.time_ - var_408_30) / var_408_31
				local var_408_33 = Color.New(0, 0, 0)

				var_408_33.a = Mathf.Lerp(0, 1, var_408_32)
				arg_405_1.mask_.color = var_408_33
			end

			if arg_405_1.time_ >= var_408_30 + var_408_31 and arg_405_1.time_ < var_408_30 + var_408_31 + arg_408_0 then
				local var_408_34 = Color.New(0, 0, 0)

				var_408_34.a = 1
				arg_405_1.mask_.color = var_408_34
			end

			local var_408_35 = 2.099999999999

			if var_408_35 < arg_405_1.time_ and arg_405_1.time_ <= var_408_35 + arg_408_0 then
				arg_405_1.mask_.enabled = true
				arg_405_1.mask_.raycastTarget = true

				arg_405_1:SetGaussion(false)
			end

			local var_408_36 = 2

			if var_408_35 <= arg_405_1.time_ and arg_405_1.time_ < var_408_35 + var_408_36 then
				local var_408_37 = (arg_405_1.time_ - var_408_35) / var_408_36
				local var_408_38 = Color.New(0, 0, 0)

				var_408_38.a = Mathf.Lerp(1, 0, var_408_37)
				arg_405_1.mask_.color = var_408_38
			end

			if arg_405_1.time_ >= var_408_35 + var_408_36 and arg_405_1.time_ < var_408_35 + var_408_36 + arg_408_0 then
				local var_408_39 = Color.New(0, 0, 0)
				local var_408_40 = 0

				arg_405_1.mask_.enabled = false
				var_408_39.a = var_408_40
				arg_405_1.mask_.color = var_408_39
			end

			local var_408_41 = 2.099999999999

			arg_405_1.isInRecall_ = false

			if var_408_41 < arg_405_1.time_ and arg_405_1.time_ <= var_408_41 + arg_408_0 then
				arg_405_1.screenFilterGo_:SetActive(false)

				for iter_408_4, iter_408_5 in pairs(arg_405_1.actors_) do
					local var_408_42 = iter_408_5:GetComponentsInChildren(typeof(Image), true):ToTable()

					for iter_408_6, iter_408_7 in ipairs(var_408_42) do
						if iter_408_7.color.r > 0.51 then
							iter_408_7.color = Color.New(1, 1, 1)
						else
							iter_408_7.color = Color.New(0.5, 0.5, 0.5)
						end
					end
				end
			end

			local var_408_43 = 0.0166666666666667

			if var_408_41 <= arg_405_1.time_ and arg_405_1.time_ < var_408_41 + var_408_43 then
				local var_408_44 = (arg_405_1.time_ - var_408_41) / var_408_43

				arg_405_1.screenFilterEffect_.weight = Mathf.Lerp(1, 0, var_408_44)
			end

			if arg_405_1.time_ >= var_408_41 + var_408_43 and arg_405_1.time_ < var_408_41 + var_408_43 + arg_408_0 then
				arg_405_1.screenFilterEffect_.weight = 0
			end

			if arg_405_1.frameCnt_ <= 1 then
				arg_405_1.dialog_:SetActive(false)
			end

			local var_408_45 = 4.099999999999
			local var_408_46 = 1.1

			if var_408_45 < arg_405_1.time_ and arg_405_1.time_ <= var_408_45 + arg_408_0 then
				arg_405_1.talkMaxDuration = 0

				arg_405_1.dialog_:SetActive(true)

				local var_408_47 = LeanTween.value(arg_405_1.dialog_, 0, 1, 0.3)

				var_408_47:setOnUpdate(LuaHelper.FloatAction(function(arg_409_0)
					arg_405_1.dialogCg_.alpha = arg_409_0
				end))
				var_408_47:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_405_1.dialog_)
					var_408_47:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_405_1.duration_ = arg_405_1.duration_ + 0.3

				SetActive(arg_405_1.leftNameGo_, false)

				arg_405_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_405_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_405_1:RecordName(arg_405_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_405_1.iconTrs_.gameObject, false)
				arg_405_1.callingController_:SetSelectedState("normal")

				local var_408_48 = arg_405_1:GetWordFromCfg(411121093)
				local var_408_49 = arg_405_1:FormatText(var_408_48.content)

				arg_405_1.text_.text = var_408_49

				LuaForUtil.ClearLinePrefixSymbol(arg_405_1.text_)

				local var_408_50 = 44
				local var_408_51 = utf8.len(var_408_49)
				local var_408_52 = var_408_50 <= 0 and var_408_46 or var_408_46 * (var_408_51 / var_408_50)

				if var_408_52 > 0 and var_408_46 < var_408_52 then
					arg_405_1.talkMaxDuration = var_408_52
					var_408_45 = var_408_45 + 0.3

					if var_408_52 + var_408_45 > arg_405_1.duration_ then
						arg_405_1.duration_ = var_408_52 + var_408_45
					end
				end

				arg_405_1.text_.text = var_408_49
				arg_405_1.typewritter.percent = 0

				arg_405_1.typewritter:SetDirty()
				arg_405_1:ShowNextGo(false)
				arg_405_1:RecordContent(arg_405_1.text_.text)
			end

			local var_408_53 = var_408_45 + 0.3
			local var_408_54 = math.max(var_408_46, arg_405_1.talkMaxDuration)

			if var_408_53 <= arg_405_1.time_ and arg_405_1.time_ < var_408_53 + var_408_54 then
				arg_405_1.typewritter.percent = (arg_405_1.time_ - var_408_53) / var_408_54

				arg_405_1.typewritter:SetDirty()
			end

			if arg_405_1.time_ >= var_408_53 + var_408_54 and arg_405_1.time_ < var_408_53 + var_408_54 + arg_408_0 then
				arg_405_1.typewritter.percent = 1

				arg_405_1.typewritter:SetDirty()
				arg_405_1:ShowNextGo(true)
			end
		end
	end,
	Play411121094 = function(arg_411_0, arg_411_1)
		arg_411_1.time_ = 0
		arg_411_1.frameCnt_ = 0
		arg_411_1.state_ = "playing"
		arg_411_1.curTalkId_ = 411121094
		arg_411_1.duration_ = 2

		SetActive(arg_411_1.tipsGo_, false)

		function arg_411_1.onSingleLineFinish_()
			arg_411_1.onSingleLineUpdate_ = nil
			arg_411_1.onSingleLineFinish_ = nil
			arg_411_1.state_ = "waiting"
		end

		function arg_411_1.playNext_(arg_413_0)
			if arg_413_0 == 1 then
				arg_411_0:Play411121095(arg_411_1)
			end
		end

		function arg_411_1.onSingleLineUpdate_(arg_414_0)
			local var_414_0 = arg_411_1.actors_["1095ui_story"].transform
			local var_414_1 = 0

			if var_414_1 < arg_411_1.time_ and arg_411_1.time_ <= var_414_1 + arg_414_0 then
				arg_411_1.var_.moveOldPos1095ui_story = var_414_0.localPosition
			end

			local var_414_2 = 0.001

			if var_414_1 <= arg_411_1.time_ and arg_411_1.time_ < var_414_1 + var_414_2 then
				local var_414_3 = (arg_411_1.time_ - var_414_1) / var_414_2
				local var_414_4 = Vector3.New(0, -0.98, -6.1)

				var_414_0.localPosition = Vector3.Lerp(arg_411_1.var_.moveOldPos1095ui_story, var_414_4, var_414_3)

				local var_414_5 = manager.ui.mainCamera.transform.position - var_414_0.position

				var_414_0.forward = Vector3.New(var_414_5.x, var_414_5.y, var_414_5.z)

				local var_414_6 = var_414_0.localEulerAngles

				var_414_6.z = 0
				var_414_6.x = 0
				var_414_0.localEulerAngles = var_414_6
			end

			if arg_411_1.time_ >= var_414_1 + var_414_2 and arg_411_1.time_ < var_414_1 + var_414_2 + arg_414_0 then
				var_414_0.localPosition = Vector3.New(0, -0.98, -6.1)

				local var_414_7 = manager.ui.mainCamera.transform.position - var_414_0.position

				var_414_0.forward = Vector3.New(var_414_7.x, var_414_7.y, var_414_7.z)

				local var_414_8 = var_414_0.localEulerAngles

				var_414_8.z = 0
				var_414_8.x = 0
				var_414_0.localEulerAngles = var_414_8
			end

			local var_414_9 = arg_411_1.actors_["1095ui_story"]
			local var_414_10 = 0

			if var_414_10 < arg_411_1.time_ and arg_411_1.time_ <= var_414_10 + arg_414_0 and not isNil(var_414_9) and arg_411_1.var_.characterEffect1095ui_story == nil then
				arg_411_1.var_.characterEffect1095ui_story = var_414_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_414_11 = 0.200000002980232

			if var_414_10 <= arg_411_1.time_ and arg_411_1.time_ < var_414_10 + var_414_11 and not isNil(var_414_9) then
				local var_414_12 = (arg_411_1.time_ - var_414_10) / var_414_11

				if arg_411_1.var_.characterEffect1095ui_story and not isNil(var_414_9) then
					arg_411_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_411_1.time_ >= var_414_10 + var_414_11 and arg_411_1.time_ < var_414_10 + var_414_11 + arg_414_0 and not isNil(var_414_9) and arg_411_1.var_.characterEffect1095ui_story then
				arg_411_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_414_13 = 0

			if var_414_13 < arg_411_1.time_ and arg_411_1.time_ <= var_414_13 + arg_414_0 then
				arg_411_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_414_14 = 0

			if var_414_14 < arg_411_1.time_ and arg_411_1.time_ <= var_414_14 + arg_414_0 then
				arg_411_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface3201cva")
			end

			local var_414_15 = 0
			local var_414_16 = 0.125

			if var_414_15 < arg_411_1.time_ and arg_411_1.time_ <= var_414_15 + arg_414_0 then
				arg_411_1.talkMaxDuration = 0
				arg_411_1.dialogCg_.alpha = 1

				arg_411_1.dialog_:SetActive(true)
				SetActive(arg_411_1.leftNameGo_, true)

				local var_414_17 = arg_411_1:FormatText(StoryNameCfg[471].name)

				arg_411_1.leftNameTxt_.text = var_414_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_411_1.leftNameTxt_.transform)

				arg_411_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_411_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_411_1:RecordName(arg_411_1.leftNameTxt_.text)
				SetActive(arg_411_1.iconTrs_.gameObject, false)
				arg_411_1.callingController_:SetSelectedState("normal")

				local var_414_18 = arg_411_1:GetWordFromCfg(411121094)
				local var_414_19 = arg_411_1:FormatText(var_414_18.content)

				arg_411_1.text_.text = var_414_19

				LuaForUtil.ClearLinePrefixSymbol(arg_411_1.text_)

				local var_414_20 = 5
				local var_414_21 = utf8.len(var_414_19)
				local var_414_22 = var_414_20 <= 0 and var_414_16 or var_414_16 * (var_414_21 / var_414_20)

				if var_414_22 > 0 and var_414_16 < var_414_22 then
					arg_411_1.talkMaxDuration = var_414_22

					if var_414_22 + var_414_15 > arg_411_1.duration_ then
						arg_411_1.duration_ = var_414_22 + var_414_15
					end
				end

				arg_411_1.text_.text = var_414_19
				arg_411_1.typewritter.percent = 0

				arg_411_1.typewritter:SetDirty()
				arg_411_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121094", "story_v_out_411121.awb") ~= 0 then
					local var_414_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121094", "story_v_out_411121.awb") / 1000

					if var_414_23 + var_414_15 > arg_411_1.duration_ then
						arg_411_1.duration_ = var_414_23 + var_414_15
					end

					if var_414_18.prefab_name ~= "" and arg_411_1.actors_[var_414_18.prefab_name] ~= nil then
						local var_414_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_411_1.actors_[var_414_18.prefab_name].transform, "story_v_out_411121", "411121094", "story_v_out_411121.awb")

						arg_411_1:RecordAudio("411121094", var_414_24)
						arg_411_1:RecordAudio("411121094", var_414_24)
					else
						arg_411_1:AudioAction("play", "voice", "story_v_out_411121", "411121094", "story_v_out_411121.awb")
					end

					arg_411_1:RecordHistoryTalkVoice("story_v_out_411121", "411121094", "story_v_out_411121.awb")
				end

				arg_411_1:RecordContent(arg_411_1.text_.text)
			end

			local var_414_25 = math.max(var_414_16, arg_411_1.talkMaxDuration)

			if var_414_15 <= arg_411_1.time_ and arg_411_1.time_ < var_414_15 + var_414_25 then
				arg_411_1.typewritter.percent = (arg_411_1.time_ - var_414_15) / var_414_25

				arg_411_1.typewritter:SetDirty()
			end

			if arg_411_1.time_ >= var_414_15 + var_414_25 and arg_411_1.time_ < var_414_15 + var_414_25 + arg_414_0 then
				arg_411_1.typewritter.percent = 1

				arg_411_1.typewritter:SetDirty()
				arg_411_1:ShowNextGo(true)
			end
		end
	end,
	Play411121095 = function(arg_415_0, arg_415_1)
		arg_415_1.time_ = 0
		arg_415_1.frameCnt_ = 0
		arg_415_1.state_ = "playing"
		arg_415_1.curTalkId_ = 411121095
		arg_415_1.duration_ = 5

		SetActive(arg_415_1.tipsGo_, false)

		function arg_415_1.onSingleLineFinish_()
			arg_415_1.onSingleLineUpdate_ = nil
			arg_415_1.onSingleLineFinish_ = nil
			arg_415_1.state_ = "waiting"
		end

		function arg_415_1.playNext_(arg_417_0)
			if arg_417_0 == 1 then
				arg_415_0:Play411121096(arg_415_1)
			end
		end

		function arg_415_1.onSingleLineUpdate_(arg_418_0)
			local var_418_0 = arg_415_1.actors_["1095ui_story"]
			local var_418_1 = 0

			if var_418_1 < arg_415_1.time_ and arg_415_1.time_ <= var_418_1 + arg_418_0 and not isNil(var_418_0) and arg_415_1.var_.characterEffect1095ui_story == nil then
				arg_415_1.var_.characterEffect1095ui_story = var_418_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_418_2 = 0.200000002980232

			if var_418_1 <= arg_415_1.time_ and arg_415_1.time_ < var_418_1 + var_418_2 and not isNil(var_418_0) then
				local var_418_3 = (arg_415_1.time_ - var_418_1) / var_418_2

				if arg_415_1.var_.characterEffect1095ui_story and not isNil(var_418_0) then
					local var_418_4 = Mathf.Lerp(0, 0.5, var_418_3)

					arg_415_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_415_1.var_.characterEffect1095ui_story.fillRatio = var_418_4
				end
			end

			if arg_415_1.time_ >= var_418_1 + var_418_2 and arg_415_1.time_ < var_418_1 + var_418_2 + arg_418_0 and not isNil(var_418_0) and arg_415_1.var_.characterEffect1095ui_story then
				local var_418_5 = 0.5

				arg_415_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_415_1.var_.characterEffect1095ui_story.fillRatio = var_418_5
			end

			local var_418_6 = 0
			local var_418_7 = 1.1

			if var_418_6 < arg_415_1.time_ and arg_415_1.time_ <= var_418_6 + arg_418_0 then
				arg_415_1.talkMaxDuration = 0
				arg_415_1.dialogCg_.alpha = 1

				arg_415_1.dialog_:SetActive(true)
				SetActive(arg_415_1.leftNameGo_, false)

				arg_415_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_415_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_415_1:RecordName(arg_415_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_415_1.iconTrs_.gameObject, false)
				arg_415_1.callingController_:SetSelectedState("normal")

				local var_418_8 = arg_415_1:GetWordFromCfg(411121095)
				local var_418_9 = arg_415_1:FormatText(var_418_8.content)

				arg_415_1.text_.text = var_418_9

				LuaForUtil.ClearLinePrefixSymbol(arg_415_1.text_)

				local var_418_10 = 44
				local var_418_11 = utf8.len(var_418_9)
				local var_418_12 = var_418_10 <= 0 and var_418_7 or var_418_7 * (var_418_11 / var_418_10)

				if var_418_12 > 0 and var_418_7 < var_418_12 then
					arg_415_1.talkMaxDuration = var_418_12

					if var_418_12 + var_418_6 > arg_415_1.duration_ then
						arg_415_1.duration_ = var_418_12 + var_418_6
					end
				end

				arg_415_1.text_.text = var_418_9
				arg_415_1.typewritter.percent = 0

				arg_415_1.typewritter:SetDirty()
				arg_415_1:ShowNextGo(false)
				arg_415_1:RecordContent(arg_415_1.text_.text)
			end

			local var_418_13 = math.max(var_418_7, arg_415_1.talkMaxDuration)

			if var_418_6 <= arg_415_1.time_ and arg_415_1.time_ < var_418_6 + var_418_13 then
				arg_415_1.typewritter.percent = (arg_415_1.time_ - var_418_6) / var_418_13

				arg_415_1.typewritter:SetDirty()
			end

			if arg_415_1.time_ >= var_418_6 + var_418_13 and arg_415_1.time_ < var_418_6 + var_418_13 + arg_418_0 then
				arg_415_1.typewritter.percent = 1

				arg_415_1.typewritter:SetDirty()
				arg_415_1:ShowNextGo(true)
			end
		end
	end,
	Play411121096 = function(arg_419_0, arg_419_1)
		arg_419_1.time_ = 0
		arg_419_1.frameCnt_ = 0
		arg_419_1.state_ = "playing"
		arg_419_1.curTalkId_ = 411121096
		arg_419_1.duration_ = 5

		SetActive(arg_419_1.tipsGo_, false)

		function arg_419_1.onSingleLineFinish_()
			arg_419_1.onSingleLineUpdate_ = nil
			arg_419_1.onSingleLineFinish_ = nil
			arg_419_1.state_ = "waiting"
		end

		function arg_419_1.playNext_(arg_421_0)
			if arg_421_0 == 1 then
				arg_419_0:Play411121097(arg_419_1)
			end
		end

		function arg_419_1.onSingleLineUpdate_(arg_422_0)
			local var_422_0 = 0
			local var_422_1 = 1.425

			if var_422_0 < arg_419_1.time_ and arg_419_1.time_ <= var_422_0 + arg_422_0 then
				arg_419_1.talkMaxDuration = 0
				arg_419_1.dialogCg_.alpha = 1

				arg_419_1.dialog_:SetActive(true)
				SetActive(arg_419_1.leftNameGo_, false)

				arg_419_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_419_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_419_1:RecordName(arg_419_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_419_1.iconTrs_.gameObject, false)
				arg_419_1.callingController_:SetSelectedState("normal")

				local var_422_2 = arg_419_1:GetWordFromCfg(411121096)
				local var_422_3 = arg_419_1:FormatText(var_422_2.content)

				arg_419_1.text_.text = var_422_3

				LuaForUtil.ClearLinePrefixSymbol(arg_419_1.text_)

				local var_422_4 = 57
				local var_422_5 = utf8.len(var_422_3)
				local var_422_6 = var_422_4 <= 0 and var_422_1 or var_422_1 * (var_422_5 / var_422_4)

				if var_422_6 > 0 and var_422_1 < var_422_6 then
					arg_419_1.talkMaxDuration = var_422_6

					if var_422_6 + var_422_0 > arg_419_1.duration_ then
						arg_419_1.duration_ = var_422_6 + var_422_0
					end
				end

				arg_419_1.text_.text = var_422_3
				arg_419_1.typewritter.percent = 0

				arg_419_1.typewritter:SetDirty()
				arg_419_1:ShowNextGo(false)
				arg_419_1:RecordContent(arg_419_1.text_.text)
			end

			local var_422_7 = math.max(var_422_1, arg_419_1.talkMaxDuration)

			if var_422_0 <= arg_419_1.time_ and arg_419_1.time_ < var_422_0 + var_422_7 then
				arg_419_1.typewritter.percent = (arg_419_1.time_ - var_422_0) / var_422_7

				arg_419_1.typewritter:SetDirty()
			end

			if arg_419_1.time_ >= var_422_0 + var_422_7 and arg_419_1.time_ < var_422_0 + var_422_7 + arg_422_0 then
				arg_419_1.typewritter.percent = 1

				arg_419_1.typewritter:SetDirty()
				arg_419_1:ShowNextGo(true)
			end
		end
	end,
	Play411121097 = function(arg_423_0, arg_423_1)
		arg_423_1.time_ = 0
		arg_423_1.frameCnt_ = 0
		arg_423_1.state_ = "playing"
		arg_423_1.curTalkId_ = 411121097
		arg_423_1.duration_ = 5

		SetActive(arg_423_1.tipsGo_, false)

		function arg_423_1.onSingleLineFinish_()
			arg_423_1.onSingleLineUpdate_ = nil
			arg_423_1.onSingleLineFinish_ = nil
			arg_423_1.state_ = "waiting"
		end

		function arg_423_1.playNext_(arg_425_0)
			if arg_425_0 == 1 then
				arg_423_0:Play411121098(arg_423_1)
			end
		end

		function arg_423_1.onSingleLineUpdate_(arg_426_0)
			local var_426_0 = 0
			local var_426_1 = 0.7

			if var_426_0 < arg_423_1.time_ and arg_423_1.time_ <= var_426_0 + arg_426_0 then
				arg_423_1.talkMaxDuration = 0
				arg_423_1.dialogCg_.alpha = 1

				arg_423_1.dialog_:SetActive(true)
				SetActive(arg_423_1.leftNameGo_, false)

				arg_423_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_423_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_423_1:RecordName(arg_423_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_423_1.iconTrs_.gameObject, false)
				arg_423_1.callingController_:SetSelectedState("normal")

				local var_426_2 = arg_423_1:GetWordFromCfg(411121097)
				local var_426_3 = arg_423_1:FormatText(var_426_2.content)

				arg_423_1.text_.text = var_426_3

				LuaForUtil.ClearLinePrefixSymbol(arg_423_1.text_)

				local var_426_4 = 28
				local var_426_5 = utf8.len(var_426_3)
				local var_426_6 = var_426_4 <= 0 and var_426_1 or var_426_1 * (var_426_5 / var_426_4)

				if var_426_6 > 0 and var_426_1 < var_426_6 then
					arg_423_1.talkMaxDuration = var_426_6

					if var_426_6 + var_426_0 > arg_423_1.duration_ then
						arg_423_1.duration_ = var_426_6 + var_426_0
					end
				end

				arg_423_1.text_.text = var_426_3
				arg_423_1.typewritter.percent = 0

				arg_423_1.typewritter:SetDirty()
				arg_423_1:ShowNextGo(false)
				arg_423_1:RecordContent(arg_423_1.text_.text)
			end

			local var_426_7 = math.max(var_426_1, arg_423_1.talkMaxDuration)

			if var_426_0 <= arg_423_1.time_ and arg_423_1.time_ < var_426_0 + var_426_7 then
				arg_423_1.typewritter.percent = (arg_423_1.time_ - var_426_0) / var_426_7

				arg_423_1.typewritter:SetDirty()
			end

			if arg_423_1.time_ >= var_426_0 + var_426_7 and arg_423_1.time_ < var_426_0 + var_426_7 + arg_426_0 then
				arg_423_1.typewritter.percent = 1

				arg_423_1.typewritter:SetDirty()
				arg_423_1:ShowNextGo(true)
			end
		end
	end,
	Play411121098 = function(arg_427_0, arg_427_1)
		arg_427_1.time_ = 0
		arg_427_1.frameCnt_ = 0
		arg_427_1.state_ = "playing"
		arg_427_1.curTalkId_ = 411121098
		arg_427_1.duration_ = 4.77

		local var_427_0 = {
			zh = 4.766,
			ja = 2.433
		}
		local var_427_1 = manager.audio:GetLocalizationFlag()

		if var_427_0[var_427_1] ~= nil then
			arg_427_1.duration_ = var_427_0[var_427_1]
		end

		SetActive(arg_427_1.tipsGo_, false)

		function arg_427_1.onSingleLineFinish_()
			arg_427_1.onSingleLineUpdate_ = nil
			arg_427_1.onSingleLineFinish_ = nil
			arg_427_1.state_ = "waiting"
		end

		function arg_427_1.playNext_(arg_429_0)
			if arg_429_0 == 1 then
				arg_427_0:Play411121099(arg_427_1)
			end
		end

		function arg_427_1.onSingleLineUpdate_(arg_430_0)
			local var_430_0 = arg_427_1.actors_["10071ui_story"].transform
			local var_430_1 = 0

			if var_430_1 < arg_427_1.time_ and arg_427_1.time_ <= var_430_1 + arg_430_0 then
				arg_427_1.var_.moveOldPos10071ui_story = var_430_0.localPosition
			end

			local var_430_2 = 0.001

			if var_430_1 <= arg_427_1.time_ and arg_427_1.time_ < var_430_1 + var_430_2 then
				local var_430_3 = (arg_427_1.time_ - var_430_1) / var_430_2
				local var_430_4 = Vector3.New(0.7, -0.9, -6.26)

				var_430_0.localPosition = Vector3.Lerp(arg_427_1.var_.moveOldPos10071ui_story, var_430_4, var_430_3)

				local var_430_5 = manager.ui.mainCamera.transform.position - var_430_0.position

				var_430_0.forward = Vector3.New(var_430_5.x, var_430_5.y, var_430_5.z)

				local var_430_6 = var_430_0.localEulerAngles

				var_430_6.z = 0
				var_430_6.x = 0
				var_430_0.localEulerAngles = var_430_6
			end

			if arg_427_1.time_ >= var_430_1 + var_430_2 and arg_427_1.time_ < var_430_1 + var_430_2 + arg_430_0 then
				var_430_0.localPosition = Vector3.New(0.7, -0.9, -6.26)

				local var_430_7 = manager.ui.mainCamera.transform.position - var_430_0.position

				var_430_0.forward = Vector3.New(var_430_7.x, var_430_7.y, var_430_7.z)

				local var_430_8 = var_430_0.localEulerAngles

				var_430_8.z = 0
				var_430_8.x = 0
				var_430_0.localEulerAngles = var_430_8
			end

			local var_430_9 = arg_427_1.actors_["10071ui_story"]
			local var_430_10 = 0

			if var_430_10 < arg_427_1.time_ and arg_427_1.time_ <= var_430_10 + arg_430_0 and not isNil(var_430_9) and arg_427_1.var_.characterEffect10071ui_story == nil then
				arg_427_1.var_.characterEffect10071ui_story = var_430_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_430_11 = 0.200000002980232

			if var_430_10 <= arg_427_1.time_ and arg_427_1.time_ < var_430_10 + var_430_11 and not isNil(var_430_9) then
				local var_430_12 = (arg_427_1.time_ - var_430_10) / var_430_11

				if arg_427_1.var_.characterEffect10071ui_story and not isNil(var_430_9) then
					arg_427_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_427_1.time_ >= var_430_10 + var_430_11 and arg_427_1.time_ < var_430_10 + var_430_11 + arg_430_0 and not isNil(var_430_9) and arg_427_1.var_.characterEffect10071ui_story then
				arg_427_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_430_13 = 0

			if var_430_13 < arg_427_1.time_ and arg_427_1.time_ <= var_430_13 + arg_430_0 then
				arg_427_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/story10071/story10071action/10071action3_1")
			end

			local var_430_14 = 0

			if var_430_14 < arg_427_1.time_ and arg_427_1.time_ <= var_430_14 + arg_430_0 then
				arg_427_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_430_15 = arg_427_1.actors_["1095ui_story"].transform
			local var_430_16 = 0

			if var_430_16 < arg_427_1.time_ and arg_427_1.time_ <= var_430_16 + arg_430_0 then
				arg_427_1.var_.moveOldPos1095ui_story = var_430_15.localPosition
			end

			local var_430_17 = 0.001

			if var_430_16 <= arg_427_1.time_ and arg_427_1.time_ < var_430_16 + var_430_17 then
				local var_430_18 = (arg_427_1.time_ - var_430_16) / var_430_17
				local var_430_19 = Vector3.New(-0.7, -0.98, -6.1)

				var_430_15.localPosition = Vector3.Lerp(arg_427_1.var_.moveOldPos1095ui_story, var_430_19, var_430_18)

				local var_430_20 = manager.ui.mainCamera.transform.position - var_430_15.position

				var_430_15.forward = Vector3.New(var_430_20.x, var_430_20.y, var_430_20.z)

				local var_430_21 = var_430_15.localEulerAngles

				var_430_21.z = 0
				var_430_21.x = 0
				var_430_15.localEulerAngles = var_430_21
			end

			if arg_427_1.time_ >= var_430_16 + var_430_17 and arg_427_1.time_ < var_430_16 + var_430_17 + arg_430_0 then
				var_430_15.localPosition = Vector3.New(-0.7, -0.98, -6.1)

				local var_430_22 = manager.ui.mainCamera.transform.position - var_430_15.position

				var_430_15.forward = Vector3.New(var_430_22.x, var_430_22.y, var_430_22.z)

				local var_430_23 = var_430_15.localEulerAngles

				var_430_23.z = 0
				var_430_23.x = 0
				var_430_15.localEulerAngles = var_430_23
			end

			local var_430_24 = 0
			local var_430_25 = 0.325

			if var_430_24 < arg_427_1.time_ and arg_427_1.time_ <= var_430_24 + arg_430_0 then
				arg_427_1.talkMaxDuration = 0
				arg_427_1.dialogCg_.alpha = 1

				arg_427_1.dialog_:SetActive(true)
				SetActive(arg_427_1.leftNameGo_, true)

				local var_430_26 = arg_427_1:FormatText(StoryNameCfg[670].name)

				arg_427_1.leftNameTxt_.text = var_430_26

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_427_1.leftNameTxt_.transform)

				arg_427_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_427_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_427_1:RecordName(arg_427_1.leftNameTxt_.text)
				SetActive(arg_427_1.iconTrs_.gameObject, false)
				arg_427_1.callingController_:SetSelectedState("normal")

				local var_430_27 = arg_427_1:GetWordFromCfg(411121098)
				local var_430_28 = arg_427_1:FormatText(var_430_27.content)

				arg_427_1.text_.text = var_430_28

				LuaForUtil.ClearLinePrefixSymbol(arg_427_1.text_)

				local var_430_29 = 13
				local var_430_30 = utf8.len(var_430_28)
				local var_430_31 = var_430_29 <= 0 and var_430_25 or var_430_25 * (var_430_30 / var_430_29)

				if var_430_31 > 0 and var_430_25 < var_430_31 then
					arg_427_1.talkMaxDuration = var_430_31

					if var_430_31 + var_430_24 > arg_427_1.duration_ then
						arg_427_1.duration_ = var_430_31 + var_430_24
					end
				end

				arg_427_1.text_.text = var_430_28
				arg_427_1.typewritter.percent = 0

				arg_427_1.typewritter:SetDirty()
				arg_427_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121098", "story_v_out_411121.awb") ~= 0 then
					local var_430_32 = manager.audio:GetVoiceLength("story_v_out_411121", "411121098", "story_v_out_411121.awb") / 1000

					if var_430_32 + var_430_24 > arg_427_1.duration_ then
						arg_427_1.duration_ = var_430_32 + var_430_24
					end

					if var_430_27.prefab_name ~= "" and arg_427_1.actors_[var_430_27.prefab_name] ~= nil then
						local var_430_33 = LuaForUtil.PlayVoiceWithCriLipsync(arg_427_1.actors_[var_430_27.prefab_name].transform, "story_v_out_411121", "411121098", "story_v_out_411121.awb")

						arg_427_1:RecordAudio("411121098", var_430_33)
						arg_427_1:RecordAudio("411121098", var_430_33)
					else
						arg_427_1:AudioAction("play", "voice", "story_v_out_411121", "411121098", "story_v_out_411121.awb")
					end

					arg_427_1:RecordHistoryTalkVoice("story_v_out_411121", "411121098", "story_v_out_411121.awb")
				end

				arg_427_1:RecordContent(arg_427_1.text_.text)
			end

			local var_430_34 = math.max(var_430_25, arg_427_1.talkMaxDuration)

			if var_430_24 <= arg_427_1.time_ and arg_427_1.time_ < var_430_24 + var_430_34 then
				arg_427_1.typewritter.percent = (arg_427_1.time_ - var_430_24) / var_430_34

				arg_427_1.typewritter:SetDirty()
			end

			if arg_427_1.time_ >= var_430_24 + var_430_34 and arg_427_1.time_ < var_430_24 + var_430_34 + arg_430_0 then
				arg_427_1.typewritter.percent = 1

				arg_427_1.typewritter:SetDirty()
				arg_427_1:ShowNextGo(true)
			end
		end
	end,
	Play411121099 = function(arg_431_0, arg_431_1)
		arg_431_1.time_ = 0
		arg_431_1.frameCnt_ = 0
		arg_431_1.state_ = "playing"
		arg_431_1.curTalkId_ = 411121099
		arg_431_1.duration_ = 5

		SetActive(arg_431_1.tipsGo_, false)

		function arg_431_1.onSingleLineFinish_()
			arg_431_1.onSingleLineUpdate_ = nil
			arg_431_1.onSingleLineFinish_ = nil
			arg_431_1.state_ = "waiting"
		end

		function arg_431_1.playNext_(arg_433_0)
			if arg_433_0 == 1 then
				arg_431_0:Play411121100(arg_431_1)
			end
		end

		function arg_431_1.onSingleLineUpdate_(arg_434_0)
			local var_434_0 = arg_431_1.actors_["10071ui_story"]
			local var_434_1 = 0

			if var_434_1 < arg_431_1.time_ and arg_431_1.time_ <= var_434_1 + arg_434_0 and not isNil(var_434_0) and arg_431_1.var_.characterEffect10071ui_story == nil then
				arg_431_1.var_.characterEffect10071ui_story = var_434_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_434_2 = 0.200000002980232

			if var_434_1 <= arg_431_1.time_ and arg_431_1.time_ < var_434_1 + var_434_2 and not isNil(var_434_0) then
				local var_434_3 = (arg_431_1.time_ - var_434_1) / var_434_2

				if arg_431_1.var_.characterEffect10071ui_story and not isNil(var_434_0) then
					local var_434_4 = Mathf.Lerp(0, 0.5, var_434_3)

					arg_431_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_431_1.var_.characterEffect10071ui_story.fillRatio = var_434_4
				end
			end

			if arg_431_1.time_ >= var_434_1 + var_434_2 and arg_431_1.time_ < var_434_1 + var_434_2 + arg_434_0 and not isNil(var_434_0) and arg_431_1.var_.characterEffect10071ui_story then
				local var_434_5 = 0.5

				arg_431_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_431_1.var_.characterEffect10071ui_story.fillRatio = var_434_5
			end

			local var_434_6 = 0
			local var_434_7 = 0.6

			if var_434_6 < arg_431_1.time_ and arg_431_1.time_ <= var_434_6 + arg_434_0 then
				arg_431_1.talkMaxDuration = 0
				arg_431_1.dialogCg_.alpha = 1

				arg_431_1.dialog_:SetActive(true)
				SetActive(arg_431_1.leftNameGo_, false)

				arg_431_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_431_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_431_1:RecordName(arg_431_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_431_1.iconTrs_.gameObject, false)
				arg_431_1.callingController_:SetSelectedState("normal")

				local var_434_8 = arg_431_1:GetWordFromCfg(411121099)
				local var_434_9 = arg_431_1:FormatText(var_434_8.content)

				arg_431_1.text_.text = var_434_9

				LuaForUtil.ClearLinePrefixSymbol(arg_431_1.text_)

				local var_434_10 = 24
				local var_434_11 = utf8.len(var_434_9)
				local var_434_12 = var_434_10 <= 0 and var_434_7 or var_434_7 * (var_434_11 / var_434_10)

				if var_434_12 > 0 and var_434_7 < var_434_12 then
					arg_431_1.talkMaxDuration = var_434_12

					if var_434_12 + var_434_6 > arg_431_1.duration_ then
						arg_431_1.duration_ = var_434_12 + var_434_6
					end
				end

				arg_431_1.text_.text = var_434_9
				arg_431_1.typewritter.percent = 0

				arg_431_1.typewritter:SetDirty()
				arg_431_1:ShowNextGo(false)
				arg_431_1:RecordContent(arg_431_1.text_.text)
			end

			local var_434_13 = math.max(var_434_7, arg_431_1.talkMaxDuration)

			if var_434_6 <= arg_431_1.time_ and arg_431_1.time_ < var_434_6 + var_434_13 then
				arg_431_1.typewritter.percent = (arg_431_1.time_ - var_434_6) / var_434_13

				arg_431_1.typewritter:SetDirty()
			end

			if arg_431_1.time_ >= var_434_6 + var_434_13 and arg_431_1.time_ < var_434_6 + var_434_13 + arg_434_0 then
				arg_431_1.typewritter.percent = 1

				arg_431_1.typewritter:SetDirty()
				arg_431_1:ShowNextGo(true)
			end
		end
	end,
	Play411121100 = function(arg_435_0, arg_435_1)
		arg_435_1.time_ = 0
		arg_435_1.frameCnt_ = 0
		arg_435_1.state_ = "playing"
		arg_435_1.curTalkId_ = 411121100
		arg_435_1.duration_ = 9.8

		local var_435_0 = {
			zh = 9.8,
			ja = 8.9
		}
		local var_435_1 = manager.audio:GetLocalizationFlag()

		if var_435_0[var_435_1] ~= nil then
			arg_435_1.duration_ = var_435_0[var_435_1]
		end

		SetActive(arg_435_1.tipsGo_, false)

		function arg_435_1.onSingleLineFinish_()
			arg_435_1.onSingleLineUpdate_ = nil
			arg_435_1.onSingleLineFinish_ = nil
			arg_435_1.state_ = "waiting"
		end

		function arg_435_1.playNext_(arg_437_0)
			if arg_437_0 == 1 then
				arg_435_0:Play411121101(arg_435_1)
			end
		end

		function arg_435_1.onSingleLineUpdate_(arg_438_0)
			local var_438_0 = arg_435_1.actors_["1095ui_story"].transform
			local var_438_1 = 0

			if var_438_1 < arg_435_1.time_ and arg_435_1.time_ <= var_438_1 + arg_438_0 then
				arg_435_1.var_.moveOldPos1095ui_story = var_438_0.localPosition
			end

			local var_438_2 = 0.001

			if var_438_1 <= arg_435_1.time_ and arg_435_1.time_ < var_438_1 + var_438_2 then
				local var_438_3 = (arg_435_1.time_ - var_438_1) / var_438_2
				local var_438_4 = Vector3.New(-0.7, -0.98, -6.1)

				var_438_0.localPosition = Vector3.Lerp(arg_435_1.var_.moveOldPos1095ui_story, var_438_4, var_438_3)

				local var_438_5 = manager.ui.mainCamera.transform.position - var_438_0.position

				var_438_0.forward = Vector3.New(var_438_5.x, var_438_5.y, var_438_5.z)

				local var_438_6 = var_438_0.localEulerAngles

				var_438_6.z = 0
				var_438_6.x = 0
				var_438_0.localEulerAngles = var_438_6
			end

			if arg_435_1.time_ >= var_438_1 + var_438_2 and arg_435_1.time_ < var_438_1 + var_438_2 + arg_438_0 then
				var_438_0.localPosition = Vector3.New(-0.7, -0.98, -6.1)

				local var_438_7 = manager.ui.mainCamera.transform.position - var_438_0.position

				var_438_0.forward = Vector3.New(var_438_7.x, var_438_7.y, var_438_7.z)

				local var_438_8 = var_438_0.localEulerAngles

				var_438_8.z = 0
				var_438_8.x = 0
				var_438_0.localEulerAngles = var_438_8
			end

			local var_438_9 = arg_435_1.actors_["1095ui_story"]
			local var_438_10 = 0

			if var_438_10 < arg_435_1.time_ and arg_435_1.time_ <= var_438_10 + arg_438_0 and not isNil(var_438_9) and arg_435_1.var_.characterEffect1095ui_story == nil then
				arg_435_1.var_.characterEffect1095ui_story = var_438_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_438_11 = 0.200000002980232

			if var_438_10 <= arg_435_1.time_ and arg_435_1.time_ < var_438_10 + var_438_11 and not isNil(var_438_9) then
				local var_438_12 = (arg_435_1.time_ - var_438_10) / var_438_11

				if arg_435_1.var_.characterEffect1095ui_story and not isNil(var_438_9) then
					arg_435_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_435_1.time_ >= var_438_10 + var_438_11 and arg_435_1.time_ < var_438_10 + var_438_11 + arg_438_0 and not isNil(var_438_9) and arg_435_1.var_.characterEffect1095ui_story then
				arg_435_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_438_13 = 0

			if var_438_13 < arg_435_1.time_ and arg_435_1.time_ <= var_438_13 + arg_438_0 then
				arg_435_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_438_14 = 0

			if var_438_14 < arg_435_1.time_ and arg_435_1.time_ <= var_438_14 + arg_438_0 then
				arg_435_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_438_15 = 0
			local var_438_16 = 1.05

			if var_438_15 < arg_435_1.time_ and arg_435_1.time_ <= var_438_15 + arg_438_0 then
				arg_435_1.talkMaxDuration = 0
				arg_435_1.dialogCg_.alpha = 1

				arg_435_1.dialog_:SetActive(true)
				SetActive(arg_435_1.leftNameGo_, true)

				local var_438_17 = arg_435_1:FormatText(StoryNameCfg[471].name)

				arg_435_1.leftNameTxt_.text = var_438_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_435_1.leftNameTxt_.transform)

				arg_435_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_435_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_435_1:RecordName(arg_435_1.leftNameTxt_.text)
				SetActive(arg_435_1.iconTrs_.gameObject, false)
				arg_435_1.callingController_:SetSelectedState("normal")

				local var_438_18 = arg_435_1:GetWordFromCfg(411121100)
				local var_438_19 = arg_435_1:FormatText(var_438_18.content)

				arg_435_1.text_.text = var_438_19

				LuaForUtil.ClearLinePrefixSymbol(arg_435_1.text_)

				local var_438_20 = 42
				local var_438_21 = utf8.len(var_438_19)
				local var_438_22 = var_438_20 <= 0 and var_438_16 or var_438_16 * (var_438_21 / var_438_20)

				if var_438_22 > 0 and var_438_16 < var_438_22 then
					arg_435_1.talkMaxDuration = var_438_22

					if var_438_22 + var_438_15 > arg_435_1.duration_ then
						arg_435_1.duration_ = var_438_22 + var_438_15
					end
				end

				arg_435_1.text_.text = var_438_19
				arg_435_1.typewritter.percent = 0

				arg_435_1.typewritter:SetDirty()
				arg_435_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121100", "story_v_out_411121.awb") ~= 0 then
					local var_438_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121100", "story_v_out_411121.awb") / 1000

					if var_438_23 + var_438_15 > arg_435_1.duration_ then
						arg_435_1.duration_ = var_438_23 + var_438_15
					end

					if var_438_18.prefab_name ~= "" and arg_435_1.actors_[var_438_18.prefab_name] ~= nil then
						local var_438_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_435_1.actors_[var_438_18.prefab_name].transform, "story_v_out_411121", "411121100", "story_v_out_411121.awb")

						arg_435_1:RecordAudio("411121100", var_438_24)
						arg_435_1:RecordAudio("411121100", var_438_24)
					else
						arg_435_1:AudioAction("play", "voice", "story_v_out_411121", "411121100", "story_v_out_411121.awb")
					end

					arg_435_1:RecordHistoryTalkVoice("story_v_out_411121", "411121100", "story_v_out_411121.awb")
				end

				arg_435_1:RecordContent(arg_435_1.text_.text)
			end

			local var_438_25 = math.max(var_438_16, arg_435_1.talkMaxDuration)

			if var_438_15 <= arg_435_1.time_ and arg_435_1.time_ < var_438_15 + var_438_25 then
				arg_435_1.typewritter.percent = (arg_435_1.time_ - var_438_15) / var_438_25

				arg_435_1.typewritter:SetDirty()
			end

			if arg_435_1.time_ >= var_438_15 + var_438_25 and arg_435_1.time_ < var_438_15 + var_438_25 + arg_438_0 then
				arg_435_1.typewritter.percent = 1

				arg_435_1.typewritter:SetDirty()
				arg_435_1:ShowNextGo(true)
			end
		end
	end,
	Play411121101 = function(arg_439_0, arg_439_1)
		arg_439_1.time_ = 0
		arg_439_1.frameCnt_ = 0
		arg_439_1.state_ = "playing"
		arg_439_1.curTalkId_ = 411121101
		arg_439_1.duration_ = 4.43

		local var_439_0 = {
			zh = 4.433,
			ja = 4.1
		}
		local var_439_1 = manager.audio:GetLocalizationFlag()

		if var_439_0[var_439_1] ~= nil then
			arg_439_1.duration_ = var_439_0[var_439_1]
		end

		SetActive(arg_439_1.tipsGo_, false)

		function arg_439_1.onSingleLineFinish_()
			arg_439_1.onSingleLineUpdate_ = nil
			arg_439_1.onSingleLineFinish_ = nil
			arg_439_1.state_ = "waiting"
		end

		function arg_439_1.playNext_(arg_441_0)
			if arg_441_0 == 1 then
				arg_439_0:Play411121102(arg_439_1)
			end
		end

		function arg_439_1.onSingleLineUpdate_(arg_442_0)
			local var_442_0 = 0
			local var_442_1 = 0.6

			if var_442_0 < arg_439_1.time_ and arg_439_1.time_ <= var_442_0 + arg_442_0 then
				arg_439_1.talkMaxDuration = 0
				arg_439_1.dialogCg_.alpha = 1

				arg_439_1.dialog_:SetActive(true)
				SetActive(arg_439_1.leftNameGo_, true)

				local var_442_2 = arg_439_1:FormatText(StoryNameCfg[471].name)

				arg_439_1.leftNameTxt_.text = var_442_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_439_1.leftNameTxt_.transform)

				arg_439_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_439_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_439_1:RecordName(arg_439_1.leftNameTxt_.text)
				SetActive(arg_439_1.iconTrs_.gameObject, false)
				arg_439_1.callingController_:SetSelectedState("normal")

				local var_442_3 = arg_439_1:GetWordFromCfg(411121101)
				local var_442_4 = arg_439_1:FormatText(var_442_3.content)

				arg_439_1.text_.text = var_442_4

				LuaForUtil.ClearLinePrefixSymbol(arg_439_1.text_)

				local var_442_5 = 24
				local var_442_6 = utf8.len(var_442_4)
				local var_442_7 = var_442_5 <= 0 and var_442_1 or var_442_1 * (var_442_6 / var_442_5)

				if var_442_7 > 0 and var_442_1 < var_442_7 then
					arg_439_1.talkMaxDuration = var_442_7

					if var_442_7 + var_442_0 > arg_439_1.duration_ then
						arg_439_1.duration_ = var_442_7 + var_442_0
					end
				end

				arg_439_1.text_.text = var_442_4
				arg_439_1.typewritter.percent = 0

				arg_439_1.typewritter:SetDirty()
				arg_439_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121101", "story_v_out_411121.awb") ~= 0 then
					local var_442_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121101", "story_v_out_411121.awb") / 1000

					if var_442_8 + var_442_0 > arg_439_1.duration_ then
						arg_439_1.duration_ = var_442_8 + var_442_0
					end

					if var_442_3.prefab_name ~= "" and arg_439_1.actors_[var_442_3.prefab_name] ~= nil then
						local var_442_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_439_1.actors_[var_442_3.prefab_name].transform, "story_v_out_411121", "411121101", "story_v_out_411121.awb")

						arg_439_1:RecordAudio("411121101", var_442_9)
						arg_439_1:RecordAudio("411121101", var_442_9)
					else
						arg_439_1:AudioAction("play", "voice", "story_v_out_411121", "411121101", "story_v_out_411121.awb")
					end

					arg_439_1:RecordHistoryTalkVoice("story_v_out_411121", "411121101", "story_v_out_411121.awb")
				end

				arg_439_1:RecordContent(arg_439_1.text_.text)
			end

			local var_442_10 = math.max(var_442_1, arg_439_1.talkMaxDuration)

			if var_442_0 <= arg_439_1.time_ and arg_439_1.time_ < var_442_0 + var_442_10 then
				arg_439_1.typewritter.percent = (arg_439_1.time_ - var_442_0) / var_442_10

				arg_439_1.typewritter:SetDirty()
			end

			if arg_439_1.time_ >= var_442_0 + var_442_10 and arg_439_1.time_ < var_442_0 + var_442_10 + arg_442_0 then
				arg_439_1.typewritter.percent = 1

				arg_439_1.typewritter:SetDirty()
				arg_439_1:ShowNextGo(true)
			end
		end
	end,
	Play411121102 = function(arg_443_0, arg_443_1)
		arg_443_1.time_ = 0
		arg_443_1.frameCnt_ = 0
		arg_443_1.state_ = "playing"
		arg_443_1.curTalkId_ = 411121102
		arg_443_1.duration_ = 6.13

		local var_443_0 = {
			zh = 6.133,
			ja = 4.7
		}
		local var_443_1 = manager.audio:GetLocalizationFlag()

		if var_443_0[var_443_1] ~= nil then
			arg_443_1.duration_ = var_443_0[var_443_1]
		end

		SetActive(arg_443_1.tipsGo_, false)

		function arg_443_1.onSingleLineFinish_()
			arg_443_1.onSingleLineUpdate_ = nil
			arg_443_1.onSingleLineFinish_ = nil
			arg_443_1.state_ = "waiting"
		end

		function arg_443_1.playNext_(arg_445_0)
			if arg_445_0 == 1 then
				arg_443_0:Play411121103(arg_443_1)
			end
		end

		function arg_443_1.onSingleLineUpdate_(arg_446_0)
			local var_446_0 = arg_443_1.actors_["1095ui_story"].transform
			local var_446_1 = 0

			if var_446_1 < arg_443_1.time_ and arg_443_1.time_ <= var_446_1 + arg_446_0 then
				arg_443_1.var_.moveOldPos1095ui_story = var_446_0.localPosition
			end

			local var_446_2 = 0.001

			if var_446_1 <= arg_443_1.time_ and arg_443_1.time_ < var_446_1 + var_446_2 then
				local var_446_3 = (arg_443_1.time_ - var_446_1) / var_446_2
				local var_446_4 = Vector3.New(-0.7, -0.98, -6.1)

				var_446_0.localPosition = Vector3.Lerp(arg_443_1.var_.moveOldPos1095ui_story, var_446_4, var_446_3)

				local var_446_5 = manager.ui.mainCamera.transform.position - var_446_0.position

				var_446_0.forward = Vector3.New(var_446_5.x, var_446_5.y, var_446_5.z)

				local var_446_6 = var_446_0.localEulerAngles

				var_446_6.z = 0
				var_446_6.x = 0
				var_446_0.localEulerAngles = var_446_6
			end

			if arg_443_1.time_ >= var_446_1 + var_446_2 and arg_443_1.time_ < var_446_1 + var_446_2 + arg_446_0 then
				var_446_0.localPosition = Vector3.New(-0.7, -0.98, -6.1)

				local var_446_7 = manager.ui.mainCamera.transform.position - var_446_0.position

				var_446_0.forward = Vector3.New(var_446_7.x, var_446_7.y, var_446_7.z)

				local var_446_8 = var_446_0.localEulerAngles

				var_446_8.z = 0
				var_446_8.x = 0
				var_446_0.localEulerAngles = var_446_8
			end

			local var_446_9 = arg_443_1.actors_["1095ui_story"]
			local var_446_10 = 0

			if var_446_10 < arg_443_1.time_ and arg_443_1.time_ <= var_446_10 + arg_446_0 and not isNil(var_446_9) and arg_443_1.var_.characterEffect1095ui_story == nil then
				arg_443_1.var_.characterEffect1095ui_story = var_446_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_446_11 = 0.200000002980232

			if var_446_10 <= arg_443_1.time_ and arg_443_1.time_ < var_446_10 + var_446_11 and not isNil(var_446_9) then
				local var_446_12 = (arg_443_1.time_ - var_446_10) / var_446_11

				if arg_443_1.var_.characterEffect1095ui_story and not isNil(var_446_9) then
					arg_443_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_443_1.time_ >= var_446_10 + var_446_11 and arg_443_1.time_ < var_446_10 + var_446_11 + arg_446_0 and not isNil(var_446_9) and arg_443_1.var_.characterEffect1095ui_story then
				arg_443_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_446_13 = 0

			if var_446_13 < arg_443_1.time_ and arg_443_1.time_ <= var_446_13 + arg_446_0 then
				arg_443_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action2_1")
			end

			local var_446_14 = 0

			if var_446_14 < arg_443_1.time_ and arg_443_1.time_ <= var_446_14 + arg_446_0 then
				arg_443_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_446_15 = 0
			local var_446_16 = 0.55

			if var_446_15 < arg_443_1.time_ and arg_443_1.time_ <= var_446_15 + arg_446_0 then
				arg_443_1.talkMaxDuration = 0
				arg_443_1.dialogCg_.alpha = 1

				arg_443_1.dialog_:SetActive(true)
				SetActive(arg_443_1.leftNameGo_, true)

				local var_446_17 = arg_443_1:FormatText(StoryNameCfg[471].name)

				arg_443_1.leftNameTxt_.text = var_446_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_443_1.leftNameTxt_.transform)

				arg_443_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_443_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_443_1:RecordName(arg_443_1.leftNameTxt_.text)
				SetActive(arg_443_1.iconTrs_.gameObject, false)
				arg_443_1.callingController_:SetSelectedState("normal")

				local var_446_18 = arg_443_1:GetWordFromCfg(411121102)
				local var_446_19 = arg_443_1:FormatText(var_446_18.content)

				arg_443_1.text_.text = var_446_19

				LuaForUtil.ClearLinePrefixSymbol(arg_443_1.text_)

				local var_446_20 = 22
				local var_446_21 = utf8.len(var_446_19)
				local var_446_22 = var_446_20 <= 0 and var_446_16 or var_446_16 * (var_446_21 / var_446_20)

				if var_446_22 > 0 and var_446_16 < var_446_22 then
					arg_443_1.talkMaxDuration = var_446_22

					if var_446_22 + var_446_15 > arg_443_1.duration_ then
						arg_443_1.duration_ = var_446_22 + var_446_15
					end
				end

				arg_443_1.text_.text = var_446_19
				arg_443_1.typewritter.percent = 0

				arg_443_1.typewritter:SetDirty()
				arg_443_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121102", "story_v_out_411121.awb") ~= 0 then
					local var_446_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121102", "story_v_out_411121.awb") / 1000

					if var_446_23 + var_446_15 > arg_443_1.duration_ then
						arg_443_1.duration_ = var_446_23 + var_446_15
					end

					if var_446_18.prefab_name ~= "" and arg_443_1.actors_[var_446_18.prefab_name] ~= nil then
						local var_446_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_443_1.actors_[var_446_18.prefab_name].transform, "story_v_out_411121", "411121102", "story_v_out_411121.awb")

						arg_443_1:RecordAudio("411121102", var_446_24)
						arg_443_1:RecordAudio("411121102", var_446_24)
					else
						arg_443_1:AudioAction("play", "voice", "story_v_out_411121", "411121102", "story_v_out_411121.awb")
					end

					arg_443_1:RecordHistoryTalkVoice("story_v_out_411121", "411121102", "story_v_out_411121.awb")
				end

				arg_443_1:RecordContent(arg_443_1.text_.text)
			end

			local var_446_25 = math.max(var_446_16, arg_443_1.talkMaxDuration)

			if var_446_15 <= arg_443_1.time_ and arg_443_1.time_ < var_446_15 + var_446_25 then
				arg_443_1.typewritter.percent = (arg_443_1.time_ - var_446_15) / var_446_25

				arg_443_1.typewritter:SetDirty()
			end

			if arg_443_1.time_ >= var_446_15 + var_446_25 and arg_443_1.time_ < var_446_15 + var_446_25 + arg_446_0 then
				arg_443_1.typewritter.percent = 1

				arg_443_1.typewritter:SetDirty()
				arg_443_1:ShowNextGo(true)
			end
		end
	end,
	Play411121103 = function(arg_447_0, arg_447_1)
		arg_447_1.time_ = 0
		arg_447_1.frameCnt_ = 0
		arg_447_1.state_ = "playing"
		arg_447_1.curTalkId_ = 411121103
		arg_447_1.duration_ = 4.07

		local var_447_0 = {
			zh = 3.666,
			ja = 4.066
		}
		local var_447_1 = manager.audio:GetLocalizationFlag()

		if var_447_0[var_447_1] ~= nil then
			arg_447_1.duration_ = var_447_0[var_447_1]
		end

		SetActive(arg_447_1.tipsGo_, false)

		function arg_447_1.onSingleLineFinish_()
			arg_447_1.onSingleLineUpdate_ = nil
			arg_447_1.onSingleLineFinish_ = nil
			arg_447_1.state_ = "waiting"
		end

		function arg_447_1.playNext_(arg_449_0)
			if arg_449_0 == 1 then
				arg_447_0:Play411121104(arg_447_1)
			end
		end

		function arg_447_1.onSingleLineUpdate_(arg_450_0)
			local var_450_0 = 0
			local var_450_1 = 0.325

			if var_450_0 < arg_447_1.time_ and arg_447_1.time_ <= var_450_0 + arg_450_0 then
				arg_447_1.talkMaxDuration = 0
				arg_447_1.dialogCg_.alpha = 1

				arg_447_1.dialog_:SetActive(true)
				SetActive(arg_447_1.leftNameGo_, true)

				local var_450_2 = arg_447_1:FormatText(StoryNameCfg[471].name)

				arg_447_1.leftNameTxt_.text = var_450_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_447_1.leftNameTxt_.transform)

				arg_447_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_447_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_447_1:RecordName(arg_447_1.leftNameTxt_.text)
				SetActive(arg_447_1.iconTrs_.gameObject, false)
				arg_447_1.callingController_:SetSelectedState("normal")

				local var_450_3 = arg_447_1:GetWordFromCfg(411121103)
				local var_450_4 = arg_447_1:FormatText(var_450_3.content)

				arg_447_1.text_.text = var_450_4

				LuaForUtil.ClearLinePrefixSymbol(arg_447_1.text_)

				local var_450_5 = 13
				local var_450_6 = utf8.len(var_450_4)
				local var_450_7 = var_450_5 <= 0 and var_450_1 or var_450_1 * (var_450_6 / var_450_5)

				if var_450_7 > 0 and var_450_1 < var_450_7 then
					arg_447_1.talkMaxDuration = var_450_7

					if var_450_7 + var_450_0 > arg_447_1.duration_ then
						arg_447_1.duration_ = var_450_7 + var_450_0
					end
				end

				arg_447_1.text_.text = var_450_4
				arg_447_1.typewritter.percent = 0

				arg_447_1.typewritter:SetDirty()
				arg_447_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121103", "story_v_out_411121.awb") ~= 0 then
					local var_450_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121103", "story_v_out_411121.awb") / 1000

					if var_450_8 + var_450_0 > arg_447_1.duration_ then
						arg_447_1.duration_ = var_450_8 + var_450_0
					end

					if var_450_3.prefab_name ~= "" and arg_447_1.actors_[var_450_3.prefab_name] ~= nil then
						local var_450_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_447_1.actors_[var_450_3.prefab_name].transform, "story_v_out_411121", "411121103", "story_v_out_411121.awb")

						arg_447_1:RecordAudio("411121103", var_450_9)
						arg_447_1:RecordAudio("411121103", var_450_9)
					else
						arg_447_1:AudioAction("play", "voice", "story_v_out_411121", "411121103", "story_v_out_411121.awb")
					end

					arg_447_1:RecordHistoryTalkVoice("story_v_out_411121", "411121103", "story_v_out_411121.awb")
				end

				arg_447_1:RecordContent(arg_447_1.text_.text)
			end

			local var_450_10 = math.max(var_450_1, arg_447_1.talkMaxDuration)

			if var_450_0 <= arg_447_1.time_ and arg_447_1.time_ < var_450_0 + var_450_10 then
				arg_447_1.typewritter.percent = (arg_447_1.time_ - var_450_0) / var_450_10

				arg_447_1.typewritter:SetDirty()
			end

			if arg_447_1.time_ >= var_450_0 + var_450_10 and arg_447_1.time_ < var_450_0 + var_450_10 + arg_450_0 then
				arg_447_1.typewritter.percent = 1

				arg_447_1.typewritter:SetDirty()
				arg_447_1:ShowNextGo(true)
			end
		end
	end,
	Play411121104 = function(arg_451_0, arg_451_1)
		arg_451_1.time_ = 0
		arg_451_1.frameCnt_ = 0
		arg_451_1.state_ = "playing"
		arg_451_1.curTalkId_ = 411121104
		arg_451_1.duration_ = 11.33

		local var_451_0 = {
			zh = 9.4,
			ja = 11.333
		}
		local var_451_1 = manager.audio:GetLocalizationFlag()

		if var_451_0[var_451_1] ~= nil then
			arg_451_1.duration_ = var_451_0[var_451_1]
		end

		SetActive(arg_451_1.tipsGo_, false)

		function arg_451_1.onSingleLineFinish_()
			arg_451_1.onSingleLineUpdate_ = nil
			arg_451_1.onSingleLineFinish_ = nil
			arg_451_1.state_ = "waiting"
		end

		function arg_451_1.playNext_(arg_453_0)
			if arg_453_0 == 1 then
				arg_451_0:Play411121105(arg_451_1)
			end
		end

		function arg_451_1.onSingleLineUpdate_(arg_454_0)
			local var_454_0 = arg_451_1.actors_["10071ui_story"].transform
			local var_454_1 = 0

			if var_454_1 < arg_451_1.time_ and arg_451_1.time_ <= var_454_1 + arg_454_0 then
				arg_451_1.var_.moveOldPos10071ui_story = var_454_0.localPosition
			end

			local var_454_2 = 0.001

			if var_454_1 <= arg_451_1.time_ and arg_451_1.time_ < var_454_1 + var_454_2 then
				local var_454_3 = (arg_451_1.time_ - var_454_1) / var_454_2
				local var_454_4 = Vector3.New(0.7, -0.9, -6.26)

				var_454_0.localPosition = Vector3.Lerp(arg_451_1.var_.moveOldPos10071ui_story, var_454_4, var_454_3)

				local var_454_5 = manager.ui.mainCamera.transform.position - var_454_0.position

				var_454_0.forward = Vector3.New(var_454_5.x, var_454_5.y, var_454_5.z)

				local var_454_6 = var_454_0.localEulerAngles

				var_454_6.z = 0
				var_454_6.x = 0
				var_454_0.localEulerAngles = var_454_6
			end

			if arg_451_1.time_ >= var_454_1 + var_454_2 and arg_451_1.time_ < var_454_1 + var_454_2 + arg_454_0 then
				var_454_0.localPosition = Vector3.New(0.7, -0.9, -6.26)

				local var_454_7 = manager.ui.mainCamera.transform.position - var_454_0.position

				var_454_0.forward = Vector3.New(var_454_7.x, var_454_7.y, var_454_7.z)

				local var_454_8 = var_454_0.localEulerAngles

				var_454_8.z = 0
				var_454_8.x = 0
				var_454_0.localEulerAngles = var_454_8
			end

			local var_454_9 = arg_451_1.actors_["10071ui_story"]
			local var_454_10 = 0

			if var_454_10 < arg_451_1.time_ and arg_451_1.time_ <= var_454_10 + arg_454_0 and not isNil(var_454_9) and arg_451_1.var_.characterEffect10071ui_story == nil then
				arg_451_1.var_.characterEffect10071ui_story = var_454_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_454_11 = 0.200000002980232

			if var_454_10 <= arg_451_1.time_ and arg_451_1.time_ < var_454_10 + var_454_11 and not isNil(var_454_9) then
				local var_454_12 = (arg_451_1.time_ - var_454_10) / var_454_11

				if arg_451_1.var_.characterEffect10071ui_story and not isNil(var_454_9) then
					arg_451_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_451_1.time_ >= var_454_10 + var_454_11 and arg_451_1.time_ < var_454_10 + var_454_11 + arg_454_0 and not isNil(var_454_9) and arg_451_1.var_.characterEffect10071ui_story then
				arg_451_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_454_13 = arg_451_1.actors_["1095ui_story"]
			local var_454_14 = 0

			if var_454_14 < arg_451_1.time_ and arg_451_1.time_ <= var_454_14 + arg_454_0 and not isNil(var_454_13) and arg_451_1.var_.characterEffect1095ui_story == nil then
				arg_451_1.var_.characterEffect1095ui_story = var_454_13:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_454_15 = 0.200000002980232

			if var_454_14 <= arg_451_1.time_ and arg_451_1.time_ < var_454_14 + var_454_15 and not isNil(var_454_13) then
				local var_454_16 = (arg_451_1.time_ - var_454_14) / var_454_15

				if arg_451_1.var_.characterEffect1095ui_story and not isNil(var_454_13) then
					local var_454_17 = Mathf.Lerp(0, 0.5, var_454_16)

					arg_451_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_451_1.var_.characterEffect1095ui_story.fillRatio = var_454_17
				end
			end

			if arg_451_1.time_ >= var_454_14 + var_454_15 and arg_451_1.time_ < var_454_14 + var_454_15 + arg_454_0 and not isNil(var_454_13) and arg_451_1.var_.characterEffect1095ui_story then
				local var_454_18 = 0.5

				arg_451_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_451_1.var_.characterEffect1095ui_story.fillRatio = var_454_18
			end

			local var_454_19 = 0
			local var_454_20 = 0.9

			if var_454_19 < arg_451_1.time_ and arg_451_1.time_ <= var_454_19 + arg_454_0 then
				arg_451_1.talkMaxDuration = 0
				arg_451_1.dialogCg_.alpha = 1

				arg_451_1.dialog_:SetActive(true)
				SetActive(arg_451_1.leftNameGo_, true)

				local var_454_21 = arg_451_1:FormatText(StoryNameCfg[670].name)

				arg_451_1.leftNameTxt_.text = var_454_21

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_451_1.leftNameTxt_.transform)

				arg_451_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_451_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_451_1:RecordName(arg_451_1.leftNameTxt_.text)
				SetActive(arg_451_1.iconTrs_.gameObject, false)
				arg_451_1.callingController_:SetSelectedState("normal")

				local var_454_22 = arg_451_1:GetWordFromCfg(411121104)
				local var_454_23 = arg_451_1:FormatText(var_454_22.content)

				arg_451_1.text_.text = var_454_23

				LuaForUtil.ClearLinePrefixSymbol(arg_451_1.text_)

				local var_454_24 = 36
				local var_454_25 = utf8.len(var_454_23)
				local var_454_26 = var_454_24 <= 0 and var_454_20 or var_454_20 * (var_454_25 / var_454_24)

				if var_454_26 > 0 and var_454_20 < var_454_26 then
					arg_451_1.talkMaxDuration = var_454_26

					if var_454_26 + var_454_19 > arg_451_1.duration_ then
						arg_451_1.duration_ = var_454_26 + var_454_19
					end
				end

				arg_451_1.text_.text = var_454_23
				arg_451_1.typewritter.percent = 0

				arg_451_1.typewritter:SetDirty()
				arg_451_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121104", "story_v_out_411121.awb") ~= 0 then
					local var_454_27 = manager.audio:GetVoiceLength("story_v_out_411121", "411121104", "story_v_out_411121.awb") / 1000

					if var_454_27 + var_454_19 > arg_451_1.duration_ then
						arg_451_1.duration_ = var_454_27 + var_454_19
					end

					if var_454_22.prefab_name ~= "" and arg_451_1.actors_[var_454_22.prefab_name] ~= nil then
						local var_454_28 = LuaForUtil.PlayVoiceWithCriLipsync(arg_451_1.actors_[var_454_22.prefab_name].transform, "story_v_out_411121", "411121104", "story_v_out_411121.awb")

						arg_451_1:RecordAudio("411121104", var_454_28)
						arg_451_1:RecordAudio("411121104", var_454_28)
					else
						arg_451_1:AudioAction("play", "voice", "story_v_out_411121", "411121104", "story_v_out_411121.awb")
					end

					arg_451_1:RecordHistoryTalkVoice("story_v_out_411121", "411121104", "story_v_out_411121.awb")
				end

				arg_451_1:RecordContent(arg_451_1.text_.text)
			end

			local var_454_29 = math.max(var_454_20, arg_451_1.talkMaxDuration)

			if var_454_19 <= arg_451_1.time_ and arg_451_1.time_ < var_454_19 + var_454_29 then
				arg_451_1.typewritter.percent = (arg_451_1.time_ - var_454_19) / var_454_29

				arg_451_1.typewritter:SetDirty()
			end

			if arg_451_1.time_ >= var_454_19 + var_454_29 and arg_451_1.time_ < var_454_19 + var_454_29 + arg_454_0 then
				arg_451_1.typewritter.percent = 1

				arg_451_1.typewritter:SetDirty()
				arg_451_1:ShowNextGo(true)
			end
		end
	end,
	Play411121105 = function(arg_455_0, arg_455_1)
		arg_455_1.time_ = 0
		arg_455_1.frameCnt_ = 0
		arg_455_1.state_ = "playing"
		arg_455_1.curTalkId_ = 411121105
		arg_455_1.duration_ = 10

		local var_455_0 = {
			zh = 10,
			ja = 8.233
		}
		local var_455_1 = manager.audio:GetLocalizationFlag()

		if var_455_0[var_455_1] ~= nil then
			arg_455_1.duration_ = var_455_0[var_455_1]
		end

		SetActive(arg_455_1.tipsGo_, false)

		function arg_455_1.onSingleLineFinish_()
			arg_455_1.onSingleLineUpdate_ = nil
			arg_455_1.onSingleLineFinish_ = nil
			arg_455_1.state_ = "waiting"
		end

		function arg_455_1.playNext_(arg_457_0)
			if arg_457_0 == 1 then
				arg_455_0:Play411121106(arg_455_1)
			end
		end

		function arg_455_1.onSingleLineUpdate_(arg_458_0)
			local var_458_0 = 0
			local var_458_1 = 0.975

			if var_458_0 < arg_455_1.time_ and arg_455_1.time_ <= var_458_0 + arg_458_0 then
				arg_455_1.talkMaxDuration = 0
				arg_455_1.dialogCg_.alpha = 1

				arg_455_1.dialog_:SetActive(true)
				SetActive(arg_455_1.leftNameGo_, true)

				local var_458_2 = arg_455_1:FormatText(StoryNameCfg[670].name)

				arg_455_1.leftNameTxt_.text = var_458_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_455_1.leftNameTxt_.transform)

				arg_455_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_455_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_455_1:RecordName(arg_455_1.leftNameTxt_.text)
				SetActive(arg_455_1.iconTrs_.gameObject, false)
				arg_455_1.callingController_:SetSelectedState("normal")

				local var_458_3 = arg_455_1:GetWordFromCfg(411121105)
				local var_458_4 = arg_455_1:FormatText(var_458_3.content)

				arg_455_1.text_.text = var_458_4

				LuaForUtil.ClearLinePrefixSymbol(arg_455_1.text_)

				local var_458_5 = 39
				local var_458_6 = utf8.len(var_458_4)
				local var_458_7 = var_458_5 <= 0 and var_458_1 or var_458_1 * (var_458_6 / var_458_5)

				if var_458_7 > 0 and var_458_1 < var_458_7 then
					arg_455_1.talkMaxDuration = var_458_7

					if var_458_7 + var_458_0 > arg_455_1.duration_ then
						arg_455_1.duration_ = var_458_7 + var_458_0
					end
				end

				arg_455_1.text_.text = var_458_4
				arg_455_1.typewritter.percent = 0

				arg_455_1.typewritter:SetDirty()
				arg_455_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121105", "story_v_out_411121.awb") ~= 0 then
					local var_458_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121105", "story_v_out_411121.awb") / 1000

					if var_458_8 + var_458_0 > arg_455_1.duration_ then
						arg_455_1.duration_ = var_458_8 + var_458_0
					end

					if var_458_3.prefab_name ~= "" and arg_455_1.actors_[var_458_3.prefab_name] ~= nil then
						local var_458_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_455_1.actors_[var_458_3.prefab_name].transform, "story_v_out_411121", "411121105", "story_v_out_411121.awb")

						arg_455_1:RecordAudio("411121105", var_458_9)
						arg_455_1:RecordAudio("411121105", var_458_9)
					else
						arg_455_1:AudioAction("play", "voice", "story_v_out_411121", "411121105", "story_v_out_411121.awb")
					end

					arg_455_1:RecordHistoryTalkVoice("story_v_out_411121", "411121105", "story_v_out_411121.awb")
				end

				arg_455_1:RecordContent(arg_455_1.text_.text)
			end

			local var_458_10 = math.max(var_458_1, arg_455_1.talkMaxDuration)

			if var_458_0 <= arg_455_1.time_ and arg_455_1.time_ < var_458_0 + var_458_10 then
				arg_455_1.typewritter.percent = (arg_455_1.time_ - var_458_0) / var_458_10

				arg_455_1.typewritter:SetDirty()
			end

			if arg_455_1.time_ >= var_458_0 + var_458_10 and arg_455_1.time_ < var_458_0 + var_458_10 + arg_458_0 then
				arg_455_1.typewritter.percent = 1

				arg_455_1.typewritter:SetDirty()
				arg_455_1:ShowNextGo(true)
			end
		end
	end,
	Play411121106 = function(arg_459_0, arg_459_1)
		arg_459_1.time_ = 0
		arg_459_1.frameCnt_ = 0
		arg_459_1.state_ = "playing"
		arg_459_1.curTalkId_ = 411121106
		arg_459_1.duration_ = 6.17

		local var_459_0 = {
			zh = 4.066,
			ja = 6.166
		}
		local var_459_1 = manager.audio:GetLocalizationFlag()

		if var_459_0[var_459_1] ~= nil then
			arg_459_1.duration_ = var_459_0[var_459_1]
		end

		SetActive(arg_459_1.tipsGo_, false)

		function arg_459_1.onSingleLineFinish_()
			arg_459_1.onSingleLineUpdate_ = nil
			arg_459_1.onSingleLineFinish_ = nil
			arg_459_1.state_ = "waiting"
		end

		function arg_459_1.playNext_(arg_461_0)
			if arg_461_0 == 1 then
				arg_459_0:Play411121107(arg_459_1)
			end
		end

		function arg_459_1.onSingleLineUpdate_(arg_462_0)
			local var_462_0 = arg_459_1.actors_["10071ui_story"].transform
			local var_462_1 = 0

			if var_462_1 < arg_459_1.time_ and arg_459_1.time_ <= var_462_1 + arg_462_0 then
				arg_459_1.var_.moveOldPos10071ui_story = var_462_0.localPosition
			end

			local var_462_2 = 0.001

			if var_462_1 <= arg_459_1.time_ and arg_459_1.time_ < var_462_1 + var_462_2 then
				local var_462_3 = (arg_459_1.time_ - var_462_1) / var_462_2
				local var_462_4 = Vector3.New(0.7, -0.9, -6.26)

				var_462_0.localPosition = Vector3.Lerp(arg_459_1.var_.moveOldPos10071ui_story, var_462_4, var_462_3)

				local var_462_5 = manager.ui.mainCamera.transform.position - var_462_0.position

				var_462_0.forward = Vector3.New(var_462_5.x, var_462_5.y, var_462_5.z)

				local var_462_6 = var_462_0.localEulerAngles

				var_462_6.z = 0
				var_462_6.x = 0
				var_462_0.localEulerAngles = var_462_6
			end

			if arg_459_1.time_ >= var_462_1 + var_462_2 and arg_459_1.time_ < var_462_1 + var_462_2 + arg_462_0 then
				var_462_0.localPosition = Vector3.New(0.7, -0.9, -6.26)

				local var_462_7 = manager.ui.mainCamera.transform.position - var_462_0.position

				var_462_0.forward = Vector3.New(var_462_7.x, var_462_7.y, var_462_7.z)

				local var_462_8 = var_462_0.localEulerAngles

				var_462_8.z = 0
				var_462_8.x = 0
				var_462_0.localEulerAngles = var_462_8
			end

			local var_462_9 = arg_459_1.actors_["10071ui_story"]
			local var_462_10 = 0

			if var_462_10 < arg_459_1.time_ and arg_459_1.time_ <= var_462_10 + arg_462_0 and not isNil(var_462_9) and arg_459_1.var_.characterEffect10071ui_story == nil then
				arg_459_1.var_.characterEffect10071ui_story = var_462_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_462_11 = 0.200000002980232

			if var_462_10 <= arg_459_1.time_ and arg_459_1.time_ < var_462_10 + var_462_11 and not isNil(var_462_9) then
				local var_462_12 = (arg_459_1.time_ - var_462_10) / var_462_11

				if arg_459_1.var_.characterEffect10071ui_story and not isNil(var_462_9) then
					arg_459_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_459_1.time_ >= var_462_10 + var_462_11 and arg_459_1.time_ < var_462_10 + var_462_11 + arg_462_0 and not isNil(var_462_9) and arg_459_1.var_.characterEffect10071ui_story then
				arg_459_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_462_13 = 0

			if var_462_13 < arg_459_1.time_ and arg_459_1.time_ <= var_462_13 + arg_462_0 then
				arg_459_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/story10071/story10071actionlink/10071action434")
			end

			local var_462_14 = 0

			if var_462_14 < arg_459_1.time_ and arg_459_1.time_ <= var_462_14 + arg_462_0 then
				arg_459_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_462_15 = 0
			local var_462_16 = 0.45

			if var_462_15 < arg_459_1.time_ and arg_459_1.time_ <= var_462_15 + arg_462_0 then
				arg_459_1.talkMaxDuration = 0
				arg_459_1.dialogCg_.alpha = 1

				arg_459_1.dialog_:SetActive(true)
				SetActive(arg_459_1.leftNameGo_, true)

				local var_462_17 = arg_459_1:FormatText(StoryNameCfg[670].name)

				arg_459_1.leftNameTxt_.text = var_462_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_459_1.leftNameTxt_.transform)

				arg_459_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_459_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_459_1:RecordName(arg_459_1.leftNameTxt_.text)
				SetActive(arg_459_1.iconTrs_.gameObject, false)
				arg_459_1.callingController_:SetSelectedState("normal")

				local var_462_18 = arg_459_1:GetWordFromCfg(411121106)
				local var_462_19 = arg_459_1:FormatText(var_462_18.content)

				arg_459_1.text_.text = var_462_19

				LuaForUtil.ClearLinePrefixSymbol(arg_459_1.text_)

				local var_462_20 = 18
				local var_462_21 = utf8.len(var_462_19)
				local var_462_22 = var_462_20 <= 0 and var_462_16 or var_462_16 * (var_462_21 / var_462_20)

				if var_462_22 > 0 and var_462_16 < var_462_22 then
					arg_459_1.talkMaxDuration = var_462_22

					if var_462_22 + var_462_15 > arg_459_1.duration_ then
						arg_459_1.duration_ = var_462_22 + var_462_15
					end
				end

				arg_459_1.text_.text = var_462_19
				arg_459_1.typewritter.percent = 0

				arg_459_1.typewritter:SetDirty()
				arg_459_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121106", "story_v_out_411121.awb") ~= 0 then
					local var_462_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121106", "story_v_out_411121.awb") / 1000

					if var_462_23 + var_462_15 > arg_459_1.duration_ then
						arg_459_1.duration_ = var_462_23 + var_462_15
					end

					if var_462_18.prefab_name ~= "" and arg_459_1.actors_[var_462_18.prefab_name] ~= nil then
						local var_462_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_459_1.actors_[var_462_18.prefab_name].transform, "story_v_out_411121", "411121106", "story_v_out_411121.awb")

						arg_459_1:RecordAudio("411121106", var_462_24)
						arg_459_1:RecordAudio("411121106", var_462_24)
					else
						arg_459_1:AudioAction("play", "voice", "story_v_out_411121", "411121106", "story_v_out_411121.awb")
					end

					arg_459_1:RecordHistoryTalkVoice("story_v_out_411121", "411121106", "story_v_out_411121.awb")
				end

				arg_459_1:RecordContent(arg_459_1.text_.text)
			end

			local var_462_25 = math.max(var_462_16, arg_459_1.talkMaxDuration)

			if var_462_15 <= arg_459_1.time_ and arg_459_1.time_ < var_462_15 + var_462_25 then
				arg_459_1.typewritter.percent = (arg_459_1.time_ - var_462_15) / var_462_25

				arg_459_1.typewritter:SetDirty()
			end

			if arg_459_1.time_ >= var_462_15 + var_462_25 and arg_459_1.time_ < var_462_15 + var_462_25 + arg_462_0 then
				arg_459_1.typewritter.percent = 1

				arg_459_1.typewritter:SetDirty()
				arg_459_1:ShowNextGo(true)
			end
		end
	end,
	Play411121107 = function(arg_463_0, arg_463_1)
		arg_463_1.time_ = 0
		arg_463_1.frameCnt_ = 0
		arg_463_1.state_ = "playing"
		arg_463_1.curTalkId_ = 411121107
		arg_463_1.duration_ = 5.7

		local var_463_0 = {
			zh = 3.766,
			ja = 5.7
		}
		local var_463_1 = manager.audio:GetLocalizationFlag()

		if var_463_0[var_463_1] ~= nil then
			arg_463_1.duration_ = var_463_0[var_463_1]
		end

		SetActive(arg_463_1.tipsGo_, false)

		function arg_463_1.onSingleLineFinish_()
			arg_463_1.onSingleLineUpdate_ = nil
			arg_463_1.onSingleLineFinish_ = nil
			arg_463_1.state_ = "waiting"
		end

		function arg_463_1.playNext_(arg_465_0)
			if arg_465_0 == 1 then
				arg_463_0:Play411121108(arg_463_1)
			end
		end

		function arg_463_1.onSingleLineUpdate_(arg_466_0)
			local var_466_0 = 0
			local var_466_1 = 0.3

			if var_466_0 < arg_463_1.time_ and arg_463_1.time_ <= var_466_0 + arg_466_0 then
				arg_463_1.talkMaxDuration = 0
				arg_463_1.dialogCg_.alpha = 1

				arg_463_1.dialog_:SetActive(true)
				SetActive(arg_463_1.leftNameGo_, true)

				local var_466_2 = arg_463_1:FormatText(StoryNameCfg[670].name)

				arg_463_1.leftNameTxt_.text = var_466_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_463_1.leftNameTxt_.transform)

				arg_463_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_463_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_463_1:RecordName(arg_463_1.leftNameTxt_.text)
				SetActive(arg_463_1.iconTrs_.gameObject, false)
				arg_463_1.callingController_:SetSelectedState("normal")

				local var_466_3 = arg_463_1:GetWordFromCfg(411121107)
				local var_466_4 = arg_463_1:FormatText(var_466_3.content)

				arg_463_1.text_.text = var_466_4

				LuaForUtil.ClearLinePrefixSymbol(arg_463_1.text_)

				local var_466_5 = 12
				local var_466_6 = utf8.len(var_466_4)
				local var_466_7 = var_466_5 <= 0 and var_466_1 or var_466_1 * (var_466_6 / var_466_5)

				if var_466_7 > 0 and var_466_1 < var_466_7 then
					arg_463_1.talkMaxDuration = var_466_7

					if var_466_7 + var_466_0 > arg_463_1.duration_ then
						arg_463_1.duration_ = var_466_7 + var_466_0
					end
				end

				arg_463_1.text_.text = var_466_4
				arg_463_1.typewritter.percent = 0

				arg_463_1.typewritter:SetDirty()
				arg_463_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121107", "story_v_out_411121.awb") ~= 0 then
					local var_466_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121107", "story_v_out_411121.awb") / 1000

					if var_466_8 + var_466_0 > arg_463_1.duration_ then
						arg_463_1.duration_ = var_466_8 + var_466_0
					end

					if var_466_3.prefab_name ~= "" and arg_463_1.actors_[var_466_3.prefab_name] ~= nil then
						local var_466_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_463_1.actors_[var_466_3.prefab_name].transform, "story_v_out_411121", "411121107", "story_v_out_411121.awb")

						arg_463_1:RecordAudio("411121107", var_466_9)
						arg_463_1:RecordAudio("411121107", var_466_9)
					else
						arg_463_1:AudioAction("play", "voice", "story_v_out_411121", "411121107", "story_v_out_411121.awb")
					end

					arg_463_1:RecordHistoryTalkVoice("story_v_out_411121", "411121107", "story_v_out_411121.awb")
				end

				arg_463_1:RecordContent(arg_463_1.text_.text)
			end

			local var_466_10 = math.max(var_466_1, arg_463_1.talkMaxDuration)

			if var_466_0 <= arg_463_1.time_ and arg_463_1.time_ < var_466_0 + var_466_10 then
				arg_463_1.typewritter.percent = (arg_463_1.time_ - var_466_0) / var_466_10

				arg_463_1.typewritter:SetDirty()
			end

			if arg_463_1.time_ >= var_466_0 + var_466_10 and arg_463_1.time_ < var_466_0 + var_466_10 + arg_466_0 then
				arg_463_1.typewritter.percent = 1

				arg_463_1.typewritter:SetDirty()
				arg_463_1:ShowNextGo(true)
			end
		end
	end,
	Play411121108 = function(arg_467_0, arg_467_1)
		arg_467_1.time_ = 0
		arg_467_1.frameCnt_ = 0
		arg_467_1.state_ = "playing"
		arg_467_1.curTalkId_ = 411121108
		arg_467_1.duration_ = 5

		SetActive(arg_467_1.tipsGo_, false)

		function arg_467_1.onSingleLineFinish_()
			arg_467_1.onSingleLineUpdate_ = nil
			arg_467_1.onSingleLineFinish_ = nil
			arg_467_1.state_ = "waiting"
		end

		function arg_467_1.playNext_(arg_469_0)
			if arg_469_0 == 1 then
				arg_467_0:Play411121109(arg_467_1)
			end
		end

		function arg_467_1.onSingleLineUpdate_(arg_470_0)
			local var_470_0 = arg_467_1.actors_["10071ui_story"]
			local var_470_1 = 0

			if var_470_1 < arg_467_1.time_ and arg_467_1.time_ <= var_470_1 + arg_470_0 and not isNil(var_470_0) and arg_467_1.var_.characterEffect10071ui_story == nil then
				arg_467_1.var_.characterEffect10071ui_story = var_470_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_470_2 = 0.200000002980232

			if var_470_1 <= arg_467_1.time_ and arg_467_1.time_ < var_470_1 + var_470_2 and not isNil(var_470_0) then
				local var_470_3 = (arg_467_1.time_ - var_470_1) / var_470_2

				if arg_467_1.var_.characterEffect10071ui_story and not isNil(var_470_0) then
					local var_470_4 = Mathf.Lerp(0, 0.5, var_470_3)

					arg_467_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_467_1.var_.characterEffect10071ui_story.fillRatio = var_470_4
				end
			end

			if arg_467_1.time_ >= var_470_1 + var_470_2 and arg_467_1.time_ < var_470_1 + var_470_2 + arg_470_0 and not isNil(var_470_0) and arg_467_1.var_.characterEffect10071ui_story then
				local var_470_5 = 0.5

				arg_467_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_467_1.var_.characterEffect10071ui_story.fillRatio = var_470_5
			end

			local var_470_6 = 0
			local var_470_7 = 0.6

			if var_470_6 < arg_467_1.time_ and arg_467_1.time_ <= var_470_6 + arg_470_0 then
				arg_467_1.talkMaxDuration = 0
				arg_467_1.dialogCg_.alpha = 1

				arg_467_1.dialog_:SetActive(true)
				SetActive(arg_467_1.leftNameGo_, false)

				arg_467_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_467_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_467_1:RecordName(arg_467_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_467_1.iconTrs_.gameObject, false)
				arg_467_1.callingController_:SetSelectedState("normal")

				local var_470_8 = arg_467_1:GetWordFromCfg(411121108)
				local var_470_9 = arg_467_1:FormatText(var_470_8.content)

				arg_467_1.text_.text = var_470_9

				LuaForUtil.ClearLinePrefixSymbol(arg_467_1.text_)

				local var_470_10 = 24
				local var_470_11 = utf8.len(var_470_9)
				local var_470_12 = var_470_10 <= 0 and var_470_7 or var_470_7 * (var_470_11 / var_470_10)

				if var_470_12 > 0 and var_470_7 < var_470_12 then
					arg_467_1.talkMaxDuration = var_470_12

					if var_470_12 + var_470_6 > arg_467_1.duration_ then
						arg_467_1.duration_ = var_470_12 + var_470_6
					end
				end

				arg_467_1.text_.text = var_470_9
				arg_467_1.typewritter.percent = 0

				arg_467_1.typewritter:SetDirty()
				arg_467_1:ShowNextGo(false)
				arg_467_1:RecordContent(arg_467_1.text_.text)
			end

			local var_470_13 = math.max(var_470_7, arg_467_1.talkMaxDuration)

			if var_470_6 <= arg_467_1.time_ and arg_467_1.time_ < var_470_6 + var_470_13 then
				arg_467_1.typewritter.percent = (arg_467_1.time_ - var_470_6) / var_470_13

				arg_467_1.typewritter:SetDirty()
			end

			if arg_467_1.time_ >= var_470_6 + var_470_13 and arg_467_1.time_ < var_470_6 + var_470_13 + arg_470_0 then
				arg_467_1.typewritter.percent = 1

				arg_467_1.typewritter:SetDirty()
				arg_467_1:ShowNextGo(true)
			end
		end
	end,
	Play411121109 = function(arg_471_0, arg_471_1)
		arg_471_1.time_ = 0
		arg_471_1.frameCnt_ = 0
		arg_471_1.state_ = "playing"
		arg_471_1.curTalkId_ = 411121109
		arg_471_1.duration_ = 6.77

		local var_471_0 = {
			zh = 6.2,
			ja = 6.766
		}
		local var_471_1 = manager.audio:GetLocalizationFlag()

		if var_471_0[var_471_1] ~= nil then
			arg_471_1.duration_ = var_471_0[var_471_1]
		end

		SetActive(arg_471_1.tipsGo_, false)

		function arg_471_1.onSingleLineFinish_()
			arg_471_1.onSingleLineUpdate_ = nil
			arg_471_1.onSingleLineFinish_ = nil
			arg_471_1.state_ = "waiting"
		end

		function arg_471_1.playNext_(arg_473_0)
			if arg_473_0 == 1 then
				arg_471_0:Play411121110(arg_471_1)
			end
		end

		function arg_471_1.onSingleLineUpdate_(arg_474_0)
			local var_474_0 = arg_471_1.actors_["10071ui_story"]
			local var_474_1 = 0

			if var_474_1 < arg_471_1.time_ and arg_471_1.time_ <= var_474_1 + arg_474_0 and not isNil(var_474_0) and arg_471_1.var_.characterEffect10071ui_story == nil then
				arg_471_1.var_.characterEffect10071ui_story = var_474_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_474_2 = 0.200000002980232

			if var_474_1 <= arg_471_1.time_ and arg_471_1.time_ < var_474_1 + var_474_2 and not isNil(var_474_0) then
				local var_474_3 = (arg_471_1.time_ - var_474_1) / var_474_2

				if arg_471_1.var_.characterEffect10071ui_story and not isNil(var_474_0) then
					arg_471_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_471_1.time_ >= var_474_1 + var_474_2 and arg_471_1.time_ < var_474_1 + var_474_2 + arg_474_0 and not isNil(var_474_0) and arg_471_1.var_.characterEffect10071ui_story then
				arg_471_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_474_4 = 0
			local var_474_5 = 0.725

			if var_474_4 < arg_471_1.time_ and arg_471_1.time_ <= var_474_4 + arg_474_0 then
				arg_471_1.talkMaxDuration = 0
				arg_471_1.dialogCg_.alpha = 1

				arg_471_1.dialog_:SetActive(true)
				SetActive(arg_471_1.leftNameGo_, true)

				local var_474_6 = arg_471_1:FormatText(StoryNameCfg[670].name)

				arg_471_1.leftNameTxt_.text = var_474_6

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_471_1.leftNameTxt_.transform)

				arg_471_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_471_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_471_1:RecordName(arg_471_1.leftNameTxt_.text)
				SetActive(arg_471_1.iconTrs_.gameObject, false)
				arg_471_1.callingController_:SetSelectedState("normal")

				local var_474_7 = arg_471_1:GetWordFromCfg(411121109)
				local var_474_8 = arg_471_1:FormatText(var_474_7.content)

				arg_471_1.text_.text = var_474_8

				LuaForUtil.ClearLinePrefixSymbol(arg_471_1.text_)

				local var_474_9 = 29
				local var_474_10 = utf8.len(var_474_8)
				local var_474_11 = var_474_9 <= 0 and var_474_5 or var_474_5 * (var_474_10 / var_474_9)

				if var_474_11 > 0 and var_474_5 < var_474_11 then
					arg_471_1.talkMaxDuration = var_474_11

					if var_474_11 + var_474_4 > arg_471_1.duration_ then
						arg_471_1.duration_ = var_474_11 + var_474_4
					end
				end

				arg_471_1.text_.text = var_474_8
				arg_471_1.typewritter.percent = 0

				arg_471_1.typewritter:SetDirty()
				arg_471_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121109", "story_v_out_411121.awb") ~= 0 then
					local var_474_12 = manager.audio:GetVoiceLength("story_v_out_411121", "411121109", "story_v_out_411121.awb") / 1000

					if var_474_12 + var_474_4 > arg_471_1.duration_ then
						arg_471_1.duration_ = var_474_12 + var_474_4
					end

					if var_474_7.prefab_name ~= "" and arg_471_1.actors_[var_474_7.prefab_name] ~= nil then
						local var_474_13 = LuaForUtil.PlayVoiceWithCriLipsync(arg_471_1.actors_[var_474_7.prefab_name].transform, "story_v_out_411121", "411121109", "story_v_out_411121.awb")

						arg_471_1:RecordAudio("411121109", var_474_13)
						arg_471_1:RecordAudio("411121109", var_474_13)
					else
						arg_471_1:AudioAction("play", "voice", "story_v_out_411121", "411121109", "story_v_out_411121.awb")
					end

					arg_471_1:RecordHistoryTalkVoice("story_v_out_411121", "411121109", "story_v_out_411121.awb")
				end

				arg_471_1:RecordContent(arg_471_1.text_.text)
			end

			local var_474_14 = math.max(var_474_5, arg_471_1.talkMaxDuration)

			if var_474_4 <= arg_471_1.time_ and arg_471_1.time_ < var_474_4 + var_474_14 then
				arg_471_1.typewritter.percent = (arg_471_1.time_ - var_474_4) / var_474_14

				arg_471_1.typewritter:SetDirty()
			end

			if arg_471_1.time_ >= var_474_4 + var_474_14 and arg_471_1.time_ < var_474_4 + var_474_14 + arg_474_0 then
				arg_471_1.typewritter.percent = 1

				arg_471_1.typewritter:SetDirty()
				arg_471_1:ShowNextGo(true)
			end
		end
	end,
	Play411121110 = function(arg_475_0, arg_475_1)
		arg_475_1.time_ = 0
		arg_475_1.frameCnt_ = 0
		arg_475_1.state_ = "playing"
		arg_475_1.curTalkId_ = 411121110
		arg_475_1.duration_ = 7.78

		SetActive(arg_475_1.tipsGo_, false)

		function arg_475_1.onSingleLineFinish_()
			arg_475_1.onSingleLineUpdate_ = nil
			arg_475_1.onSingleLineFinish_ = nil
			arg_475_1.state_ = "waiting"
		end

		function arg_475_1.playNext_(arg_477_0)
			if arg_477_0 == 1 then
				arg_475_0:Play411121111(arg_475_1)
			end
		end

		function arg_475_1.onSingleLineUpdate_(arg_478_0)
			local var_478_0 = 0

			if var_478_0 < arg_475_1.time_ and arg_475_1.time_ <= var_478_0 + arg_478_0 then
				local var_478_1 = manager.ui.mainCamera.transform.localPosition
				local var_478_2 = Vector3.New(0, 0, 10) + Vector3.New(var_478_1.x, var_478_1.y, 0)
				local var_478_3 = arg_475_1.bgs_.ST74a

				var_478_3.transform.localPosition = var_478_2
				var_478_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_478_4 = var_478_3:GetComponent("SpriteRenderer")

				if var_478_4 and var_478_4.sprite then
					local var_478_5 = (var_478_3.transform.localPosition - var_478_1).z
					local var_478_6 = manager.ui.mainCameraCom_
					local var_478_7 = 2 * var_478_5 * Mathf.Tan(var_478_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_478_8 = var_478_7 * var_478_6.aspect
					local var_478_9 = var_478_4.sprite.bounds.size.x
					local var_478_10 = var_478_4.sprite.bounds.size.y
					local var_478_11 = var_478_8 / var_478_9
					local var_478_12 = var_478_7 / var_478_10
					local var_478_13 = var_478_12 < var_478_11 and var_478_11 or var_478_12

					var_478_3.transform.localScale = Vector3.New(var_478_13, var_478_13, 0)
				end

				for iter_478_0, iter_478_1 in pairs(arg_475_1.bgs_) do
					if iter_478_0 ~= "ST74a" then
						iter_478_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_478_14 = 1.5

			if var_478_14 < arg_475_1.time_ and arg_475_1.time_ <= var_478_14 + arg_478_0 then
				local var_478_15 = manager.ui.mainCamera.transform.localPosition
				local var_478_16 = Vector3.New(0, 0, 10) + Vector3.New(var_478_15.x, var_478_15.y, 0)
				local var_478_17 = arg_475_1.bgs_.STblack

				var_478_17.transform.localPosition = var_478_16
				var_478_17.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_478_18 = var_478_17:GetComponent("SpriteRenderer")

				if var_478_18 and var_478_18.sprite then
					local var_478_19 = (var_478_17.transform.localPosition - var_478_15).z
					local var_478_20 = manager.ui.mainCameraCom_
					local var_478_21 = 2 * var_478_19 * Mathf.Tan(var_478_20.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_478_22 = var_478_21 * var_478_20.aspect
					local var_478_23 = var_478_18.sprite.bounds.size.x
					local var_478_24 = var_478_18.sprite.bounds.size.y
					local var_478_25 = var_478_22 / var_478_23
					local var_478_26 = var_478_21 / var_478_24
					local var_478_27 = var_478_26 < var_478_25 and var_478_25 or var_478_26

					var_478_17.transform.localScale = Vector3.New(var_478_27, var_478_27, 0)
				end

				for iter_478_2, iter_478_3 in pairs(arg_475_1.bgs_) do
					if iter_478_2 ~= "STblack" then
						iter_478_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_478_28 = 0

			if var_478_28 < arg_475_1.time_ and arg_475_1.time_ <= var_478_28 + arg_478_0 then
				arg_475_1.mask_.enabled = true
				arg_475_1.mask_.raycastTarget = true

				arg_475_1:SetGaussion(false)
			end

			local var_478_29 = 1.5

			if var_478_28 <= arg_475_1.time_ and arg_475_1.time_ < var_478_28 + var_478_29 then
				local var_478_30 = (arg_475_1.time_ - var_478_28) / var_478_29
				local var_478_31 = Color.New(0, 0, 0)

				var_478_31.a = Mathf.Lerp(0, 1, var_478_30)
				arg_475_1.mask_.color = var_478_31
			end

			if arg_475_1.time_ >= var_478_28 + var_478_29 and arg_475_1.time_ < var_478_28 + var_478_29 + arg_478_0 then
				local var_478_32 = Color.New(0, 0, 0)

				var_478_32.a = 1
				arg_475_1.mask_.color = var_478_32
			end

			local var_478_33 = 1.5

			if var_478_33 < arg_475_1.time_ and arg_475_1.time_ <= var_478_33 + arg_478_0 then
				arg_475_1.mask_.enabled = true
				arg_475_1.mask_.raycastTarget = true

				arg_475_1:SetGaussion(false)
			end

			local var_478_34 = 1.5

			if var_478_33 <= arg_475_1.time_ and arg_475_1.time_ < var_478_33 + var_478_34 then
				local var_478_35 = (arg_475_1.time_ - var_478_33) / var_478_34
				local var_478_36 = Color.New(0, 0, 0)

				var_478_36.a = Mathf.Lerp(1, 0, var_478_35)
				arg_475_1.mask_.color = var_478_36
			end

			if arg_475_1.time_ >= var_478_33 + var_478_34 and arg_475_1.time_ < var_478_33 + var_478_34 + arg_478_0 then
				local var_478_37 = Color.New(0, 0, 0)
				local var_478_38 = 0

				arg_475_1.mask_.enabled = false
				var_478_37.a = var_478_38
				arg_475_1.mask_.color = var_478_37
			end

			local var_478_39 = 1.88333333333333

			if var_478_39 < arg_475_1.time_ and arg_475_1.time_ <= var_478_39 + arg_478_0 then
				arg_475_1.var_.oldValueTypewriter = arg_475_1.fswtw_.percent

				arg_475_1:ShowNextGo(false)
			end

			local var_478_40 = 24
			local var_478_41 = 1.6
			local var_478_42 = arg_475_1:GetWordFromCfg(411121070)
			local var_478_43 = arg_475_1:FormatText(var_478_42.content)
			local var_478_44, var_478_45 = arg_475_1:GetPercentByPara(var_478_43, 1)

			if var_478_39 < arg_475_1.time_ and arg_475_1.time_ <= var_478_39 + arg_478_0 then
				arg_475_1.talkMaxDuration = 0

				local var_478_46 = var_478_40 <= 0 and var_478_41 or var_478_41 * ((var_478_45 - arg_475_1.typewritterCharCountI18N) / var_478_40)

				if var_478_46 > 0 and var_478_41 < var_478_46 then
					arg_475_1.talkMaxDuration = var_478_46

					if var_478_46 + var_478_39 > arg_475_1.duration_ then
						arg_475_1.duration_ = var_478_46 + var_478_39
					end
				end
			end

			local var_478_47 = 1.6
			local var_478_48 = math.max(var_478_47, arg_475_1.talkMaxDuration)

			if var_478_39 <= arg_475_1.time_ and arg_475_1.time_ < var_478_39 + var_478_48 then
				local var_478_49 = (arg_475_1.time_ - var_478_39) / var_478_48

				arg_475_1.fswtw_.percent = Mathf.Lerp(arg_475_1.var_.oldValueTypewriter, var_478_44, var_478_49)
				arg_475_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_475_1.fswtw_:SetDirty()
			end

			if arg_475_1.time_ >= var_478_39 + var_478_48 and arg_475_1.time_ < var_478_39 + var_478_48 + arg_478_0 then
				arg_475_1.fswtw_.percent = var_478_44

				arg_475_1.fswtw_:SetDirty()
				arg_475_1:ShowNextGo(true)

				arg_475_1.typewritterCharCountI18N = var_478_45
			end

			local var_478_50 = 1.5

			if var_478_50 < arg_475_1.time_ and arg_475_1.time_ <= var_478_50 + arg_478_0 then
				arg_475_1.fswbg_:SetActive(true)
				arg_475_1.dialog_:SetActive(false)

				arg_475_1.fswtw_.percent = 0

				local var_478_51 = arg_475_1:GetWordFromCfg(411121110)
				local var_478_52 = arg_475_1:FormatText(var_478_51.content)

				arg_475_1.fswt_.text = var_478_52

				LuaForUtil.ClearLinePrefixSymbol(arg_475_1.fswt_)

				arg_475_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_475_1.fswtw_:SetDirty()

				arg_475_1.typewritterCharCountI18N = 0

				SetActive(arg_475_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_475_1:ShowNextGo(false)
			end

			local var_478_53 = 1.86666666666667

			if var_478_53 < arg_475_1.time_ and arg_475_1.time_ <= var_478_53 + arg_478_0 then
				local var_478_54 = arg_475_1.fswbg_.transform:Find("textbox/adapt/content") or arg_475_1.fswbg_.transform:Find("textbox/content")
				local var_478_55 = var_478_54:GetComponent("Text")
				local var_478_56 = var_478_54:GetComponent("RectTransform")

				var_478_55.alignment = UnityEngine.TextAnchor.LowerCenter
				var_478_56.offsetMin = Vector2.New(0, 0)
				var_478_56.offsetMax = Vector2.New(0, 0)
			end

			local var_478_57 = 1.5

			if var_478_57 < arg_475_1.time_ and arg_475_1.time_ <= var_478_57 + arg_478_0 then
				arg_475_1.cswbg_:SetActive(true)

				local var_478_58 = arg_475_1.cswt_:GetComponent("RectTransform")

				arg_475_1.cswt_.alignment = UnityEngine.TextAnchor.MiddleCenter
				var_478_58.offsetMin = Vector2.New(400, 280)
				var_478_58.offsetMax = Vector2.New(-400, -200)

				local var_478_59 = arg_475_1:GetWordFromCfg(401002)
				local var_478_60 = arg_475_1:FormatText(var_478_59.content)

				arg_475_1.cswt_.text = var_478_60

				LuaForUtil.ClearLinePrefixSymbol(arg_475_1.cswt_)

				arg_475_1.cswt_.fontSize = 180
				arg_475_1.cswt_:GetComponent("Text").color = Color(1, 1, 1)
				arg_475_1.cswt_.font = Asset.Load("Fonts/SourceHanSerifCN-Bold-3.0")
			end

			local var_478_61 = arg_475_1.actors_["1095ui_story"].transform
			local var_478_62 = 1.5

			if var_478_62 < arg_475_1.time_ and arg_475_1.time_ <= var_478_62 + arg_478_0 then
				arg_475_1.var_.moveOldPos1095ui_story = var_478_61.localPosition
			end

			local var_478_63 = 0.001

			if var_478_62 <= arg_475_1.time_ and arg_475_1.time_ < var_478_62 + var_478_63 then
				local var_478_64 = (arg_475_1.time_ - var_478_62) / var_478_63
				local var_478_65 = Vector3.New(0, 100, 0)

				var_478_61.localPosition = Vector3.Lerp(arg_475_1.var_.moveOldPos1095ui_story, var_478_65, var_478_64)

				local var_478_66 = manager.ui.mainCamera.transform.position - var_478_61.position

				var_478_61.forward = Vector3.New(var_478_66.x, var_478_66.y, var_478_66.z)

				local var_478_67 = var_478_61.localEulerAngles

				var_478_67.z = 0
				var_478_67.x = 0
				var_478_61.localEulerAngles = var_478_67
			end

			if arg_475_1.time_ >= var_478_62 + var_478_63 and arg_475_1.time_ < var_478_62 + var_478_63 + arg_478_0 then
				var_478_61.localPosition = Vector3.New(0, 100, 0)

				local var_478_68 = manager.ui.mainCamera.transform.position - var_478_61.position

				var_478_61.forward = Vector3.New(var_478_68.x, var_478_68.y, var_478_68.z)

				local var_478_69 = var_478_61.localEulerAngles

				var_478_69.z = 0
				var_478_69.x = 0
				var_478_61.localEulerAngles = var_478_69
			end

			local var_478_70 = arg_475_1.actors_["10071ui_story"].transform
			local var_478_71 = 1.5

			if var_478_71 < arg_475_1.time_ and arg_475_1.time_ <= var_478_71 + arg_478_0 then
				arg_475_1.var_.moveOldPos10071ui_story = var_478_70.localPosition
			end

			local var_478_72 = 0.001

			if var_478_71 <= arg_475_1.time_ and arg_475_1.time_ < var_478_71 + var_478_72 then
				local var_478_73 = (arg_475_1.time_ - var_478_71) / var_478_72
				local var_478_74 = Vector3.New(0, 100, 0)

				var_478_70.localPosition = Vector3.Lerp(arg_475_1.var_.moveOldPos10071ui_story, var_478_74, var_478_73)

				local var_478_75 = manager.ui.mainCamera.transform.position - var_478_70.position

				var_478_70.forward = Vector3.New(var_478_75.x, var_478_75.y, var_478_75.z)

				local var_478_76 = var_478_70.localEulerAngles

				var_478_76.z = 0
				var_478_76.x = 0
				var_478_70.localEulerAngles = var_478_76
			end

			if arg_475_1.time_ >= var_478_71 + var_478_72 and arg_475_1.time_ < var_478_71 + var_478_72 + arg_478_0 then
				var_478_70.localPosition = Vector3.New(0, 100, 0)

				local var_478_77 = manager.ui.mainCamera.transform.position - var_478_70.position

				var_478_70.forward = Vector3.New(var_478_77.x, var_478_77.y, var_478_77.z)

				local var_478_78 = var_478_70.localEulerAngles

				var_478_78.z = 0
				var_478_78.x = 0
				var_478_70.localEulerAngles = var_478_78
			end

			local var_478_79 = 1.88333333333333
			local var_478_80 = 5.9
			local var_478_81 = manager.audio:GetVoiceLength("story_v_out_411121", "411121110", "story_v_out_411121.awb") / 1000

			if var_478_81 > 0 and var_478_80 < var_478_81 and var_478_81 + var_478_79 > arg_475_1.duration_ then
				local var_478_82 = var_478_81

				arg_475_1.duration_ = var_478_81 + var_478_79
			end

			if var_478_79 < arg_475_1.time_ and arg_475_1.time_ <= var_478_79 + arg_478_0 then
				local var_478_83 = "play"
				local var_478_84 = "voice"

				arg_475_1:AudioAction(var_478_83, var_478_84, "story_v_out_411121", "411121110", "story_v_out_411121.awb")
			end
		end
	end,
	Play411121111 = function(arg_479_0, arg_479_1)
		arg_479_1.time_ = 0
		arg_479_1.frameCnt_ = 0
		arg_479_1.state_ = "playing"
		arg_479_1.curTalkId_ = 411121111
		arg_479_1.duration_ = 13.5

		SetActive(arg_479_1.tipsGo_, false)

		function arg_479_1.onSingleLineFinish_()
			arg_479_1.onSingleLineUpdate_ = nil
			arg_479_1.onSingleLineFinish_ = nil
			arg_479_1.state_ = "waiting"
		end

		function arg_479_1.playNext_(arg_481_0)
			if arg_481_0 == 1 then
				arg_479_0:Play411121112(arg_479_1)
			end
		end

		function arg_479_1.onSingleLineUpdate_(arg_482_0)
			local var_482_0 = 0

			if var_482_0 < arg_479_1.time_ and arg_479_1.time_ <= var_482_0 + arg_482_0 then
				arg_479_1.fswbg_:SetActive(true)
				arg_479_1.dialog_:SetActive(false)

				arg_479_1.fswtw_.percent = 0

				local var_482_1 = arg_479_1:GetWordFromCfg(411121111)
				local var_482_2 = arg_479_1:FormatText(var_482_1.content)

				arg_479_1.fswt_.text = var_482_2

				LuaForUtil.ClearLinePrefixSymbol(arg_479_1.fswt_)

				arg_479_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_479_1.fswtw_:SetDirty()

				arg_479_1.typewritterCharCountI18N = 0

				SetActive(arg_479_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_479_1:ShowNextGo(false)
			end

			local var_482_3 = 0.0166666666666667

			if var_482_3 < arg_479_1.time_ and arg_479_1.time_ <= var_482_3 + arg_482_0 then
				arg_479_1.var_.oldValueTypewriter = arg_479_1.fswtw_.percent

				arg_479_1:ShowNextGo(false)
			end

			local var_482_4 = 49
			local var_482_5 = 1.4
			local var_482_6 = arg_479_1:GetWordFromCfg(411121111)
			local var_482_7 = arg_479_1:FormatText(var_482_6.content)
			local var_482_8, var_482_9 = arg_479_1:GetPercentByPara(var_482_7, 1)

			if var_482_3 < arg_479_1.time_ and arg_479_1.time_ <= var_482_3 + arg_482_0 then
				arg_479_1.talkMaxDuration = 0

				local var_482_10 = var_482_4 <= 0 and var_482_5 or var_482_5 * ((var_482_9 - arg_479_1.typewritterCharCountI18N) / var_482_4)

				if var_482_10 > 0 and var_482_5 < var_482_10 then
					arg_479_1.talkMaxDuration = var_482_10

					if var_482_10 + var_482_3 > arg_479_1.duration_ then
						arg_479_1.duration_ = var_482_10 + var_482_3
					end
				end
			end

			local var_482_11 = 1.4
			local var_482_12 = math.max(var_482_11, arg_479_1.talkMaxDuration)

			if var_482_3 <= arg_479_1.time_ and arg_479_1.time_ < var_482_3 + var_482_12 then
				local var_482_13 = (arg_479_1.time_ - var_482_3) / var_482_12

				arg_479_1.fswtw_.percent = Mathf.Lerp(arg_479_1.var_.oldValueTypewriter, var_482_8, var_482_13)
				arg_479_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_479_1.fswtw_:SetDirty()
			end

			if arg_479_1.time_ >= var_482_3 + var_482_12 and arg_479_1.time_ < var_482_3 + var_482_12 + arg_482_0 then
				arg_479_1.fswtw_.percent = var_482_8

				arg_479_1.fswtw_:SetDirty()
				arg_479_1:ShowNextGo(true)

				arg_479_1.typewritterCharCountI18N = var_482_9
			end

			local var_482_14 = 0
			local var_482_15 = 13.5
			local var_482_16 = manager.audio:GetVoiceLength("story_v_out_411121", "411121111", "story_v_out_411121.awb") / 1000

			if var_482_16 > 0 and var_482_15 < var_482_16 and var_482_16 + var_482_14 > arg_479_1.duration_ then
				local var_482_17 = var_482_16

				arg_479_1.duration_ = var_482_16 + var_482_14
			end

			if var_482_14 < arg_479_1.time_ and arg_479_1.time_ <= var_482_14 + arg_482_0 then
				local var_482_18 = "play"
				local var_482_19 = "voice"

				arg_479_1:AudioAction(var_482_18, var_482_19, "story_v_out_411121", "411121111", "story_v_out_411121.awb")
			end
		end
	end,
	Play411121112 = function(arg_483_0, arg_483_1)
		arg_483_1.time_ = 0
		arg_483_1.frameCnt_ = 0
		arg_483_1.state_ = "playing"
		arg_483_1.curTalkId_ = 411121112
		arg_483_1.duration_ = 5.7

		SetActive(arg_483_1.tipsGo_, false)

		function arg_483_1.onSingleLineFinish_()
			arg_483_1.onSingleLineUpdate_ = nil
			arg_483_1.onSingleLineFinish_ = nil
			arg_483_1.state_ = "waiting"
		end

		function arg_483_1.playNext_(arg_485_0)
			if arg_485_0 == 1 then
				arg_483_0:Play411121113(arg_483_1)
			end
		end

		function arg_483_1.onSingleLineUpdate_(arg_486_0)
			local var_486_0 = 0

			if var_486_0 < arg_483_1.time_ and arg_483_1.time_ <= var_486_0 + arg_486_0 then
				arg_483_1.fswbg_:SetActive(true)
				arg_483_1.dialog_:SetActive(false)

				arg_483_1.fswtw_.percent = 0

				local var_486_1 = arg_483_1:GetWordFromCfg(411121112)
				local var_486_2 = arg_483_1:FormatText(var_486_1.content)

				arg_483_1.fswt_.text = var_486_2

				LuaForUtil.ClearLinePrefixSymbol(arg_483_1.fswt_)

				arg_483_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_483_1.fswtw_:SetDirty()

				arg_483_1.typewritterCharCountI18N = 0

				SetActive(arg_483_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_483_1:ShowNextGo(false)
			end

			local var_486_3 = 0.0166666666666667

			if var_486_3 < arg_483_1.time_ and arg_483_1.time_ <= var_486_3 + arg_486_0 then
				arg_483_1.var_.oldValueTypewriter = arg_483_1.fswtw_.percent

				arg_483_1:ShowNextGo(false)
			end

			local var_486_4 = 18
			local var_486_5 = 1.2
			local var_486_6 = arg_483_1:GetWordFromCfg(411121112)
			local var_486_7 = arg_483_1:FormatText(var_486_6.content)
			local var_486_8, var_486_9 = arg_483_1:GetPercentByPara(var_486_7, 1)

			if var_486_3 < arg_483_1.time_ and arg_483_1.time_ <= var_486_3 + arg_486_0 then
				arg_483_1.talkMaxDuration = 0

				local var_486_10 = var_486_4 <= 0 and var_486_5 or var_486_5 * ((var_486_9 - arg_483_1.typewritterCharCountI18N) / var_486_4)

				if var_486_10 > 0 and var_486_5 < var_486_10 then
					arg_483_1.talkMaxDuration = var_486_10

					if var_486_10 + var_486_3 > arg_483_1.duration_ then
						arg_483_1.duration_ = var_486_10 + var_486_3
					end
				end
			end

			local var_486_11 = 1.2
			local var_486_12 = math.max(var_486_11, arg_483_1.talkMaxDuration)

			if var_486_3 <= arg_483_1.time_ and arg_483_1.time_ < var_486_3 + var_486_12 then
				local var_486_13 = (arg_483_1.time_ - var_486_3) / var_486_12

				arg_483_1.fswtw_.percent = Mathf.Lerp(arg_483_1.var_.oldValueTypewriter, var_486_8, var_486_13)
				arg_483_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_483_1.fswtw_:SetDirty()
			end

			if arg_483_1.time_ >= var_486_3 + var_486_12 and arg_483_1.time_ < var_486_3 + var_486_12 + arg_486_0 then
				arg_483_1.fswtw_.percent = var_486_8

				arg_483_1.fswtw_:SetDirty()
				arg_483_1:ShowNextGo(true)

				arg_483_1.typewritterCharCountI18N = var_486_9
			end

			local var_486_14 = 0
			local var_486_15 = 5.7
			local var_486_16 = manager.audio:GetVoiceLength("story_v_out_411121", "411121112", "story_v_out_411121.awb") / 1000

			if var_486_16 > 0 and var_486_15 < var_486_16 and var_486_16 + var_486_14 > arg_483_1.duration_ then
				local var_486_17 = var_486_16

				arg_483_1.duration_ = var_486_16 + var_486_14
			end

			if var_486_14 < arg_483_1.time_ and arg_483_1.time_ <= var_486_14 + arg_486_0 then
				local var_486_18 = "play"
				local var_486_19 = "voice"

				arg_483_1:AudioAction(var_486_18, var_486_19, "story_v_out_411121", "411121112", "story_v_out_411121.awb")
			end
		end
	end,
	Play411121113 = function(arg_487_0, arg_487_1)
		arg_487_1.time_ = 0
		arg_487_1.frameCnt_ = 0
		arg_487_1.state_ = "playing"
		arg_487_1.curTalkId_ = 411121113
		arg_487_1.duration_ = 7.3

		local var_487_0 = {
			zh = 7.033,
			ja = 7.3
		}
		local var_487_1 = manager.audio:GetLocalizationFlag()

		if var_487_0[var_487_1] ~= nil then
			arg_487_1.duration_ = var_487_0[var_487_1]
		end

		SetActive(arg_487_1.tipsGo_, false)

		function arg_487_1.onSingleLineFinish_()
			arg_487_1.onSingleLineUpdate_ = nil
			arg_487_1.onSingleLineFinish_ = nil
			arg_487_1.state_ = "waiting"
		end

		function arg_487_1.playNext_(arg_489_0)
			if arg_489_0 == 1 then
				arg_487_0:Play411121114(arg_487_1)
			end
		end

		function arg_487_1.onSingleLineUpdate_(arg_490_0)
			local var_490_0 = arg_487_1.actors_["1095ui_story"].transform
			local var_490_1 = 3

			if var_490_1 < arg_487_1.time_ and arg_487_1.time_ <= var_490_1 + arg_490_0 then
				arg_487_1.var_.moveOldPos1095ui_story = var_490_0.localPosition
			end

			local var_490_2 = 0.001

			if var_490_1 <= arg_487_1.time_ and arg_487_1.time_ < var_490_1 + var_490_2 then
				local var_490_3 = (arg_487_1.time_ - var_490_1) / var_490_2
				local var_490_4 = Vector3.New(0, -0.98, -6.1)

				var_490_0.localPosition = Vector3.Lerp(arg_487_1.var_.moveOldPos1095ui_story, var_490_4, var_490_3)

				local var_490_5 = manager.ui.mainCamera.transform.position - var_490_0.position

				var_490_0.forward = Vector3.New(var_490_5.x, var_490_5.y, var_490_5.z)

				local var_490_6 = var_490_0.localEulerAngles

				var_490_6.z = 0
				var_490_6.x = 0
				var_490_0.localEulerAngles = var_490_6
			end

			if arg_487_1.time_ >= var_490_1 + var_490_2 and arg_487_1.time_ < var_490_1 + var_490_2 + arg_490_0 then
				var_490_0.localPosition = Vector3.New(0, -0.98, -6.1)

				local var_490_7 = manager.ui.mainCamera.transform.position - var_490_0.position

				var_490_0.forward = Vector3.New(var_490_7.x, var_490_7.y, var_490_7.z)

				local var_490_8 = var_490_0.localEulerAngles

				var_490_8.z = 0
				var_490_8.x = 0
				var_490_0.localEulerAngles = var_490_8
			end

			local var_490_9 = arg_487_1.actors_["1095ui_story"]
			local var_490_10 = 3

			if var_490_10 < arg_487_1.time_ and arg_487_1.time_ <= var_490_10 + arg_490_0 and not isNil(var_490_9) and arg_487_1.var_.characterEffect1095ui_story == nil then
				arg_487_1.var_.characterEffect1095ui_story = var_490_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_490_11 = 0.200000002980232

			if var_490_10 <= arg_487_1.time_ and arg_487_1.time_ < var_490_10 + var_490_11 and not isNil(var_490_9) then
				local var_490_12 = (arg_487_1.time_ - var_490_10) / var_490_11

				if arg_487_1.var_.characterEffect1095ui_story and not isNil(var_490_9) then
					arg_487_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_487_1.time_ >= var_490_10 + var_490_11 and arg_487_1.time_ < var_490_10 + var_490_11 + arg_490_0 and not isNil(var_490_9) and arg_487_1.var_.characterEffect1095ui_story then
				arg_487_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_490_13 = 3

			if var_490_13 < arg_487_1.time_ and arg_487_1.time_ <= var_490_13 + arg_490_0 then
				arg_487_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_490_14 = 3

			if var_490_14 < arg_487_1.time_ and arg_487_1.time_ <= var_490_14 + arg_490_0 then
				arg_487_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_490_15 = 0

			if var_490_15 < arg_487_1.time_ and arg_487_1.time_ <= var_490_15 + arg_490_0 then
				local var_490_16 = manager.ui.mainCamera.transform.localPosition
				local var_490_17 = Vector3.New(0, 0, 10) + Vector3.New(var_490_16.x, var_490_16.y, 0)
				local var_490_18 = arg_487_1.bgs_.STblack

				var_490_18.transform.localPosition = var_490_17
				var_490_18.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_490_19 = var_490_18:GetComponent("SpriteRenderer")

				if var_490_19 and var_490_19.sprite then
					local var_490_20 = (var_490_18.transform.localPosition - var_490_16).z
					local var_490_21 = manager.ui.mainCameraCom_
					local var_490_22 = 2 * var_490_20 * Mathf.Tan(var_490_21.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_490_23 = var_490_22 * var_490_21.aspect
					local var_490_24 = var_490_19.sprite.bounds.size.x
					local var_490_25 = var_490_19.sprite.bounds.size.y
					local var_490_26 = var_490_23 / var_490_24
					local var_490_27 = var_490_22 / var_490_25
					local var_490_28 = var_490_27 < var_490_26 and var_490_26 or var_490_27

					var_490_18.transform.localScale = Vector3.New(var_490_28, var_490_28, 0)
				end

				for iter_490_0, iter_490_1 in pairs(arg_487_1.bgs_) do
					if iter_490_0 ~= "STblack" then
						iter_490_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_490_29 = 1.5

			if var_490_29 < arg_487_1.time_ and arg_487_1.time_ <= var_490_29 + arg_490_0 then
				local var_490_30 = manager.ui.mainCamera.transform.localPosition
				local var_490_31 = Vector3.New(0, 0, 10) + Vector3.New(var_490_30.x, var_490_30.y, 0)
				local var_490_32 = arg_487_1.bgs_.ST74a

				var_490_32.transform.localPosition = var_490_31
				var_490_32.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_490_33 = var_490_32:GetComponent("SpriteRenderer")

				if var_490_33 and var_490_33.sprite then
					local var_490_34 = (var_490_32.transform.localPosition - var_490_30).z
					local var_490_35 = manager.ui.mainCameraCom_
					local var_490_36 = 2 * var_490_34 * Mathf.Tan(var_490_35.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_490_37 = var_490_36 * var_490_35.aspect
					local var_490_38 = var_490_33.sprite.bounds.size.x
					local var_490_39 = var_490_33.sprite.bounds.size.y
					local var_490_40 = var_490_37 / var_490_38
					local var_490_41 = var_490_36 / var_490_39
					local var_490_42 = var_490_41 < var_490_40 and var_490_40 or var_490_41

					var_490_32.transform.localScale = Vector3.New(var_490_42, var_490_42, 0)
				end

				for iter_490_2, iter_490_3 in pairs(arg_487_1.bgs_) do
					if iter_490_2 ~= "ST74a" then
						iter_490_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_490_43 = 0

			if var_490_43 < arg_487_1.time_ and arg_487_1.time_ <= var_490_43 + arg_490_0 then
				arg_487_1.mask_.enabled = true
				arg_487_1.mask_.raycastTarget = true

				arg_487_1:SetGaussion(false)
			end

			local var_490_44 = 1.5

			if var_490_43 <= arg_487_1.time_ and arg_487_1.time_ < var_490_43 + var_490_44 then
				local var_490_45 = (arg_487_1.time_ - var_490_43) / var_490_44
				local var_490_46 = Color.New(0, 0, 0)

				var_490_46.a = Mathf.Lerp(0, 1, var_490_45)
				arg_487_1.mask_.color = var_490_46
			end

			if arg_487_1.time_ >= var_490_43 + var_490_44 and arg_487_1.time_ < var_490_43 + var_490_44 + arg_490_0 then
				local var_490_47 = Color.New(0, 0, 0)

				var_490_47.a = 1
				arg_487_1.mask_.color = var_490_47
			end

			local var_490_48 = 1.5

			if var_490_48 < arg_487_1.time_ and arg_487_1.time_ <= var_490_48 + arg_490_0 then
				arg_487_1.mask_.enabled = true
				arg_487_1.mask_.raycastTarget = true

				arg_487_1:SetGaussion(false)
			end

			local var_490_49 = 1.53400000184774

			if var_490_48 <= arg_487_1.time_ and arg_487_1.time_ < var_490_48 + var_490_49 then
				local var_490_50 = (arg_487_1.time_ - var_490_48) / var_490_49
				local var_490_51 = Color.New(0, 0, 0)

				var_490_51.a = Mathf.Lerp(1, 0, var_490_50)
				arg_487_1.mask_.color = var_490_51
			end

			if arg_487_1.time_ >= var_490_48 + var_490_49 and arg_487_1.time_ < var_490_48 + var_490_49 + arg_490_0 then
				local var_490_52 = Color.New(0, 0, 0)
				local var_490_53 = 0

				arg_487_1.mask_.enabled = false
				var_490_52.a = var_490_53
				arg_487_1.mask_.color = var_490_52
			end

			local var_490_54 = 1.5

			if var_490_54 < arg_487_1.time_ and arg_487_1.time_ <= var_490_54 + arg_490_0 then
				arg_487_1.cswbg_:SetActive(false)
			end

			local var_490_55 = 1.5

			if var_490_55 < arg_487_1.time_ and arg_487_1.time_ <= var_490_55 + arg_490_0 then
				arg_487_1.fswbg_:SetActive(false)
				arg_487_1.dialog_:SetActive(true)
				arg_487_1:ShowNextGo(false)
			end

			local var_490_56 = 1.51666666666667

			if var_490_56 < arg_487_1.time_ and arg_487_1.time_ <= var_490_56 + arg_490_0 then
				arg_487_1.fswbg_:SetActive(false)
				arg_487_1.dialog_:SetActive(false)
				arg_487_1:ShowNextGo(false)
			end

			if arg_487_1.frameCnt_ <= 1 then
				arg_487_1.dialog_:SetActive(false)
			end

			local var_490_57 = 3
			local var_490_58 = 0.325

			if var_490_57 < arg_487_1.time_ and arg_487_1.time_ <= var_490_57 + arg_490_0 then
				arg_487_1.talkMaxDuration = 0

				arg_487_1.dialog_:SetActive(true)

				local var_490_59 = LeanTween.value(arg_487_1.dialog_, 0, 1, 0.3)

				var_490_59:setOnUpdate(LuaHelper.FloatAction(function(arg_491_0)
					arg_487_1.dialogCg_.alpha = arg_491_0
				end))
				var_490_59:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_487_1.dialog_)
					var_490_59:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_487_1.duration_ = arg_487_1.duration_ + 0.3

				SetActive(arg_487_1.leftNameGo_, true)

				local var_490_60 = arg_487_1:FormatText(StoryNameCfg[471].name)

				arg_487_1.leftNameTxt_.text = var_490_60

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_487_1.leftNameTxt_.transform)

				arg_487_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_487_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_487_1:RecordName(arg_487_1.leftNameTxt_.text)
				SetActive(arg_487_1.iconTrs_.gameObject, false)
				arg_487_1.callingController_:SetSelectedState("normal")

				local var_490_61 = arg_487_1:GetWordFromCfg(411121113)
				local var_490_62 = arg_487_1:FormatText(var_490_61.content)

				arg_487_1.text_.text = var_490_62

				LuaForUtil.ClearLinePrefixSymbol(arg_487_1.text_)

				local var_490_63 = 13
				local var_490_64 = utf8.len(var_490_62)
				local var_490_65 = var_490_63 <= 0 and var_490_58 or var_490_58 * (var_490_64 / var_490_63)

				if var_490_65 > 0 and var_490_58 < var_490_65 then
					arg_487_1.talkMaxDuration = var_490_65
					var_490_57 = var_490_57 + 0.3

					if var_490_65 + var_490_57 > arg_487_1.duration_ then
						arg_487_1.duration_ = var_490_65 + var_490_57
					end
				end

				arg_487_1.text_.text = var_490_62
				arg_487_1.typewritter.percent = 0

				arg_487_1.typewritter:SetDirty()
				arg_487_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121113", "story_v_out_411121.awb") ~= 0 then
					local var_490_66 = manager.audio:GetVoiceLength("story_v_out_411121", "411121113", "story_v_out_411121.awb") / 1000

					if var_490_66 + var_490_57 > arg_487_1.duration_ then
						arg_487_1.duration_ = var_490_66 + var_490_57
					end

					if var_490_61.prefab_name ~= "" and arg_487_1.actors_[var_490_61.prefab_name] ~= nil then
						local var_490_67 = LuaForUtil.PlayVoiceWithCriLipsync(arg_487_1.actors_[var_490_61.prefab_name].transform, "story_v_out_411121", "411121113", "story_v_out_411121.awb")

						arg_487_1:RecordAudio("411121113", var_490_67)
						arg_487_1:RecordAudio("411121113", var_490_67)
					else
						arg_487_1:AudioAction("play", "voice", "story_v_out_411121", "411121113", "story_v_out_411121.awb")
					end

					arg_487_1:RecordHistoryTalkVoice("story_v_out_411121", "411121113", "story_v_out_411121.awb")
				end

				arg_487_1:RecordContent(arg_487_1.text_.text)
			end

			local var_490_68 = var_490_57 + 0.3
			local var_490_69 = math.max(var_490_58, arg_487_1.talkMaxDuration)

			if var_490_68 <= arg_487_1.time_ and arg_487_1.time_ < var_490_68 + var_490_69 then
				arg_487_1.typewritter.percent = (arg_487_1.time_ - var_490_68) / var_490_69

				arg_487_1.typewritter:SetDirty()
			end

			if arg_487_1.time_ >= var_490_68 + var_490_69 and arg_487_1.time_ < var_490_68 + var_490_69 + arg_490_0 then
				arg_487_1.typewritter.percent = 1

				arg_487_1.typewritter:SetDirty()
				arg_487_1:ShowNextGo(true)
			end
		end
	end,
	Play411121114 = function(arg_493_0, arg_493_1)
		arg_493_1.time_ = 0
		arg_493_1.frameCnt_ = 0
		arg_493_1.state_ = "playing"
		arg_493_1.curTalkId_ = 411121114
		arg_493_1.duration_ = 5

		SetActive(arg_493_1.tipsGo_, false)

		function arg_493_1.onSingleLineFinish_()
			arg_493_1.onSingleLineUpdate_ = nil
			arg_493_1.onSingleLineFinish_ = nil
			arg_493_1.state_ = "waiting"
		end

		function arg_493_1.playNext_(arg_495_0)
			if arg_495_0 == 1 then
				arg_493_0:Play411121115(arg_493_1)
			end
		end

		function arg_493_1.onSingleLineUpdate_(arg_496_0)
			local var_496_0 = arg_493_1.actors_["1095ui_story"]
			local var_496_1 = 0

			if var_496_1 < arg_493_1.time_ and arg_493_1.time_ <= var_496_1 + arg_496_0 and not isNil(var_496_0) and arg_493_1.var_.characterEffect1095ui_story == nil then
				arg_493_1.var_.characterEffect1095ui_story = var_496_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_496_2 = 0.200000002980232

			if var_496_1 <= arg_493_1.time_ and arg_493_1.time_ < var_496_1 + var_496_2 and not isNil(var_496_0) then
				local var_496_3 = (arg_493_1.time_ - var_496_1) / var_496_2

				if arg_493_1.var_.characterEffect1095ui_story and not isNil(var_496_0) then
					local var_496_4 = Mathf.Lerp(0, 0.5, var_496_3)

					arg_493_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_493_1.var_.characterEffect1095ui_story.fillRatio = var_496_4
				end
			end

			if arg_493_1.time_ >= var_496_1 + var_496_2 and arg_493_1.time_ < var_496_1 + var_496_2 + arg_496_0 and not isNil(var_496_0) and arg_493_1.var_.characterEffect1095ui_story then
				local var_496_5 = 0.5

				arg_493_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_493_1.var_.characterEffect1095ui_story.fillRatio = var_496_5
			end

			local var_496_6 = 0
			local var_496_7 = 1.225

			if var_496_6 < arg_493_1.time_ and arg_493_1.time_ <= var_496_6 + arg_496_0 then
				arg_493_1.talkMaxDuration = 0
				arg_493_1.dialogCg_.alpha = 1

				arg_493_1.dialog_:SetActive(true)
				SetActive(arg_493_1.leftNameGo_, false)

				arg_493_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_493_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_493_1:RecordName(arg_493_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_493_1.iconTrs_.gameObject, false)
				arg_493_1.callingController_:SetSelectedState("normal")

				local var_496_8 = arg_493_1:GetWordFromCfg(411121114)
				local var_496_9 = arg_493_1:FormatText(var_496_8.content)

				arg_493_1.text_.text = var_496_9

				LuaForUtil.ClearLinePrefixSymbol(arg_493_1.text_)

				local var_496_10 = 49
				local var_496_11 = utf8.len(var_496_9)
				local var_496_12 = var_496_10 <= 0 and var_496_7 or var_496_7 * (var_496_11 / var_496_10)

				if var_496_12 > 0 and var_496_7 < var_496_12 then
					arg_493_1.talkMaxDuration = var_496_12

					if var_496_12 + var_496_6 > arg_493_1.duration_ then
						arg_493_1.duration_ = var_496_12 + var_496_6
					end
				end

				arg_493_1.text_.text = var_496_9
				arg_493_1.typewritter.percent = 0

				arg_493_1.typewritter:SetDirty()
				arg_493_1:ShowNextGo(false)
				arg_493_1:RecordContent(arg_493_1.text_.text)
			end

			local var_496_13 = math.max(var_496_7, arg_493_1.talkMaxDuration)

			if var_496_6 <= arg_493_1.time_ and arg_493_1.time_ < var_496_6 + var_496_13 then
				arg_493_1.typewritter.percent = (arg_493_1.time_ - var_496_6) / var_496_13

				arg_493_1.typewritter:SetDirty()
			end

			if arg_493_1.time_ >= var_496_6 + var_496_13 and arg_493_1.time_ < var_496_6 + var_496_13 + arg_496_0 then
				arg_493_1.typewritter.percent = 1

				arg_493_1.typewritter:SetDirty()
				arg_493_1:ShowNextGo(true)
			end
		end
	end,
	Play411121115 = function(arg_497_0, arg_497_1)
		arg_497_1.time_ = 0
		arg_497_1.frameCnt_ = 0
		arg_497_1.state_ = "playing"
		arg_497_1.curTalkId_ = 411121115
		arg_497_1.duration_ = 13.63

		local var_497_0 = {
			zh = 9.033,
			ja = 13.633
		}
		local var_497_1 = manager.audio:GetLocalizationFlag()

		if var_497_0[var_497_1] ~= nil then
			arg_497_1.duration_ = var_497_0[var_497_1]
		end

		SetActive(arg_497_1.tipsGo_, false)

		function arg_497_1.onSingleLineFinish_()
			arg_497_1.onSingleLineUpdate_ = nil
			arg_497_1.onSingleLineFinish_ = nil
			arg_497_1.state_ = "waiting"
		end

		function arg_497_1.playNext_(arg_499_0)
			if arg_499_0 == 1 then
				arg_497_0:Play411121116(arg_497_1)
			end
		end

		function arg_497_1.onSingleLineUpdate_(arg_500_0)
			local var_500_0 = arg_497_1.actors_["10071ui_story"].transform
			local var_500_1 = 0

			if var_500_1 < arg_497_1.time_ and arg_497_1.time_ <= var_500_1 + arg_500_0 then
				arg_497_1.var_.moveOldPos10071ui_story = var_500_0.localPosition
			end

			local var_500_2 = 0.001

			if var_500_1 <= arg_497_1.time_ and arg_497_1.time_ < var_500_1 + var_500_2 then
				local var_500_3 = (arg_497_1.time_ - var_500_1) / var_500_2
				local var_500_4 = Vector3.New(0.7, -0.9, -6.26)

				var_500_0.localPosition = Vector3.Lerp(arg_497_1.var_.moveOldPos10071ui_story, var_500_4, var_500_3)

				local var_500_5 = manager.ui.mainCamera.transform.position - var_500_0.position

				var_500_0.forward = Vector3.New(var_500_5.x, var_500_5.y, var_500_5.z)

				local var_500_6 = var_500_0.localEulerAngles

				var_500_6.z = 0
				var_500_6.x = 0
				var_500_0.localEulerAngles = var_500_6
			end

			if arg_497_1.time_ >= var_500_1 + var_500_2 and arg_497_1.time_ < var_500_1 + var_500_2 + arg_500_0 then
				var_500_0.localPosition = Vector3.New(0.7, -0.9, -6.26)

				local var_500_7 = manager.ui.mainCamera.transform.position - var_500_0.position

				var_500_0.forward = Vector3.New(var_500_7.x, var_500_7.y, var_500_7.z)

				local var_500_8 = var_500_0.localEulerAngles

				var_500_8.z = 0
				var_500_8.x = 0
				var_500_0.localEulerAngles = var_500_8
			end

			local var_500_9 = arg_497_1.actors_["10071ui_story"]
			local var_500_10 = 0

			if var_500_10 < arg_497_1.time_ and arg_497_1.time_ <= var_500_10 + arg_500_0 and not isNil(var_500_9) and arg_497_1.var_.characterEffect10071ui_story == nil then
				arg_497_1.var_.characterEffect10071ui_story = var_500_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_500_11 = 0.200000002980232

			if var_500_10 <= arg_497_1.time_ and arg_497_1.time_ < var_500_10 + var_500_11 and not isNil(var_500_9) then
				local var_500_12 = (arg_497_1.time_ - var_500_10) / var_500_11

				if arg_497_1.var_.characterEffect10071ui_story and not isNil(var_500_9) then
					arg_497_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_497_1.time_ >= var_500_10 + var_500_11 and arg_497_1.time_ < var_500_10 + var_500_11 + arg_500_0 and not isNil(var_500_9) and arg_497_1.var_.characterEffect10071ui_story then
				arg_497_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_500_13 = 0

			if var_500_13 < arg_497_1.time_ and arg_497_1.time_ <= var_500_13 + arg_500_0 then
				arg_497_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/story10071/story10071action/10071action4_2")
			end

			local var_500_14 = 0

			if var_500_14 < arg_497_1.time_ and arg_497_1.time_ <= var_500_14 + arg_500_0 then
				arg_497_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_500_15 = arg_497_1.actors_["1095ui_story"].transform
			local var_500_16 = 0

			if var_500_16 < arg_497_1.time_ and arg_497_1.time_ <= var_500_16 + arg_500_0 then
				arg_497_1.var_.moveOldPos1095ui_story = var_500_15.localPosition
			end

			local var_500_17 = 0.001

			if var_500_16 <= arg_497_1.time_ and arg_497_1.time_ < var_500_16 + var_500_17 then
				local var_500_18 = (arg_497_1.time_ - var_500_16) / var_500_17
				local var_500_19 = Vector3.New(-0.7, -0.98, -6.1)

				var_500_15.localPosition = Vector3.Lerp(arg_497_1.var_.moveOldPos1095ui_story, var_500_19, var_500_18)

				local var_500_20 = manager.ui.mainCamera.transform.position - var_500_15.position

				var_500_15.forward = Vector3.New(var_500_20.x, var_500_20.y, var_500_20.z)

				local var_500_21 = var_500_15.localEulerAngles

				var_500_21.z = 0
				var_500_21.x = 0
				var_500_15.localEulerAngles = var_500_21
			end

			if arg_497_1.time_ >= var_500_16 + var_500_17 and arg_497_1.time_ < var_500_16 + var_500_17 + arg_500_0 then
				var_500_15.localPosition = Vector3.New(-0.7, -0.98, -6.1)

				local var_500_22 = manager.ui.mainCamera.transform.position - var_500_15.position

				var_500_15.forward = Vector3.New(var_500_22.x, var_500_22.y, var_500_22.z)

				local var_500_23 = var_500_15.localEulerAngles

				var_500_23.z = 0
				var_500_23.x = 0
				var_500_15.localEulerAngles = var_500_23
			end

			local var_500_24 = arg_497_1.actors_["1095ui_story"]
			local var_500_25 = 0

			if var_500_25 < arg_497_1.time_ and arg_497_1.time_ <= var_500_25 + arg_500_0 and not isNil(var_500_24) and arg_497_1.var_.characterEffect1095ui_story == nil then
				arg_497_1.var_.characterEffect1095ui_story = var_500_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_500_26 = 0.200000002980232

			if var_500_25 <= arg_497_1.time_ and arg_497_1.time_ < var_500_25 + var_500_26 and not isNil(var_500_24) then
				local var_500_27 = (arg_497_1.time_ - var_500_25) / var_500_26

				if arg_497_1.var_.characterEffect1095ui_story and not isNil(var_500_24) then
					local var_500_28 = Mathf.Lerp(0, 0.5, var_500_27)

					arg_497_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_497_1.var_.characterEffect1095ui_story.fillRatio = var_500_28
				end
			end

			if arg_497_1.time_ >= var_500_25 + var_500_26 and arg_497_1.time_ < var_500_25 + var_500_26 + arg_500_0 and not isNil(var_500_24) and arg_497_1.var_.characterEffect1095ui_story then
				local var_500_29 = 0.5

				arg_497_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_497_1.var_.characterEffect1095ui_story.fillRatio = var_500_29
			end

			local var_500_30 = 0
			local var_500_31 = 0.75

			if var_500_30 < arg_497_1.time_ and arg_497_1.time_ <= var_500_30 + arg_500_0 then
				arg_497_1.talkMaxDuration = 0
				arg_497_1.dialogCg_.alpha = 1

				arg_497_1.dialog_:SetActive(true)
				SetActive(arg_497_1.leftNameGo_, true)

				local var_500_32 = arg_497_1:FormatText(StoryNameCfg[670].name)

				arg_497_1.leftNameTxt_.text = var_500_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_497_1.leftNameTxt_.transform)

				arg_497_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_497_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_497_1:RecordName(arg_497_1.leftNameTxt_.text)
				SetActive(arg_497_1.iconTrs_.gameObject, false)
				arg_497_1.callingController_:SetSelectedState("normal")

				local var_500_33 = arg_497_1:GetWordFromCfg(411121115)
				local var_500_34 = arg_497_1:FormatText(var_500_33.content)

				arg_497_1.text_.text = var_500_34

				LuaForUtil.ClearLinePrefixSymbol(arg_497_1.text_)

				local var_500_35 = 30
				local var_500_36 = utf8.len(var_500_34)
				local var_500_37 = var_500_35 <= 0 and var_500_31 or var_500_31 * (var_500_36 / var_500_35)

				if var_500_37 > 0 and var_500_31 < var_500_37 then
					arg_497_1.talkMaxDuration = var_500_37

					if var_500_37 + var_500_30 > arg_497_1.duration_ then
						arg_497_1.duration_ = var_500_37 + var_500_30
					end
				end

				arg_497_1.text_.text = var_500_34
				arg_497_1.typewritter.percent = 0

				arg_497_1.typewritter:SetDirty()
				arg_497_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121115", "story_v_out_411121.awb") ~= 0 then
					local var_500_38 = manager.audio:GetVoiceLength("story_v_out_411121", "411121115", "story_v_out_411121.awb") / 1000

					if var_500_38 + var_500_30 > arg_497_1.duration_ then
						arg_497_1.duration_ = var_500_38 + var_500_30
					end

					if var_500_33.prefab_name ~= "" and arg_497_1.actors_[var_500_33.prefab_name] ~= nil then
						local var_500_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_497_1.actors_[var_500_33.prefab_name].transform, "story_v_out_411121", "411121115", "story_v_out_411121.awb")

						arg_497_1:RecordAudio("411121115", var_500_39)
						arg_497_1:RecordAudio("411121115", var_500_39)
					else
						arg_497_1:AudioAction("play", "voice", "story_v_out_411121", "411121115", "story_v_out_411121.awb")
					end

					arg_497_1:RecordHistoryTalkVoice("story_v_out_411121", "411121115", "story_v_out_411121.awb")
				end

				arg_497_1:RecordContent(arg_497_1.text_.text)
			end

			local var_500_40 = math.max(var_500_31, arg_497_1.talkMaxDuration)

			if var_500_30 <= arg_497_1.time_ and arg_497_1.time_ < var_500_30 + var_500_40 then
				arg_497_1.typewritter.percent = (arg_497_1.time_ - var_500_30) / var_500_40

				arg_497_1.typewritter:SetDirty()
			end

			if arg_497_1.time_ >= var_500_30 + var_500_40 and arg_497_1.time_ < var_500_30 + var_500_40 + arg_500_0 then
				arg_497_1.typewritter.percent = 1

				arg_497_1.typewritter:SetDirty()
				arg_497_1:ShowNextGo(true)
			end
		end
	end,
	Play411121116 = function(arg_501_0, arg_501_1)
		arg_501_1.time_ = 0
		arg_501_1.frameCnt_ = 0
		arg_501_1.state_ = "playing"
		arg_501_1.curTalkId_ = 411121116
		arg_501_1.duration_ = 10.8

		local var_501_0 = {
			zh = 8.3,
			ja = 10.8
		}
		local var_501_1 = manager.audio:GetLocalizationFlag()

		if var_501_0[var_501_1] ~= nil then
			arg_501_1.duration_ = var_501_0[var_501_1]
		end

		SetActive(arg_501_1.tipsGo_, false)

		function arg_501_1.onSingleLineFinish_()
			arg_501_1.onSingleLineUpdate_ = nil
			arg_501_1.onSingleLineFinish_ = nil
			arg_501_1.state_ = "waiting"
		end

		function arg_501_1.playNext_(arg_503_0)
			if arg_503_0 == 1 then
				arg_501_0:Play411121117(arg_501_1)
			end
		end

		function arg_501_1.onSingleLineUpdate_(arg_504_0)
			local var_504_0 = 0
			local var_504_1 = 0.775

			if var_504_0 < arg_501_1.time_ and arg_501_1.time_ <= var_504_0 + arg_504_0 then
				arg_501_1.talkMaxDuration = 0
				arg_501_1.dialogCg_.alpha = 1

				arg_501_1.dialog_:SetActive(true)
				SetActive(arg_501_1.leftNameGo_, true)

				local var_504_2 = arg_501_1:FormatText(StoryNameCfg[670].name)

				arg_501_1.leftNameTxt_.text = var_504_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_501_1.leftNameTxt_.transform)

				arg_501_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_501_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_501_1:RecordName(arg_501_1.leftNameTxt_.text)
				SetActive(arg_501_1.iconTrs_.gameObject, false)
				arg_501_1.callingController_:SetSelectedState("normal")

				local var_504_3 = arg_501_1:GetWordFromCfg(411121116)
				local var_504_4 = arg_501_1:FormatText(var_504_3.content)

				arg_501_1.text_.text = var_504_4

				LuaForUtil.ClearLinePrefixSymbol(arg_501_1.text_)

				local var_504_5 = 31
				local var_504_6 = utf8.len(var_504_4)
				local var_504_7 = var_504_5 <= 0 and var_504_1 or var_504_1 * (var_504_6 / var_504_5)

				if var_504_7 > 0 and var_504_1 < var_504_7 then
					arg_501_1.talkMaxDuration = var_504_7

					if var_504_7 + var_504_0 > arg_501_1.duration_ then
						arg_501_1.duration_ = var_504_7 + var_504_0
					end
				end

				arg_501_1.text_.text = var_504_4
				arg_501_1.typewritter.percent = 0

				arg_501_1.typewritter:SetDirty()
				arg_501_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121116", "story_v_out_411121.awb") ~= 0 then
					local var_504_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121116", "story_v_out_411121.awb") / 1000

					if var_504_8 + var_504_0 > arg_501_1.duration_ then
						arg_501_1.duration_ = var_504_8 + var_504_0
					end

					if var_504_3.prefab_name ~= "" and arg_501_1.actors_[var_504_3.prefab_name] ~= nil then
						local var_504_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_501_1.actors_[var_504_3.prefab_name].transform, "story_v_out_411121", "411121116", "story_v_out_411121.awb")

						arg_501_1:RecordAudio("411121116", var_504_9)
						arg_501_1:RecordAudio("411121116", var_504_9)
					else
						arg_501_1:AudioAction("play", "voice", "story_v_out_411121", "411121116", "story_v_out_411121.awb")
					end

					arg_501_1:RecordHistoryTalkVoice("story_v_out_411121", "411121116", "story_v_out_411121.awb")
				end

				arg_501_1:RecordContent(arg_501_1.text_.text)
			end

			local var_504_10 = math.max(var_504_1, arg_501_1.talkMaxDuration)

			if var_504_0 <= arg_501_1.time_ and arg_501_1.time_ < var_504_0 + var_504_10 then
				arg_501_1.typewritter.percent = (arg_501_1.time_ - var_504_0) / var_504_10

				arg_501_1.typewritter:SetDirty()
			end

			if arg_501_1.time_ >= var_504_0 + var_504_10 and arg_501_1.time_ < var_504_0 + var_504_10 + arg_504_0 then
				arg_501_1.typewritter.percent = 1

				arg_501_1.typewritter:SetDirty()
				arg_501_1:ShowNextGo(true)
			end
		end
	end,
	Play411121117 = function(arg_505_0, arg_505_1)
		arg_505_1.time_ = 0
		arg_505_1.frameCnt_ = 0
		arg_505_1.state_ = "playing"
		arg_505_1.curTalkId_ = 411121117
		arg_505_1.duration_ = 6.33

		local var_505_0 = {
			zh = 6.333,
			ja = 5.7
		}
		local var_505_1 = manager.audio:GetLocalizationFlag()

		if var_505_0[var_505_1] ~= nil then
			arg_505_1.duration_ = var_505_0[var_505_1]
		end

		SetActive(arg_505_1.tipsGo_, false)

		function arg_505_1.onSingleLineFinish_()
			arg_505_1.onSingleLineUpdate_ = nil
			arg_505_1.onSingleLineFinish_ = nil
			arg_505_1.state_ = "waiting"
		end

		function arg_505_1.playNext_(arg_507_0)
			if arg_507_0 == 1 then
				arg_505_0:Play411121118(arg_505_1)
			end
		end

		function arg_505_1.onSingleLineUpdate_(arg_508_0)
			local var_508_0 = 0
			local var_508_1 = 0.675

			if var_508_0 < arg_505_1.time_ and arg_505_1.time_ <= var_508_0 + arg_508_0 then
				arg_505_1.talkMaxDuration = 0
				arg_505_1.dialogCg_.alpha = 1

				arg_505_1.dialog_:SetActive(true)
				SetActive(arg_505_1.leftNameGo_, true)

				local var_508_2 = arg_505_1:FormatText(StoryNameCfg[670].name)

				arg_505_1.leftNameTxt_.text = var_508_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_505_1.leftNameTxt_.transform)

				arg_505_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_505_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_505_1:RecordName(arg_505_1.leftNameTxt_.text)
				SetActive(arg_505_1.iconTrs_.gameObject, false)
				arg_505_1.callingController_:SetSelectedState("normal")

				local var_508_3 = arg_505_1:GetWordFromCfg(411121117)
				local var_508_4 = arg_505_1:FormatText(var_508_3.content)

				arg_505_1.text_.text = var_508_4

				LuaForUtil.ClearLinePrefixSymbol(arg_505_1.text_)

				local var_508_5 = 27
				local var_508_6 = utf8.len(var_508_4)
				local var_508_7 = var_508_5 <= 0 and var_508_1 or var_508_1 * (var_508_6 / var_508_5)

				if var_508_7 > 0 and var_508_1 < var_508_7 then
					arg_505_1.talkMaxDuration = var_508_7

					if var_508_7 + var_508_0 > arg_505_1.duration_ then
						arg_505_1.duration_ = var_508_7 + var_508_0
					end
				end

				arg_505_1.text_.text = var_508_4
				arg_505_1.typewritter.percent = 0

				arg_505_1.typewritter:SetDirty()
				arg_505_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121117", "story_v_out_411121.awb") ~= 0 then
					local var_508_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121117", "story_v_out_411121.awb") / 1000

					if var_508_8 + var_508_0 > arg_505_1.duration_ then
						arg_505_1.duration_ = var_508_8 + var_508_0
					end

					if var_508_3.prefab_name ~= "" and arg_505_1.actors_[var_508_3.prefab_name] ~= nil then
						local var_508_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_505_1.actors_[var_508_3.prefab_name].transform, "story_v_out_411121", "411121117", "story_v_out_411121.awb")

						arg_505_1:RecordAudio("411121117", var_508_9)
						arg_505_1:RecordAudio("411121117", var_508_9)
					else
						arg_505_1:AudioAction("play", "voice", "story_v_out_411121", "411121117", "story_v_out_411121.awb")
					end

					arg_505_1:RecordHistoryTalkVoice("story_v_out_411121", "411121117", "story_v_out_411121.awb")
				end

				arg_505_1:RecordContent(arg_505_1.text_.text)
			end

			local var_508_10 = math.max(var_508_1, arg_505_1.talkMaxDuration)

			if var_508_0 <= arg_505_1.time_ and arg_505_1.time_ < var_508_0 + var_508_10 then
				arg_505_1.typewritter.percent = (arg_505_1.time_ - var_508_0) / var_508_10

				arg_505_1.typewritter:SetDirty()
			end

			if arg_505_1.time_ >= var_508_0 + var_508_10 and arg_505_1.time_ < var_508_0 + var_508_10 + arg_508_0 then
				arg_505_1.typewritter.percent = 1

				arg_505_1.typewritter:SetDirty()
				arg_505_1:ShowNextGo(true)
			end
		end
	end,
	Play411121118 = function(arg_509_0, arg_509_1)
		arg_509_1.time_ = 0
		arg_509_1.frameCnt_ = 0
		arg_509_1.state_ = "playing"
		arg_509_1.curTalkId_ = 411121118
		arg_509_1.duration_ = 7.03

		local var_509_0 = {
			zh = 7.033,
			ja = 5.1
		}
		local var_509_1 = manager.audio:GetLocalizationFlag()

		if var_509_0[var_509_1] ~= nil then
			arg_509_1.duration_ = var_509_0[var_509_1]
		end

		SetActive(arg_509_1.tipsGo_, false)

		function arg_509_1.onSingleLineFinish_()
			arg_509_1.onSingleLineUpdate_ = nil
			arg_509_1.onSingleLineFinish_ = nil
			arg_509_1.state_ = "waiting"
		end

		function arg_509_1.playNext_(arg_511_0)
			if arg_511_0 == 1 then
				arg_509_0:Play411121119(arg_509_1)
			end
		end

		function arg_509_1.onSingleLineUpdate_(arg_512_0)
			local var_512_0 = 0
			local var_512_1 = 0.525

			if var_512_0 < arg_509_1.time_ and arg_509_1.time_ <= var_512_0 + arg_512_0 then
				arg_509_1.talkMaxDuration = 0
				arg_509_1.dialogCg_.alpha = 1

				arg_509_1.dialog_:SetActive(true)
				SetActive(arg_509_1.leftNameGo_, true)

				local var_512_2 = arg_509_1:FormatText(StoryNameCfg[670].name)

				arg_509_1.leftNameTxt_.text = var_512_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_509_1.leftNameTxt_.transform)

				arg_509_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_509_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_509_1:RecordName(arg_509_1.leftNameTxt_.text)
				SetActive(arg_509_1.iconTrs_.gameObject, false)
				arg_509_1.callingController_:SetSelectedState("normal")

				local var_512_3 = arg_509_1:GetWordFromCfg(411121118)
				local var_512_4 = arg_509_1:FormatText(var_512_3.content)

				arg_509_1.text_.text = var_512_4

				LuaForUtil.ClearLinePrefixSymbol(arg_509_1.text_)

				local var_512_5 = 21
				local var_512_6 = utf8.len(var_512_4)
				local var_512_7 = var_512_5 <= 0 and var_512_1 or var_512_1 * (var_512_6 / var_512_5)

				if var_512_7 > 0 and var_512_1 < var_512_7 then
					arg_509_1.talkMaxDuration = var_512_7

					if var_512_7 + var_512_0 > arg_509_1.duration_ then
						arg_509_1.duration_ = var_512_7 + var_512_0
					end
				end

				arg_509_1.text_.text = var_512_4
				arg_509_1.typewritter.percent = 0

				arg_509_1.typewritter:SetDirty()
				arg_509_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121118", "story_v_out_411121.awb") ~= 0 then
					local var_512_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121118", "story_v_out_411121.awb") / 1000

					if var_512_8 + var_512_0 > arg_509_1.duration_ then
						arg_509_1.duration_ = var_512_8 + var_512_0
					end

					if var_512_3.prefab_name ~= "" and arg_509_1.actors_[var_512_3.prefab_name] ~= nil then
						local var_512_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_509_1.actors_[var_512_3.prefab_name].transform, "story_v_out_411121", "411121118", "story_v_out_411121.awb")

						arg_509_1:RecordAudio("411121118", var_512_9)
						arg_509_1:RecordAudio("411121118", var_512_9)
					else
						arg_509_1:AudioAction("play", "voice", "story_v_out_411121", "411121118", "story_v_out_411121.awb")
					end

					arg_509_1:RecordHistoryTalkVoice("story_v_out_411121", "411121118", "story_v_out_411121.awb")
				end

				arg_509_1:RecordContent(arg_509_1.text_.text)
			end

			local var_512_10 = math.max(var_512_1, arg_509_1.talkMaxDuration)

			if var_512_0 <= arg_509_1.time_ and arg_509_1.time_ < var_512_0 + var_512_10 then
				arg_509_1.typewritter.percent = (arg_509_1.time_ - var_512_0) / var_512_10

				arg_509_1.typewritter:SetDirty()
			end

			if arg_509_1.time_ >= var_512_0 + var_512_10 and arg_509_1.time_ < var_512_0 + var_512_10 + arg_512_0 then
				arg_509_1.typewritter.percent = 1

				arg_509_1.typewritter:SetDirty()
				arg_509_1:ShowNextGo(true)
			end
		end
	end,
	Play411121119 = function(arg_513_0, arg_513_1)
		arg_513_1.time_ = 0
		arg_513_1.frameCnt_ = 0
		arg_513_1.state_ = "playing"
		arg_513_1.curTalkId_ = 411121119
		arg_513_1.duration_ = 3.5

		local var_513_0 = {
			zh = 3.5,
			ja = 1.999999999999
		}
		local var_513_1 = manager.audio:GetLocalizationFlag()

		if var_513_0[var_513_1] ~= nil then
			arg_513_1.duration_ = var_513_0[var_513_1]
		end

		SetActive(arg_513_1.tipsGo_, false)

		function arg_513_1.onSingleLineFinish_()
			arg_513_1.onSingleLineUpdate_ = nil
			arg_513_1.onSingleLineFinish_ = nil
			arg_513_1.state_ = "waiting"
		end

		function arg_513_1.playNext_(arg_515_0)
			if arg_515_0 == 1 then
				arg_513_0:Play411121120(arg_513_1)
			end
		end

		function arg_513_1.onSingleLineUpdate_(arg_516_0)
			local var_516_0 = arg_513_1.actors_["1095ui_story"]
			local var_516_1 = 0

			if var_516_1 < arg_513_1.time_ and arg_513_1.time_ <= var_516_1 + arg_516_0 and not isNil(var_516_0) and arg_513_1.var_.characterEffect1095ui_story == nil then
				arg_513_1.var_.characterEffect1095ui_story = var_516_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_516_2 = 0.200000002980232

			if var_516_1 <= arg_513_1.time_ and arg_513_1.time_ < var_516_1 + var_516_2 and not isNil(var_516_0) then
				local var_516_3 = (arg_513_1.time_ - var_516_1) / var_516_2

				if arg_513_1.var_.characterEffect1095ui_story and not isNil(var_516_0) then
					arg_513_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_513_1.time_ >= var_516_1 + var_516_2 and arg_513_1.time_ < var_516_1 + var_516_2 + arg_516_0 and not isNil(var_516_0) and arg_513_1.var_.characterEffect1095ui_story then
				arg_513_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_516_4 = arg_513_1.actors_["10071ui_story"]
			local var_516_5 = 0

			if var_516_5 < arg_513_1.time_ and arg_513_1.time_ <= var_516_5 + arg_516_0 and not isNil(var_516_4) and arg_513_1.var_.characterEffect10071ui_story == nil then
				arg_513_1.var_.characterEffect10071ui_story = var_516_4:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_516_6 = 0.200000002980232

			if var_516_5 <= arg_513_1.time_ and arg_513_1.time_ < var_516_5 + var_516_6 and not isNil(var_516_4) then
				local var_516_7 = (arg_513_1.time_ - var_516_5) / var_516_6

				if arg_513_1.var_.characterEffect10071ui_story and not isNil(var_516_4) then
					local var_516_8 = Mathf.Lerp(0, 0.5, var_516_7)

					arg_513_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_513_1.var_.characterEffect10071ui_story.fillRatio = var_516_8
				end
			end

			if arg_513_1.time_ >= var_516_5 + var_516_6 and arg_513_1.time_ < var_516_5 + var_516_6 + arg_516_0 and not isNil(var_516_4) and arg_513_1.var_.characterEffect10071ui_story then
				local var_516_9 = 0.5

				arg_513_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_513_1.var_.characterEffect10071ui_story.fillRatio = var_516_9
			end

			local var_516_10 = 0

			if var_516_10 < arg_513_1.time_ and arg_513_1.time_ <= var_516_10 + arg_516_0 then
				arg_513_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface1101cva")
			end

			local var_516_11 = 0
			local var_516_12 = 0.325

			if var_516_11 < arg_513_1.time_ and arg_513_1.time_ <= var_516_11 + arg_516_0 then
				arg_513_1.talkMaxDuration = 0
				arg_513_1.dialogCg_.alpha = 1

				arg_513_1.dialog_:SetActive(true)
				SetActive(arg_513_1.leftNameGo_, true)

				local var_516_13 = arg_513_1:FormatText(StoryNameCfg[471].name)

				arg_513_1.leftNameTxt_.text = var_516_13

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_513_1.leftNameTxt_.transform)

				arg_513_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_513_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_513_1:RecordName(arg_513_1.leftNameTxt_.text)
				SetActive(arg_513_1.iconTrs_.gameObject, false)
				arg_513_1.callingController_:SetSelectedState("normal")

				local var_516_14 = arg_513_1:GetWordFromCfg(411121119)
				local var_516_15 = arg_513_1:FormatText(var_516_14.content)

				arg_513_1.text_.text = var_516_15

				LuaForUtil.ClearLinePrefixSymbol(arg_513_1.text_)

				local var_516_16 = 13
				local var_516_17 = utf8.len(var_516_15)
				local var_516_18 = var_516_16 <= 0 and var_516_12 or var_516_12 * (var_516_17 / var_516_16)

				if var_516_18 > 0 and var_516_12 < var_516_18 then
					arg_513_1.talkMaxDuration = var_516_18

					if var_516_18 + var_516_11 > arg_513_1.duration_ then
						arg_513_1.duration_ = var_516_18 + var_516_11
					end
				end

				arg_513_1.text_.text = var_516_15
				arg_513_1.typewritter.percent = 0

				arg_513_1.typewritter:SetDirty()
				arg_513_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121119", "story_v_out_411121.awb") ~= 0 then
					local var_516_19 = manager.audio:GetVoiceLength("story_v_out_411121", "411121119", "story_v_out_411121.awb") / 1000

					if var_516_19 + var_516_11 > arg_513_1.duration_ then
						arg_513_1.duration_ = var_516_19 + var_516_11
					end

					if var_516_14.prefab_name ~= "" and arg_513_1.actors_[var_516_14.prefab_name] ~= nil then
						local var_516_20 = LuaForUtil.PlayVoiceWithCriLipsync(arg_513_1.actors_[var_516_14.prefab_name].transform, "story_v_out_411121", "411121119", "story_v_out_411121.awb")

						arg_513_1:RecordAudio("411121119", var_516_20)
						arg_513_1:RecordAudio("411121119", var_516_20)
					else
						arg_513_1:AudioAction("play", "voice", "story_v_out_411121", "411121119", "story_v_out_411121.awb")
					end

					arg_513_1:RecordHistoryTalkVoice("story_v_out_411121", "411121119", "story_v_out_411121.awb")
				end

				arg_513_1:RecordContent(arg_513_1.text_.text)
			end

			local var_516_21 = math.max(var_516_12, arg_513_1.talkMaxDuration)

			if var_516_11 <= arg_513_1.time_ and arg_513_1.time_ < var_516_11 + var_516_21 then
				arg_513_1.typewritter.percent = (arg_513_1.time_ - var_516_11) / var_516_21

				arg_513_1.typewritter:SetDirty()
			end

			if arg_513_1.time_ >= var_516_11 + var_516_21 and arg_513_1.time_ < var_516_11 + var_516_21 + arg_516_0 then
				arg_513_1.typewritter.percent = 1

				arg_513_1.typewritter:SetDirty()
				arg_513_1:ShowNextGo(true)
			end
		end
	end,
	Play411121120 = function(arg_517_0, arg_517_1)
		arg_517_1.time_ = 0
		arg_517_1.frameCnt_ = 0
		arg_517_1.state_ = "playing"
		arg_517_1.curTalkId_ = 411121120
		arg_517_1.duration_ = 4.7

		SetActive(arg_517_1.tipsGo_, false)

		function arg_517_1.onSingleLineFinish_()
			arg_517_1.onSingleLineUpdate_ = nil
			arg_517_1.onSingleLineFinish_ = nil
			arg_517_1.state_ = "waiting"
		end

		function arg_517_1.playNext_(arg_519_0)
			if arg_519_0 == 1 then
				arg_517_0:Play411121121(arg_517_1)
			end
		end

		function arg_517_1.onSingleLineUpdate_(arg_520_0)
			local var_520_0 = 0
			local var_520_1 = 0.475

			if var_520_0 < arg_517_1.time_ and arg_517_1.time_ <= var_520_0 + arg_520_0 then
				arg_517_1.talkMaxDuration = 0
				arg_517_1.dialogCg_.alpha = 1

				arg_517_1.dialog_:SetActive(true)
				SetActive(arg_517_1.leftNameGo_, true)

				local var_520_2 = arg_517_1:FormatText(StoryNameCfg[471].name)

				arg_517_1.leftNameTxt_.text = var_520_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_517_1.leftNameTxt_.transform)

				arg_517_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_517_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_517_1:RecordName(arg_517_1.leftNameTxt_.text)
				SetActive(arg_517_1.iconTrs_.gameObject, false)
				arg_517_1.callingController_:SetSelectedState("normal")

				local var_520_3 = arg_517_1:GetWordFromCfg(411121120)
				local var_520_4 = arg_517_1:FormatText(var_520_3.content)

				arg_517_1.text_.text = var_520_4

				LuaForUtil.ClearLinePrefixSymbol(arg_517_1.text_)

				local var_520_5 = 19
				local var_520_6 = utf8.len(var_520_4)
				local var_520_7 = var_520_5 <= 0 and var_520_1 or var_520_1 * (var_520_6 / var_520_5)

				if var_520_7 > 0 and var_520_1 < var_520_7 then
					arg_517_1.talkMaxDuration = var_520_7

					if var_520_7 + var_520_0 > arg_517_1.duration_ then
						arg_517_1.duration_ = var_520_7 + var_520_0
					end
				end

				arg_517_1.text_.text = var_520_4
				arg_517_1.typewritter.percent = 0

				arg_517_1.typewritter:SetDirty()
				arg_517_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121120", "story_v_out_411121.awb") ~= 0 then
					local var_520_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121120", "story_v_out_411121.awb") / 1000

					if var_520_8 + var_520_0 > arg_517_1.duration_ then
						arg_517_1.duration_ = var_520_8 + var_520_0
					end

					if var_520_3.prefab_name ~= "" and arg_517_1.actors_[var_520_3.prefab_name] ~= nil then
						local var_520_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_517_1.actors_[var_520_3.prefab_name].transform, "story_v_out_411121", "411121120", "story_v_out_411121.awb")

						arg_517_1:RecordAudio("411121120", var_520_9)
						arg_517_1:RecordAudio("411121120", var_520_9)
					else
						arg_517_1:AudioAction("play", "voice", "story_v_out_411121", "411121120", "story_v_out_411121.awb")
					end

					arg_517_1:RecordHistoryTalkVoice("story_v_out_411121", "411121120", "story_v_out_411121.awb")
				end

				arg_517_1:RecordContent(arg_517_1.text_.text)
			end

			local var_520_10 = math.max(var_520_1, arg_517_1.talkMaxDuration)

			if var_520_0 <= arg_517_1.time_ and arg_517_1.time_ < var_520_0 + var_520_10 then
				arg_517_1.typewritter.percent = (arg_517_1.time_ - var_520_0) / var_520_10

				arg_517_1.typewritter:SetDirty()
			end

			if arg_517_1.time_ >= var_520_0 + var_520_10 and arg_517_1.time_ < var_520_0 + var_520_10 + arg_520_0 then
				arg_517_1.typewritter.percent = 1

				arg_517_1.typewritter:SetDirty()
				arg_517_1:ShowNextGo(true)
			end
		end
	end,
	Play411121121 = function(arg_521_0, arg_521_1)
		arg_521_1.time_ = 0
		arg_521_1.frameCnt_ = 0
		arg_521_1.state_ = "playing"
		arg_521_1.curTalkId_ = 411121121
		arg_521_1.duration_ = 15.73

		local var_521_0 = {
			zh = 10.833,
			ja = 15.733
		}
		local var_521_1 = manager.audio:GetLocalizationFlag()

		if var_521_0[var_521_1] ~= nil then
			arg_521_1.duration_ = var_521_0[var_521_1]
		end

		SetActive(arg_521_1.tipsGo_, false)

		function arg_521_1.onSingleLineFinish_()
			arg_521_1.onSingleLineUpdate_ = nil
			arg_521_1.onSingleLineFinish_ = nil
			arg_521_1.state_ = "waiting"
		end

		function arg_521_1.playNext_(arg_523_0)
			if arg_523_0 == 1 then
				arg_521_0:Play411121122(arg_521_1)
			end
		end

		function arg_521_1.onSingleLineUpdate_(arg_524_0)
			local var_524_0 = 0
			local var_524_1 = 1.075

			if var_524_0 < arg_521_1.time_ and arg_521_1.time_ <= var_524_0 + arg_524_0 then
				arg_521_1.talkMaxDuration = 0
				arg_521_1.dialogCg_.alpha = 1

				arg_521_1.dialog_:SetActive(true)
				SetActive(arg_521_1.leftNameGo_, true)

				local var_524_2 = arg_521_1:FormatText(StoryNameCfg[471].name)

				arg_521_1.leftNameTxt_.text = var_524_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_521_1.leftNameTxt_.transform)

				arg_521_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_521_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_521_1:RecordName(arg_521_1.leftNameTxt_.text)
				SetActive(arg_521_1.iconTrs_.gameObject, false)
				arg_521_1.callingController_:SetSelectedState("normal")

				local var_524_3 = arg_521_1:GetWordFromCfg(411121121)
				local var_524_4 = arg_521_1:FormatText(var_524_3.content)

				arg_521_1.text_.text = var_524_4

				LuaForUtil.ClearLinePrefixSymbol(arg_521_1.text_)

				local var_524_5 = 43
				local var_524_6 = utf8.len(var_524_4)
				local var_524_7 = var_524_5 <= 0 and var_524_1 or var_524_1 * (var_524_6 / var_524_5)

				if var_524_7 > 0 and var_524_1 < var_524_7 then
					arg_521_1.talkMaxDuration = var_524_7

					if var_524_7 + var_524_0 > arg_521_1.duration_ then
						arg_521_1.duration_ = var_524_7 + var_524_0
					end
				end

				arg_521_1.text_.text = var_524_4
				arg_521_1.typewritter.percent = 0

				arg_521_1.typewritter:SetDirty()
				arg_521_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121121", "story_v_out_411121.awb") ~= 0 then
					local var_524_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121121", "story_v_out_411121.awb") / 1000

					if var_524_8 + var_524_0 > arg_521_1.duration_ then
						arg_521_1.duration_ = var_524_8 + var_524_0
					end

					if var_524_3.prefab_name ~= "" and arg_521_1.actors_[var_524_3.prefab_name] ~= nil then
						local var_524_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_521_1.actors_[var_524_3.prefab_name].transform, "story_v_out_411121", "411121121", "story_v_out_411121.awb")

						arg_521_1:RecordAudio("411121121", var_524_9)
						arg_521_1:RecordAudio("411121121", var_524_9)
					else
						arg_521_1:AudioAction("play", "voice", "story_v_out_411121", "411121121", "story_v_out_411121.awb")
					end

					arg_521_1:RecordHistoryTalkVoice("story_v_out_411121", "411121121", "story_v_out_411121.awb")
				end

				arg_521_1:RecordContent(arg_521_1.text_.text)
			end

			local var_524_10 = math.max(var_524_1, arg_521_1.talkMaxDuration)

			if var_524_0 <= arg_521_1.time_ and arg_521_1.time_ < var_524_0 + var_524_10 then
				arg_521_1.typewritter.percent = (arg_521_1.time_ - var_524_0) / var_524_10

				arg_521_1.typewritter:SetDirty()
			end

			if arg_521_1.time_ >= var_524_0 + var_524_10 and arg_521_1.time_ < var_524_0 + var_524_10 + arg_524_0 then
				arg_521_1.typewritter.percent = 1

				arg_521_1.typewritter:SetDirty()
				arg_521_1:ShowNextGo(true)
			end
		end
	end,
	Play411121122 = function(arg_525_0, arg_525_1)
		arg_525_1.time_ = 0
		arg_525_1.frameCnt_ = 0
		arg_525_1.state_ = "playing"
		arg_525_1.curTalkId_ = 411121122
		arg_525_1.duration_ = 8.9

		local var_525_0 = {
			zh = 8,
			ja = 8.9
		}
		local var_525_1 = manager.audio:GetLocalizationFlag()

		if var_525_0[var_525_1] ~= nil then
			arg_525_1.duration_ = var_525_0[var_525_1]
		end

		SetActive(arg_525_1.tipsGo_, false)

		function arg_525_1.onSingleLineFinish_()
			arg_525_1.onSingleLineUpdate_ = nil
			arg_525_1.onSingleLineFinish_ = nil
			arg_525_1.state_ = "waiting"
		end

		function arg_525_1.playNext_(arg_527_0)
			if arg_527_0 == 1 then
				arg_525_0:Play411121123(arg_525_1)
			end
		end

		function arg_525_1.onSingleLineUpdate_(arg_528_0)
			local var_528_0 = arg_525_1.actors_["1095ui_story"].transform
			local var_528_1 = 0

			if var_528_1 < arg_525_1.time_ and arg_525_1.time_ <= var_528_1 + arg_528_0 then
				arg_525_1.var_.moveOldPos1095ui_story = var_528_0.localPosition
			end

			local var_528_2 = 0.001

			if var_528_1 <= arg_525_1.time_ and arg_525_1.time_ < var_528_1 + var_528_2 then
				local var_528_3 = (arg_525_1.time_ - var_528_1) / var_528_2
				local var_528_4 = Vector3.New(-0.7, -0.98, -6.1)

				var_528_0.localPosition = Vector3.Lerp(arg_525_1.var_.moveOldPos1095ui_story, var_528_4, var_528_3)

				local var_528_5 = manager.ui.mainCamera.transform.position - var_528_0.position

				var_528_0.forward = Vector3.New(var_528_5.x, var_528_5.y, var_528_5.z)

				local var_528_6 = var_528_0.localEulerAngles

				var_528_6.z = 0
				var_528_6.x = 0
				var_528_0.localEulerAngles = var_528_6
			end

			if arg_525_1.time_ >= var_528_1 + var_528_2 and arg_525_1.time_ < var_528_1 + var_528_2 + arg_528_0 then
				var_528_0.localPosition = Vector3.New(-0.7, -0.98, -6.1)

				local var_528_7 = manager.ui.mainCamera.transform.position - var_528_0.position

				var_528_0.forward = Vector3.New(var_528_7.x, var_528_7.y, var_528_7.z)

				local var_528_8 = var_528_0.localEulerAngles

				var_528_8.z = 0
				var_528_8.x = 0
				var_528_0.localEulerAngles = var_528_8
			end

			local var_528_9 = "10058ui_story"

			if arg_525_1.actors_[var_528_9] == nil then
				local var_528_10 = Asset.Load("Char/" .. "10058ui_story")

				if not isNil(var_528_10) then
					local var_528_11 = Object.Instantiate(Asset.Load("Char/" .. "10058ui_story"), arg_525_1.stage_.transform)

					var_528_11.name = var_528_9
					var_528_11.transform.localPosition = Vector3.New(0, 100, 0)
					arg_525_1.actors_[var_528_9] = var_528_11

					local var_528_12 = var_528_11:GetComponentInChildren(typeof(CharacterEffect))

					var_528_12.enabled = true

					local var_528_13 = GameObjectTools.GetOrAddComponent(var_528_11, typeof(DynamicBoneHelper))

					if var_528_13 then
						var_528_13:EnableDynamicBone(false)
					end

					arg_525_1:ShowWeapon(var_528_12.transform, false)

					arg_525_1.var_[var_528_9 .. "Animator"] = var_528_12.gameObject:GetComponent(typeof(UnityEngine.Animator))
					arg_525_1.var_[var_528_9 .. "Animator"].applyRootMotion = true
					arg_525_1.var_[var_528_9 .. "LipSync"] = var_528_12.gameObject:GetComponentInChildren(typeof(RogoDigital.Lipsync.LipSync))
				end
			end

			local var_528_14 = arg_525_1.actors_["10058ui_story"]
			local var_528_15 = 0

			if var_528_15 < arg_525_1.time_ and arg_525_1.time_ <= var_528_15 + arg_528_0 and not isNil(var_528_14) and arg_525_1.var_.characterEffect10058ui_story == nil then
				arg_525_1.var_.characterEffect10058ui_story = var_528_14:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_528_16 = 0.200000002980232

			if var_528_15 <= arg_525_1.time_ and arg_525_1.time_ < var_528_15 + var_528_16 and not isNil(var_528_14) then
				local var_528_17 = (arg_525_1.time_ - var_528_15) / var_528_16

				if arg_525_1.var_.characterEffect10058ui_story and not isNil(var_528_14) then
					arg_525_1.var_.characterEffect10058ui_story.fillFlat = false
				end
			end

			if arg_525_1.time_ >= var_528_15 + var_528_16 and arg_525_1.time_ < var_528_15 + var_528_16 + arg_528_0 and not isNil(var_528_14) and arg_525_1.var_.characterEffect10058ui_story then
				arg_525_1.var_.characterEffect10058ui_story.fillFlat = false
			end

			local var_528_18 = 0

			if var_528_18 < arg_525_1.time_ and arg_525_1.time_ <= var_528_18 + arg_528_0 then
				arg_525_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action4_1")
			end

			local var_528_19 = 0
			local var_528_20 = 0.825

			if var_528_19 < arg_525_1.time_ and arg_525_1.time_ <= var_528_19 + arg_528_0 then
				arg_525_1.talkMaxDuration = 0
				arg_525_1.dialogCg_.alpha = 1

				arg_525_1.dialog_:SetActive(true)
				SetActive(arg_525_1.leftNameGo_, true)

				local var_528_21 = arg_525_1:FormatText(StoryNameCfg[471].name)

				arg_525_1.leftNameTxt_.text = var_528_21

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_525_1.leftNameTxt_.transform)

				arg_525_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_525_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_525_1:RecordName(arg_525_1.leftNameTxt_.text)
				SetActive(arg_525_1.iconTrs_.gameObject, false)
				arg_525_1.callingController_:SetSelectedState("normal")

				local var_528_22 = arg_525_1:GetWordFromCfg(411121122)
				local var_528_23 = arg_525_1:FormatText(var_528_22.content)

				arg_525_1.text_.text = var_528_23

				LuaForUtil.ClearLinePrefixSymbol(arg_525_1.text_)

				local var_528_24 = 33
				local var_528_25 = utf8.len(var_528_23)
				local var_528_26 = var_528_24 <= 0 and var_528_20 or var_528_20 * (var_528_25 / var_528_24)

				if var_528_26 > 0 and var_528_20 < var_528_26 then
					arg_525_1.talkMaxDuration = var_528_26

					if var_528_26 + var_528_19 > arg_525_1.duration_ then
						arg_525_1.duration_ = var_528_26 + var_528_19
					end
				end

				arg_525_1.text_.text = var_528_23
				arg_525_1.typewritter.percent = 0

				arg_525_1.typewritter:SetDirty()
				arg_525_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121122", "story_v_out_411121.awb") ~= 0 then
					local var_528_27 = manager.audio:GetVoiceLength("story_v_out_411121", "411121122", "story_v_out_411121.awb") / 1000

					if var_528_27 + var_528_19 > arg_525_1.duration_ then
						arg_525_1.duration_ = var_528_27 + var_528_19
					end

					if var_528_22.prefab_name ~= "" and arg_525_1.actors_[var_528_22.prefab_name] ~= nil then
						local var_528_28 = LuaForUtil.PlayVoiceWithCriLipsync(arg_525_1.actors_[var_528_22.prefab_name].transform, "story_v_out_411121", "411121122", "story_v_out_411121.awb")

						arg_525_1:RecordAudio("411121122", var_528_28)
						arg_525_1:RecordAudio("411121122", var_528_28)
					else
						arg_525_1:AudioAction("play", "voice", "story_v_out_411121", "411121122", "story_v_out_411121.awb")
					end

					arg_525_1:RecordHistoryTalkVoice("story_v_out_411121", "411121122", "story_v_out_411121.awb")
				end

				arg_525_1:RecordContent(arg_525_1.text_.text)
			end

			local var_528_29 = math.max(var_528_20, arg_525_1.talkMaxDuration)

			if var_528_19 <= arg_525_1.time_ and arg_525_1.time_ < var_528_19 + var_528_29 then
				arg_525_1.typewritter.percent = (arg_525_1.time_ - var_528_19) / var_528_29

				arg_525_1.typewritter:SetDirty()
			end

			if arg_525_1.time_ >= var_528_19 + var_528_29 and arg_525_1.time_ < var_528_19 + var_528_29 + arg_528_0 then
				arg_525_1.typewritter.percent = 1

				arg_525_1.typewritter:SetDirty()
				arg_525_1:ShowNextGo(true)
			end
		end
	end,
	Play411121123 = function(arg_529_0, arg_529_1)
		arg_529_1.time_ = 0
		arg_529_1.frameCnt_ = 0
		arg_529_1.state_ = "playing"
		arg_529_1.curTalkId_ = 411121123
		arg_529_1.duration_ = 2

		local var_529_0 = {
			zh = 1.066,
			ja = 2
		}
		local var_529_1 = manager.audio:GetLocalizationFlag()

		if var_529_0[var_529_1] ~= nil then
			arg_529_1.duration_ = var_529_0[var_529_1]
		end

		SetActive(arg_529_1.tipsGo_, false)

		function arg_529_1.onSingleLineFinish_()
			arg_529_1.onSingleLineUpdate_ = nil
			arg_529_1.onSingleLineFinish_ = nil
			arg_529_1.state_ = "waiting"
		end

		function arg_529_1.playNext_(arg_531_0)
			if arg_531_0 == 1 then
				arg_529_0:Play411121124(arg_529_1)
			end
		end

		function arg_529_1.onSingleLineUpdate_(arg_532_0)
			local var_532_0 = arg_529_1.actors_["1095ui_story"]
			local var_532_1 = 0

			if var_532_1 < arg_529_1.time_ and arg_529_1.time_ <= var_532_1 + arg_532_0 and not isNil(var_532_0) and arg_529_1.var_.characterEffect1095ui_story == nil then
				arg_529_1.var_.characterEffect1095ui_story = var_532_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_532_2 = 0.200000002980232

			if var_532_1 <= arg_529_1.time_ and arg_529_1.time_ < var_532_1 + var_532_2 and not isNil(var_532_0) then
				local var_532_3 = (arg_529_1.time_ - var_532_1) / var_532_2

				if arg_529_1.var_.characterEffect1095ui_story and not isNil(var_532_0) then
					local var_532_4 = Mathf.Lerp(0, 0.5, var_532_3)

					arg_529_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_529_1.var_.characterEffect1095ui_story.fillRatio = var_532_4
				end
			end

			if arg_529_1.time_ >= var_532_1 + var_532_2 and arg_529_1.time_ < var_532_1 + var_532_2 + arg_532_0 and not isNil(var_532_0) and arg_529_1.var_.characterEffect1095ui_story then
				local var_532_5 = 0.5

				arg_529_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_529_1.var_.characterEffect1095ui_story.fillRatio = var_532_5
			end

			local var_532_6 = arg_529_1.actors_["10071ui_story"]
			local var_532_7 = 0

			if var_532_7 < arg_529_1.time_ and arg_529_1.time_ <= var_532_7 + arg_532_0 and not isNil(var_532_6) and arg_529_1.var_.characterEffect10071ui_story == nil then
				arg_529_1.var_.characterEffect10071ui_story = var_532_6:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_532_8 = 0.200000002980232

			if var_532_7 <= arg_529_1.time_ and arg_529_1.time_ < var_532_7 + var_532_8 and not isNil(var_532_6) then
				local var_532_9 = (arg_529_1.time_ - var_532_7) / var_532_8

				if arg_529_1.var_.characterEffect10071ui_story and not isNil(var_532_6) then
					arg_529_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_529_1.time_ >= var_532_7 + var_532_8 and arg_529_1.time_ < var_532_7 + var_532_8 + arg_532_0 and not isNil(var_532_6) and arg_529_1.var_.characterEffect10071ui_story then
				arg_529_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_532_10 = 0
			local var_532_11 = 0.05

			if var_532_10 < arg_529_1.time_ and arg_529_1.time_ <= var_532_10 + arg_532_0 then
				arg_529_1.talkMaxDuration = 0
				arg_529_1.dialogCg_.alpha = 1

				arg_529_1.dialog_:SetActive(true)
				SetActive(arg_529_1.leftNameGo_, true)

				local var_532_12 = arg_529_1:FormatText(StoryNameCfg[670].name)

				arg_529_1.leftNameTxt_.text = var_532_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_529_1.leftNameTxt_.transform)

				arg_529_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_529_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_529_1:RecordName(arg_529_1.leftNameTxt_.text)
				SetActive(arg_529_1.iconTrs_.gameObject, false)
				arg_529_1.callingController_:SetSelectedState("normal")

				local var_532_13 = arg_529_1:GetWordFromCfg(411121123)
				local var_532_14 = arg_529_1:FormatText(var_532_13.content)

				arg_529_1.text_.text = var_532_14

				LuaForUtil.ClearLinePrefixSymbol(arg_529_1.text_)

				local var_532_15 = 2
				local var_532_16 = utf8.len(var_532_14)
				local var_532_17 = var_532_15 <= 0 and var_532_11 or var_532_11 * (var_532_16 / var_532_15)

				if var_532_17 > 0 and var_532_11 < var_532_17 then
					arg_529_1.talkMaxDuration = var_532_17

					if var_532_17 + var_532_10 > arg_529_1.duration_ then
						arg_529_1.duration_ = var_532_17 + var_532_10
					end
				end

				arg_529_1.text_.text = var_532_14
				arg_529_1.typewritter.percent = 0

				arg_529_1.typewritter:SetDirty()
				arg_529_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121123", "story_v_out_411121.awb") ~= 0 then
					local var_532_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121123", "story_v_out_411121.awb") / 1000

					if var_532_18 + var_532_10 > arg_529_1.duration_ then
						arg_529_1.duration_ = var_532_18 + var_532_10
					end

					if var_532_13.prefab_name ~= "" and arg_529_1.actors_[var_532_13.prefab_name] ~= nil then
						local var_532_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_529_1.actors_[var_532_13.prefab_name].transform, "story_v_out_411121", "411121123", "story_v_out_411121.awb")

						arg_529_1:RecordAudio("411121123", var_532_19)
						arg_529_1:RecordAudio("411121123", var_532_19)
					else
						arg_529_1:AudioAction("play", "voice", "story_v_out_411121", "411121123", "story_v_out_411121.awb")
					end

					arg_529_1:RecordHistoryTalkVoice("story_v_out_411121", "411121123", "story_v_out_411121.awb")
				end

				arg_529_1:RecordContent(arg_529_1.text_.text)
			end

			local var_532_20 = math.max(var_532_11, arg_529_1.talkMaxDuration)

			if var_532_10 <= arg_529_1.time_ and arg_529_1.time_ < var_532_10 + var_532_20 then
				arg_529_1.typewritter.percent = (arg_529_1.time_ - var_532_10) / var_532_20

				arg_529_1.typewritter:SetDirty()
			end

			if arg_529_1.time_ >= var_532_10 + var_532_20 and arg_529_1.time_ < var_532_10 + var_532_20 + arg_532_0 then
				arg_529_1.typewritter.percent = 1

				arg_529_1.typewritter:SetDirty()
				arg_529_1:ShowNextGo(true)
			end
		end
	end,
	Play411121124 = function(arg_533_0, arg_533_1)
		arg_533_1.time_ = 0
		arg_533_1.frameCnt_ = 0
		arg_533_1.state_ = "playing"
		arg_533_1.curTalkId_ = 411121124
		arg_533_1.duration_ = 5

		SetActive(arg_533_1.tipsGo_, false)

		function arg_533_1.onSingleLineFinish_()
			arg_533_1.onSingleLineUpdate_ = nil
			arg_533_1.onSingleLineFinish_ = nil
			arg_533_1.state_ = "waiting"
		end

		function arg_533_1.playNext_(arg_535_0)
			if arg_535_0 == 1 then
				arg_533_0:Play411121125(arg_533_1)
			end
		end

		function arg_533_1.onSingleLineUpdate_(arg_536_0)
			local var_536_0 = 0
			local var_536_1 = 0.425

			if var_536_0 < arg_533_1.time_ and arg_533_1.time_ <= var_536_0 + arg_536_0 then
				arg_533_1.talkMaxDuration = 0
				arg_533_1.dialogCg_.alpha = 1

				arg_533_1.dialog_:SetActive(true)
				SetActive(arg_533_1.leftNameGo_, false)

				arg_533_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_533_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_533_1:RecordName(arg_533_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_533_1.iconTrs_.gameObject, false)
				arg_533_1.callingController_:SetSelectedState("normal")

				local var_536_2 = arg_533_1:GetWordFromCfg(411121124)
				local var_536_3 = arg_533_1:FormatText(var_536_2.content)

				arg_533_1.text_.text = var_536_3

				LuaForUtil.ClearLinePrefixSymbol(arg_533_1.text_)

				local var_536_4 = 17
				local var_536_5 = utf8.len(var_536_3)
				local var_536_6 = var_536_4 <= 0 and var_536_1 or var_536_1 * (var_536_5 / var_536_4)

				if var_536_6 > 0 and var_536_1 < var_536_6 then
					arg_533_1.talkMaxDuration = var_536_6

					if var_536_6 + var_536_0 > arg_533_1.duration_ then
						arg_533_1.duration_ = var_536_6 + var_536_0
					end
				end

				arg_533_1.text_.text = var_536_3
				arg_533_1.typewritter.percent = 0

				arg_533_1.typewritter:SetDirty()
				arg_533_1:ShowNextGo(false)
				arg_533_1:RecordContent(arg_533_1.text_.text)
			end

			local var_536_7 = math.max(var_536_1, arg_533_1.talkMaxDuration)

			if var_536_0 <= arg_533_1.time_ and arg_533_1.time_ < var_536_0 + var_536_7 then
				arg_533_1.typewritter.percent = (arg_533_1.time_ - var_536_0) / var_536_7

				arg_533_1.typewritter:SetDirty()
			end

			if arg_533_1.time_ >= var_536_0 + var_536_7 and arg_533_1.time_ < var_536_0 + var_536_7 + arg_536_0 then
				arg_533_1.typewritter.percent = 1

				arg_533_1.typewritter:SetDirty()
				arg_533_1:ShowNextGo(true)
			end
		end
	end,
	Play411121125 = function(arg_537_0, arg_537_1)
		arg_537_1.time_ = 0
		arg_537_1.frameCnt_ = 0
		arg_537_1.state_ = "playing"
		arg_537_1.curTalkId_ = 411121125
		arg_537_1.duration_ = 2

		SetActive(arg_537_1.tipsGo_, false)

		function arg_537_1.onSingleLineFinish_()
			arg_537_1.onSingleLineUpdate_ = nil
			arg_537_1.onSingleLineFinish_ = nil
			arg_537_1.state_ = "waiting"
		end

		function arg_537_1.playNext_(arg_539_0)
			if arg_539_0 == 1 then
				arg_537_0:Play411121126(arg_537_1)
			end
		end

		function arg_537_1.onSingleLineUpdate_(arg_540_0)
			local var_540_0 = arg_537_1.actors_["10071ui_story"].transform
			local var_540_1 = 0

			if var_540_1 < arg_537_1.time_ and arg_537_1.time_ <= var_540_1 + arg_540_0 then
				arg_537_1.var_.moveOldPos10071ui_story = var_540_0.localPosition
			end

			local var_540_2 = 0.001

			if var_540_1 <= arg_537_1.time_ and arg_537_1.time_ < var_540_1 + var_540_2 then
				local var_540_3 = (arg_537_1.time_ - var_540_1) / var_540_2
				local var_540_4 = Vector3.New(0.7, -0.9, -6.26)

				var_540_0.localPosition = Vector3.Lerp(arg_537_1.var_.moveOldPos10071ui_story, var_540_4, var_540_3)

				local var_540_5 = manager.ui.mainCamera.transform.position - var_540_0.position

				var_540_0.forward = Vector3.New(var_540_5.x, var_540_5.y, var_540_5.z)

				local var_540_6 = var_540_0.localEulerAngles

				var_540_6.z = 0
				var_540_6.x = 0
				var_540_0.localEulerAngles = var_540_6
			end

			if arg_537_1.time_ >= var_540_1 + var_540_2 and arg_537_1.time_ < var_540_1 + var_540_2 + arg_540_0 then
				var_540_0.localPosition = Vector3.New(0.7, -0.9, -6.26)

				local var_540_7 = manager.ui.mainCamera.transform.position - var_540_0.position

				var_540_0.forward = Vector3.New(var_540_7.x, var_540_7.y, var_540_7.z)

				local var_540_8 = var_540_0.localEulerAngles

				var_540_8.z = 0
				var_540_8.x = 0
				var_540_0.localEulerAngles = var_540_8
			end

			local var_540_9 = arg_537_1.actors_["10071ui_story"]
			local var_540_10 = 0

			if var_540_10 < arg_537_1.time_ and arg_537_1.time_ <= var_540_10 + arg_540_0 and not isNil(var_540_9) and arg_537_1.var_.characterEffect10071ui_story == nil then
				arg_537_1.var_.characterEffect10071ui_story = var_540_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_540_11 = 0.200000002980232

			if var_540_10 <= arg_537_1.time_ and arg_537_1.time_ < var_540_10 + var_540_11 and not isNil(var_540_9) then
				local var_540_12 = (arg_537_1.time_ - var_540_10) / var_540_11

				if arg_537_1.var_.characterEffect10071ui_story and not isNil(var_540_9) then
					arg_537_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_537_1.time_ >= var_540_10 + var_540_11 and arg_537_1.time_ < var_540_10 + var_540_11 + arg_540_0 and not isNil(var_540_9) and arg_537_1.var_.characterEffect10071ui_story then
				arg_537_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_540_13 = 0

			if var_540_13 < arg_537_1.time_ and arg_537_1.time_ <= var_540_13 + arg_540_0 then
				arg_537_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/story10071/story10071action/10071action3_1")
			end

			local var_540_14 = 0

			if var_540_14 < arg_537_1.time_ and arg_537_1.time_ <= var_540_14 + arg_540_0 then
				arg_537_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface1103cva")
			end

			local var_540_15 = 0
			local var_540_16 = 0.1

			if var_540_15 < arg_537_1.time_ and arg_537_1.time_ <= var_540_15 + arg_540_0 then
				arg_537_1.talkMaxDuration = 0
				arg_537_1.dialogCg_.alpha = 1

				arg_537_1.dialog_:SetActive(true)
				SetActive(arg_537_1.leftNameGo_, true)

				local var_540_17 = arg_537_1:FormatText(StoryNameCfg[670].name)

				arg_537_1.leftNameTxt_.text = var_540_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_537_1.leftNameTxt_.transform)

				arg_537_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_537_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_537_1:RecordName(arg_537_1.leftNameTxt_.text)
				SetActive(arg_537_1.iconTrs_.gameObject, false)
				arg_537_1.callingController_:SetSelectedState("normal")

				local var_540_18 = arg_537_1:GetWordFromCfg(411121125)
				local var_540_19 = arg_537_1:FormatText(var_540_18.content)

				arg_537_1.text_.text = var_540_19

				LuaForUtil.ClearLinePrefixSymbol(arg_537_1.text_)

				local var_540_20 = 4
				local var_540_21 = utf8.len(var_540_19)
				local var_540_22 = var_540_20 <= 0 and var_540_16 or var_540_16 * (var_540_21 / var_540_20)

				if var_540_22 > 0 and var_540_16 < var_540_22 then
					arg_537_1.talkMaxDuration = var_540_22

					if var_540_22 + var_540_15 > arg_537_1.duration_ then
						arg_537_1.duration_ = var_540_22 + var_540_15
					end
				end

				arg_537_1.text_.text = var_540_19
				arg_537_1.typewritter.percent = 0

				arg_537_1.typewritter:SetDirty()
				arg_537_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121125", "story_v_out_411121.awb") ~= 0 then
					local var_540_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121125", "story_v_out_411121.awb") / 1000

					if var_540_23 + var_540_15 > arg_537_1.duration_ then
						arg_537_1.duration_ = var_540_23 + var_540_15
					end

					if var_540_18.prefab_name ~= "" and arg_537_1.actors_[var_540_18.prefab_name] ~= nil then
						local var_540_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_537_1.actors_[var_540_18.prefab_name].transform, "story_v_out_411121", "411121125", "story_v_out_411121.awb")

						arg_537_1:RecordAudio("411121125", var_540_24)
						arg_537_1:RecordAudio("411121125", var_540_24)
					else
						arg_537_1:AudioAction("play", "voice", "story_v_out_411121", "411121125", "story_v_out_411121.awb")
					end

					arg_537_1:RecordHistoryTalkVoice("story_v_out_411121", "411121125", "story_v_out_411121.awb")
				end

				arg_537_1:RecordContent(arg_537_1.text_.text)
			end

			local var_540_25 = math.max(var_540_16, arg_537_1.talkMaxDuration)

			if var_540_15 <= arg_537_1.time_ and arg_537_1.time_ < var_540_15 + var_540_25 then
				arg_537_1.typewritter.percent = (arg_537_1.time_ - var_540_15) / var_540_25

				arg_537_1.typewritter:SetDirty()
			end

			if arg_537_1.time_ >= var_540_15 + var_540_25 and arg_537_1.time_ < var_540_15 + var_540_25 + arg_540_0 then
				arg_537_1.typewritter.percent = 1

				arg_537_1.typewritter:SetDirty()
				arg_537_1:ShowNextGo(true)
			end
		end
	end,
	Play411121126 = function(arg_541_0, arg_541_1)
		arg_541_1.time_ = 0
		arg_541_1.frameCnt_ = 0
		arg_541_1.state_ = "playing"
		arg_541_1.curTalkId_ = 411121126
		arg_541_1.duration_ = 7.1

		local var_541_0 = {
			zh = 6,
			ja = 7.1
		}
		local var_541_1 = manager.audio:GetLocalizationFlag()

		if var_541_0[var_541_1] ~= nil then
			arg_541_1.duration_ = var_541_0[var_541_1]
		end

		SetActive(arg_541_1.tipsGo_, false)

		function arg_541_1.onSingleLineFinish_()
			arg_541_1.onSingleLineUpdate_ = nil
			arg_541_1.onSingleLineFinish_ = nil
			arg_541_1.state_ = "waiting"
		end

		function arg_541_1.playNext_(arg_543_0)
			if arg_543_0 == 1 then
				arg_541_0:Play411121127(arg_541_1)
			end
		end

		function arg_541_1.onSingleLineUpdate_(arg_544_0)
			local var_544_0 = arg_541_1.actors_["1095ui_story"]
			local var_544_1 = 0

			if var_544_1 < arg_541_1.time_ and arg_541_1.time_ <= var_544_1 + arg_544_0 and not isNil(var_544_0) and arg_541_1.var_.characterEffect1095ui_story == nil then
				arg_541_1.var_.characterEffect1095ui_story = var_544_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_544_2 = 0.200000002980232

			if var_544_1 <= arg_541_1.time_ and arg_541_1.time_ < var_544_1 + var_544_2 and not isNil(var_544_0) then
				local var_544_3 = (arg_541_1.time_ - var_544_1) / var_544_2

				if arg_541_1.var_.characterEffect1095ui_story and not isNil(var_544_0) then
					arg_541_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_541_1.time_ >= var_544_1 + var_544_2 and arg_541_1.time_ < var_544_1 + var_544_2 + arg_544_0 and not isNil(var_544_0) and arg_541_1.var_.characterEffect1095ui_story then
				arg_541_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_544_4 = arg_541_1.actors_["10071ui_story"]
			local var_544_5 = 0

			if var_544_5 < arg_541_1.time_ and arg_541_1.time_ <= var_544_5 + arg_544_0 and not isNil(var_544_4) and arg_541_1.var_.characterEffect10071ui_story == nil then
				arg_541_1.var_.characterEffect10071ui_story = var_544_4:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_544_6 = 0.200000002980232

			if var_544_5 <= arg_541_1.time_ and arg_541_1.time_ < var_544_5 + var_544_6 and not isNil(var_544_4) then
				local var_544_7 = (arg_541_1.time_ - var_544_5) / var_544_6

				if arg_541_1.var_.characterEffect10071ui_story and not isNil(var_544_4) then
					local var_544_8 = Mathf.Lerp(0, 0.5, var_544_7)

					arg_541_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_541_1.var_.characterEffect10071ui_story.fillRatio = var_544_8
				end
			end

			if arg_541_1.time_ >= var_544_5 + var_544_6 and arg_541_1.time_ < var_544_5 + var_544_6 + arg_544_0 and not isNil(var_544_4) and arg_541_1.var_.characterEffect10071ui_story then
				local var_544_9 = 0.5

				arg_541_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_541_1.var_.characterEffect10071ui_story.fillRatio = var_544_9
			end

			local var_544_10 = 0

			if var_544_10 < arg_541_1.time_ and arg_541_1.time_ <= var_544_10 + arg_544_0 then
				arg_541_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface2101cva")
			end

			local var_544_11 = 0
			local var_544_12 = 0.575

			if var_544_11 < arg_541_1.time_ and arg_541_1.time_ <= var_544_11 + arg_544_0 then
				arg_541_1.talkMaxDuration = 0
				arg_541_1.dialogCg_.alpha = 1

				arg_541_1.dialog_:SetActive(true)
				SetActive(arg_541_1.leftNameGo_, true)

				local var_544_13 = arg_541_1:FormatText(StoryNameCfg[471].name)

				arg_541_1.leftNameTxt_.text = var_544_13

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_541_1.leftNameTxt_.transform)

				arg_541_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_541_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_541_1:RecordName(arg_541_1.leftNameTxt_.text)
				SetActive(arg_541_1.iconTrs_.gameObject, false)
				arg_541_1.callingController_:SetSelectedState("normal")

				local var_544_14 = arg_541_1:GetWordFromCfg(411121126)
				local var_544_15 = arg_541_1:FormatText(var_544_14.content)

				arg_541_1.text_.text = var_544_15

				LuaForUtil.ClearLinePrefixSymbol(arg_541_1.text_)

				local var_544_16 = 23
				local var_544_17 = utf8.len(var_544_15)
				local var_544_18 = var_544_16 <= 0 and var_544_12 or var_544_12 * (var_544_17 / var_544_16)

				if var_544_18 > 0 and var_544_12 < var_544_18 then
					arg_541_1.talkMaxDuration = var_544_18

					if var_544_18 + var_544_11 > arg_541_1.duration_ then
						arg_541_1.duration_ = var_544_18 + var_544_11
					end
				end

				arg_541_1.text_.text = var_544_15
				arg_541_1.typewritter.percent = 0

				arg_541_1.typewritter:SetDirty()
				arg_541_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121126", "story_v_out_411121.awb") ~= 0 then
					local var_544_19 = manager.audio:GetVoiceLength("story_v_out_411121", "411121126", "story_v_out_411121.awb") / 1000

					if var_544_19 + var_544_11 > arg_541_1.duration_ then
						arg_541_1.duration_ = var_544_19 + var_544_11
					end

					if var_544_14.prefab_name ~= "" and arg_541_1.actors_[var_544_14.prefab_name] ~= nil then
						local var_544_20 = LuaForUtil.PlayVoiceWithCriLipsync(arg_541_1.actors_[var_544_14.prefab_name].transform, "story_v_out_411121", "411121126", "story_v_out_411121.awb")

						arg_541_1:RecordAudio("411121126", var_544_20)
						arg_541_1:RecordAudio("411121126", var_544_20)
					else
						arg_541_1:AudioAction("play", "voice", "story_v_out_411121", "411121126", "story_v_out_411121.awb")
					end

					arg_541_1:RecordHistoryTalkVoice("story_v_out_411121", "411121126", "story_v_out_411121.awb")
				end

				arg_541_1:RecordContent(arg_541_1.text_.text)
			end

			local var_544_21 = math.max(var_544_12, arg_541_1.talkMaxDuration)

			if var_544_11 <= arg_541_1.time_ and arg_541_1.time_ < var_544_11 + var_544_21 then
				arg_541_1.typewritter.percent = (arg_541_1.time_ - var_544_11) / var_544_21

				arg_541_1.typewritter:SetDirty()
			end

			if arg_541_1.time_ >= var_544_11 + var_544_21 and arg_541_1.time_ < var_544_11 + var_544_21 + arg_544_0 then
				arg_541_1.typewritter.percent = 1

				arg_541_1.typewritter:SetDirty()
				arg_541_1:ShowNextGo(true)
			end
		end
	end,
	Play411121127 = function(arg_545_0, arg_545_1)
		arg_545_1.time_ = 0
		arg_545_1.frameCnt_ = 0
		arg_545_1.state_ = "playing"
		arg_545_1.curTalkId_ = 411121127
		arg_545_1.duration_ = 4.77

		local var_545_0 = {
			zh = 3.5,
			ja = 4.766
		}
		local var_545_1 = manager.audio:GetLocalizationFlag()

		if var_545_0[var_545_1] ~= nil then
			arg_545_1.duration_ = var_545_0[var_545_1]
		end

		SetActive(arg_545_1.tipsGo_, false)

		function arg_545_1.onSingleLineFinish_()
			arg_545_1.onSingleLineUpdate_ = nil
			arg_545_1.onSingleLineFinish_ = nil
			arg_545_1.state_ = "waiting"
		end

		function arg_545_1.playNext_(arg_547_0)
			if arg_547_0 == 1 then
				arg_545_0:Play411121128(arg_545_1)
			end
		end

		function arg_545_1.onSingleLineUpdate_(arg_548_0)
			local var_548_0 = arg_545_1.actors_["1095ui_story"]
			local var_548_1 = 0

			if var_548_1 < arg_545_1.time_ and arg_545_1.time_ <= var_548_1 + arg_548_0 and not isNil(var_548_0) and arg_545_1.var_.characterEffect1095ui_story == nil then
				arg_545_1.var_.characterEffect1095ui_story = var_548_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_548_2 = 0.200000002980232

			if var_548_1 <= arg_545_1.time_ and arg_545_1.time_ < var_548_1 + var_548_2 and not isNil(var_548_0) then
				local var_548_3 = (arg_545_1.time_ - var_548_1) / var_548_2

				if arg_545_1.var_.characterEffect1095ui_story and not isNil(var_548_0) then
					local var_548_4 = Mathf.Lerp(0, 0.5, var_548_3)

					arg_545_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_545_1.var_.characterEffect1095ui_story.fillRatio = var_548_4
				end
			end

			if arg_545_1.time_ >= var_548_1 + var_548_2 and arg_545_1.time_ < var_548_1 + var_548_2 + arg_548_0 and not isNil(var_548_0) and arg_545_1.var_.characterEffect1095ui_story then
				local var_548_5 = 0.5

				arg_545_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_545_1.var_.characterEffect1095ui_story.fillRatio = var_548_5
			end

			local var_548_6 = arg_545_1.actors_["10071ui_story"]
			local var_548_7 = 0

			if var_548_7 < arg_545_1.time_ and arg_545_1.time_ <= var_548_7 + arg_548_0 and not isNil(var_548_6) and arg_545_1.var_.characterEffect10071ui_story == nil then
				arg_545_1.var_.characterEffect10071ui_story = var_548_6:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_548_8 = 0.200000002980232

			if var_548_7 <= arg_545_1.time_ and arg_545_1.time_ < var_548_7 + var_548_8 and not isNil(var_548_6) then
				local var_548_9 = (arg_545_1.time_ - var_548_7) / var_548_8

				if arg_545_1.var_.characterEffect10071ui_story and not isNil(var_548_6) then
					arg_545_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_545_1.time_ >= var_548_7 + var_548_8 and arg_545_1.time_ < var_548_7 + var_548_8 + arg_548_0 and not isNil(var_548_6) and arg_545_1.var_.characterEffect10071ui_story then
				arg_545_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_548_10 = 0
			local var_548_11 = 0.3

			if var_548_10 < arg_545_1.time_ and arg_545_1.time_ <= var_548_10 + arg_548_0 then
				arg_545_1.talkMaxDuration = 0
				arg_545_1.dialogCg_.alpha = 1

				arg_545_1.dialog_:SetActive(true)
				SetActive(arg_545_1.leftNameGo_, true)

				local var_548_12 = arg_545_1:FormatText(StoryNameCfg[670].name)

				arg_545_1.leftNameTxt_.text = var_548_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_545_1.leftNameTxt_.transform)

				arg_545_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_545_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_545_1:RecordName(arg_545_1.leftNameTxt_.text)
				SetActive(arg_545_1.iconTrs_.gameObject, false)
				arg_545_1.callingController_:SetSelectedState("normal")

				local var_548_13 = arg_545_1:GetWordFromCfg(411121127)
				local var_548_14 = arg_545_1:FormatText(var_548_13.content)

				arg_545_1.text_.text = var_548_14

				LuaForUtil.ClearLinePrefixSymbol(arg_545_1.text_)

				local var_548_15 = 12
				local var_548_16 = utf8.len(var_548_14)
				local var_548_17 = var_548_15 <= 0 and var_548_11 or var_548_11 * (var_548_16 / var_548_15)

				if var_548_17 > 0 and var_548_11 < var_548_17 then
					arg_545_1.talkMaxDuration = var_548_17

					if var_548_17 + var_548_10 > arg_545_1.duration_ then
						arg_545_1.duration_ = var_548_17 + var_548_10
					end
				end

				arg_545_1.text_.text = var_548_14
				arg_545_1.typewritter.percent = 0

				arg_545_1.typewritter:SetDirty()
				arg_545_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121127", "story_v_out_411121.awb") ~= 0 then
					local var_548_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121127", "story_v_out_411121.awb") / 1000

					if var_548_18 + var_548_10 > arg_545_1.duration_ then
						arg_545_1.duration_ = var_548_18 + var_548_10
					end

					if var_548_13.prefab_name ~= "" and arg_545_1.actors_[var_548_13.prefab_name] ~= nil then
						local var_548_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_545_1.actors_[var_548_13.prefab_name].transform, "story_v_out_411121", "411121127", "story_v_out_411121.awb")

						arg_545_1:RecordAudio("411121127", var_548_19)
						arg_545_1:RecordAudio("411121127", var_548_19)
					else
						arg_545_1:AudioAction("play", "voice", "story_v_out_411121", "411121127", "story_v_out_411121.awb")
					end

					arg_545_1:RecordHistoryTalkVoice("story_v_out_411121", "411121127", "story_v_out_411121.awb")
				end

				arg_545_1:RecordContent(arg_545_1.text_.text)
			end

			local var_548_20 = math.max(var_548_11, arg_545_1.talkMaxDuration)

			if var_548_10 <= arg_545_1.time_ and arg_545_1.time_ < var_548_10 + var_548_20 then
				arg_545_1.typewritter.percent = (arg_545_1.time_ - var_548_10) / var_548_20

				arg_545_1.typewritter:SetDirty()
			end

			if arg_545_1.time_ >= var_548_10 + var_548_20 and arg_545_1.time_ < var_548_10 + var_548_20 + arg_548_0 then
				arg_545_1.typewritter.percent = 1

				arg_545_1.typewritter:SetDirty()
				arg_545_1:ShowNextGo(true)
			end
		end
	end,
	Play411121128 = function(arg_549_0, arg_549_1)
		arg_549_1.time_ = 0
		arg_549_1.frameCnt_ = 0
		arg_549_1.state_ = "playing"
		arg_549_1.curTalkId_ = 411121128
		arg_549_1.duration_ = 5.57

		local var_549_0 = {
			zh = 1.433,
			ja = 5.566
		}
		local var_549_1 = manager.audio:GetLocalizationFlag()

		if var_549_0[var_549_1] ~= nil then
			arg_549_1.duration_ = var_549_0[var_549_1]
		end

		SetActive(arg_549_1.tipsGo_, false)

		function arg_549_1.onSingleLineFinish_()
			arg_549_1.onSingleLineUpdate_ = nil
			arg_549_1.onSingleLineFinish_ = nil
			arg_549_1.state_ = "waiting"
		end

		function arg_549_1.playNext_(arg_551_0)
			if arg_551_0 == 1 then
				arg_549_0:Play411121129(arg_549_1)
			end
		end

		function arg_549_1.onSingleLineUpdate_(arg_552_0)
			local var_552_0 = arg_549_1.actors_["1095ui_story"]
			local var_552_1 = 0

			if var_552_1 < arg_549_1.time_ and arg_549_1.time_ <= var_552_1 + arg_552_0 and not isNil(var_552_0) and arg_549_1.var_.characterEffect1095ui_story == nil then
				arg_549_1.var_.characterEffect1095ui_story = var_552_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_552_2 = 0.200000002980232

			if var_552_1 <= arg_549_1.time_ and arg_549_1.time_ < var_552_1 + var_552_2 and not isNil(var_552_0) then
				local var_552_3 = (arg_549_1.time_ - var_552_1) / var_552_2

				if arg_549_1.var_.characterEffect1095ui_story and not isNil(var_552_0) then
					arg_549_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_549_1.time_ >= var_552_1 + var_552_2 and arg_549_1.time_ < var_552_1 + var_552_2 + arg_552_0 and not isNil(var_552_0) and arg_549_1.var_.characterEffect1095ui_story then
				arg_549_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_552_4 = arg_549_1.actors_["10071ui_story"]
			local var_552_5 = 0

			if var_552_5 < arg_549_1.time_ and arg_549_1.time_ <= var_552_5 + arg_552_0 and not isNil(var_552_4) and arg_549_1.var_.characterEffect10071ui_story == nil then
				arg_549_1.var_.characterEffect10071ui_story = var_552_4:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_552_6 = 0.200000002980232

			if var_552_5 <= arg_549_1.time_ and arg_549_1.time_ < var_552_5 + var_552_6 and not isNil(var_552_4) then
				local var_552_7 = (arg_549_1.time_ - var_552_5) / var_552_6

				if arg_549_1.var_.characterEffect10071ui_story and not isNil(var_552_4) then
					local var_552_8 = Mathf.Lerp(0, 0.5, var_552_7)

					arg_549_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_549_1.var_.characterEffect10071ui_story.fillRatio = var_552_8
				end
			end

			if arg_549_1.time_ >= var_552_5 + var_552_6 and arg_549_1.time_ < var_552_5 + var_552_6 + arg_552_0 and not isNil(var_552_4) and arg_549_1.var_.characterEffect10071ui_story then
				local var_552_9 = 0.5

				arg_549_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_549_1.var_.characterEffect10071ui_story.fillRatio = var_552_9
			end

			local var_552_10 = 0
			local var_552_11 = 0.2

			if var_552_10 < arg_549_1.time_ and arg_549_1.time_ <= var_552_10 + arg_552_0 then
				arg_549_1.talkMaxDuration = 0
				arg_549_1.dialogCg_.alpha = 1

				arg_549_1.dialog_:SetActive(true)
				SetActive(arg_549_1.leftNameGo_, true)

				local var_552_12 = arg_549_1:FormatText(StoryNameCfg[471].name)

				arg_549_1.leftNameTxt_.text = var_552_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_549_1.leftNameTxt_.transform)

				arg_549_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_549_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_549_1:RecordName(arg_549_1.leftNameTxt_.text)
				SetActive(arg_549_1.iconTrs_.gameObject, false)
				arg_549_1.callingController_:SetSelectedState("normal")

				local var_552_13 = arg_549_1:GetWordFromCfg(411121128)
				local var_552_14 = arg_549_1:FormatText(var_552_13.content)

				arg_549_1.text_.text = var_552_14

				LuaForUtil.ClearLinePrefixSymbol(arg_549_1.text_)

				local var_552_15 = 8
				local var_552_16 = utf8.len(var_552_14)
				local var_552_17 = var_552_15 <= 0 and var_552_11 or var_552_11 * (var_552_16 / var_552_15)

				if var_552_17 > 0 and var_552_11 < var_552_17 then
					arg_549_1.talkMaxDuration = var_552_17

					if var_552_17 + var_552_10 > arg_549_1.duration_ then
						arg_549_1.duration_ = var_552_17 + var_552_10
					end
				end

				arg_549_1.text_.text = var_552_14
				arg_549_1.typewritter.percent = 0

				arg_549_1.typewritter:SetDirty()
				arg_549_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121128", "story_v_out_411121.awb") ~= 0 then
					local var_552_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121128", "story_v_out_411121.awb") / 1000

					if var_552_18 + var_552_10 > arg_549_1.duration_ then
						arg_549_1.duration_ = var_552_18 + var_552_10
					end

					if var_552_13.prefab_name ~= "" and arg_549_1.actors_[var_552_13.prefab_name] ~= nil then
						local var_552_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_549_1.actors_[var_552_13.prefab_name].transform, "story_v_out_411121", "411121128", "story_v_out_411121.awb")

						arg_549_1:RecordAudio("411121128", var_552_19)
						arg_549_1:RecordAudio("411121128", var_552_19)
					else
						arg_549_1:AudioAction("play", "voice", "story_v_out_411121", "411121128", "story_v_out_411121.awb")
					end

					arg_549_1:RecordHistoryTalkVoice("story_v_out_411121", "411121128", "story_v_out_411121.awb")
				end

				arg_549_1:RecordContent(arg_549_1.text_.text)
			end

			local var_552_20 = math.max(var_552_11, arg_549_1.talkMaxDuration)

			if var_552_10 <= arg_549_1.time_ and arg_549_1.time_ < var_552_10 + var_552_20 then
				arg_549_1.typewritter.percent = (arg_549_1.time_ - var_552_10) / var_552_20

				arg_549_1.typewritter:SetDirty()
			end

			if arg_549_1.time_ >= var_552_10 + var_552_20 and arg_549_1.time_ < var_552_10 + var_552_20 + arg_552_0 then
				arg_549_1.typewritter.percent = 1

				arg_549_1.typewritter:SetDirty()
				arg_549_1:ShowNextGo(true)
			end
		end
	end,
	Play411121129 = function(arg_553_0, arg_553_1)
		arg_553_1.time_ = 0
		arg_553_1.frameCnt_ = 0
		arg_553_1.state_ = "playing"
		arg_553_1.curTalkId_ = 411121129
		arg_553_1.duration_ = 4.1

		local var_553_0 = {
			zh = 2.5,
			ja = 4.1
		}
		local var_553_1 = manager.audio:GetLocalizationFlag()

		if var_553_0[var_553_1] ~= nil then
			arg_553_1.duration_ = var_553_0[var_553_1]
		end

		SetActive(arg_553_1.tipsGo_, false)

		function arg_553_1.onSingleLineFinish_()
			arg_553_1.onSingleLineUpdate_ = nil
			arg_553_1.onSingleLineFinish_ = nil
			arg_553_1.state_ = "waiting"
		end

		function arg_553_1.playNext_(arg_555_0)
			if arg_555_0 == 1 then
				arg_553_0:Play411121130(arg_553_1)
			end
		end

		function arg_553_1.onSingleLineUpdate_(arg_556_0)
			local var_556_0 = arg_553_1.actors_["1095ui_story"]
			local var_556_1 = 0

			if var_556_1 < arg_553_1.time_ and arg_553_1.time_ <= var_556_1 + arg_556_0 and not isNil(var_556_0) and arg_553_1.var_.characterEffect1095ui_story == nil then
				arg_553_1.var_.characterEffect1095ui_story = var_556_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_556_2 = 0.200000002980232

			if var_556_1 <= arg_553_1.time_ and arg_553_1.time_ < var_556_1 + var_556_2 and not isNil(var_556_0) then
				local var_556_3 = (arg_553_1.time_ - var_556_1) / var_556_2

				if arg_553_1.var_.characterEffect1095ui_story and not isNil(var_556_0) then
					local var_556_4 = Mathf.Lerp(0, 0.5, var_556_3)

					arg_553_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_553_1.var_.characterEffect1095ui_story.fillRatio = var_556_4
				end
			end

			if arg_553_1.time_ >= var_556_1 + var_556_2 and arg_553_1.time_ < var_556_1 + var_556_2 + arg_556_0 and not isNil(var_556_0) and arg_553_1.var_.characterEffect1095ui_story then
				local var_556_5 = 0.5

				arg_553_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_553_1.var_.characterEffect1095ui_story.fillRatio = var_556_5
			end

			local var_556_6 = arg_553_1.actors_["10071ui_story"]
			local var_556_7 = 0

			if var_556_7 < arg_553_1.time_ and arg_553_1.time_ <= var_556_7 + arg_556_0 and not isNil(var_556_6) and arg_553_1.var_.characterEffect10071ui_story == nil then
				arg_553_1.var_.characterEffect10071ui_story = var_556_6:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_556_8 = 0.200000002980232

			if var_556_7 <= arg_553_1.time_ and arg_553_1.time_ < var_556_7 + var_556_8 and not isNil(var_556_6) then
				local var_556_9 = (arg_553_1.time_ - var_556_7) / var_556_8

				if arg_553_1.var_.characterEffect10071ui_story and not isNil(var_556_6) then
					arg_553_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_553_1.time_ >= var_556_7 + var_556_8 and arg_553_1.time_ < var_556_7 + var_556_8 + arg_556_0 and not isNil(var_556_6) and arg_553_1.var_.characterEffect10071ui_story then
				arg_553_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_556_10 = 0
			local var_556_11 = 0.175

			if var_556_10 < arg_553_1.time_ and arg_553_1.time_ <= var_556_10 + arg_556_0 then
				arg_553_1.talkMaxDuration = 0
				arg_553_1.dialogCg_.alpha = 1

				arg_553_1.dialog_:SetActive(true)
				SetActive(arg_553_1.leftNameGo_, true)

				local var_556_12 = arg_553_1:FormatText(StoryNameCfg[670].name)

				arg_553_1.leftNameTxt_.text = var_556_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_553_1.leftNameTxt_.transform)

				arg_553_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_553_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_553_1:RecordName(arg_553_1.leftNameTxt_.text)
				SetActive(arg_553_1.iconTrs_.gameObject, false)
				arg_553_1.callingController_:SetSelectedState("normal")

				local var_556_13 = arg_553_1:GetWordFromCfg(411121129)
				local var_556_14 = arg_553_1:FormatText(var_556_13.content)

				arg_553_1.text_.text = var_556_14

				LuaForUtil.ClearLinePrefixSymbol(arg_553_1.text_)

				local var_556_15 = 7
				local var_556_16 = utf8.len(var_556_14)
				local var_556_17 = var_556_15 <= 0 and var_556_11 or var_556_11 * (var_556_16 / var_556_15)

				if var_556_17 > 0 and var_556_11 < var_556_17 then
					arg_553_1.talkMaxDuration = var_556_17

					if var_556_17 + var_556_10 > arg_553_1.duration_ then
						arg_553_1.duration_ = var_556_17 + var_556_10
					end
				end

				arg_553_1.text_.text = var_556_14
				arg_553_1.typewritter.percent = 0

				arg_553_1.typewritter:SetDirty()
				arg_553_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121129", "story_v_out_411121.awb") ~= 0 then
					local var_556_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121129", "story_v_out_411121.awb") / 1000

					if var_556_18 + var_556_10 > arg_553_1.duration_ then
						arg_553_1.duration_ = var_556_18 + var_556_10
					end

					if var_556_13.prefab_name ~= "" and arg_553_1.actors_[var_556_13.prefab_name] ~= nil then
						local var_556_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_553_1.actors_[var_556_13.prefab_name].transform, "story_v_out_411121", "411121129", "story_v_out_411121.awb")

						arg_553_1:RecordAudio("411121129", var_556_19)
						arg_553_1:RecordAudio("411121129", var_556_19)
					else
						arg_553_1:AudioAction("play", "voice", "story_v_out_411121", "411121129", "story_v_out_411121.awb")
					end

					arg_553_1:RecordHistoryTalkVoice("story_v_out_411121", "411121129", "story_v_out_411121.awb")
				end

				arg_553_1:RecordContent(arg_553_1.text_.text)
			end

			local var_556_20 = math.max(var_556_11, arg_553_1.talkMaxDuration)

			if var_556_10 <= arg_553_1.time_ and arg_553_1.time_ < var_556_10 + var_556_20 then
				arg_553_1.typewritter.percent = (arg_553_1.time_ - var_556_10) / var_556_20

				arg_553_1.typewritter:SetDirty()
			end

			if arg_553_1.time_ >= var_556_10 + var_556_20 and arg_553_1.time_ < var_556_10 + var_556_20 + arg_556_0 then
				arg_553_1.typewritter.percent = 1

				arg_553_1.typewritter:SetDirty()
				arg_553_1:ShowNextGo(true)
			end
		end
	end,
	Play411121130 = function(arg_557_0, arg_557_1)
		arg_557_1.time_ = 0
		arg_557_1.frameCnt_ = 0
		arg_557_1.state_ = "playing"
		arg_557_1.curTalkId_ = 411121130
		arg_557_1.duration_ = 9

		SetActive(arg_557_1.tipsGo_, false)

		function arg_557_1.onSingleLineFinish_()
			arg_557_1.onSingleLineUpdate_ = nil
			arg_557_1.onSingleLineFinish_ = nil
			arg_557_1.state_ = "waiting"
		end

		function arg_557_1.playNext_(arg_559_0)
			if arg_559_0 == 1 then
				arg_557_0:Play411121131(arg_557_1)
			end
		end

		function arg_557_1.onSingleLineUpdate_(arg_560_0)
			local var_560_0 = 0

			if var_560_0 < arg_557_1.time_ and arg_557_1.time_ <= var_560_0 + arg_560_0 then
				local var_560_1 = manager.ui.mainCamera.transform.localPosition
				local var_560_2 = Vector3.New(0, 0, 10) + Vector3.New(var_560_1.x, var_560_1.y, 0)
				local var_560_3 = arg_557_1.bgs_.ST74a

				var_560_3.transform.localPosition = var_560_2
				var_560_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_560_4 = var_560_3:GetComponent("SpriteRenderer")

				if var_560_4 and var_560_4.sprite then
					local var_560_5 = (var_560_3.transform.localPosition - var_560_1).z
					local var_560_6 = manager.ui.mainCameraCom_
					local var_560_7 = 2 * var_560_5 * Mathf.Tan(var_560_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_560_8 = var_560_7 * var_560_6.aspect
					local var_560_9 = var_560_4.sprite.bounds.size.x
					local var_560_10 = var_560_4.sprite.bounds.size.y
					local var_560_11 = var_560_8 / var_560_9
					local var_560_12 = var_560_7 / var_560_10
					local var_560_13 = var_560_12 < var_560_11 and var_560_11 or var_560_12

					var_560_3.transform.localScale = Vector3.New(var_560_13, var_560_13, 0)
				end

				for iter_560_0, iter_560_1 in pairs(arg_557_1.bgs_) do
					if iter_560_0 ~= "ST74a" then
						iter_560_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_560_14 = 2

			if var_560_14 < arg_557_1.time_ and arg_557_1.time_ <= var_560_14 + arg_560_0 then
				local var_560_15 = manager.ui.mainCamera.transform.localPosition
				local var_560_16 = Vector3.New(0, 0, 10) + Vector3.New(var_560_15.x, var_560_15.y, 0)
				local var_560_17 = arg_557_1.bgs_.ST74a

				var_560_17.transform.localPosition = var_560_16
				var_560_17.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_560_18 = var_560_17:GetComponent("SpriteRenderer")

				if var_560_18 and var_560_18.sprite then
					local var_560_19 = (var_560_17.transform.localPosition - var_560_15).z
					local var_560_20 = manager.ui.mainCameraCom_
					local var_560_21 = 2 * var_560_19 * Mathf.Tan(var_560_20.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_560_22 = var_560_21 * var_560_20.aspect
					local var_560_23 = var_560_18.sprite.bounds.size.x
					local var_560_24 = var_560_18.sprite.bounds.size.y
					local var_560_25 = var_560_22 / var_560_23
					local var_560_26 = var_560_21 / var_560_24
					local var_560_27 = var_560_26 < var_560_25 and var_560_25 or var_560_26

					var_560_17.transform.localScale = Vector3.New(var_560_27, var_560_27, 0)
				end

				for iter_560_2, iter_560_3 in pairs(arg_557_1.bgs_) do
					if iter_560_2 ~= "ST74a" then
						iter_560_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_560_28 = 0

			if var_560_28 < arg_557_1.time_ and arg_557_1.time_ <= var_560_28 + arg_560_0 then
				arg_557_1.mask_.enabled = true
				arg_557_1.mask_.raycastTarget = true

				arg_557_1:SetGaussion(false)
			end

			local var_560_29 = 2

			if var_560_28 <= arg_557_1.time_ and arg_557_1.time_ < var_560_28 + var_560_29 then
				local var_560_30 = (arg_557_1.time_ - var_560_28) / var_560_29
				local var_560_31 = Color.New(0, 0, 0)

				var_560_31.a = Mathf.Lerp(0, 1, var_560_30)
				arg_557_1.mask_.color = var_560_31
			end

			if arg_557_1.time_ >= var_560_28 + var_560_29 and arg_557_1.time_ < var_560_28 + var_560_29 + arg_560_0 then
				local var_560_32 = Color.New(0, 0, 0)

				var_560_32.a = 1
				arg_557_1.mask_.color = var_560_32
			end

			local var_560_33 = 2

			if var_560_33 < arg_557_1.time_ and arg_557_1.time_ <= var_560_33 + arg_560_0 then
				arg_557_1.mask_.enabled = true
				arg_557_1.mask_.raycastTarget = true

				arg_557_1:SetGaussion(false)
			end

			local var_560_34 = 2

			if var_560_33 <= arg_557_1.time_ and arg_557_1.time_ < var_560_33 + var_560_34 then
				local var_560_35 = (arg_557_1.time_ - var_560_33) / var_560_34
				local var_560_36 = Color.New(0, 0, 0)

				var_560_36.a = Mathf.Lerp(1, 0, var_560_35)
				arg_557_1.mask_.color = var_560_36
			end

			if arg_557_1.time_ >= var_560_33 + var_560_34 and arg_557_1.time_ < var_560_33 + var_560_34 + arg_560_0 then
				local var_560_37 = Color.New(0, 0, 0)
				local var_560_38 = 0

				arg_557_1.mask_.enabled = false
				var_560_37.a = var_560_38
				arg_557_1.mask_.color = var_560_37
			end

			local var_560_39 = arg_557_1.actors_["1095ui_story"].transform
			local var_560_40 = 2

			if var_560_40 < arg_557_1.time_ and arg_557_1.time_ <= var_560_40 + arg_560_0 then
				arg_557_1.var_.moveOldPos1095ui_story = var_560_39.localPosition
			end

			local var_560_41 = 0.001

			if var_560_40 <= arg_557_1.time_ and arg_557_1.time_ < var_560_40 + var_560_41 then
				local var_560_42 = (arg_557_1.time_ - var_560_40) / var_560_41
				local var_560_43 = Vector3.New(0, 100, 0)

				var_560_39.localPosition = Vector3.Lerp(arg_557_1.var_.moveOldPos1095ui_story, var_560_43, var_560_42)

				local var_560_44 = manager.ui.mainCamera.transform.position - var_560_39.position

				var_560_39.forward = Vector3.New(var_560_44.x, var_560_44.y, var_560_44.z)

				local var_560_45 = var_560_39.localEulerAngles

				var_560_45.z = 0
				var_560_45.x = 0
				var_560_39.localEulerAngles = var_560_45
			end

			if arg_557_1.time_ >= var_560_40 + var_560_41 and arg_557_1.time_ < var_560_40 + var_560_41 + arg_560_0 then
				var_560_39.localPosition = Vector3.New(0, 100, 0)

				local var_560_46 = manager.ui.mainCamera.transform.position - var_560_39.position

				var_560_39.forward = Vector3.New(var_560_46.x, var_560_46.y, var_560_46.z)

				local var_560_47 = var_560_39.localEulerAngles

				var_560_47.z = 0
				var_560_47.x = 0
				var_560_39.localEulerAngles = var_560_47
			end

			local var_560_48 = arg_557_1.actors_["1095ui_story"]
			local var_560_49 = 2

			if var_560_49 < arg_557_1.time_ and arg_557_1.time_ <= var_560_49 + arg_560_0 and not isNil(var_560_48) and arg_557_1.var_.characterEffect1095ui_story == nil then
				arg_557_1.var_.characterEffect1095ui_story = var_560_48:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_560_50 = 0.200000002980232

			if var_560_49 <= arg_557_1.time_ and arg_557_1.time_ < var_560_49 + var_560_50 and not isNil(var_560_48) then
				local var_560_51 = (arg_557_1.time_ - var_560_49) / var_560_50

				if arg_557_1.var_.characterEffect1095ui_story and not isNil(var_560_48) then
					local var_560_52 = Mathf.Lerp(0, 0.5, var_560_51)

					arg_557_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_557_1.var_.characterEffect1095ui_story.fillRatio = var_560_52
				end
			end

			if arg_557_1.time_ >= var_560_49 + var_560_50 and arg_557_1.time_ < var_560_49 + var_560_50 + arg_560_0 and not isNil(var_560_48) and arg_557_1.var_.characterEffect1095ui_story then
				local var_560_53 = 0.5

				arg_557_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_557_1.var_.characterEffect1095ui_story.fillRatio = var_560_53
			end

			local var_560_54 = arg_557_1.actors_["10071ui_story"].transform
			local var_560_55 = 2

			if var_560_55 < arg_557_1.time_ and arg_557_1.time_ <= var_560_55 + arg_560_0 then
				arg_557_1.var_.moveOldPos10071ui_story = var_560_54.localPosition
			end

			local var_560_56 = 0.001

			if var_560_55 <= arg_557_1.time_ and arg_557_1.time_ < var_560_55 + var_560_56 then
				local var_560_57 = (arg_557_1.time_ - var_560_55) / var_560_56
				local var_560_58 = Vector3.New(0, 100, 0)

				var_560_54.localPosition = Vector3.Lerp(arg_557_1.var_.moveOldPos10071ui_story, var_560_58, var_560_57)

				local var_560_59 = manager.ui.mainCamera.transform.position - var_560_54.position

				var_560_54.forward = Vector3.New(var_560_59.x, var_560_59.y, var_560_59.z)

				local var_560_60 = var_560_54.localEulerAngles

				var_560_60.z = 0
				var_560_60.x = 0
				var_560_54.localEulerAngles = var_560_60
			end

			if arg_557_1.time_ >= var_560_55 + var_560_56 and arg_557_1.time_ < var_560_55 + var_560_56 + arg_560_0 then
				var_560_54.localPosition = Vector3.New(0, 100, 0)

				local var_560_61 = manager.ui.mainCamera.transform.position - var_560_54.position

				var_560_54.forward = Vector3.New(var_560_61.x, var_560_61.y, var_560_61.z)

				local var_560_62 = var_560_54.localEulerAngles

				var_560_62.z = 0
				var_560_62.x = 0
				var_560_54.localEulerAngles = var_560_62
			end

			local var_560_63 = arg_557_1.actors_["10071ui_story"]
			local var_560_64 = 2

			if var_560_64 < arg_557_1.time_ and arg_557_1.time_ <= var_560_64 + arg_560_0 and not isNil(var_560_63) and arg_557_1.var_.characterEffect10071ui_story == nil then
				arg_557_1.var_.characterEffect10071ui_story = var_560_63:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_560_65 = 0.200000002980232

			if var_560_64 <= arg_557_1.time_ and arg_557_1.time_ < var_560_64 + var_560_65 and not isNil(var_560_63) then
				local var_560_66 = (arg_557_1.time_ - var_560_64) / var_560_65

				if arg_557_1.var_.characterEffect10071ui_story and not isNil(var_560_63) then
					local var_560_67 = Mathf.Lerp(0, 0.5, var_560_66)

					arg_557_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_557_1.var_.characterEffect10071ui_story.fillRatio = var_560_67
				end
			end

			if arg_557_1.time_ >= var_560_64 + var_560_65 and arg_557_1.time_ < var_560_64 + var_560_65 + arg_560_0 and not isNil(var_560_63) and arg_557_1.var_.characterEffect10071ui_story then
				local var_560_68 = 0.5

				arg_557_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_557_1.var_.characterEffect10071ui_story.fillRatio = var_560_68
			end

			if arg_557_1.frameCnt_ <= 1 then
				arg_557_1.dialog_:SetActive(false)
			end

			local var_560_69 = 4
			local var_560_70 = 1.05

			if var_560_69 < arg_557_1.time_ and arg_557_1.time_ <= var_560_69 + arg_560_0 then
				arg_557_1.talkMaxDuration = 0

				arg_557_1.dialog_:SetActive(true)

				local var_560_71 = LeanTween.value(arg_557_1.dialog_, 0, 1, 0.3)

				var_560_71:setOnUpdate(LuaHelper.FloatAction(function(arg_561_0)
					arg_557_1.dialogCg_.alpha = arg_561_0
				end))
				var_560_71:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_557_1.dialog_)
					var_560_71:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_557_1.duration_ = arg_557_1.duration_ + 0.3

				SetActive(arg_557_1.leftNameGo_, false)

				arg_557_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_557_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_557_1:RecordName(arg_557_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_557_1.iconTrs_.gameObject, false)
				arg_557_1.callingController_:SetSelectedState("normal")

				local var_560_72 = arg_557_1:GetWordFromCfg(411121130)
				local var_560_73 = arg_557_1:FormatText(var_560_72.content)

				arg_557_1.text_.text = var_560_73

				LuaForUtil.ClearLinePrefixSymbol(arg_557_1.text_)

				local var_560_74 = 42
				local var_560_75 = utf8.len(var_560_73)
				local var_560_76 = var_560_74 <= 0 and var_560_70 or var_560_70 * (var_560_75 / var_560_74)

				if var_560_76 > 0 and var_560_70 < var_560_76 then
					arg_557_1.talkMaxDuration = var_560_76
					var_560_69 = var_560_69 + 0.3

					if var_560_76 + var_560_69 > arg_557_1.duration_ then
						arg_557_1.duration_ = var_560_76 + var_560_69
					end
				end

				arg_557_1.text_.text = var_560_73
				arg_557_1.typewritter.percent = 0

				arg_557_1.typewritter:SetDirty()
				arg_557_1:ShowNextGo(false)
				arg_557_1:RecordContent(arg_557_1.text_.text)
			end

			local var_560_77 = var_560_69 + 0.3
			local var_560_78 = math.max(var_560_70, arg_557_1.talkMaxDuration)

			if var_560_77 <= arg_557_1.time_ and arg_557_1.time_ < var_560_77 + var_560_78 then
				arg_557_1.typewritter.percent = (arg_557_1.time_ - var_560_77) / var_560_78

				arg_557_1.typewritter:SetDirty()
			end

			if arg_557_1.time_ >= var_560_77 + var_560_78 and arg_557_1.time_ < var_560_77 + var_560_78 + arg_560_0 then
				arg_557_1.typewritter.percent = 1

				arg_557_1.typewritter:SetDirty()
				arg_557_1:ShowNextGo(true)
			end
		end
	end,
	Play411121131 = function(arg_563_0, arg_563_1)
		arg_563_1.time_ = 0
		arg_563_1.frameCnt_ = 0
		arg_563_1.state_ = "playing"
		arg_563_1.curTalkId_ = 411121131
		arg_563_1.duration_ = 5

		SetActive(arg_563_1.tipsGo_, false)

		function arg_563_1.onSingleLineFinish_()
			arg_563_1.onSingleLineUpdate_ = nil
			arg_563_1.onSingleLineFinish_ = nil
			arg_563_1.state_ = "waiting"
		end

		function arg_563_1.playNext_(arg_565_0)
			if arg_565_0 == 1 then
				arg_563_0:Play411121132(arg_563_1)
			end
		end

		function arg_563_1.onSingleLineUpdate_(arg_566_0)
			local var_566_0 = 0
			local var_566_1 = 1.25

			if var_566_0 < arg_563_1.time_ and arg_563_1.time_ <= var_566_0 + arg_566_0 then
				arg_563_1.talkMaxDuration = 0
				arg_563_1.dialogCg_.alpha = 1

				arg_563_1.dialog_:SetActive(true)
				SetActive(arg_563_1.leftNameGo_, false)

				arg_563_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_563_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_563_1:RecordName(arg_563_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_563_1.iconTrs_.gameObject, false)
				arg_563_1.callingController_:SetSelectedState("normal")

				local var_566_2 = arg_563_1:GetWordFromCfg(411121131)
				local var_566_3 = arg_563_1:FormatText(var_566_2.content)

				arg_563_1.text_.text = var_566_3

				LuaForUtil.ClearLinePrefixSymbol(arg_563_1.text_)

				local var_566_4 = 50
				local var_566_5 = utf8.len(var_566_3)
				local var_566_6 = var_566_4 <= 0 and var_566_1 or var_566_1 * (var_566_5 / var_566_4)

				if var_566_6 > 0 and var_566_1 < var_566_6 then
					arg_563_1.talkMaxDuration = var_566_6

					if var_566_6 + var_566_0 > arg_563_1.duration_ then
						arg_563_1.duration_ = var_566_6 + var_566_0
					end
				end

				arg_563_1.text_.text = var_566_3
				arg_563_1.typewritter.percent = 0

				arg_563_1.typewritter:SetDirty()
				arg_563_1:ShowNextGo(false)
				arg_563_1:RecordContent(arg_563_1.text_.text)
			end

			local var_566_7 = math.max(var_566_1, arg_563_1.talkMaxDuration)

			if var_566_0 <= arg_563_1.time_ and arg_563_1.time_ < var_566_0 + var_566_7 then
				arg_563_1.typewritter.percent = (arg_563_1.time_ - var_566_0) / var_566_7

				arg_563_1.typewritter:SetDirty()
			end

			if arg_563_1.time_ >= var_566_0 + var_566_7 and arg_563_1.time_ < var_566_0 + var_566_7 + arg_566_0 then
				arg_563_1.typewritter.percent = 1

				arg_563_1.typewritter:SetDirty()
				arg_563_1:ShowNextGo(true)
			end
		end
	end,
	Play411121132 = function(arg_567_0, arg_567_1)
		arg_567_1.time_ = 0
		arg_567_1.frameCnt_ = 0
		arg_567_1.state_ = "playing"
		arg_567_1.curTalkId_ = 411121132
		arg_567_1.duration_ = 5

		SetActive(arg_567_1.tipsGo_, false)

		function arg_567_1.onSingleLineFinish_()
			arg_567_1.onSingleLineUpdate_ = nil
			arg_567_1.onSingleLineFinish_ = nil
			arg_567_1.state_ = "waiting"
		end

		function arg_567_1.playNext_(arg_569_0)
			if arg_569_0 == 1 then
				arg_567_0:Play411121133(arg_567_1)
			end
		end

		function arg_567_1.onSingleLineUpdate_(arg_570_0)
			local var_570_0 = "I11m"

			if arg_567_1.bgs_[var_570_0] == nil then
				local var_570_1 = Object.Instantiate(arg_567_1.paintGo_)

				var_570_1:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_570_0)
				var_570_1.name = var_570_0
				var_570_1.transform.parent = arg_567_1.stage_.transform
				var_570_1.transform.localPosition = Vector3.New(0, 100, 0)
				arg_567_1.bgs_[var_570_0] = var_570_1
			end

			local var_570_2 = 2

			if var_570_2 < arg_567_1.time_ and arg_567_1.time_ <= var_570_2 + arg_570_0 then
				local var_570_3 = manager.ui.mainCamera.transform.localPosition
				local var_570_4 = Vector3.New(0, 0, 10) + Vector3.New(var_570_3.x, var_570_3.y, 0)
				local var_570_5 = arg_567_1.bgs_.I11m

				var_570_5.transform.localPosition = var_570_4
				var_570_5.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_570_6 = var_570_5:GetComponent("SpriteRenderer")

				if var_570_6 and var_570_6.sprite then
					local var_570_7 = (var_570_5.transform.localPosition - var_570_3).z
					local var_570_8 = manager.ui.mainCameraCom_
					local var_570_9 = 2 * var_570_7 * Mathf.Tan(var_570_8.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_570_10 = var_570_9 * var_570_8.aspect
					local var_570_11 = var_570_6.sprite.bounds.size.x
					local var_570_12 = var_570_6.sprite.bounds.size.y
					local var_570_13 = var_570_10 / var_570_11
					local var_570_14 = var_570_9 / var_570_12
					local var_570_15 = var_570_14 < var_570_13 and var_570_13 or var_570_14

					var_570_5.transform.localScale = Vector3.New(var_570_15, var_570_15, 0)
				end

				for iter_570_0, iter_570_1 in pairs(arg_567_1.bgs_) do
					if iter_570_0 ~= "I11m" then
						iter_570_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_570_16 = 0

			if var_570_16 < arg_567_1.time_ and arg_567_1.time_ <= var_570_16 + arg_570_0 then
				arg_567_1.mask_.enabled = true
				arg_567_1.mask_.raycastTarget = true

				arg_567_1:SetGaussion(false)
			end

			local var_570_17 = 2

			if var_570_16 <= arg_567_1.time_ and arg_567_1.time_ < var_570_16 + var_570_17 then
				local var_570_18 = (arg_567_1.time_ - var_570_16) / var_570_17
				local var_570_19 = Color.New(0, 0, 0)

				var_570_19.a = Mathf.Lerp(0, 1, var_570_18)
				arg_567_1.mask_.color = var_570_19
			end

			if arg_567_1.time_ >= var_570_16 + var_570_17 and arg_567_1.time_ < var_570_16 + var_570_17 + arg_570_0 then
				local var_570_20 = Color.New(0, 0, 0)

				var_570_20.a = 1
				arg_567_1.mask_.color = var_570_20
			end

			local var_570_21 = 2

			if var_570_21 < arg_567_1.time_ and arg_567_1.time_ <= var_570_21 + arg_570_0 then
				arg_567_1.mask_.enabled = true
				arg_567_1.mask_.raycastTarget = true

				arg_567_1:SetGaussion(false)
			end

			local var_570_22 = 2

			if var_570_21 <= arg_567_1.time_ and arg_567_1.time_ < var_570_21 + var_570_22 then
				local var_570_23 = (arg_567_1.time_ - var_570_21) / var_570_22
				local var_570_24 = Color.New(0, 0, 0)

				var_570_24.a = Mathf.Lerp(1, 0, var_570_23)
				arg_567_1.mask_.color = var_570_24
			end

			if arg_567_1.time_ >= var_570_21 + var_570_22 and arg_567_1.time_ < var_570_21 + var_570_22 + arg_570_0 then
				local var_570_25 = Color.New(0, 0, 0)
				local var_570_26 = 0

				arg_567_1.mask_.enabled = false
				var_570_25.a = var_570_26
				arg_567_1.mask_.color = var_570_25
			end

			local var_570_27 = 0
			local var_570_28 = 1.225

			if var_570_27 < arg_567_1.time_ and arg_567_1.time_ <= var_570_27 + arg_570_0 then
				arg_567_1.talkMaxDuration = 0
				arg_567_1.dialogCg_.alpha = 1

				arg_567_1.dialog_:SetActive(true)
				SetActive(arg_567_1.leftNameGo_, false)

				arg_567_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_567_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_567_1:RecordName(arg_567_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_567_1.iconTrs_.gameObject, false)
				arg_567_1.callingController_:SetSelectedState("normal")

				local var_570_29 = arg_567_1:GetWordFromCfg(411121132)
				local var_570_30 = arg_567_1:FormatText(var_570_29.content)

				arg_567_1.text_.text = var_570_30

				LuaForUtil.ClearLinePrefixSymbol(arg_567_1.text_)

				local var_570_31 = 51
				local var_570_32 = utf8.len(var_570_30)
				local var_570_33 = var_570_31 <= 0 and var_570_28 or var_570_28 * (var_570_32 / var_570_31)

				if var_570_33 > 0 and var_570_28 < var_570_33 then
					arg_567_1.talkMaxDuration = var_570_33

					if var_570_33 + var_570_27 > arg_567_1.duration_ then
						arg_567_1.duration_ = var_570_33 + var_570_27
					end
				end

				arg_567_1.text_.text = var_570_30
				arg_567_1.typewritter.percent = 0

				arg_567_1.typewritter:SetDirty()
				arg_567_1:ShowNextGo(false)
				arg_567_1:RecordContent(arg_567_1.text_.text)
			end

			local var_570_34 = math.max(var_570_28, arg_567_1.talkMaxDuration)

			if var_570_27 <= arg_567_1.time_ and arg_567_1.time_ < var_570_27 + var_570_34 then
				arg_567_1.typewritter.percent = (arg_567_1.time_ - var_570_27) / var_570_34

				arg_567_1.typewritter:SetDirty()
			end

			if arg_567_1.time_ >= var_570_27 + var_570_34 and arg_567_1.time_ < var_570_27 + var_570_34 + arg_570_0 then
				arg_567_1.typewritter.percent = 1

				arg_567_1.typewritter:SetDirty()
				arg_567_1:ShowNextGo(true)
			end
		end
	end,
	Play411121133 = function(arg_571_0, arg_571_1)
		arg_571_1.time_ = 0
		arg_571_1.frameCnt_ = 0
		arg_571_1.state_ = "playing"
		arg_571_1.curTalkId_ = 411121133
		arg_571_1.duration_ = 7.3

		local var_571_0 = {
			zh = 7.3,
			ja = 6.7
		}
		local var_571_1 = manager.audio:GetLocalizationFlag()

		if var_571_0[var_571_1] ~= nil then
			arg_571_1.duration_ = var_571_0[var_571_1]
		end

		SetActive(arg_571_1.tipsGo_, false)

		function arg_571_1.onSingleLineFinish_()
			arg_571_1.onSingleLineUpdate_ = nil
			arg_571_1.onSingleLineFinish_ = nil
			arg_571_1.state_ = "waiting"
		end

		function arg_571_1.playNext_(arg_573_0)
			if arg_573_0 == 1 then
				arg_571_0:Play411121134(arg_571_1)
			end
		end

		function arg_571_1.onSingleLineUpdate_(arg_574_0)
			local var_574_0 = arg_571_1.actors_["10071ui_story"].transform
			local var_574_1 = 0

			if var_574_1 < arg_571_1.time_ and arg_571_1.time_ <= var_574_1 + arg_574_0 then
				arg_571_1.var_.moveOldPos10071ui_story = var_574_0.localPosition
			end

			local var_574_2 = 0.001

			if var_574_1 <= arg_571_1.time_ and arg_571_1.time_ < var_574_1 + var_574_2 then
				local var_574_3 = (arg_571_1.time_ - var_574_1) / var_574_2
				local var_574_4 = Vector3.New(0, -0.9, -6.26)

				var_574_0.localPosition = Vector3.Lerp(arg_571_1.var_.moveOldPos10071ui_story, var_574_4, var_574_3)

				local var_574_5 = manager.ui.mainCamera.transform.position - var_574_0.position

				var_574_0.forward = Vector3.New(var_574_5.x, var_574_5.y, var_574_5.z)

				local var_574_6 = var_574_0.localEulerAngles

				var_574_6.z = 0
				var_574_6.x = 0
				var_574_0.localEulerAngles = var_574_6
			end

			if arg_571_1.time_ >= var_574_1 + var_574_2 and arg_571_1.time_ < var_574_1 + var_574_2 + arg_574_0 then
				var_574_0.localPosition = Vector3.New(0, -0.9, -6.26)

				local var_574_7 = manager.ui.mainCamera.transform.position - var_574_0.position

				var_574_0.forward = Vector3.New(var_574_7.x, var_574_7.y, var_574_7.z)

				local var_574_8 = var_574_0.localEulerAngles

				var_574_8.z = 0
				var_574_8.x = 0
				var_574_0.localEulerAngles = var_574_8
			end

			local var_574_9 = arg_571_1.actors_["10071ui_story"]
			local var_574_10 = 0

			if var_574_10 < arg_571_1.time_ and arg_571_1.time_ <= var_574_10 + arg_574_0 and not isNil(var_574_9) and arg_571_1.var_.characterEffect10071ui_story == nil then
				arg_571_1.var_.characterEffect10071ui_story = var_574_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_574_11 = 0.200000002980232

			if var_574_10 <= arg_571_1.time_ and arg_571_1.time_ < var_574_10 + var_574_11 and not isNil(var_574_9) then
				local var_574_12 = (arg_571_1.time_ - var_574_10) / var_574_11

				if arg_571_1.var_.characterEffect10071ui_story and not isNil(var_574_9) then
					arg_571_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_571_1.time_ >= var_574_10 + var_574_11 and arg_571_1.time_ < var_574_10 + var_574_11 + arg_574_0 and not isNil(var_574_9) and arg_571_1.var_.characterEffect10071ui_story then
				arg_571_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_574_13 = 0
			local var_574_14 = 0.7

			if var_574_13 < arg_571_1.time_ and arg_571_1.time_ <= var_574_13 + arg_574_0 then
				arg_571_1.talkMaxDuration = 0
				arg_571_1.dialogCg_.alpha = 1

				arg_571_1.dialog_:SetActive(true)
				SetActive(arg_571_1.leftNameGo_, true)

				local var_574_15 = arg_571_1:FormatText(StoryNameCfg[670].name)

				arg_571_1.leftNameTxt_.text = var_574_15

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_571_1.leftNameTxt_.transform)

				arg_571_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_571_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_571_1:RecordName(arg_571_1.leftNameTxt_.text)
				SetActive(arg_571_1.iconTrs_.gameObject, false)
				arg_571_1.callingController_:SetSelectedState("normal")

				local var_574_16 = arg_571_1:GetWordFromCfg(411121133)
				local var_574_17 = arg_571_1:FormatText(var_574_16.content)

				arg_571_1.text_.text = var_574_17

				LuaForUtil.ClearLinePrefixSymbol(arg_571_1.text_)

				local var_574_18 = 28
				local var_574_19 = utf8.len(var_574_17)
				local var_574_20 = var_574_18 <= 0 and var_574_14 or var_574_14 * (var_574_19 / var_574_18)

				if var_574_20 > 0 and var_574_14 < var_574_20 then
					arg_571_1.talkMaxDuration = var_574_20

					if var_574_20 + var_574_13 > arg_571_1.duration_ then
						arg_571_1.duration_ = var_574_20 + var_574_13
					end
				end

				arg_571_1.text_.text = var_574_17
				arg_571_1.typewritter.percent = 0

				arg_571_1.typewritter:SetDirty()
				arg_571_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121133", "story_v_out_411121.awb") ~= 0 then
					local var_574_21 = manager.audio:GetVoiceLength("story_v_out_411121", "411121133", "story_v_out_411121.awb") / 1000

					if var_574_21 + var_574_13 > arg_571_1.duration_ then
						arg_571_1.duration_ = var_574_21 + var_574_13
					end

					if var_574_16.prefab_name ~= "" and arg_571_1.actors_[var_574_16.prefab_name] ~= nil then
						local var_574_22 = LuaForUtil.PlayVoiceWithCriLipsync(arg_571_1.actors_[var_574_16.prefab_name].transform, "story_v_out_411121", "411121133", "story_v_out_411121.awb")

						arg_571_1:RecordAudio("411121133", var_574_22)
						arg_571_1:RecordAudio("411121133", var_574_22)
					else
						arg_571_1:AudioAction("play", "voice", "story_v_out_411121", "411121133", "story_v_out_411121.awb")
					end

					arg_571_1:RecordHistoryTalkVoice("story_v_out_411121", "411121133", "story_v_out_411121.awb")
				end

				arg_571_1:RecordContent(arg_571_1.text_.text)
			end

			local var_574_23 = math.max(var_574_14, arg_571_1.talkMaxDuration)

			if var_574_13 <= arg_571_1.time_ and arg_571_1.time_ < var_574_13 + var_574_23 then
				arg_571_1.typewritter.percent = (arg_571_1.time_ - var_574_13) / var_574_23

				arg_571_1.typewritter:SetDirty()
			end

			if arg_571_1.time_ >= var_574_13 + var_574_23 and arg_571_1.time_ < var_574_13 + var_574_23 + arg_574_0 then
				arg_571_1.typewritter.percent = 1

				arg_571_1.typewritter:SetDirty()
				arg_571_1:ShowNextGo(true)
			end
		end
	end,
	Play411121134 = function(arg_575_0, arg_575_1)
		arg_575_1.time_ = 0
		arg_575_1.frameCnt_ = 0
		arg_575_1.state_ = "playing"
		arg_575_1.curTalkId_ = 411121134
		arg_575_1.duration_ = 6.23

		local var_575_0 = {
			zh = 5.933,
			ja = 6.233
		}
		local var_575_1 = manager.audio:GetLocalizationFlag()

		if var_575_0[var_575_1] ~= nil then
			arg_575_1.duration_ = var_575_0[var_575_1]
		end

		SetActive(arg_575_1.tipsGo_, false)

		function arg_575_1.onSingleLineFinish_()
			arg_575_1.onSingleLineUpdate_ = nil
			arg_575_1.onSingleLineFinish_ = nil
			arg_575_1.state_ = "waiting"
		end

		function arg_575_1.playNext_(arg_577_0)
			if arg_577_0 == 1 then
				arg_575_0:Play411121135(arg_575_1)
			end
		end

		function arg_575_1.onSingleLineUpdate_(arg_578_0)
			local var_578_0 = 0
			local var_578_1 = 0.6

			if var_578_0 < arg_575_1.time_ and arg_575_1.time_ <= var_578_0 + arg_578_0 then
				arg_575_1.talkMaxDuration = 0
				arg_575_1.dialogCg_.alpha = 1

				arg_575_1.dialog_:SetActive(true)
				SetActive(arg_575_1.leftNameGo_, true)

				local var_578_2 = arg_575_1:FormatText(StoryNameCfg[670].name)

				arg_575_1.leftNameTxt_.text = var_578_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_575_1.leftNameTxt_.transform)

				arg_575_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_575_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_575_1:RecordName(arg_575_1.leftNameTxt_.text)
				SetActive(arg_575_1.iconTrs_.gameObject, false)
				arg_575_1.callingController_:SetSelectedState("normal")

				local var_578_3 = arg_575_1:GetWordFromCfg(411121134)
				local var_578_4 = arg_575_1:FormatText(var_578_3.content)

				arg_575_1.text_.text = var_578_4

				LuaForUtil.ClearLinePrefixSymbol(arg_575_1.text_)

				local var_578_5 = 24
				local var_578_6 = utf8.len(var_578_4)
				local var_578_7 = var_578_5 <= 0 and var_578_1 or var_578_1 * (var_578_6 / var_578_5)

				if var_578_7 > 0 and var_578_1 < var_578_7 then
					arg_575_1.talkMaxDuration = var_578_7

					if var_578_7 + var_578_0 > arg_575_1.duration_ then
						arg_575_1.duration_ = var_578_7 + var_578_0
					end
				end

				arg_575_1.text_.text = var_578_4
				arg_575_1.typewritter.percent = 0

				arg_575_1.typewritter:SetDirty()
				arg_575_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121134", "story_v_out_411121.awb") ~= 0 then
					local var_578_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121134", "story_v_out_411121.awb") / 1000

					if var_578_8 + var_578_0 > arg_575_1.duration_ then
						arg_575_1.duration_ = var_578_8 + var_578_0
					end

					if var_578_3.prefab_name ~= "" and arg_575_1.actors_[var_578_3.prefab_name] ~= nil then
						local var_578_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_575_1.actors_[var_578_3.prefab_name].transform, "story_v_out_411121", "411121134", "story_v_out_411121.awb")

						arg_575_1:RecordAudio("411121134", var_578_9)
						arg_575_1:RecordAudio("411121134", var_578_9)
					else
						arg_575_1:AudioAction("play", "voice", "story_v_out_411121", "411121134", "story_v_out_411121.awb")
					end

					arg_575_1:RecordHistoryTalkVoice("story_v_out_411121", "411121134", "story_v_out_411121.awb")
				end

				arg_575_1:RecordContent(arg_575_1.text_.text)
			end

			local var_578_10 = math.max(var_578_1, arg_575_1.talkMaxDuration)

			if var_578_0 <= arg_575_1.time_ and arg_575_1.time_ < var_578_0 + var_578_10 then
				arg_575_1.typewritter.percent = (arg_575_1.time_ - var_578_0) / var_578_10

				arg_575_1.typewritter:SetDirty()
			end

			if arg_575_1.time_ >= var_578_0 + var_578_10 and arg_575_1.time_ < var_578_0 + var_578_10 + arg_578_0 then
				arg_575_1.typewritter.percent = 1

				arg_575_1.typewritter:SetDirty()
				arg_575_1:ShowNextGo(true)
			end
		end
	end,
	Play411121135 = function(arg_579_0, arg_579_1)
		arg_579_1.time_ = 0
		arg_579_1.frameCnt_ = 0
		arg_579_1.state_ = "playing"
		arg_579_1.curTalkId_ = 411121135
		arg_579_1.duration_ = 1.03

		local var_579_0 = {
			zh = 0.999999999999,
			ja = 1.033
		}
		local var_579_1 = manager.audio:GetLocalizationFlag()

		if var_579_0[var_579_1] ~= nil then
			arg_579_1.duration_ = var_579_0[var_579_1]
		end

		SetActive(arg_579_1.tipsGo_, false)

		function arg_579_1.onSingleLineFinish_()
			arg_579_1.onSingleLineUpdate_ = nil
			arg_579_1.onSingleLineFinish_ = nil
			arg_579_1.state_ = "waiting"
		end

		function arg_579_1.playNext_(arg_581_0)
			if arg_581_0 == 1 then
				arg_579_0:Play411121136(arg_579_1)
			end
		end

		function arg_579_1.onSingleLineUpdate_(arg_582_0)
			local var_582_0 = arg_579_1.actors_["1095ui_story"].transform
			local var_582_1 = 0

			if var_582_1 < arg_579_1.time_ and arg_579_1.time_ <= var_582_1 + arg_582_0 then
				arg_579_1.var_.moveOldPos1095ui_story = var_582_0.localPosition
			end

			local var_582_2 = 0.001

			if var_582_1 <= arg_579_1.time_ and arg_579_1.time_ < var_582_1 + var_582_2 then
				local var_582_3 = (arg_579_1.time_ - var_582_1) / var_582_2
				local var_582_4 = Vector3.New(0.7, -0.98, -6.1)

				var_582_0.localPosition = Vector3.Lerp(arg_579_1.var_.moveOldPos1095ui_story, var_582_4, var_582_3)

				local var_582_5 = manager.ui.mainCamera.transform.position - var_582_0.position

				var_582_0.forward = Vector3.New(var_582_5.x, var_582_5.y, var_582_5.z)

				local var_582_6 = var_582_0.localEulerAngles

				var_582_6.z = 0
				var_582_6.x = 0
				var_582_0.localEulerAngles = var_582_6
			end

			if arg_579_1.time_ >= var_582_1 + var_582_2 and arg_579_1.time_ < var_582_1 + var_582_2 + arg_582_0 then
				var_582_0.localPosition = Vector3.New(0.7, -0.98, -6.1)

				local var_582_7 = manager.ui.mainCamera.transform.position - var_582_0.position

				var_582_0.forward = Vector3.New(var_582_7.x, var_582_7.y, var_582_7.z)

				local var_582_8 = var_582_0.localEulerAngles

				var_582_8.z = 0
				var_582_8.x = 0
				var_582_0.localEulerAngles = var_582_8
			end

			local var_582_9 = arg_579_1.actors_["1095ui_story"]
			local var_582_10 = 0

			if var_582_10 < arg_579_1.time_ and arg_579_1.time_ <= var_582_10 + arg_582_0 and not isNil(var_582_9) and arg_579_1.var_.characterEffect1095ui_story == nil then
				arg_579_1.var_.characterEffect1095ui_story = var_582_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_582_11 = 0.200000002980232

			if var_582_10 <= arg_579_1.time_ and arg_579_1.time_ < var_582_10 + var_582_11 and not isNil(var_582_9) then
				local var_582_12 = (arg_579_1.time_ - var_582_10) / var_582_11

				if arg_579_1.var_.characterEffect1095ui_story and not isNil(var_582_9) then
					arg_579_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_579_1.time_ >= var_582_10 + var_582_11 and arg_579_1.time_ < var_582_10 + var_582_11 + arg_582_0 and not isNil(var_582_9) and arg_579_1.var_.characterEffect1095ui_story then
				arg_579_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_582_13 = arg_579_1.actors_["10071ui_story"].transform
			local var_582_14 = 0

			if var_582_14 < arg_579_1.time_ and arg_579_1.time_ <= var_582_14 + arg_582_0 then
				arg_579_1.var_.moveOldPos10071ui_story = var_582_13.localPosition
			end

			local var_582_15 = 0.001

			if var_582_14 <= arg_579_1.time_ and arg_579_1.time_ < var_582_14 + var_582_15 then
				local var_582_16 = (arg_579_1.time_ - var_582_14) / var_582_15
				local var_582_17 = Vector3.New(-0.7, -0.9, -6.26)

				var_582_13.localPosition = Vector3.Lerp(arg_579_1.var_.moveOldPos10071ui_story, var_582_17, var_582_16)

				local var_582_18 = manager.ui.mainCamera.transform.position - var_582_13.position

				var_582_13.forward = Vector3.New(var_582_18.x, var_582_18.y, var_582_18.z)

				local var_582_19 = var_582_13.localEulerAngles

				var_582_19.z = 0
				var_582_19.x = 0
				var_582_13.localEulerAngles = var_582_19
			end

			if arg_579_1.time_ >= var_582_14 + var_582_15 and arg_579_1.time_ < var_582_14 + var_582_15 + arg_582_0 then
				var_582_13.localPosition = Vector3.New(-0.7, -0.9, -6.26)

				local var_582_20 = manager.ui.mainCamera.transform.position - var_582_13.position

				var_582_13.forward = Vector3.New(var_582_20.x, var_582_20.y, var_582_20.z)

				local var_582_21 = var_582_13.localEulerAngles

				var_582_21.z = 0
				var_582_21.x = 0
				var_582_13.localEulerAngles = var_582_21
			end

			local var_582_22 = arg_579_1.actors_["10071ui_story"]
			local var_582_23 = 0

			if var_582_23 < arg_579_1.time_ and arg_579_1.time_ <= var_582_23 + arg_582_0 and not isNil(var_582_22) and arg_579_1.var_.characterEffect10071ui_story == nil then
				arg_579_1.var_.characterEffect10071ui_story = var_582_22:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_582_24 = 0.200000002980232

			if var_582_23 <= arg_579_1.time_ and arg_579_1.time_ < var_582_23 + var_582_24 and not isNil(var_582_22) then
				local var_582_25 = (arg_579_1.time_ - var_582_23) / var_582_24

				if arg_579_1.var_.characterEffect10071ui_story and not isNil(var_582_22) then
					local var_582_26 = Mathf.Lerp(0, 0.5, var_582_25)

					arg_579_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_579_1.var_.characterEffect10071ui_story.fillRatio = var_582_26
				end
			end

			if arg_579_1.time_ >= var_582_23 + var_582_24 and arg_579_1.time_ < var_582_23 + var_582_24 + arg_582_0 and not isNil(var_582_22) and arg_579_1.var_.characterEffect10071ui_story then
				local var_582_27 = 0.5

				arg_579_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_579_1.var_.characterEffect10071ui_story.fillRatio = var_582_27
			end

			local var_582_28 = 0
			local var_582_29 = 0.05

			if var_582_28 < arg_579_1.time_ and arg_579_1.time_ <= var_582_28 + arg_582_0 then
				arg_579_1.talkMaxDuration = 0
				arg_579_1.dialogCg_.alpha = 1

				arg_579_1.dialog_:SetActive(true)
				SetActive(arg_579_1.leftNameGo_, true)

				local var_582_30 = arg_579_1:FormatText(StoryNameCfg[471].name)

				arg_579_1.leftNameTxt_.text = var_582_30

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_579_1.leftNameTxt_.transform)

				arg_579_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_579_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_579_1:RecordName(arg_579_1.leftNameTxt_.text)
				SetActive(arg_579_1.iconTrs_.gameObject, false)
				arg_579_1.callingController_:SetSelectedState("normal")

				local var_582_31 = arg_579_1:GetWordFromCfg(411121135)
				local var_582_32 = arg_579_1:FormatText(var_582_31.content)

				arg_579_1.text_.text = var_582_32

				LuaForUtil.ClearLinePrefixSymbol(arg_579_1.text_)

				local var_582_33 = 2
				local var_582_34 = utf8.len(var_582_32)
				local var_582_35 = var_582_33 <= 0 and var_582_29 or var_582_29 * (var_582_34 / var_582_33)

				if var_582_35 > 0 and var_582_29 < var_582_35 then
					arg_579_1.talkMaxDuration = var_582_35

					if var_582_35 + var_582_28 > arg_579_1.duration_ then
						arg_579_1.duration_ = var_582_35 + var_582_28
					end
				end

				arg_579_1.text_.text = var_582_32
				arg_579_1.typewritter.percent = 0

				arg_579_1.typewritter:SetDirty()
				arg_579_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121135", "story_v_out_411121.awb") ~= 0 then
					local var_582_36 = manager.audio:GetVoiceLength("story_v_out_411121", "411121135", "story_v_out_411121.awb") / 1000

					if var_582_36 + var_582_28 > arg_579_1.duration_ then
						arg_579_1.duration_ = var_582_36 + var_582_28
					end

					if var_582_31.prefab_name ~= "" and arg_579_1.actors_[var_582_31.prefab_name] ~= nil then
						local var_582_37 = LuaForUtil.PlayVoiceWithCriLipsync(arg_579_1.actors_[var_582_31.prefab_name].transform, "story_v_out_411121", "411121135", "story_v_out_411121.awb")

						arg_579_1:RecordAudio("411121135", var_582_37)
						arg_579_1:RecordAudio("411121135", var_582_37)
					else
						arg_579_1:AudioAction("play", "voice", "story_v_out_411121", "411121135", "story_v_out_411121.awb")
					end

					arg_579_1:RecordHistoryTalkVoice("story_v_out_411121", "411121135", "story_v_out_411121.awb")
				end

				arg_579_1:RecordContent(arg_579_1.text_.text)
			end

			local var_582_38 = math.max(var_582_29, arg_579_1.talkMaxDuration)

			if var_582_28 <= arg_579_1.time_ and arg_579_1.time_ < var_582_28 + var_582_38 then
				arg_579_1.typewritter.percent = (arg_579_1.time_ - var_582_28) / var_582_38

				arg_579_1.typewritter:SetDirty()
			end

			if arg_579_1.time_ >= var_582_28 + var_582_38 and arg_579_1.time_ < var_582_28 + var_582_38 + arg_582_0 then
				arg_579_1.typewritter.percent = 1

				arg_579_1.typewritter:SetDirty()
				arg_579_1:ShowNextGo(true)
			end
		end
	end,
	Play411121136 = function(arg_583_0, arg_583_1)
		arg_583_1.time_ = 0
		arg_583_1.frameCnt_ = 0
		arg_583_1.state_ = "playing"
		arg_583_1.curTalkId_ = 411121136
		arg_583_1.duration_ = 15.6

		local var_583_0 = {
			zh = 8.866,
			ja = 15.6
		}
		local var_583_1 = manager.audio:GetLocalizationFlag()

		if var_583_0[var_583_1] ~= nil then
			arg_583_1.duration_ = var_583_0[var_583_1]
		end

		SetActive(arg_583_1.tipsGo_, false)

		function arg_583_1.onSingleLineFinish_()
			arg_583_1.onSingleLineUpdate_ = nil
			arg_583_1.onSingleLineFinish_ = nil
			arg_583_1.state_ = "waiting"
		end

		function arg_583_1.playNext_(arg_585_0)
			if arg_585_0 == 1 then
				arg_583_0:Play411121137(arg_583_1)
			end
		end

		function arg_583_1.onSingleLineUpdate_(arg_586_0)
			local var_586_0 = arg_583_1.actors_["1095ui_story"]
			local var_586_1 = 0

			if var_586_1 < arg_583_1.time_ and arg_583_1.time_ <= var_586_1 + arg_586_0 and not isNil(var_586_0) and arg_583_1.var_.characterEffect1095ui_story == nil then
				arg_583_1.var_.characterEffect1095ui_story = var_586_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_586_2 = 0.200000002980232

			if var_586_1 <= arg_583_1.time_ and arg_583_1.time_ < var_586_1 + var_586_2 and not isNil(var_586_0) then
				local var_586_3 = (arg_583_1.time_ - var_586_1) / var_586_2

				if arg_583_1.var_.characterEffect1095ui_story and not isNil(var_586_0) then
					local var_586_4 = Mathf.Lerp(0, 0.5, var_586_3)

					arg_583_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_583_1.var_.characterEffect1095ui_story.fillRatio = var_586_4
				end
			end

			if arg_583_1.time_ >= var_586_1 + var_586_2 and arg_583_1.time_ < var_586_1 + var_586_2 + arg_586_0 and not isNil(var_586_0) and arg_583_1.var_.characterEffect1095ui_story then
				local var_586_5 = 0.5

				arg_583_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_583_1.var_.characterEffect1095ui_story.fillRatio = var_586_5
			end

			local var_586_6 = 0

			if var_586_6 < arg_583_1.time_ and arg_583_1.time_ <= var_586_6 + arg_586_0 then
				arg_583_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/story10071/story10071action/10071action1_1")
			end

			local var_586_7 = 0

			if var_586_7 < arg_583_1.time_ and arg_583_1.time_ <= var_586_7 + arg_586_0 then
				arg_583_1:PlayTimeline("10071ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_586_8 = arg_583_1.actors_["10071ui_story"]
			local var_586_9 = 0

			if var_586_9 < arg_583_1.time_ and arg_583_1.time_ <= var_586_9 + arg_586_0 and not isNil(var_586_8) and arg_583_1.var_.characterEffect10071ui_story == nil then
				arg_583_1.var_.characterEffect10071ui_story = var_586_8:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_586_10 = 0.200000002980232

			if var_586_9 <= arg_583_1.time_ and arg_583_1.time_ < var_586_9 + var_586_10 and not isNil(var_586_8) then
				local var_586_11 = (arg_583_1.time_ - var_586_9) / var_586_10

				if arg_583_1.var_.characterEffect10071ui_story and not isNil(var_586_8) then
					arg_583_1.var_.characterEffect10071ui_story.fillFlat = false
				end
			end

			if arg_583_1.time_ >= var_586_9 + var_586_10 and arg_583_1.time_ < var_586_9 + var_586_10 + arg_586_0 and not isNil(var_586_8) and arg_583_1.var_.characterEffect10071ui_story then
				arg_583_1.var_.characterEffect10071ui_story.fillFlat = false
			end

			local var_586_12 = 0
			local var_586_13 = 0.675

			if var_586_12 < arg_583_1.time_ and arg_583_1.time_ <= var_586_12 + arg_586_0 then
				arg_583_1.talkMaxDuration = 0
				arg_583_1.dialogCg_.alpha = 1

				arg_583_1.dialog_:SetActive(true)
				SetActive(arg_583_1.leftNameGo_, true)

				local var_586_14 = arg_583_1:FormatText(StoryNameCfg[670].name)

				arg_583_1.leftNameTxt_.text = var_586_14

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_583_1.leftNameTxt_.transform)

				arg_583_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_583_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_583_1:RecordName(arg_583_1.leftNameTxt_.text)
				SetActive(arg_583_1.iconTrs_.gameObject, false)
				arg_583_1.callingController_:SetSelectedState("normal")

				local var_586_15 = arg_583_1:GetWordFromCfg(411121136)
				local var_586_16 = arg_583_1:FormatText(var_586_15.content)

				arg_583_1.text_.text = var_586_16

				LuaForUtil.ClearLinePrefixSymbol(arg_583_1.text_)

				local var_586_17 = 27
				local var_586_18 = utf8.len(var_586_16)
				local var_586_19 = var_586_17 <= 0 and var_586_13 or var_586_13 * (var_586_18 / var_586_17)

				if var_586_19 > 0 and var_586_13 < var_586_19 then
					arg_583_1.talkMaxDuration = var_586_19

					if var_586_19 + var_586_12 > arg_583_1.duration_ then
						arg_583_1.duration_ = var_586_19 + var_586_12
					end
				end

				arg_583_1.text_.text = var_586_16
				arg_583_1.typewritter.percent = 0

				arg_583_1.typewritter:SetDirty()
				arg_583_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121136", "story_v_out_411121.awb") ~= 0 then
					local var_586_20 = manager.audio:GetVoiceLength("story_v_out_411121", "411121136", "story_v_out_411121.awb") / 1000

					if var_586_20 + var_586_12 > arg_583_1.duration_ then
						arg_583_1.duration_ = var_586_20 + var_586_12
					end

					if var_586_15.prefab_name ~= "" and arg_583_1.actors_[var_586_15.prefab_name] ~= nil then
						local var_586_21 = LuaForUtil.PlayVoiceWithCriLipsync(arg_583_1.actors_[var_586_15.prefab_name].transform, "story_v_out_411121", "411121136", "story_v_out_411121.awb")

						arg_583_1:RecordAudio("411121136", var_586_21)
						arg_583_1:RecordAudio("411121136", var_586_21)
					else
						arg_583_1:AudioAction("play", "voice", "story_v_out_411121", "411121136", "story_v_out_411121.awb")
					end

					arg_583_1:RecordHistoryTalkVoice("story_v_out_411121", "411121136", "story_v_out_411121.awb")
				end

				arg_583_1:RecordContent(arg_583_1.text_.text)
			end

			local var_586_22 = math.max(var_586_13, arg_583_1.talkMaxDuration)

			if var_586_12 <= arg_583_1.time_ and arg_583_1.time_ < var_586_12 + var_586_22 then
				arg_583_1.typewritter.percent = (arg_583_1.time_ - var_586_12) / var_586_22

				arg_583_1.typewritter:SetDirty()
			end

			if arg_583_1.time_ >= var_586_12 + var_586_22 and arg_583_1.time_ < var_586_12 + var_586_22 + arg_586_0 then
				arg_583_1.typewritter.percent = 1

				arg_583_1.typewritter:SetDirty()
				arg_583_1:ShowNextGo(true)
			end
		end
	end,
	Play411121137 = function(arg_587_0, arg_587_1)
		arg_587_1.time_ = 0
		arg_587_1.frameCnt_ = 0
		arg_587_1.state_ = "playing"
		arg_587_1.curTalkId_ = 411121137
		arg_587_1.duration_ = 5

		SetActive(arg_587_1.tipsGo_, false)

		function arg_587_1.onSingleLineFinish_()
			arg_587_1.onSingleLineUpdate_ = nil
			arg_587_1.onSingleLineFinish_ = nil
			arg_587_1.state_ = "waiting"
		end

		function arg_587_1.playNext_(arg_589_0)
			if arg_589_0 == 1 then
				arg_587_0:Play411121138(arg_587_1)
			end
		end

		function arg_587_1.onSingleLineUpdate_(arg_590_0)
			local var_590_0 = arg_587_1.actors_["10071ui_story"]
			local var_590_1 = 0

			if var_590_1 < arg_587_1.time_ and arg_587_1.time_ <= var_590_1 + arg_590_0 and not isNil(var_590_0) and arg_587_1.var_.characterEffect10071ui_story == nil then
				arg_587_1.var_.characterEffect10071ui_story = var_590_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_590_2 = 0.200000002980232

			if var_590_1 <= arg_587_1.time_ and arg_587_1.time_ < var_590_1 + var_590_2 and not isNil(var_590_0) then
				local var_590_3 = (arg_587_1.time_ - var_590_1) / var_590_2

				if arg_587_1.var_.characterEffect10071ui_story and not isNil(var_590_0) then
					local var_590_4 = Mathf.Lerp(0, 0.5, var_590_3)

					arg_587_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_587_1.var_.characterEffect10071ui_story.fillRatio = var_590_4
				end
			end

			if arg_587_1.time_ >= var_590_1 + var_590_2 and arg_587_1.time_ < var_590_1 + var_590_2 + arg_590_0 and not isNil(var_590_0) and arg_587_1.var_.characterEffect10071ui_story then
				local var_590_5 = 0.5

				arg_587_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_587_1.var_.characterEffect10071ui_story.fillRatio = var_590_5
			end

			local var_590_6 = 0
			local var_590_7 = 0.45

			if var_590_6 < arg_587_1.time_ and arg_587_1.time_ <= var_590_6 + arg_590_0 then
				arg_587_1.talkMaxDuration = 0
				arg_587_1.dialogCg_.alpha = 1

				arg_587_1.dialog_:SetActive(true)
				SetActive(arg_587_1.leftNameGo_, false)

				arg_587_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_587_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_587_1:RecordName(arg_587_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_587_1.iconTrs_.gameObject, false)
				arg_587_1.callingController_:SetSelectedState("normal")

				local var_590_8 = arg_587_1:GetWordFromCfg(411121137)
				local var_590_9 = arg_587_1:FormatText(var_590_8.content)

				arg_587_1.text_.text = var_590_9

				LuaForUtil.ClearLinePrefixSymbol(arg_587_1.text_)

				local var_590_10 = 18
				local var_590_11 = utf8.len(var_590_9)
				local var_590_12 = var_590_10 <= 0 and var_590_7 or var_590_7 * (var_590_11 / var_590_10)

				if var_590_12 > 0 and var_590_7 < var_590_12 then
					arg_587_1.talkMaxDuration = var_590_12

					if var_590_12 + var_590_6 > arg_587_1.duration_ then
						arg_587_1.duration_ = var_590_12 + var_590_6
					end
				end

				arg_587_1.text_.text = var_590_9
				arg_587_1.typewritter.percent = 0

				arg_587_1.typewritter:SetDirty()
				arg_587_1:ShowNextGo(false)
				arg_587_1:RecordContent(arg_587_1.text_.text)
			end

			local var_590_13 = math.max(var_590_7, arg_587_1.talkMaxDuration)

			if var_590_6 <= arg_587_1.time_ and arg_587_1.time_ < var_590_6 + var_590_13 then
				arg_587_1.typewritter.percent = (arg_587_1.time_ - var_590_6) / var_590_13

				arg_587_1.typewritter:SetDirty()
			end

			if arg_587_1.time_ >= var_590_6 + var_590_13 and arg_587_1.time_ < var_590_6 + var_590_13 + arg_590_0 then
				arg_587_1.typewritter.percent = 1

				arg_587_1.typewritter:SetDirty()
				arg_587_1:ShowNextGo(true)
			end
		end
	end,
	Play411121138 = function(arg_591_0, arg_591_1)
		arg_591_1.time_ = 0
		arg_591_1.frameCnt_ = 0
		arg_591_1.state_ = "playing"
		arg_591_1.curTalkId_ = 411121138
		arg_591_1.duration_ = 2

		SetActive(arg_591_1.tipsGo_, false)

		function arg_591_1.onSingleLineFinish_()
			arg_591_1.onSingleLineUpdate_ = nil
			arg_591_1.onSingleLineFinish_ = nil
			arg_591_1.state_ = "waiting"
		end

		function arg_591_1.playNext_(arg_593_0)
			if arg_593_0 == 1 then
				arg_591_0:Play411121139(arg_591_1)
			end
		end

		function arg_591_1.onSingleLineUpdate_(arg_594_0)
			local var_594_0 = arg_591_1.actors_["1095ui_story"].transform
			local var_594_1 = 0

			if var_594_1 < arg_591_1.time_ and arg_591_1.time_ <= var_594_1 + arg_594_0 then
				arg_591_1.var_.moveOldPos1095ui_story = var_594_0.localPosition
			end

			local var_594_2 = 0.001

			if var_594_1 <= arg_591_1.time_ and arg_591_1.time_ < var_594_1 + var_594_2 then
				local var_594_3 = (arg_591_1.time_ - var_594_1) / var_594_2
				local var_594_4 = Vector3.New(0.7, -0.98, -6.1)

				var_594_0.localPosition = Vector3.Lerp(arg_591_1.var_.moveOldPos1095ui_story, var_594_4, var_594_3)

				local var_594_5 = manager.ui.mainCamera.transform.position - var_594_0.position

				var_594_0.forward = Vector3.New(var_594_5.x, var_594_5.y, var_594_5.z)

				local var_594_6 = var_594_0.localEulerAngles

				var_594_6.z = 0
				var_594_6.x = 0
				var_594_0.localEulerAngles = var_594_6
			end

			if arg_591_1.time_ >= var_594_1 + var_594_2 and arg_591_1.time_ < var_594_1 + var_594_2 + arg_594_0 then
				var_594_0.localPosition = Vector3.New(0.7, -0.98, -6.1)

				local var_594_7 = manager.ui.mainCamera.transform.position - var_594_0.position

				var_594_0.forward = Vector3.New(var_594_7.x, var_594_7.y, var_594_7.z)

				local var_594_8 = var_594_0.localEulerAngles

				var_594_8.z = 0
				var_594_8.x = 0
				var_594_0.localEulerAngles = var_594_8
			end

			local var_594_9 = arg_591_1.actors_["1095ui_story"]
			local var_594_10 = 0

			if var_594_10 < arg_591_1.time_ and arg_591_1.time_ <= var_594_10 + arg_594_0 and not isNil(var_594_9) and arg_591_1.var_.characterEffect1095ui_story == nil then
				arg_591_1.var_.characterEffect1095ui_story = var_594_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_594_11 = 0.200000002980232

			if var_594_10 <= arg_591_1.time_ and arg_591_1.time_ < var_594_10 + var_594_11 and not isNil(var_594_9) then
				local var_594_12 = (arg_591_1.time_ - var_594_10) / var_594_11

				if arg_591_1.var_.characterEffect1095ui_story and not isNil(var_594_9) then
					arg_591_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_591_1.time_ >= var_594_10 + var_594_11 and arg_591_1.time_ < var_594_10 + var_594_11 + arg_594_0 and not isNil(var_594_9) and arg_591_1.var_.characterEffect1095ui_story then
				arg_591_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_594_13 = 0

			if var_594_13 < arg_591_1.time_ and arg_591_1.time_ <= var_594_13 + arg_594_0 then
				arg_591_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action4_2")
			end

			local var_594_14 = 0

			if var_594_14 < arg_591_1.time_ and arg_591_1.time_ <= var_594_14 + arg_594_0 then
				arg_591_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0101cva")
			end

			local var_594_15 = 0
			local var_594_16 = 0.075

			if var_594_15 < arg_591_1.time_ and arg_591_1.time_ <= var_594_15 + arg_594_0 then
				arg_591_1.talkMaxDuration = 0
				arg_591_1.dialogCg_.alpha = 1

				arg_591_1.dialog_:SetActive(true)
				SetActive(arg_591_1.leftNameGo_, true)

				local var_594_17 = arg_591_1:FormatText(StoryNameCfg[471].name)

				arg_591_1.leftNameTxt_.text = var_594_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_591_1.leftNameTxt_.transform)

				arg_591_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_591_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_591_1:RecordName(arg_591_1.leftNameTxt_.text)
				SetActive(arg_591_1.iconTrs_.gameObject, false)
				arg_591_1.callingController_:SetSelectedState("normal")

				local var_594_18 = arg_591_1:GetWordFromCfg(411121138)
				local var_594_19 = arg_591_1:FormatText(var_594_18.content)

				arg_591_1.text_.text = var_594_19

				LuaForUtil.ClearLinePrefixSymbol(arg_591_1.text_)

				local var_594_20 = 3
				local var_594_21 = utf8.len(var_594_19)
				local var_594_22 = var_594_20 <= 0 and var_594_16 or var_594_16 * (var_594_21 / var_594_20)

				if var_594_22 > 0 and var_594_16 < var_594_22 then
					arg_591_1.talkMaxDuration = var_594_22

					if var_594_22 + var_594_15 > arg_591_1.duration_ then
						arg_591_1.duration_ = var_594_22 + var_594_15
					end
				end

				arg_591_1.text_.text = var_594_19
				arg_591_1.typewritter.percent = 0

				arg_591_1.typewritter:SetDirty()
				arg_591_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121138", "story_v_out_411121.awb") ~= 0 then
					local var_594_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121138", "story_v_out_411121.awb") / 1000

					if var_594_23 + var_594_15 > arg_591_1.duration_ then
						arg_591_1.duration_ = var_594_23 + var_594_15
					end

					if var_594_18.prefab_name ~= "" and arg_591_1.actors_[var_594_18.prefab_name] ~= nil then
						local var_594_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_591_1.actors_[var_594_18.prefab_name].transform, "story_v_out_411121", "411121138", "story_v_out_411121.awb")

						arg_591_1:RecordAudio("411121138", var_594_24)
						arg_591_1:RecordAudio("411121138", var_594_24)
					else
						arg_591_1:AudioAction("play", "voice", "story_v_out_411121", "411121138", "story_v_out_411121.awb")
					end

					arg_591_1:RecordHistoryTalkVoice("story_v_out_411121", "411121138", "story_v_out_411121.awb")
				end

				arg_591_1:RecordContent(arg_591_1.text_.text)
			end

			local var_594_25 = math.max(var_594_16, arg_591_1.talkMaxDuration)

			if var_594_15 <= arg_591_1.time_ and arg_591_1.time_ < var_594_15 + var_594_25 then
				arg_591_1.typewritter.percent = (arg_591_1.time_ - var_594_15) / var_594_25

				arg_591_1.typewritter:SetDirty()
			end

			if arg_591_1.time_ >= var_594_15 + var_594_25 and arg_591_1.time_ < var_594_15 + var_594_25 + arg_594_0 then
				arg_591_1.typewritter.percent = 1

				arg_591_1.typewritter:SetDirty()
				arg_591_1:ShowNextGo(true)
			end
		end
	end,
	Play411121139 = function(arg_595_0, arg_595_1)
		arg_595_1.time_ = 0
		arg_595_1.frameCnt_ = 0
		arg_595_1.state_ = "playing"
		arg_595_1.curTalkId_ = 411121139
		arg_595_1.duration_ = 5

		SetActive(arg_595_1.tipsGo_, false)

		function arg_595_1.onSingleLineFinish_()
			arg_595_1.onSingleLineUpdate_ = nil
			arg_595_1.onSingleLineFinish_ = nil
			arg_595_1.state_ = "waiting"
		end

		function arg_595_1.playNext_(arg_597_0)
			if arg_597_0 == 1 then
				arg_595_0:Play411121140(arg_595_1)
			end
		end

		function arg_595_1.onSingleLineUpdate_(arg_598_0)
			local var_598_0 = arg_595_1.actors_["1095ui_story"]
			local var_598_1 = 0

			if var_598_1 < arg_595_1.time_ and arg_595_1.time_ <= var_598_1 + arg_598_0 and not isNil(var_598_0) and arg_595_1.var_.characterEffect1095ui_story == nil then
				arg_595_1.var_.characterEffect1095ui_story = var_598_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_598_2 = 0.200000002980232

			if var_598_1 <= arg_595_1.time_ and arg_595_1.time_ < var_598_1 + var_598_2 and not isNil(var_598_0) then
				local var_598_3 = (arg_595_1.time_ - var_598_1) / var_598_2

				if arg_595_1.var_.characterEffect1095ui_story and not isNil(var_598_0) then
					local var_598_4 = Mathf.Lerp(0, 0.5, var_598_3)

					arg_595_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_595_1.var_.characterEffect1095ui_story.fillRatio = var_598_4
				end
			end

			if arg_595_1.time_ >= var_598_1 + var_598_2 and arg_595_1.time_ < var_598_1 + var_598_2 + arg_598_0 and not isNil(var_598_0) and arg_595_1.var_.characterEffect1095ui_story then
				local var_598_5 = 0.5

				arg_595_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_595_1.var_.characterEffect1095ui_story.fillRatio = var_598_5
			end

			local var_598_6 = 0
			local var_598_7 = 0.366666666666667

			if var_598_6 < arg_595_1.time_ and arg_595_1.time_ <= var_598_6 + arg_598_0 then
				local var_598_8 = "play"
				local var_598_9 = "music"

				arg_595_1:AudioAction(var_598_8, var_598_9, "ui_battle", "ui_battle_stopbgm", "")

				local var_598_10 = ""
				local var_598_11 = manager.audio:GetAudioName("ui_battle", "ui_battle_stopbgm")

				if var_598_11 ~= "" then
					if arg_595_1.bgmTxt_.text ~= var_598_11 and arg_595_1.bgmTxt_.text ~= "" then
						if arg_595_1.bgmTxt2_.text ~= "" then
							arg_595_1.bgmTxt_.text = arg_595_1.bgmTxt2_.text
						end

						arg_595_1.bgmTxt2_.text = var_598_11

						arg_595_1.musicChangeAnimator_:Play("music_change", 0, 0)
					else
						arg_595_1.bgmTxt_.text = var_598_11
					end

					if arg_595_1.bgmTimer then
						arg_595_1.bgmTimer:Stop()

						arg_595_1.bgmTimer = nil
					end

					if arg_595_1.settingData.show_music_name == 1 then
						arg_595_1.musicController:SetSelectedState("show")
						arg_595_1.musicAnimator_:Play("open", 0, 0)

						if arg_595_1.settingData.music_time ~= 0 then
							arg_595_1.bgmTimer = TimeTools.StartAfterSeconds(tonumber(arg_595_1.settingData.music_time), function()
								if arg_595_1 == nil or isNil(arg_595_1.bgmTxt_) then
									return
								end

								arg_595_1.musicController:SetSelectedState("hide")
								arg_595_1.musicAnimator_:Play("back", 0, 0)
							end, {})
						end
					end
				end
			end

			local var_598_12 = 0
			local var_598_13 = 0.8

			if var_598_12 < arg_595_1.time_ and arg_595_1.time_ <= var_598_12 + arg_598_0 then
				arg_595_1.talkMaxDuration = 0
				arg_595_1.dialogCg_.alpha = 1

				arg_595_1.dialog_:SetActive(true)
				SetActive(arg_595_1.leftNameGo_, false)

				arg_595_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_595_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_595_1:RecordName(arg_595_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_595_1.iconTrs_.gameObject, false)
				arg_595_1.callingController_:SetSelectedState("normal")

				local var_598_14 = arg_595_1:GetWordFromCfg(411121139)
				local var_598_15 = arg_595_1:FormatText(var_598_14.content)

				arg_595_1.text_.text = var_598_15

				LuaForUtil.ClearLinePrefixSymbol(arg_595_1.text_)

				local var_598_16 = 32
				local var_598_17 = utf8.len(var_598_15)
				local var_598_18 = var_598_16 <= 0 and var_598_13 or var_598_13 * (var_598_17 / var_598_16)

				if var_598_18 > 0 and var_598_13 < var_598_18 then
					arg_595_1.talkMaxDuration = var_598_18

					if var_598_18 + var_598_12 > arg_595_1.duration_ then
						arg_595_1.duration_ = var_598_18 + var_598_12
					end
				end

				arg_595_1.text_.text = var_598_15
				arg_595_1.typewritter.percent = 0

				arg_595_1.typewritter:SetDirty()
				arg_595_1:ShowNextGo(false)
				arg_595_1:RecordContent(arg_595_1.text_.text)
			end

			local var_598_19 = math.max(var_598_13, arg_595_1.talkMaxDuration)

			if var_598_12 <= arg_595_1.time_ and arg_595_1.time_ < var_598_12 + var_598_19 then
				arg_595_1.typewritter.percent = (arg_595_1.time_ - var_598_12) / var_598_19

				arg_595_1.typewritter:SetDirty()
			end

			if arg_595_1.time_ >= var_598_12 + var_598_19 and arg_595_1.time_ < var_598_12 + var_598_19 + arg_598_0 then
				arg_595_1.typewritter.percent = 1

				arg_595_1.typewritter:SetDirty()
				arg_595_1:ShowNextGo(true)
			end
		end
	end,
	Play411121140 = function(arg_600_0, arg_600_1)
		arg_600_1.time_ = 0
		arg_600_1.frameCnt_ = 0
		arg_600_1.state_ = "playing"
		arg_600_1.curTalkId_ = 411121140
		arg_600_1.duration_ = 5

		SetActive(arg_600_1.tipsGo_, false)

		function arg_600_1.onSingleLineFinish_()
			arg_600_1.onSingleLineUpdate_ = nil
			arg_600_1.onSingleLineFinish_ = nil
			arg_600_1.state_ = "waiting"
		end

		function arg_600_1.playNext_(arg_602_0)
			if arg_602_0 == 1 then
				arg_600_0:Play411121141(arg_600_1)
			end
		end

		function arg_600_1.onSingleLineUpdate_(arg_603_0)
			local var_603_0 = 0
			local var_603_1 = 0.475

			if var_603_0 < arg_600_1.time_ and arg_600_1.time_ <= var_603_0 + arg_603_0 then
				arg_600_1.talkMaxDuration = 0
				arg_600_1.dialogCg_.alpha = 1

				arg_600_1.dialog_:SetActive(true)
				SetActive(arg_600_1.leftNameGo_, false)

				arg_600_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_600_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_600_1:RecordName(arg_600_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_600_1.iconTrs_.gameObject, false)
				arg_600_1.callingController_:SetSelectedState("normal")

				local var_603_2 = arg_600_1:GetWordFromCfg(411121140)
				local var_603_3 = arg_600_1:FormatText(var_603_2.content)

				arg_600_1.text_.text = var_603_3

				LuaForUtil.ClearLinePrefixSymbol(arg_600_1.text_)

				local var_603_4 = 19
				local var_603_5 = utf8.len(var_603_3)
				local var_603_6 = var_603_4 <= 0 and var_603_1 or var_603_1 * (var_603_5 / var_603_4)

				if var_603_6 > 0 and var_603_1 < var_603_6 then
					arg_600_1.talkMaxDuration = var_603_6

					if var_603_6 + var_603_0 > arg_600_1.duration_ then
						arg_600_1.duration_ = var_603_6 + var_603_0
					end
				end

				arg_600_1.text_.text = var_603_3
				arg_600_1.typewritter.percent = 0

				arg_600_1.typewritter:SetDirty()
				arg_600_1:ShowNextGo(false)
				arg_600_1:RecordContent(arg_600_1.text_.text)
			end

			local var_603_7 = math.max(var_603_1, arg_600_1.talkMaxDuration)

			if var_603_0 <= arg_600_1.time_ and arg_600_1.time_ < var_603_0 + var_603_7 then
				arg_600_1.typewritter.percent = (arg_600_1.time_ - var_603_0) / var_603_7

				arg_600_1.typewritter:SetDirty()
			end

			if arg_600_1.time_ >= var_603_0 + var_603_7 and arg_600_1.time_ < var_603_0 + var_603_7 + arg_603_0 then
				arg_600_1.typewritter.percent = 1

				arg_600_1.typewritter:SetDirty()
				arg_600_1:ShowNextGo(true)
			end
		end
	end,
	Play411121141 = function(arg_604_0, arg_604_1)
		arg_604_1.time_ = 0
		arg_604_1.frameCnt_ = 0
		arg_604_1.state_ = "playing"
		arg_604_1.curTalkId_ = 411121141
		arg_604_1.duration_ = 9.23

		local var_604_0 = {
			zh = 7.966,
			ja = 9.233
		}
		local var_604_1 = manager.audio:GetLocalizationFlag()

		if var_604_0[var_604_1] ~= nil then
			arg_604_1.duration_ = var_604_0[var_604_1]
		end

		SetActive(arg_604_1.tipsGo_, false)

		function arg_604_1.onSingleLineFinish_()
			arg_604_1.onSingleLineUpdate_ = nil
			arg_604_1.onSingleLineFinish_ = nil
			arg_604_1.state_ = "waiting"
		end

		function arg_604_1.playNext_(arg_606_0)
			if arg_606_0 == 1 then
				arg_604_0:Play411121142(arg_604_1)
			end
		end

		function arg_604_1.onSingleLineUpdate_(arg_607_0)
			local var_607_0 = arg_604_1.actors_["1095ui_story"].transform
			local var_607_1 = 2

			if var_607_1 < arg_604_1.time_ and arg_604_1.time_ <= var_607_1 + arg_607_0 then
				arg_604_1.var_.moveOldPos1095ui_story = var_607_0.localPosition
			end

			local var_607_2 = 0.001

			if var_607_1 <= arg_604_1.time_ and arg_604_1.time_ < var_607_1 + var_607_2 then
				local var_607_3 = (arg_604_1.time_ - var_607_1) / var_607_2
				local var_607_4 = Vector3.New(0, 100, 0)

				var_607_0.localPosition = Vector3.Lerp(arg_604_1.var_.moveOldPos1095ui_story, var_607_4, var_607_3)

				local var_607_5 = manager.ui.mainCamera.transform.position - var_607_0.position

				var_607_0.forward = Vector3.New(var_607_5.x, var_607_5.y, var_607_5.z)

				local var_607_6 = var_607_0.localEulerAngles

				var_607_6.z = 0
				var_607_6.x = 0
				var_607_0.localEulerAngles = var_607_6
			end

			if arg_604_1.time_ >= var_607_1 + var_607_2 and arg_604_1.time_ < var_607_1 + var_607_2 + arg_607_0 then
				var_607_0.localPosition = Vector3.New(0, 100, 0)

				local var_607_7 = manager.ui.mainCamera.transform.position - var_607_0.position

				var_607_0.forward = Vector3.New(var_607_7.x, var_607_7.y, var_607_7.z)

				local var_607_8 = var_607_0.localEulerAngles

				var_607_8.z = 0
				var_607_8.x = 0
				var_607_0.localEulerAngles = var_607_8
			end

			local var_607_9 = arg_604_1.actors_["1095ui_story"]
			local var_607_10 = 2

			if var_607_10 < arg_604_1.time_ and arg_604_1.time_ <= var_607_10 + arg_607_0 and not isNil(var_607_9) and arg_604_1.var_.characterEffect1095ui_story == nil then
				arg_604_1.var_.characterEffect1095ui_story = var_607_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_607_11 = 0.200000002980232

			if var_607_10 <= arg_604_1.time_ and arg_604_1.time_ < var_607_10 + var_607_11 and not isNil(var_607_9) then
				local var_607_12 = (arg_604_1.time_ - var_607_10) / var_607_11

				if arg_604_1.var_.characterEffect1095ui_story and not isNil(var_607_9) then
					local var_607_13 = Mathf.Lerp(0, 0.5, var_607_12)

					arg_604_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_604_1.var_.characterEffect1095ui_story.fillRatio = var_607_13
				end
			end

			if arg_604_1.time_ >= var_607_10 + var_607_11 and arg_604_1.time_ < var_607_10 + var_607_11 + arg_607_0 and not isNil(var_607_9) and arg_604_1.var_.characterEffect1095ui_story then
				local var_607_14 = 0.5

				arg_604_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_604_1.var_.characterEffect1095ui_story.fillRatio = var_607_14
			end

			local var_607_15 = arg_604_1.actors_["10071ui_story"].transform
			local var_607_16 = 2

			if var_607_16 < arg_604_1.time_ and arg_604_1.time_ <= var_607_16 + arg_607_0 then
				arg_604_1.var_.moveOldPos10071ui_story = var_607_15.localPosition
			end

			local var_607_17 = 0.001

			if var_607_16 <= arg_604_1.time_ and arg_604_1.time_ < var_607_16 + var_607_17 then
				local var_607_18 = (arg_604_1.time_ - var_607_16) / var_607_17
				local var_607_19 = Vector3.New(0, 100, 0)

				var_607_15.localPosition = Vector3.Lerp(arg_604_1.var_.moveOldPos10071ui_story, var_607_19, var_607_18)

				local var_607_20 = manager.ui.mainCamera.transform.position - var_607_15.position

				var_607_15.forward = Vector3.New(var_607_20.x, var_607_20.y, var_607_20.z)

				local var_607_21 = var_607_15.localEulerAngles

				var_607_21.z = 0
				var_607_21.x = 0
				var_607_15.localEulerAngles = var_607_21
			end

			if arg_604_1.time_ >= var_607_16 + var_607_17 and arg_604_1.time_ < var_607_16 + var_607_17 + arg_607_0 then
				var_607_15.localPosition = Vector3.New(0, 100, 0)

				local var_607_22 = manager.ui.mainCamera.transform.position - var_607_15.position

				var_607_15.forward = Vector3.New(var_607_22.x, var_607_22.y, var_607_22.z)

				local var_607_23 = var_607_15.localEulerAngles

				var_607_23.z = 0
				var_607_23.x = 0
				var_607_15.localEulerAngles = var_607_23
			end

			local var_607_24 = arg_604_1.actors_["10071ui_story"]
			local var_607_25 = 2

			if var_607_25 < arg_604_1.time_ and arg_604_1.time_ <= var_607_25 + arg_607_0 and not isNil(var_607_24) and arg_604_1.var_.characterEffect10071ui_story == nil then
				arg_604_1.var_.characterEffect10071ui_story = var_607_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_607_26 = 0.200000002980232

			if var_607_25 <= arg_604_1.time_ and arg_604_1.time_ < var_607_25 + var_607_26 and not isNil(var_607_24) then
				local var_607_27 = (arg_604_1.time_ - var_607_25) / var_607_26

				if arg_604_1.var_.characterEffect10071ui_story and not isNil(var_607_24) then
					local var_607_28 = Mathf.Lerp(0, 0.5, var_607_27)

					arg_604_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_604_1.var_.characterEffect10071ui_story.fillRatio = var_607_28
				end
			end

			if arg_604_1.time_ >= var_607_25 + var_607_26 and arg_604_1.time_ < var_607_25 + var_607_26 + arg_607_0 and not isNil(var_607_24) and arg_604_1.var_.characterEffect10071ui_story then
				local var_607_29 = 0.5

				arg_604_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_604_1.var_.characterEffect10071ui_story.fillRatio = var_607_29
			end

			local var_607_30 = 2

			if var_607_30 < arg_604_1.time_ and arg_604_1.time_ <= var_607_30 + arg_607_0 then
				local var_607_31 = manager.ui.mainCamera.transform.localPosition
				local var_607_32 = Vector3.New(0, 0, 10) + Vector3.New(var_607_31.x, var_607_31.y, 0)
				local var_607_33 = arg_604_1.bgs_.STblack

				var_607_33.transform.localPosition = var_607_32
				var_607_33.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_607_34 = var_607_33:GetComponent("SpriteRenderer")

				if var_607_34 and var_607_34.sprite then
					local var_607_35 = (var_607_33.transform.localPosition - var_607_31).z
					local var_607_36 = manager.ui.mainCameraCom_
					local var_607_37 = 2 * var_607_35 * Mathf.Tan(var_607_36.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_607_38 = var_607_37 * var_607_36.aspect
					local var_607_39 = var_607_34.sprite.bounds.size.x
					local var_607_40 = var_607_34.sprite.bounds.size.y
					local var_607_41 = var_607_38 / var_607_39
					local var_607_42 = var_607_37 / var_607_40
					local var_607_43 = var_607_42 < var_607_41 and var_607_41 or var_607_42

					var_607_33.transform.localScale = Vector3.New(var_607_43, var_607_43, 0)
				end

				for iter_607_0, iter_607_1 in pairs(arg_604_1.bgs_) do
					if iter_607_0 ~= "STblack" then
						iter_607_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_607_44 = 0

			if var_607_44 < arg_604_1.time_ and arg_604_1.time_ <= var_607_44 + arg_607_0 then
				arg_604_1.mask_.enabled = true
				arg_604_1.mask_.raycastTarget = true

				arg_604_1:SetGaussion(false)
			end

			local var_607_45 = 2

			if var_607_44 <= arg_604_1.time_ and arg_604_1.time_ < var_607_44 + var_607_45 then
				local var_607_46 = (arg_604_1.time_ - var_607_44) / var_607_45
				local var_607_47 = Color.New(0, 0, 0)

				var_607_47.a = Mathf.Lerp(0, 1, var_607_46)
				arg_604_1.mask_.color = var_607_47
			end

			if arg_604_1.time_ >= var_607_44 + var_607_45 and arg_604_1.time_ < var_607_44 + var_607_45 + arg_607_0 then
				local var_607_48 = Color.New(0, 0, 0)

				var_607_48.a = 1
				arg_604_1.mask_.color = var_607_48
			end

			local var_607_49 = 2

			if var_607_49 < arg_604_1.time_ and arg_604_1.time_ <= var_607_49 + arg_607_0 then
				arg_604_1.mask_.enabled = true
				arg_604_1.mask_.raycastTarget = true

				arg_604_1:SetGaussion(false)
			end

			local var_607_50 = 2

			if var_607_49 <= arg_604_1.time_ and arg_604_1.time_ < var_607_49 + var_607_50 then
				local var_607_51 = (arg_604_1.time_ - var_607_49) / var_607_50
				local var_607_52 = Color.New(0, 0, 0)

				var_607_52.a = Mathf.Lerp(1, 0, var_607_51)
				arg_604_1.mask_.color = var_607_52
			end

			if arg_604_1.time_ >= var_607_49 + var_607_50 and arg_604_1.time_ < var_607_49 + var_607_50 + arg_607_0 then
				local var_607_53 = Color.New(0, 0, 0)
				local var_607_54 = 0

				arg_604_1.mask_.enabled = false
				var_607_53.a = var_607_54
				arg_604_1.mask_.color = var_607_53
			end

			local var_607_55 = 2.20000000298023
			local var_607_56 = 1

			if var_607_55 < arg_604_1.time_ and arg_604_1.time_ <= var_607_55 + arg_607_0 then
				local var_607_57 = "play"
				local var_607_58 = "effect"

				arg_604_1:AudioAction(var_607_57, var_607_58, "se_story_123_01", "se_story_123_01_medical", "")
			end

			if arg_604_1.frameCnt_ <= 1 then
				arg_604_1.dialog_:SetActive(false)
			end

			local var_607_59 = 4
			local var_607_60 = 0.55

			if var_607_59 < arg_604_1.time_ and arg_604_1.time_ <= var_607_59 + arg_607_0 then
				arg_604_1.talkMaxDuration = 0

				arg_604_1.dialog_:SetActive(true)

				local var_607_61 = LeanTween.value(arg_604_1.dialog_, 0, 1, 0.3)

				var_607_61:setOnUpdate(LuaHelper.FloatAction(function(arg_608_0)
					arg_604_1.dialogCg_.alpha = arg_608_0
				end))
				var_607_61:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_604_1.dialog_)
					var_607_61:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_604_1.duration_ = arg_604_1.duration_ + 0.3

				SetActive(arg_604_1.leftNameGo_, true)

				local var_607_62 = arg_604_1:FormatText(StoryNameCfg[689].name)

				arg_604_1.leftNameTxt_.text = var_607_62

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_604_1.leftNameTxt_.transform)

				arg_604_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_604_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_604_1:RecordName(arg_604_1.leftNameTxt_.text)
				SetActive(arg_604_1.iconTrs_.gameObject, false)
				arg_604_1.callingController_:SetSelectedState("normal")

				local var_607_63 = arg_604_1:GetWordFromCfg(411121141)
				local var_607_64 = arg_604_1:FormatText(var_607_63.content)

				arg_604_1.text_.text = var_607_64

				LuaForUtil.ClearLinePrefixSymbol(arg_604_1.text_)

				local var_607_65 = 22
				local var_607_66 = utf8.len(var_607_64)
				local var_607_67 = var_607_65 <= 0 and var_607_60 or var_607_60 * (var_607_66 / var_607_65)

				if var_607_67 > 0 and var_607_60 < var_607_67 then
					arg_604_1.talkMaxDuration = var_607_67
					var_607_59 = var_607_59 + 0.3

					if var_607_67 + var_607_59 > arg_604_1.duration_ then
						arg_604_1.duration_ = var_607_67 + var_607_59
					end
				end

				arg_604_1.text_.text = var_607_64
				arg_604_1.typewritter.percent = 0

				arg_604_1.typewritter:SetDirty()
				arg_604_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121141", "story_v_out_411121.awb") ~= 0 then
					local var_607_68 = manager.audio:GetVoiceLength("story_v_out_411121", "411121141", "story_v_out_411121.awb") / 1000

					if var_607_68 + var_607_59 > arg_604_1.duration_ then
						arg_604_1.duration_ = var_607_68 + var_607_59
					end

					if var_607_63.prefab_name ~= "" and arg_604_1.actors_[var_607_63.prefab_name] ~= nil then
						local var_607_69 = LuaForUtil.PlayVoiceWithCriLipsync(arg_604_1.actors_[var_607_63.prefab_name].transform, "story_v_out_411121", "411121141", "story_v_out_411121.awb")

						arg_604_1:RecordAudio("411121141", var_607_69)
						arg_604_1:RecordAudio("411121141", var_607_69)
					else
						arg_604_1:AudioAction("play", "voice", "story_v_out_411121", "411121141", "story_v_out_411121.awb")
					end

					arg_604_1:RecordHistoryTalkVoice("story_v_out_411121", "411121141", "story_v_out_411121.awb")
				end

				arg_604_1:RecordContent(arg_604_1.text_.text)
			end

			local var_607_70 = var_607_59 + 0.3
			local var_607_71 = math.max(var_607_60, arg_604_1.talkMaxDuration)

			if var_607_70 <= arg_604_1.time_ and arg_604_1.time_ < var_607_70 + var_607_71 then
				arg_604_1.typewritter.percent = (arg_604_1.time_ - var_607_70) / var_607_71

				arg_604_1.typewritter:SetDirty()
			end

			if arg_604_1.time_ >= var_607_70 + var_607_71 and arg_604_1.time_ < var_607_70 + var_607_71 + arg_607_0 then
				arg_604_1.typewritter.percent = 1

				arg_604_1.typewritter:SetDirty()
				arg_604_1:ShowNextGo(true)
			end
		end
	end,
	Play411121142 = function(arg_610_0, arg_610_1)
		arg_610_1.time_ = 0
		arg_610_1.frameCnt_ = 0
		arg_610_1.state_ = "playing"
		arg_610_1.curTalkId_ = 411121142
		arg_610_1.duration_ = 3.67

		local var_610_0 = {
			zh = 3.333,
			ja = 3.666
		}
		local var_610_1 = manager.audio:GetLocalizationFlag()

		if var_610_0[var_610_1] ~= nil then
			arg_610_1.duration_ = var_610_0[var_610_1]
		end

		SetActive(arg_610_1.tipsGo_, false)

		function arg_610_1.onSingleLineFinish_()
			arg_610_1.onSingleLineUpdate_ = nil
			arg_610_1.onSingleLineFinish_ = nil
			arg_610_1.state_ = "waiting"
		end

		function arg_610_1.playNext_(arg_612_0)
			if arg_612_0 == 1 then
				arg_610_0:Play411121143(arg_610_1)
			end
		end

		function arg_610_1.onSingleLineUpdate_(arg_613_0)
			local var_613_0 = 0
			local var_613_1 = 0.325

			if var_613_0 < arg_610_1.time_ and arg_610_1.time_ <= var_613_0 + arg_613_0 then
				arg_610_1.talkMaxDuration = 0
				arg_610_1.dialogCg_.alpha = 1

				arg_610_1.dialog_:SetActive(true)
				SetActive(arg_610_1.leftNameGo_, true)

				local var_613_2 = arg_610_1:FormatText(StoryNameCfg[264].name)

				arg_610_1.leftNameTxt_.text = var_613_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_610_1.leftNameTxt_.transform)

				arg_610_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_610_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_610_1:RecordName(arg_610_1.leftNameTxt_.text)
				SetActive(arg_610_1.iconTrs_.gameObject, false)
				arg_610_1.callingController_:SetSelectedState("normal")

				local var_613_3 = arg_610_1:GetWordFromCfg(411121142)
				local var_613_4 = arg_610_1:FormatText(var_613_3.content)

				arg_610_1.text_.text = var_613_4

				LuaForUtil.ClearLinePrefixSymbol(arg_610_1.text_)

				local var_613_5 = 13
				local var_613_6 = utf8.len(var_613_4)
				local var_613_7 = var_613_5 <= 0 and var_613_1 or var_613_1 * (var_613_6 / var_613_5)

				if var_613_7 > 0 and var_613_1 < var_613_7 then
					arg_610_1.talkMaxDuration = var_613_7

					if var_613_7 + var_613_0 > arg_610_1.duration_ then
						arg_610_1.duration_ = var_613_7 + var_613_0
					end
				end

				arg_610_1.text_.text = var_613_4
				arg_610_1.typewritter.percent = 0

				arg_610_1.typewritter:SetDirty()
				arg_610_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121142", "story_v_out_411121.awb") ~= 0 then
					local var_613_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121142", "story_v_out_411121.awb") / 1000

					if var_613_8 + var_613_0 > arg_610_1.duration_ then
						arg_610_1.duration_ = var_613_8 + var_613_0
					end

					if var_613_3.prefab_name ~= "" and arg_610_1.actors_[var_613_3.prefab_name] ~= nil then
						local var_613_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_610_1.actors_[var_613_3.prefab_name].transform, "story_v_out_411121", "411121142", "story_v_out_411121.awb")

						arg_610_1:RecordAudio("411121142", var_613_9)
						arg_610_1:RecordAudio("411121142", var_613_9)
					else
						arg_610_1:AudioAction("play", "voice", "story_v_out_411121", "411121142", "story_v_out_411121.awb")
					end

					arg_610_1:RecordHistoryTalkVoice("story_v_out_411121", "411121142", "story_v_out_411121.awb")
				end

				arg_610_1:RecordContent(arg_610_1.text_.text)
			end

			local var_613_10 = math.max(var_613_1, arg_610_1.talkMaxDuration)

			if var_613_0 <= arg_610_1.time_ and arg_610_1.time_ < var_613_0 + var_613_10 then
				arg_610_1.typewritter.percent = (arg_610_1.time_ - var_613_0) / var_613_10

				arg_610_1.typewritter:SetDirty()
			end

			if arg_610_1.time_ >= var_613_0 + var_613_10 and arg_610_1.time_ < var_613_0 + var_613_10 + arg_613_0 then
				arg_610_1.typewritter.percent = 1

				arg_610_1.typewritter:SetDirty()
				arg_610_1:ShowNextGo(true)
			end
		end
	end,
	Play411121143 = function(arg_614_0, arg_614_1)
		arg_614_1.time_ = 0
		arg_614_1.frameCnt_ = 0
		arg_614_1.state_ = "playing"
		arg_614_1.curTalkId_ = 411121143
		arg_614_1.duration_ = 9

		SetActive(arg_614_1.tipsGo_, false)

		function arg_614_1.onSingleLineFinish_()
			arg_614_1.onSingleLineUpdate_ = nil
			arg_614_1.onSingleLineFinish_ = nil
			arg_614_1.state_ = "waiting"
		end

		function arg_614_1.playNext_(arg_616_0)
			if arg_616_0 == 1 then
				arg_614_0:Play411121144(arg_614_1)
			end
		end

		function arg_614_1.onSingleLineUpdate_(arg_617_0)
			local var_617_0 = 0

			if var_617_0 < arg_614_1.time_ and arg_614_1.time_ <= var_617_0 + arg_617_0 then
				local var_617_1 = manager.ui.mainCamera.transform.localPosition
				local var_617_2 = Vector3.New(0, 0, 10) + Vector3.New(var_617_1.x, var_617_1.y, 0)
				local var_617_3 = arg_614_1.bgs_.STblack

				var_617_3.transform.localPosition = var_617_2
				var_617_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_617_4 = var_617_3:GetComponent("SpriteRenderer")

				if var_617_4 and var_617_4.sprite then
					local var_617_5 = (var_617_3.transform.localPosition - var_617_1).z
					local var_617_6 = manager.ui.mainCameraCom_
					local var_617_7 = 2 * var_617_5 * Mathf.Tan(var_617_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_617_8 = var_617_7 * var_617_6.aspect
					local var_617_9 = var_617_4.sprite.bounds.size.x
					local var_617_10 = var_617_4.sprite.bounds.size.y
					local var_617_11 = var_617_8 / var_617_9
					local var_617_12 = var_617_7 / var_617_10
					local var_617_13 = var_617_12 < var_617_11 and var_617_11 or var_617_12

					var_617_3.transform.localScale = Vector3.New(var_617_13, var_617_13, 0)
				end

				for iter_617_0, iter_617_1 in pairs(arg_614_1.bgs_) do
					if iter_617_0 ~= "STblack" then
						iter_617_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_617_14 = 2

			if var_617_14 < arg_614_1.time_ and arg_614_1.time_ <= var_617_14 + arg_617_0 then
				local var_617_15 = manager.ui.mainCamera.transform.localPosition
				local var_617_16 = Vector3.New(0, 0, 10) + Vector3.New(var_617_15.x, var_617_15.y, 0)
				local var_617_17 = arg_614_1.bgs_.B04f

				var_617_17.transform.localPosition = var_617_16
				var_617_17.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_617_18 = var_617_17:GetComponent("SpriteRenderer")

				if var_617_18 and var_617_18.sprite then
					local var_617_19 = (var_617_17.transform.localPosition - var_617_15).z
					local var_617_20 = manager.ui.mainCameraCom_
					local var_617_21 = 2 * var_617_19 * Mathf.Tan(var_617_20.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_617_22 = var_617_21 * var_617_20.aspect
					local var_617_23 = var_617_18.sprite.bounds.size.x
					local var_617_24 = var_617_18.sprite.bounds.size.y
					local var_617_25 = var_617_22 / var_617_23
					local var_617_26 = var_617_21 / var_617_24
					local var_617_27 = var_617_26 < var_617_25 and var_617_25 or var_617_26

					var_617_17.transform.localScale = Vector3.New(var_617_27, var_617_27, 0)
				end

				for iter_617_2, iter_617_3 in pairs(arg_614_1.bgs_) do
					if iter_617_2 ~= "B04f" then
						iter_617_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_617_28 = 0

			if var_617_28 < arg_614_1.time_ and arg_614_1.time_ <= var_617_28 + arg_617_0 then
				arg_614_1.mask_.enabled = true
				arg_614_1.mask_.raycastTarget = true

				arg_614_1:SetGaussion(false)
			end

			local var_617_29 = 2

			if var_617_28 <= arg_614_1.time_ and arg_614_1.time_ < var_617_28 + var_617_29 then
				local var_617_30 = (arg_614_1.time_ - var_617_28) / var_617_29
				local var_617_31 = Color.New(0, 0, 0)

				var_617_31.a = Mathf.Lerp(0, 1, var_617_30)
				arg_614_1.mask_.color = var_617_31
			end

			if arg_614_1.time_ >= var_617_28 + var_617_29 and arg_614_1.time_ < var_617_28 + var_617_29 + arg_617_0 then
				local var_617_32 = Color.New(0, 0, 0)

				var_617_32.a = 1
				arg_614_1.mask_.color = var_617_32
			end

			local var_617_33 = 2

			if var_617_33 < arg_614_1.time_ and arg_614_1.time_ <= var_617_33 + arg_617_0 then
				arg_614_1.mask_.enabled = true
				arg_614_1.mask_.raycastTarget = true

				arg_614_1:SetGaussion(false)
			end

			local var_617_34 = 2

			if var_617_33 <= arg_614_1.time_ and arg_614_1.time_ < var_617_33 + var_617_34 then
				local var_617_35 = (arg_614_1.time_ - var_617_33) / var_617_34
				local var_617_36 = Color.New(0, 0, 0)

				var_617_36.a = Mathf.Lerp(1, 0, var_617_35)
				arg_614_1.mask_.color = var_617_36
			end

			if arg_614_1.time_ >= var_617_33 + var_617_34 and arg_614_1.time_ < var_617_33 + var_617_34 + arg_617_0 then
				local var_617_37 = Color.New(0, 0, 0)
				local var_617_38 = 0

				arg_614_1.mask_.enabled = false
				var_617_37.a = var_617_38
				arg_614_1.mask_.color = var_617_37
			end

			local var_617_39 = 0
			local var_617_40 = 0.366666666666667

			if var_617_39 < arg_614_1.time_ and arg_614_1.time_ <= var_617_39 + arg_617_0 then
				local var_617_41 = "play"
				local var_617_42 = "music"

				arg_614_1:AudioAction(var_617_41, var_617_42, "ui_battle", "ui_battle_stopbgm", "")

				local var_617_43 = ""
				local var_617_44 = manager.audio:GetAudioName("ui_battle", "ui_battle_stopbgm")

				if var_617_44 ~= "" then
					if arg_614_1.bgmTxt_.text ~= var_617_44 and arg_614_1.bgmTxt_.text ~= "" then
						if arg_614_1.bgmTxt2_.text ~= "" then
							arg_614_1.bgmTxt_.text = arg_614_1.bgmTxt2_.text
						end

						arg_614_1.bgmTxt2_.text = var_617_44

						arg_614_1.musicChangeAnimator_:Play("music_change", 0, 0)
					else
						arg_614_1.bgmTxt_.text = var_617_44
					end

					if arg_614_1.bgmTimer then
						arg_614_1.bgmTimer:Stop()

						arg_614_1.bgmTimer = nil
					end

					if arg_614_1.settingData.show_music_name == 1 then
						arg_614_1.musicController:SetSelectedState("show")
						arg_614_1.musicAnimator_:Play("open", 0, 0)

						if arg_614_1.settingData.music_time ~= 0 then
							arg_614_1.bgmTimer = TimeTools.StartAfterSeconds(tonumber(arg_614_1.settingData.music_time), function()
								if arg_614_1 == nil or isNil(arg_614_1.bgmTxt_) then
									return
								end

								arg_614_1.musicController:SetSelectedState("hide")
								arg_614_1.musicAnimator_:Play("back", 0, 0)
							end, {})
						end
					end
				end
			end

			local var_617_45 = 0.6
			local var_617_46 = 1

			if var_617_45 < arg_614_1.time_ and arg_614_1.time_ <= var_617_45 + arg_617_0 then
				local var_617_47 = "play"
				local var_617_48 = "music"

				arg_614_1:AudioAction(var_617_47, var_617_48, "bgm_activity_3_0_story_quiet", "bgm_activity_3_0_story_quiet", "bgm_activity_3_0_story_quiet.awb")

				local var_617_49 = ""
				local var_617_50 = manager.audio:GetAudioName("bgm_activity_3_0_story_quiet", "bgm_activity_3_0_story_quiet")

				if var_617_50 ~= "" then
					if arg_614_1.bgmTxt_.text ~= var_617_50 and arg_614_1.bgmTxt_.text ~= "" then
						if arg_614_1.bgmTxt2_.text ~= "" then
							arg_614_1.bgmTxt_.text = arg_614_1.bgmTxt2_.text
						end

						arg_614_1.bgmTxt2_.text = var_617_50

						arg_614_1.musicChangeAnimator_:Play("music_change", 0, 0)
					else
						arg_614_1.bgmTxt_.text = var_617_50
					end

					if arg_614_1.bgmTimer then
						arg_614_1.bgmTimer:Stop()

						arg_614_1.bgmTimer = nil
					end

					if arg_614_1.settingData.show_music_name == 1 then
						arg_614_1.musicController:SetSelectedState("show")
						arg_614_1.musicAnimator_:Play("open", 0, 0)

						if arg_614_1.settingData.music_time ~= 0 then
							arg_614_1.bgmTimer = TimeTools.StartAfterSeconds(tonumber(arg_614_1.settingData.music_time), function()
								if arg_614_1 == nil or isNil(arg_614_1.bgmTxt_) then
									return
								end

								arg_614_1.musicController:SetSelectedState("hide")
								arg_614_1.musicAnimator_:Play("back", 0, 0)
							end, {})
						end
					end
				end
			end

			if arg_614_1.frameCnt_ <= 1 then
				arg_614_1.dialog_:SetActive(false)
			end

			local var_617_51 = 3.999999999999
			local var_617_52 = 0.9

			if var_617_51 < arg_614_1.time_ and arg_614_1.time_ <= var_617_51 + arg_617_0 then
				arg_614_1.talkMaxDuration = 0

				arg_614_1.dialog_:SetActive(true)

				local var_617_53 = LeanTween.value(arg_614_1.dialog_, 0, 1, 0.3)

				var_617_53:setOnUpdate(LuaHelper.FloatAction(function(arg_620_0)
					arg_614_1.dialogCg_.alpha = arg_620_0
				end))
				var_617_53:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_614_1.dialog_)
					var_617_53:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_614_1.duration_ = arg_614_1.duration_ + 0.3

				SetActive(arg_614_1.leftNameGo_, false)

				arg_614_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_614_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_614_1:RecordName(arg_614_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_614_1.iconTrs_.gameObject, false)
				arg_614_1.callingController_:SetSelectedState("normal")

				local var_617_54 = arg_614_1:GetWordFromCfg(411121143)
				local var_617_55 = arg_614_1:FormatText(var_617_54.content)

				arg_614_1.text_.text = var_617_55

				LuaForUtil.ClearLinePrefixSymbol(arg_614_1.text_)

				local var_617_56 = 36
				local var_617_57 = utf8.len(var_617_55)
				local var_617_58 = var_617_56 <= 0 and var_617_52 or var_617_52 * (var_617_57 / var_617_56)

				if var_617_58 > 0 and var_617_52 < var_617_58 then
					arg_614_1.talkMaxDuration = var_617_58
					var_617_51 = var_617_51 + 0.3

					if var_617_58 + var_617_51 > arg_614_1.duration_ then
						arg_614_1.duration_ = var_617_58 + var_617_51
					end
				end

				arg_614_1.text_.text = var_617_55
				arg_614_1.typewritter.percent = 0

				arg_614_1.typewritter:SetDirty()
				arg_614_1:ShowNextGo(false)
				arg_614_1:RecordContent(arg_614_1.text_.text)
			end

			local var_617_59 = var_617_51 + 0.3
			local var_617_60 = math.max(var_617_52, arg_614_1.talkMaxDuration)

			if var_617_59 <= arg_614_1.time_ and arg_614_1.time_ < var_617_59 + var_617_60 then
				arg_614_1.typewritter.percent = (arg_614_1.time_ - var_617_59) / var_617_60

				arg_614_1.typewritter:SetDirty()
			end

			if arg_614_1.time_ >= var_617_59 + var_617_60 and arg_614_1.time_ < var_617_59 + var_617_60 + arg_617_0 then
				arg_614_1.typewritter.percent = 1

				arg_614_1.typewritter:SetDirty()
				arg_614_1:ShowNextGo(true)
			end
		end
	end,
	Play411121144 = function(arg_622_0, arg_622_1)
		arg_622_1.time_ = 0
		arg_622_1.frameCnt_ = 0
		arg_622_1.state_ = "playing"
		arg_622_1.curTalkId_ = 411121144
		arg_622_1.duration_ = 5.47

		local var_622_0 = {
			zh = 4,
			ja = 5.466
		}
		local var_622_1 = manager.audio:GetLocalizationFlag()

		if var_622_0[var_622_1] ~= nil then
			arg_622_1.duration_ = var_622_0[var_622_1]
		end

		SetActive(arg_622_1.tipsGo_, false)

		function arg_622_1.onSingleLineFinish_()
			arg_622_1.onSingleLineUpdate_ = nil
			arg_622_1.onSingleLineFinish_ = nil
			arg_622_1.state_ = "waiting"
		end

		function arg_622_1.playNext_(arg_624_0)
			if arg_624_0 == 1 then
				arg_622_0:Play411121145(arg_622_1)
			end
		end

		function arg_622_1.onSingleLineUpdate_(arg_625_0)
			local var_625_0 = arg_622_1.actors_["10014ui_story"].transform
			local var_625_1 = 0

			if var_625_1 < arg_622_1.time_ and arg_622_1.time_ <= var_625_1 + arg_625_0 then
				arg_622_1.var_.moveOldPos10014ui_story = var_625_0.localPosition
			end

			local var_625_2 = 0.001

			if var_625_1 <= arg_622_1.time_ and arg_622_1.time_ < var_625_1 + var_625_2 then
				local var_625_3 = (arg_622_1.time_ - var_625_1) / var_625_2
				local var_625_4 = Vector3.New(0, -1.06, -6.2)

				var_625_0.localPosition = Vector3.Lerp(arg_622_1.var_.moveOldPos10014ui_story, var_625_4, var_625_3)

				local var_625_5 = manager.ui.mainCamera.transform.position - var_625_0.position

				var_625_0.forward = Vector3.New(var_625_5.x, var_625_5.y, var_625_5.z)

				local var_625_6 = var_625_0.localEulerAngles

				var_625_6.z = 0
				var_625_6.x = 0
				var_625_0.localEulerAngles = var_625_6
			end

			if arg_622_1.time_ >= var_625_1 + var_625_2 and arg_622_1.time_ < var_625_1 + var_625_2 + arg_625_0 then
				var_625_0.localPosition = Vector3.New(0, -1.06, -6.2)

				local var_625_7 = manager.ui.mainCamera.transform.position - var_625_0.position

				var_625_0.forward = Vector3.New(var_625_7.x, var_625_7.y, var_625_7.z)

				local var_625_8 = var_625_0.localEulerAngles

				var_625_8.z = 0
				var_625_8.x = 0
				var_625_0.localEulerAngles = var_625_8
			end

			local var_625_9 = arg_622_1.actors_["10014ui_story"]
			local var_625_10 = 0

			if var_625_10 < arg_622_1.time_ and arg_622_1.time_ <= var_625_10 + arg_625_0 and not isNil(var_625_9) and arg_622_1.var_.characterEffect10014ui_story == nil then
				arg_622_1.var_.characterEffect10014ui_story = var_625_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_625_11 = 0.200000002980232

			if var_625_10 <= arg_622_1.time_ and arg_622_1.time_ < var_625_10 + var_625_11 and not isNil(var_625_9) then
				local var_625_12 = (arg_622_1.time_ - var_625_10) / var_625_11

				if arg_622_1.var_.characterEffect10014ui_story and not isNil(var_625_9) then
					arg_622_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_622_1.time_ >= var_625_10 + var_625_11 and arg_622_1.time_ < var_625_10 + var_625_11 + arg_625_0 and not isNil(var_625_9) and arg_622_1.var_.characterEffect10014ui_story then
				arg_622_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_625_13 = 0

			if var_625_13 < arg_622_1.time_ and arg_622_1.time_ <= var_625_13 + arg_625_0 then
				arg_622_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action2_1")
			end

			local var_625_14 = 0

			if var_625_14 < arg_622_1.time_ and arg_622_1.time_ <= var_625_14 + arg_625_0 then
				arg_622_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0103cva")
			end

			local var_625_15 = 0
			local var_625_16 = 0.375

			if var_625_15 < arg_622_1.time_ and arg_622_1.time_ <= var_625_15 + arg_625_0 then
				arg_622_1.talkMaxDuration = 0
				arg_622_1.dialogCg_.alpha = 1

				arg_622_1.dialog_:SetActive(true)
				SetActive(arg_622_1.leftNameGo_, true)

				local var_625_17 = arg_622_1:FormatText(StoryNameCfg[264].name)

				arg_622_1.leftNameTxt_.text = var_625_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_622_1.leftNameTxt_.transform)

				arg_622_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_622_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_622_1:RecordName(arg_622_1.leftNameTxt_.text)
				SetActive(arg_622_1.iconTrs_.gameObject, false)
				arg_622_1.callingController_:SetSelectedState("normal")

				local var_625_18 = arg_622_1:GetWordFromCfg(411121144)
				local var_625_19 = arg_622_1:FormatText(var_625_18.content)

				arg_622_1.text_.text = var_625_19

				LuaForUtil.ClearLinePrefixSymbol(arg_622_1.text_)

				local var_625_20 = 15
				local var_625_21 = utf8.len(var_625_19)
				local var_625_22 = var_625_20 <= 0 and var_625_16 or var_625_16 * (var_625_21 / var_625_20)

				if var_625_22 > 0 and var_625_16 < var_625_22 then
					arg_622_1.talkMaxDuration = var_625_22

					if var_625_22 + var_625_15 > arg_622_1.duration_ then
						arg_622_1.duration_ = var_625_22 + var_625_15
					end
				end

				arg_622_1.text_.text = var_625_19
				arg_622_1.typewritter.percent = 0

				arg_622_1.typewritter:SetDirty()
				arg_622_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121144", "story_v_out_411121.awb") ~= 0 then
					local var_625_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121144", "story_v_out_411121.awb") / 1000

					if var_625_23 + var_625_15 > arg_622_1.duration_ then
						arg_622_1.duration_ = var_625_23 + var_625_15
					end

					if var_625_18.prefab_name ~= "" and arg_622_1.actors_[var_625_18.prefab_name] ~= nil then
						local var_625_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_622_1.actors_[var_625_18.prefab_name].transform, "story_v_out_411121", "411121144", "story_v_out_411121.awb")

						arg_622_1:RecordAudio("411121144", var_625_24)
						arg_622_1:RecordAudio("411121144", var_625_24)
					else
						arg_622_1:AudioAction("play", "voice", "story_v_out_411121", "411121144", "story_v_out_411121.awb")
					end

					arg_622_1:RecordHistoryTalkVoice("story_v_out_411121", "411121144", "story_v_out_411121.awb")
				end

				arg_622_1:RecordContent(arg_622_1.text_.text)
			end

			local var_625_25 = math.max(var_625_16, arg_622_1.talkMaxDuration)

			if var_625_15 <= arg_622_1.time_ and arg_622_1.time_ < var_625_15 + var_625_25 then
				arg_622_1.typewritter.percent = (arg_622_1.time_ - var_625_15) / var_625_25

				arg_622_1.typewritter:SetDirty()
			end

			if arg_622_1.time_ >= var_625_15 + var_625_25 and arg_622_1.time_ < var_625_15 + var_625_25 + arg_625_0 then
				arg_622_1.typewritter.percent = 1

				arg_622_1.typewritter:SetDirty()
				arg_622_1:ShowNextGo(true)
			end
		end
	end,
	Play411121145 = function(arg_626_0, arg_626_1)
		arg_626_1.time_ = 0
		arg_626_1.frameCnt_ = 0
		arg_626_1.state_ = "playing"
		arg_626_1.curTalkId_ = 411121145
		arg_626_1.duration_ = 5

		SetActive(arg_626_1.tipsGo_, false)

		function arg_626_1.onSingleLineFinish_()
			arg_626_1.onSingleLineUpdate_ = nil
			arg_626_1.onSingleLineFinish_ = nil
			arg_626_1.state_ = "waiting"
		end

		function arg_626_1.playNext_(arg_628_0)
			if arg_628_0 == 1 then
				arg_626_0:Play411121146(arg_626_1)
			end
		end

		function arg_626_1.onSingleLineUpdate_(arg_629_0)
			local var_629_0 = arg_626_1.actors_["10014ui_story"]
			local var_629_1 = 0

			if var_629_1 < arg_626_1.time_ and arg_626_1.time_ <= var_629_1 + arg_629_0 and not isNil(var_629_0) and arg_626_1.var_.characterEffect10014ui_story == nil then
				arg_626_1.var_.characterEffect10014ui_story = var_629_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_629_2 = 0.200000002980232

			if var_629_1 <= arg_626_1.time_ and arg_626_1.time_ < var_629_1 + var_629_2 and not isNil(var_629_0) then
				local var_629_3 = (arg_626_1.time_ - var_629_1) / var_629_2

				if arg_626_1.var_.characterEffect10014ui_story and not isNil(var_629_0) then
					arg_626_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_626_1.time_ >= var_629_1 + var_629_2 and arg_626_1.time_ < var_629_1 + var_629_2 + arg_629_0 and not isNil(var_629_0) and arg_626_1.var_.characterEffect10014ui_story then
				arg_626_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_629_4 = 0
			local var_629_5 = 0.75

			if var_629_4 < arg_626_1.time_ and arg_626_1.time_ <= var_629_4 + arg_629_0 then
				arg_626_1.talkMaxDuration = 0
				arg_626_1.dialogCg_.alpha = 1

				arg_626_1.dialog_:SetActive(true)
				SetActive(arg_626_1.leftNameGo_, false)

				arg_626_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_626_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_626_1:RecordName(arg_626_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_626_1.iconTrs_.gameObject, false)
				arg_626_1.callingController_:SetSelectedState("normal")

				local var_629_6 = arg_626_1:GetWordFromCfg(411121145)
				local var_629_7 = arg_626_1:FormatText(var_629_6.content)

				arg_626_1.text_.text = var_629_7

				LuaForUtil.ClearLinePrefixSymbol(arg_626_1.text_)

				local var_629_8 = 30
				local var_629_9 = utf8.len(var_629_7)
				local var_629_10 = var_629_8 <= 0 and var_629_5 or var_629_5 * (var_629_9 / var_629_8)

				if var_629_10 > 0 and var_629_5 < var_629_10 then
					arg_626_1.talkMaxDuration = var_629_10

					if var_629_10 + var_629_4 > arg_626_1.duration_ then
						arg_626_1.duration_ = var_629_10 + var_629_4
					end
				end

				arg_626_1.text_.text = var_629_7
				arg_626_1.typewritter.percent = 0

				arg_626_1.typewritter:SetDirty()
				arg_626_1:ShowNextGo(false)
				arg_626_1:RecordContent(arg_626_1.text_.text)
			end

			local var_629_11 = math.max(var_629_5, arg_626_1.talkMaxDuration)

			if var_629_4 <= arg_626_1.time_ and arg_626_1.time_ < var_629_4 + var_629_11 then
				arg_626_1.typewritter.percent = (arg_626_1.time_ - var_629_4) / var_629_11

				arg_626_1.typewritter:SetDirty()
			end

			if arg_626_1.time_ >= var_629_4 + var_629_11 and arg_626_1.time_ < var_629_4 + var_629_11 + arg_629_0 then
				arg_626_1.typewritter.percent = 1

				arg_626_1.typewritter:SetDirty()
				arg_626_1:ShowNextGo(true)
			end
		end
	end,
	Play411121146 = function(arg_630_0, arg_630_1)
		arg_630_1.time_ = 0
		arg_630_1.frameCnt_ = 0
		arg_630_1.state_ = "playing"
		arg_630_1.curTalkId_ = 411121146
		arg_630_1.duration_ = 5.23

		local var_630_0 = {
			zh = 5.233,
			ja = 3.5
		}
		local var_630_1 = manager.audio:GetLocalizationFlag()

		if var_630_0[var_630_1] ~= nil then
			arg_630_1.duration_ = var_630_0[var_630_1]
		end

		SetActive(arg_630_1.tipsGo_, false)

		function arg_630_1.onSingleLineFinish_()
			arg_630_1.onSingleLineUpdate_ = nil
			arg_630_1.onSingleLineFinish_ = nil
			arg_630_1.state_ = "waiting"
		end

		function arg_630_1.playNext_(arg_632_0)
			if arg_632_0 == 1 then
				arg_630_0:Play411121147(arg_630_1)
			end
		end

		function arg_630_1.onSingleLineUpdate_(arg_633_0)
			local var_633_0 = arg_630_1.actors_["10014ui_story"].transform
			local var_633_1 = 0

			if var_633_1 < arg_630_1.time_ and arg_630_1.time_ <= var_633_1 + arg_633_0 then
				arg_630_1.var_.moveOldPos10014ui_story = var_633_0.localPosition
			end

			local var_633_2 = 0.001

			if var_633_1 <= arg_630_1.time_ and arg_630_1.time_ < var_633_1 + var_633_2 then
				local var_633_3 = (arg_630_1.time_ - var_633_1) / var_633_2
				local var_633_4 = Vector3.New(0, -1.06, -6.2)

				var_633_0.localPosition = Vector3.Lerp(arg_630_1.var_.moveOldPos10014ui_story, var_633_4, var_633_3)

				local var_633_5 = manager.ui.mainCamera.transform.position - var_633_0.position

				var_633_0.forward = Vector3.New(var_633_5.x, var_633_5.y, var_633_5.z)

				local var_633_6 = var_633_0.localEulerAngles

				var_633_6.z = 0
				var_633_6.x = 0
				var_633_0.localEulerAngles = var_633_6
			end

			if arg_630_1.time_ >= var_633_1 + var_633_2 and arg_630_1.time_ < var_633_1 + var_633_2 + arg_633_0 then
				var_633_0.localPosition = Vector3.New(0, -1.06, -6.2)

				local var_633_7 = manager.ui.mainCamera.transform.position - var_633_0.position

				var_633_0.forward = Vector3.New(var_633_7.x, var_633_7.y, var_633_7.z)

				local var_633_8 = var_633_0.localEulerAngles

				var_633_8.z = 0
				var_633_8.x = 0
				var_633_0.localEulerAngles = var_633_8
			end

			local var_633_9 = arg_630_1.actors_["10014ui_story"]
			local var_633_10 = 0

			if var_633_10 < arg_630_1.time_ and arg_630_1.time_ <= var_633_10 + arg_633_0 and not isNil(var_633_9) and arg_630_1.var_.characterEffect10014ui_story == nil then
				arg_630_1.var_.characterEffect10014ui_story = var_633_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_633_11 = 0.200000002980232

			if var_633_10 <= arg_630_1.time_ and arg_630_1.time_ < var_633_10 + var_633_11 and not isNil(var_633_9) then
				local var_633_12 = (arg_630_1.time_ - var_633_10) / var_633_11

				if arg_630_1.var_.characterEffect10014ui_story and not isNil(var_633_9) then
					local var_633_13 = Mathf.Lerp(0, 0.5, var_633_12)

					arg_630_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_630_1.var_.characterEffect10014ui_story.fillRatio = var_633_13
				end
			end

			if arg_630_1.time_ >= var_633_10 + var_633_11 and arg_630_1.time_ < var_633_10 + var_633_11 + arg_633_0 and not isNil(var_633_9) and arg_630_1.var_.characterEffect10014ui_story then
				local var_633_14 = 0.5

				arg_630_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_630_1.var_.characterEffect10014ui_story.fillRatio = var_633_14
			end

			local var_633_15 = 0
			local var_633_16 = 0.3

			if var_633_15 < arg_630_1.time_ and arg_630_1.time_ <= var_633_15 + arg_633_0 then
				arg_630_1.talkMaxDuration = 0
				arg_630_1.dialogCg_.alpha = 1

				arg_630_1.dialog_:SetActive(true)
				SetActive(arg_630_1.leftNameGo_, true)

				local var_633_17 = arg_630_1:FormatText(StoryNameCfg[670].name)

				arg_630_1.leftNameTxt_.text = var_633_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_630_1.leftNameTxt_.transform)

				arg_630_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_630_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_630_1:RecordName(arg_630_1.leftNameTxt_.text)
				SetActive(arg_630_1.iconTrs_.gameObject, true)
				arg_630_1.iconController_:SetSelectedState("hero")

				arg_630_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_630_1.callingController_:SetSelectedState("normal")

				arg_630_1.keyicon_.color = Color.New(1, 1, 1)
				arg_630_1.icon_.color = Color.New(1, 1, 1)

				local var_633_18 = arg_630_1:GetWordFromCfg(411121146)
				local var_633_19 = arg_630_1:FormatText(var_633_18.content)

				arg_630_1.text_.text = var_633_19

				LuaForUtil.ClearLinePrefixSymbol(arg_630_1.text_)

				local var_633_20 = 12
				local var_633_21 = utf8.len(var_633_19)
				local var_633_22 = var_633_20 <= 0 and var_633_16 or var_633_16 * (var_633_21 / var_633_20)

				if var_633_22 > 0 and var_633_16 < var_633_22 then
					arg_630_1.talkMaxDuration = var_633_22

					if var_633_22 + var_633_15 > arg_630_1.duration_ then
						arg_630_1.duration_ = var_633_22 + var_633_15
					end
				end

				arg_630_1.text_.text = var_633_19
				arg_630_1.typewritter.percent = 0

				arg_630_1.typewritter:SetDirty()
				arg_630_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121146", "story_v_out_411121.awb") ~= 0 then
					local var_633_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121146", "story_v_out_411121.awb") / 1000

					if var_633_23 + var_633_15 > arg_630_1.duration_ then
						arg_630_1.duration_ = var_633_23 + var_633_15
					end

					if var_633_18.prefab_name ~= "" and arg_630_1.actors_[var_633_18.prefab_name] ~= nil then
						local var_633_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_630_1.actors_[var_633_18.prefab_name].transform, "story_v_out_411121", "411121146", "story_v_out_411121.awb")

						arg_630_1:RecordAudio("411121146", var_633_24)
						arg_630_1:RecordAudio("411121146", var_633_24)
					else
						arg_630_1:AudioAction("play", "voice", "story_v_out_411121", "411121146", "story_v_out_411121.awb")
					end

					arg_630_1:RecordHistoryTalkVoice("story_v_out_411121", "411121146", "story_v_out_411121.awb")
				end

				arg_630_1:RecordContent(arg_630_1.text_.text)
			end

			local var_633_25 = math.max(var_633_16, arg_630_1.talkMaxDuration)

			if var_633_15 <= arg_630_1.time_ and arg_630_1.time_ < var_633_15 + var_633_25 then
				arg_630_1.typewritter.percent = (arg_630_1.time_ - var_633_15) / var_633_25

				arg_630_1.typewritter:SetDirty()
			end

			if arg_630_1.time_ >= var_633_15 + var_633_25 and arg_630_1.time_ < var_633_15 + var_633_25 + arg_633_0 then
				arg_630_1.typewritter.percent = 1

				arg_630_1.typewritter:SetDirty()
				arg_630_1:ShowNextGo(true)
			end
		end
	end,
	Play411121147 = function(arg_634_0, arg_634_1)
		arg_634_1.time_ = 0
		arg_634_1.frameCnt_ = 0
		arg_634_1.state_ = "playing"
		arg_634_1.curTalkId_ = 411121147
		arg_634_1.duration_ = 5

		SetActive(arg_634_1.tipsGo_, false)

		function arg_634_1.onSingleLineFinish_()
			arg_634_1.onSingleLineUpdate_ = nil
			arg_634_1.onSingleLineFinish_ = nil
			arg_634_1.state_ = "waiting"
		end

		function arg_634_1.playNext_(arg_636_0)
			if arg_636_0 == 1 then
				arg_634_0:Play411121148(arg_634_1)
			end
		end

		function arg_634_1.onSingleLineUpdate_(arg_637_0)
			local var_637_0 = arg_634_1.actors_["10071ui_story"]
			local var_637_1 = 0

			if var_637_1 < arg_634_1.time_ and arg_634_1.time_ <= var_637_1 + arg_637_0 and not isNil(var_637_0) and arg_634_1.var_.characterEffect10071ui_story == nil then
				arg_634_1.var_.characterEffect10071ui_story = var_637_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_637_2 = 0.200000002980232

			if var_637_1 <= arg_634_1.time_ and arg_634_1.time_ < var_637_1 + var_637_2 and not isNil(var_637_0) then
				local var_637_3 = (arg_634_1.time_ - var_637_1) / var_637_2

				if arg_634_1.var_.characterEffect10071ui_story and not isNil(var_637_0) then
					local var_637_4 = Mathf.Lerp(0, 0.5, var_637_3)

					arg_634_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_634_1.var_.characterEffect10071ui_story.fillRatio = var_637_4
				end
			end

			if arg_634_1.time_ >= var_637_1 + var_637_2 and arg_634_1.time_ < var_637_1 + var_637_2 + arg_637_0 and not isNil(var_637_0) and arg_634_1.var_.characterEffect10071ui_story then
				local var_637_5 = 0.5

				arg_634_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_634_1.var_.characterEffect10071ui_story.fillRatio = var_637_5
			end

			local var_637_6 = 0
			local var_637_7 = 0.5

			if var_637_6 < arg_634_1.time_ and arg_634_1.time_ <= var_637_6 + arg_637_0 then
				arg_634_1.talkMaxDuration = 0
				arg_634_1.dialogCg_.alpha = 1

				arg_634_1.dialog_:SetActive(true)
				SetActive(arg_634_1.leftNameGo_, false)

				arg_634_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_634_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_634_1:RecordName(arg_634_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_634_1.iconTrs_.gameObject, false)
				arg_634_1.callingController_:SetSelectedState("normal")

				local var_637_8 = arg_634_1:GetWordFromCfg(411121147)
				local var_637_9 = arg_634_1:FormatText(var_637_8.content)

				arg_634_1.text_.text = var_637_9

				LuaForUtil.ClearLinePrefixSymbol(arg_634_1.text_)

				local var_637_10 = 20
				local var_637_11 = utf8.len(var_637_9)
				local var_637_12 = var_637_10 <= 0 and var_637_7 or var_637_7 * (var_637_11 / var_637_10)

				if var_637_12 > 0 and var_637_7 < var_637_12 then
					arg_634_1.talkMaxDuration = var_637_12

					if var_637_12 + var_637_6 > arg_634_1.duration_ then
						arg_634_1.duration_ = var_637_12 + var_637_6
					end
				end

				arg_634_1.text_.text = var_637_9
				arg_634_1.typewritter.percent = 0

				arg_634_1.typewritter:SetDirty()
				arg_634_1:ShowNextGo(false)
				arg_634_1:RecordContent(arg_634_1.text_.text)
			end

			local var_637_13 = math.max(var_637_7, arg_634_1.talkMaxDuration)

			if var_637_6 <= arg_634_1.time_ and arg_634_1.time_ < var_637_6 + var_637_13 then
				arg_634_1.typewritter.percent = (arg_634_1.time_ - var_637_6) / var_637_13

				arg_634_1.typewritter:SetDirty()
			end

			if arg_634_1.time_ >= var_637_6 + var_637_13 and arg_634_1.time_ < var_637_6 + var_637_13 + arg_637_0 then
				arg_634_1.typewritter.percent = 1

				arg_634_1.typewritter:SetDirty()
				arg_634_1:ShowNextGo(true)
			end
		end
	end,
	Play411121148 = function(arg_638_0, arg_638_1)
		arg_638_1.time_ = 0
		arg_638_1.frameCnt_ = 0
		arg_638_1.state_ = "playing"
		arg_638_1.curTalkId_ = 411121148
		arg_638_1.duration_ = 6.4

		local var_638_0 = {
			zh = 6.4,
			ja = 5.3
		}
		local var_638_1 = manager.audio:GetLocalizationFlag()

		if var_638_0[var_638_1] ~= nil then
			arg_638_1.duration_ = var_638_0[var_638_1]
		end

		SetActive(arg_638_1.tipsGo_, false)

		function arg_638_1.onSingleLineFinish_()
			arg_638_1.onSingleLineUpdate_ = nil
			arg_638_1.onSingleLineFinish_ = nil
			arg_638_1.state_ = "waiting"
		end

		function arg_638_1.playNext_(arg_640_0)
			if arg_640_0 == 1 then
				arg_638_0:Play411121149(arg_638_1)
			end
		end

		function arg_638_1.onSingleLineUpdate_(arg_641_0)
			local var_641_0 = 0
			local var_641_1 = 0.375

			if var_641_0 < arg_638_1.time_ and arg_638_1.time_ <= var_641_0 + arg_641_0 then
				arg_638_1.talkMaxDuration = 0
				arg_638_1.dialogCg_.alpha = 1

				arg_638_1.dialog_:SetActive(true)
				SetActive(arg_638_1.leftNameGo_, true)

				local var_641_2 = arg_638_1:FormatText(StoryNameCfg[670].name)

				arg_638_1.leftNameTxt_.text = var_641_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_638_1.leftNameTxt_.transform)

				arg_638_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_638_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_638_1:RecordName(arg_638_1.leftNameTxt_.text)
				SetActive(arg_638_1.iconTrs_.gameObject, true)
				arg_638_1.iconController_:SetSelectedState("hero")

				arg_638_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_638_1.callingController_:SetSelectedState("normal")

				arg_638_1.keyicon_.color = Color.New(1, 1, 1)
				arg_638_1.icon_.color = Color.New(1, 1, 1)

				local var_641_3 = arg_638_1:GetWordFromCfg(411121148)
				local var_641_4 = arg_638_1:FormatText(var_641_3.content)

				arg_638_1.text_.text = var_641_4

				LuaForUtil.ClearLinePrefixSymbol(arg_638_1.text_)

				local var_641_5 = 15
				local var_641_6 = utf8.len(var_641_4)
				local var_641_7 = var_641_5 <= 0 and var_641_1 or var_641_1 * (var_641_6 / var_641_5)

				if var_641_7 > 0 and var_641_1 < var_641_7 then
					arg_638_1.talkMaxDuration = var_641_7

					if var_641_7 + var_641_0 > arg_638_1.duration_ then
						arg_638_1.duration_ = var_641_7 + var_641_0
					end
				end

				arg_638_1.text_.text = var_641_4
				arg_638_1.typewritter.percent = 0

				arg_638_1.typewritter:SetDirty()
				arg_638_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121148", "story_v_out_411121.awb") ~= 0 then
					local var_641_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121148", "story_v_out_411121.awb") / 1000

					if var_641_8 + var_641_0 > arg_638_1.duration_ then
						arg_638_1.duration_ = var_641_8 + var_641_0
					end

					if var_641_3.prefab_name ~= "" and arg_638_1.actors_[var_641_3.prefab_name] ~= nil then
						local var_641_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_638_1.actors_[var_641_3.prefab_name].transform, "story_v_out_411121", "411121148", "story_v_out_411121.awb")

						arg_638_1:RecordAudio("411121148", var_641_9)
						arg_638_1:RecordAudio("411121148", var_641_9)
					else
						arg_638_1:AudioAction("play", "voice", "story_v_out_411121", "411121148", "story_v_out_411121.awb")
					end

					arg_638_1:RecordHistoryTalkVoice("story_v_out_411121", "411121148", "story_v_out_411121.awb")
				end

				arg_638_1:RecordContent(arg_638_1.text_.text)
			end

			local var_641_10 = math.max(var_641_1, arg_638_1.talkMaxDuration)

			if var_641_0 <= arg_638_1.time_ and arg_638_1.time_ < var_641_0 + var_641_10 then
				arg_638_1.typewritter.percent = (arg_638_1.time_ - var_641_0) / var_641_10

				arg_638_1.typewritter:SetDirty()
			end

			if arg_638_1.time_ >= var_641_0 + var_641_10 and arg_638_1.time_ < var_641_0 + var_641_10 + arg_641_0 then
				arg_638_1.typewritter.percent = 1

				arg_638_1.typewritter:SetDirty()
				arg_638_1:ShowNextGo(true)
			end
		end
	end,
	Play411121149 = function(arg_642_0, arg_642_1)
		arg_642_1.time_ = 0
		arg_642_1.frameCnt_ = 0
		arg_642_1.state_ = "playing"
		arg_642_1.curTalkId_ = 411121149
		arg_642_1.duration_ = 11.17

		local var_642_0 = {
			zh = 9.633,
			ja = 11.166
		}
		local var_642_1 = manager.audio:GetLocalizationFlag()

		if var_642_0[var_642_1] ~= nil then
			arg_642_1.duration_ = var_642_0[var_642_1]
		end

		SetActive(arg_642_1.tipsGo_, false)

		function arg_642_1.onSingleLineFinish_()
			arg_642_1.onSingleLineUpdate_ = nil
			arg_642_1.onSingleLineFinish_ = nil
			arg_642_1.state_ = "waiting"
		end

		function arg_642_1.playNext_(arg_644_0)
			if arg_644_0 == 1 then
				arg_642_0:Play411121150(arg_642_1)
			end
		end

		function arg_642_1.onSingleLineUpdate_(arg_645_0)
			local var_645_0 = arg_642_1.actors_["10014ui_story"]
			local var_645_1 = 0

			if var_645_1 < arg_642_1.time_ and arg_642_1.time_ <= var_645_1 + arg_645_0 and not isNil(var_645_0) and arg_642_1.var_.characterEffect10014ui_story == nil then
				arg_642_1.var_.characterEffect10014ui_story = var_645_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_645_2 = 0.200000002980232

			if var_645_1 <= arg_642_1.time_ and arg_642_1.time_ < var_645_1 + var_645_2 and not isNil(var_645_0) then
				local var_645_3 = (arg_642_1.time_ - var_645_1) / var_645_2

				if arg_642_1.var_.characterEffect10014ui_story and not isNil(var_645_0) then
					arg_642_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_642_1.time_ >= var_645_1 + var_645_2 and arg_642_1.time_ < var_645_1 + var_645_2 + arg_645_0 and not isNil(var_645_0) and arg_642_1.var_.characterEffect10014ui_story then
				arg_642_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_645_4 = 0
			local var_645_5 = 0.9

			if var_645_4 < arg_642_1.time_ and arg_642_1.time_ <= var_645_4 + arg_645_0 then
				arg_642_1.talkMaxDuration = 0
				arg_642_1.dialogCg_.alpha = 1

				arg_642_1.dialog_:SetActive(true)
				SetActive(arg_642_1.leftNameGo_, true)

				local var_645_6 = arg_642_1:FormatText(StoryNameCfg[264].name)

				arg_642_1.leftNameTxt_.text = var_645_6

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_642_1.leftNameTxt_.transform)

				arg_642_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_642_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_642_1:RecordName(arg_642_1.leftNameTxt_.text)
				SetActive(arg_642_1.iconTrs_.gameObject, false)
				arg_642_1.callingController_:SetSelectedState("normal")

				local var_645_7 = arg_642_1:GetWordFromCfg(411121149)
				local var_645_8 = arg_642_1:FormatText(var_645_7.content)

				arg_642_1.text_.text = var_645_8

				LuaForUtil.ClearLinePrefixSymbol(arg_642_1.text_)

				local var_645_9 = 36
				local var_645_10 = utf8.len(var_645_8)
				local var_645_11 = var_645_9 <= 0 and var_645_5 or var_645_5 * (var_645_10 / var_645_9)

				if var_645_11 > 0 and var_645_5 < var_645_11 then
					arg_642_1.talkMaxDuration = var_645_11

					if var_645_11 + var_645_4 > arg_642_1.duration_ then
						arg_642_1.duration_ = var_645_11 + var_645_4
					end
				end

				arg_642_1.text_.text = var_645_8
				arg_642_1.typewritter.percent = 0

				arg_642_1.typewritter:SetDirty()
				arg_642_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121149", "story_v_out_411121.awb") ~= 0 then
					local var_645_12 = manager.audio:GetVoiceLength("story_v_out_411121", "411121149", "story_v_out_411121.awb") / 1000

					if var_645_12 + var_645_4 > arg_642_1.duration_ then
						arg_642_1.duration_ = var_645_12 + var_645_4
					end

					if var_645_7.prefab_name ~= "" and arg_642_1.actors_[var_645_7.prefab_name] ~= nil then
						local var_645_13 = LuaForUtil.PlayVoiceWithCriLipsync(arg_642_1.actors_[var_645_7.prefab_name].transform, "story_v_out_411121", "411121149", "story_v_out_411121.awb")

						arg_642_1:RecordAudio("411121149", var_645_13)
						arg_642_1:RecordAudio("411121149", var_645_13)
					else
						arg_642_1:AudioAction("play", "voice", "story_v_out_411121", "411121149", "story_v_out_411121.awb")
					end

					arg_642_1:RecordHistoryTalkVoice("story_v_out_411121", "411121149", "story_v_out_411121.awb")
				end

				arg_642_1:RecordContent(arg_642_1.text_.text)
			end

			local var_645_14 = math.max(var_645_5, arg_642_1.talkMaxDuration)

			if var_645_4 <= arg_642_1.time_ and arg_642_1.time_ < var_645_4 + var_645_14 then
				arg_642_1.typewritter.percent = (arg_642_1.time_ - var_645_4) / var_645_14

				arg_642_1.typewritter:SetDirty()
			end

			if arg_642_1.time_ >= var_645_4 + var_645_14 and arg_642_1.time_ < var_645_4 + var_645_14 + arg_645_0 then
				arg_642_1.typewritter.percent = 1

				arg_642_1.typewritter:SetDirty()
				arg_642_1:ShowNextGo(true)
			end
		end
	end,
	Play411121150 = function(arg_646_0, arg_646_1)
		arg_646_1.time_ = 0
		arg_646_1.frameCnt_ = 0
		arg_646_1.state_ = "playing"
		arg_646_1.curTalkId_ = 411121150
		arg_646_1.duration_ = 4.63

		local var_646_0 = {
			zh = 3.966,
			ja = 4.633
		}
		local var_646_1 = manager.audio:GetLocalizationFlag()

		if var_646_0[var_646_1] ~= nil then
			arg_646_1.duration_ = var_646_0[var_646_1]
		end

		SetActive(arg_646_1.tipsGo_, false)

		function arg_646_1.onSingleLineFinish_()
			arg_646_1.onSingleLineUpdate_ = nil
			arg_646_1.onSingleLineFinish_ = nil
			arg_646_1.state_ = "waiting"
		end

		function arg_646_1.playNext_(arg_648_0)
			if arg_648_0 == 1 then
				arg_646_0:Play411121151(arg_646_1)
			end
		end

		function arg_646_1.onSingleLineUpdate_(arg_649_0)
			local var_649_0 = 0
			local var_649_1 = 0.5

			if var_649_0 < arg_646_1.time_ and arg_646_1.time_ <= var_649_0 + arg_649_0 then
				arg_646_1.talkMaxDuration = 0
				arg_646_1.dialogCg_.alpha = 1

				arg_646_1.dialog_:SetActive(true)
				SetActive(arg_646_1.leftNameGo_, true)

				local var_649_2 = arg_646_1:FormatText(StoryNameCfg[264].name)

				arg_646_1.leftNameTxt_.text = var_649_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_646_1.leftNameTxt_.transform)

				arg_646_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_646_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_646_1:RecordName(arg_646_1.leftNameTxt_.text)
				SetActive(arg_646_1.iconTrs_.gameObject, false)
				arg_646_1.callingController_:SetSelectedState("normal")

				local var_649_3 = arg_646_1:GetWordFromCfg(411121150)
				local var_649_4 = arg_646_1:FormatText(var_649_3.content)

				arg_646_1.text_.text = var_649_4

				LuaForUtil.ClearLinePrefixSymbol(arg_646_1.text_)

				local var_649_5 = 20
				local var_649_6 = utf8.len(var_649_4)
				local var_649_7 = var_649_5 <= 0 and var_649_1 or var_649_1 * (var_649_6 / var_649_5)

				if var_649_7 > 0 and var_649_1 < var_649_7 then
					arg_646_1.talkMaxDuration = var_649_7

					if var_649_7 + var_649_0 > arg_646_1.duration_ then
						arg_646_1.duration_ = var_649_7 + var_649_0
					end
				end

				arg_646_1.text_.text = var_649_4
				arg_646_1.typewritter.percent = 0

				arg_646_1.typewritter:SetDirty()
				arg_646_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121150", "story_v_out_411121.awb") ~= 0 then
					local var_649_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121150", "story_v_out_411121.awb") / 1000

					if var_649_8 + var_649_0 > arg_646_1.duration_ then
						arg_646_1.duration_ = var_649_8 + var_649_0
					end

					if var_649_3.prefab_name ~= "" and arg_646_1.actors_[var_649_3.prefab_name] ~= nil then
						local var_649_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_646_1.actors_[var_649_3.prefab_name].transform, "story_v_out_411121", "411121150", "story_v_out_411121.awb")

						arg_646_1:RecordAudio("411121150", var_649_9)
						arg_646_1:RecordAudio("411121150", var_649_9)
					else
						arg_646_1:AudioAction("play", "voice", "story_v_out_411121", "411121150", "story_v_out_411121.awb")
					end

					arg_646_1:RecordHistoryTalkVoice("story_v_out_411121", "411121150", "story_v_out_411121.awb")
				end

				arg_646_1:RecordContent(arg_646_1.text_.text)
			end

			local var_649_10 = math.max(var_649_1, arg_646_1.talkMaxDuration)

			if var_649_0 <= arg_646_1.time_ and arg_646_1.time_ < var_649_0 + var_649_10 then
				arg_646_1.typewritter.percent = (arg_646_1.time_ - var_649_0) / var_649_10

				arg_646_1.typewritter:SetDirty()
			end

			if arg_646_1.time_ >= var_649_0 + var_649_10 and arg_646_1.time_ < var_649_0 + var_649_10 + arg_649_0 then
				arg_646_1.typewritter.percent = 1

				arg_646_1.typewritter:SetDirty()
				arg_646_1:ShowNextGo(true)
			end
		end
	end,
	Play411121151 = function(arg_650_0, arg_650_1)
		arg_650_1.time_ = 0
		arg_650_1.frameCnt_ = 0
		arg_650_1.state_ = "playing"
		arg_650_1.curTalkId_ = 411121151
		arg_650_1.duration_ = 9.1

		local var_650_0 = {
			zh = 6.633,
			ja = 9.1
		}
		local var_650_1 = manager.audio:GetLocalizationFlag()

		if var_650_0[var_650_1] ~= nil then
			arg_650_1.duration_ = var_650_0[var_650_1]
		end

		SetActive(arg_650_1.tipsGo_, false)

		function arg_650_1.onSingleLineFinish_()
			arg_650_1.onSingleLineUpdate_ = nil
			arg_650_1.onSingleLineFinish_ = nil
			arg_650_1.state_ = "waiting"
		end

		function arg_650_1.playNext_(arg_652_0)
			if arg_652_0 == 1 then
				arg_650_0:Play411121152(arg_650_1)
			end
		end

		function arg_650_1.onSingleLineUpdate_(arg_653_0)
			local var_653_0 = arg_650_1.actors_["10014ui_story"].transform
			local var_653_1 = 0

			if var_653_1 < arg_650_1.time_ and arg_650_1.time_ <= var_653_1 + arg_653_0 then
				arg_650_1.var_.moveOldPos10014ui_story = var_653_0.localPosition
			end

			local var_653_2 = 0.001

			if var_653_1 <= arg_650_1.time_ and arg_650_1.time_ < var_653_1 + var_653_2 then
				local var_653_3 = (arg_650_1.time_ - var_653_1) / var_653_2
				local var_653_4 = Vector3.New(0, -1.06, -6.2)

				var_653_0.localPosition = Vector3.Lerp(arg_650_1.var_.moveOldPos10014ui_story, var_653_4, var_653_3)

				local var_653_5 = manager.ui.mainCamera.transform.position - var_653_0.position

				var_653_0.forward = Vector3.New(var_653_5.x, var_653_5.y, var_653_5.z)

				local var_653_6 = var_653_0.localEulerAngles

				var_653_6.z = 0
				var_653_6.x = 0
				var_653_0.localEulerAngles = var_653_6
			end

			if arg_650_1.time_ >= var_653_1 + var_653_2 and arg_650_1.time_ < var_653_1 + var_653_2 + arg_653_0 then
				var_653_0.localPosition = Vector3.New(0, -1.06, -6.2)

				local var_653_7 = manager.ui.mainCamera.transform.position - var_653_0.position

				var_653_0.forward = Vector3.New(var_653_7.x, var_653_7.y, var_653_7.z)

				local var_653_8 = var_653_0.localEulerAngles

				var_653_8.z = 0
				var_653_8.x = 0
				var_653_0.localEulerAngles = var_653_8
			end

			local var_653_9 = arg_650_1.actors_["10014ui_story"]
			local var_653_10 = 0

			if var_653_10 < arg_650_1.time_ and arg_650_1.time_ <= var_653_10 + arg_653_0 and not isNil(var_653_9) and arg_650_1.var_.characterEffect10014ui_story == nil then
				arg_650_1.var_.characterEffect10014ui_story = var_653_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_653_11 = 0.200000002980232

			if var_653_10 <= arg_650_1.time_ and arg_650_1.time_ < var_653_10 + var_653_11 and not isNil(var_653_9) then
				local var_653_12 = (arg_650_1.time_ - var_653_10) / var_653_11

				if arg_650_1.var_.characterEffect10014ui_story and not isNil(var_653_9) then
					arg_650_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_650_1.time_ >= var_653_10 + var_653_11 and arg_650_1.time_ < var_653_10 + var_653_11 + arg_653_0 and not isNil(var_653_9) and arg_650_1.var_.characterEffect10014ui_story then
				arg_650_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_653_13 = 0

			if var_653_13 < arg_650_1.time_ and arg_650_1.time_ <= var_653_13 + arg_653_0 then
				arg_650_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action2_2")
			end

			local var_653_14 = 0

			if var_653_14 < arg_650_1.time_ and arg_650_1.time_ <= var_653_14 + arg_653_0 then
				arg_650_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_653_15 = 0
			local var_653_16 = 0.825

			if var_653_15 < arg_650_1.time_ and arg_650_1.time_ <= var_653_15 + arg_653_0 then
				arg_650_1.talkMaxDuration = 0
				arg_650_1.dialogCg_.alpha = 1

				arg_650_1.dialog_:SetActive(true)
				SetActive(arg_650_1.leftNameGo_, true)

				local var_653_17 = arg_650_1:FormatText(StoryNameCfg[264].name)

				arg_650_1.leftNameTxt_.text = var_653_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_650_1.leftNameTxt_.transform)

				arg_650_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_650_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_650_1:RecordName(arg_650_1.leftNameTxt_.text)
				SetActive(arg_650_1.iconTrs_.gameObject, false)
				arg_650_1.callingController_:SetSelectedState("normal")

				local var_653_18 = arg_650_1:GetWordFromCfg(411121151)
				local var_653_19 = arg_650_1:FormatText(var_653_18.content)

				arg_650_1.text_.text = var_653_19

				LuaForUtil.ClearLinePrefixSymbol(arg_650_1.text_)

				local var_653_20 = 33
				local var_653_21 = utf8.len(var_653_19)
				local var_653_22 = var_653_20 <= 0 and var_653_16 or var_653_16 * (var_653_21 / var_653_20)

				if var_653_22 > 0 and var_653_16 < var_653_22 then
					arg_650_1.talkMaxDuration = var_653_22

					if var_653_22 + var_653_15 > arg_650_1.duration_ then
						arg_650_1.duration_ = var_653_22 + var_653_15
					end
				end

				arg_650_1.text_.text = var_653_19
				arg_650_1.typewritter.percent = 0

				arg_650_1.typewritter:SetDirty()
				arg_650_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121151", "story_v_out_411121.awb") ~= 0 then
					local var_653_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121151", "story_v_out_411121.awb") / 1000

					if var_653_23 + var_653_15 > arg_650_1.duration_ then
						arg_650_1.duration_ = var_653_23 + var_653_15
					end

					if var_653_18.prefab_name ~= "" and arg_650_1.actors_[var_653_18.prefab_name] ~= nil then
						local var_653_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_650_1.actors_[var_653_18.prefab_name].transform, "story_v_out_411121", "411121151", "story_v_out_411121.awb")

						arg_650_1:RecordAudio("411121151", var_653_24)
						arg_650_1:RecordAudio("411121151", var_653_24)
					else
						arg_650_1:AudioAction("play", "voice", "story_v_out_411121", "411121151", "story_v_out_411121.awb")
					end

					arg_650_1:RecordHistoryTalkVoice("story_v_out_411121", "411121151", "story_v_out_411121.awb")
				end

				arg_650_1:RecordContent(arg_650_1.text_.text)
			end

			local var_653_25 = math.max(var_653_16, arg_650_1.talkMaxDuration)

			if var_653_15 <= arg_650_1.time_ and arg_650_1.time_ < var_653_15 + var_653_25 then
				arg_650_1.typewritter.percent = (arg_650_1.time_ - var_653_15) / var_653_25

				arg_650_1.typewritter:SetDirty()
			end

			if arg_650_1.time_ >= var_653_15 + var_653_25 and arg_650_1.time_ < var_653_15 + var_653_25 + arg_653_0 then
				arg_650_1.typewritter.percent = 1

				arg_650_1.typewritter:SetDirty()
				arg_650_1:ShowNextGo(true)
			end
		end
	end,
	Play411121152 = function(arg_654_0, arg_654_1)
		arg_654_1.time_ = 0
		arg_654_1.frameCnt_ = 0
		arg_654_1.state_ = "playing"
		arg_654_1.curTalkId_ = 411121152
		arg_654_1.duration_ = 4.27

		local var_654_0 = {
			zh = 4.166,
			ja = 4.266
		}
		local var_654_1 = manager.audio:GetLocalizationFlag()

		if var_654_0[var_654_1] ~= nil then
			arg_654_1.duration_ = var_654_0[var_654_1]
		end

		SetActive(arg_654_1.tipsGo_, false)

		function arg_654_1.onSingleLineFinish_()
			arg_654_1.onSingleLineUpdate_ = nil
			arg_654_1.onSingleLineFinish_ = nil
			arg_654_1.state_ = "waiting"
		end

		function arg_654_1.playNext_(arg_656_0)
			if arg_656_0 == 1 then
				arg_654_0:Play411121153(arg_654_1)
			end
		end

		function arg_654_1.onSingleLineUpdate_(arg_657_0)
			local var_657_0 = arg_654_1.actors_["10014ui_story"]
			local var_657_1 = 0

			if var_657_1 < arg_654_1.time_ and arg_654_1.time_ <= var_657_1 + arg_657_0 and not isNil(var_657_0) and arg_654_1.var_.characterEffect10014ui_story == nil then
				arg_654_1.var_.characterEffect10014ui_story = var_657_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_657_2 = 0.200000002980232

			if var_657_1 <= arg_654_1.time_ and arg_654_1.time_ < var_657_1 + var_657_2 and not isNil(var_657_0) then
				local var_657_3 = (arg_654_1.time_ - var_657_1) / var_657_2

				if arg_654_1.var_.characterEffect10014ui_story and not isNil(var_657_0) then
					local var_657_4 = Mathf.Lerp(0, 0.5, var_657_3)

					arg_654_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_654_1.var_.characterEffect10014ui_story.fillRatio = var_657_4
				end
			end

			if arg_654_1.time_ >= var_657_1 + var_657_2 and arg_654_1.time_ < var_657_1 + var_657_2 + arg_657_0 and not isNil(var_657_0) and arg_654_1.var_.characterEffect10014ui_story then
				local var_657_5 = 0.5

				arg_654_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_654_1.var_.characterEffect10014ui_story.fillRatio = var_657_5
			end

			local var_657_6 = 0
			local var_657_7 = 0.275

			if var_657_6 < arg_654_1.time_ and arg_654_1.time_ <= var_657_6 + arg_657_0 then
				arg_654_1.talkMaxDuration = 0
				arg_654_1.dialogCg_.alpha = 1

				arg_654_1.dialog_:SetActive(true)
				SetActive(arg_654_1.leftNameGo_, true)

				local var_657_8 = arg_654_1:FormatText(StoryNameCfg[670].name)

				arg_654_1.leftNameTxt_.text = var_657_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_654_1.leftNameTxt_.transform)

				arg_654_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_654_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_654_1:RecordName(arg_654_1.leftNameTxt_.text)
				SetActive(arg_654_1.iconTrs_.gameObject, true)
				arg_654_1.iconController_:SetSelectedState("hero")

				arg_654_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_654_1.callingController_:SetSelectedState("normal")

				arg_654_1.keyicon_.color = Color.New(1, 1, 1)
				arg_654_1.icon_.color = Color.New(1, 1, 1)

				local var_657_9 = arg_654_1:GetWordFromCfg(411121152)
				local var_657_10 = arg_654_1:FormatText(var_657_9.content)

				arg_654_1.text_.text = var_657_10

				LuaForUtil.ClearLinePrefixSymbol(arg_654_1.text_)

				local var_657_11 = 11
				local var_657_12 = utf8.len(var_657_10)
				local var_657_13 = var_657_11 <= 0 and var_657_7 or var_657_7 * (var_657_12 / var_657_11)

				if var_657_13 > 0 and var_657_7 < var_657_13 then
					arg_654_1.talkMaxDuration = var_657_13

					if var_657_13 + var_657_6 > arg_654_1.duration_ then
						arg_654_1.duration_ = var_657_13 + var_657_6
					end
				end

				arg_654_1.text_.text = var_657_10
				arg_654_1.typewritter.percent = 0

				arg_654_1.typewritter:SetDirty()
				arg_654_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121152", "story_v_out_411121.awb") ~= 0 then
					local var_657_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121152", "story_v_out_411121.awb") / 1000

					if var_657_14 + var_657_6 > arg_654_1.duration_ then
						arg_654_1.duration_ = var_657_14 + var_657_6
					end

					if var_657_9.prefab_name ~= "" and arg_654_1.actors_[var_657_9.prefab_name] ~= nil then
						local var_657_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_654_1.actors_[var_657_9.prefab_name].transform, "story_v_out_411121", "411121152", "story_v_out_411121.awb")

						arg_654_1:RecordAudio("411121152", var_657_15)
						arg_654_1:RecordAudio("411121152", var_657_15)
					else
						arg_654_1:AudioAction("play", "voice", "story_v_out_411121", "411121152", "story_v_out_411121.awb")
					end

					arg_654_1:RecordHistoryTalkVoice("story_v_out_411121", "411121152", "story_v_out_411121.awb")
				end

				arg_654_1:RecordContent(arg_654_1.text_.text)
			end

			local var_657_16 = math.max(var_657_7, arg_654_1.talkMaxDuration)

			if var_657_6 <= arg_654_1.time_ and arg_654_1.time_ < var_657_6 + var_657_16 then
				arg_654_1.typewritter.percent = (arg_654_1.time_ - var_657_6) / var_657_16

				arg_654_1.typewritter:SetDirty()
			end

			if arg_654_1.time_ >= var_657_6 + var_657_16 and arg_654_1.time_ < var_657_6 + var_657_16 + arg_657_0 then
				arg_654_1.typewritter.percent = 1

				arg_654_1.typewritter:SetDirty()
				arg_654_1:ShowNextGo(true)
			end
		end
	end,
	Play411121153 = function(arg_658_0, arg_658_1)
		arg_658_1.time_ = 0
		arg_658_1.frameCnt_ = 0
		arg_658_1.state_ = "playing"
		arg_658_1.curTalkId_ = 411121153
		arg_658_1.duration_ = 5.3

		local var_658_0 = {
			zh = 4.933,
			ja = 5.3
		}
		local var_658_1 = manager.audio:GetLocalizationFlag()

		if var_658_0[var_658_1] ~= nil then
			arg_658_1.duration_ = var_658_0[var_658_1]
		end

		SetActive(arg_658_1.tipsGo_, false)

		function arg_658_1.onSingleLineFinish_()
			arg_658_1.onSingleLineUpdate_ = nil
			arg_658_1.onSingleLineFinish_ = nil
			arg_658_1.state_ = "waiting"
		end

		function arg_658_1.playNext_(arg_660_0)
			if arg_660_0 == 1 then
				arg_658_0:Play411121154(arg_658_1)
			end
		end

		function arg_658_1.onSingleLineUpdate_(arg_661_0)
			local var_661_0 = arg_658_1.actors_["10014ui_story"].transform
			local var_661_1 = 0

			if var_661_1 < arg_658_1.time_ and arg_658_1.time_ <= var_661_1 + arg_661_0 then
				arg_658_1.var_.moveOldPos10014ui_story = var_661_0.localPosition
			end

			local var_661_2 = 0.001

			if var_661_1 <= arg_658_1.time_ and arg_658_1.time_ < var_661_1 + var_661_2 then
				local var_661_3 = (arg_658_1.time_ - var_661_1) / var_661_2
				local var_661_4 = Vector3.New(0, -1.06, -6.2)

				var_661_0.localPosition = Vector3.Lerp(arg_658_1.var_.moveOldPos10014ui_story, var_661_4, var_661_3)

				local var_661_5 = manager.ui.mainCamera.transform.position - var_661_0.position

				var_661_0.forward = Vector3.New(var_661_5.x, var_661_5.y, var_661_5.z)

				local var_661_6 = var_661_0.localEulerAngles

				var_661_6.z = 0
				var_661_6.x = 0
				var_661_0.localEulerAngles = var_661_6
			end

			if arg_658_1.time_ >= var_661_1 + var_661_2 and arg_658_1.time_ < var_661_1 + var_661_2 + arg_661_0 then
				var_661_0.localPosition = Vector3.New(0, -1.06, -6.2)

				local var_661_7 = manager.ui.mainCamera.transform.position - var_661_0.position

				var_661_0.forward = Vector3.New(var_661_7.x, var_661_7.y, var_661_7.z)

				local var_661_8 = var_661_0.localEulerAngles

				var_661_8.z = 0
				var_661_8.x = 0
				var_661_0.localEulerAngles = var_661_8
			end

			local var_661_9 = arg_658_1.actors_["10014ui_story"]
			local var_661_10 = 0

			if var_661_10 < arg_658_1.time_ and arg_658_1.time_ <= var_661_10 + arg_661_0 and not isNil(var_661_9) and arg_658_1.var_.characterEffect10014ui_story == nil then
				arg_658_1.var_.characterEffect10014ui_story = var_661_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_661_11 = 0.200000002980232

			if var_661_10 <= arg_658_1.time_ and arg_658_1.time_ < var_661_10 + var_661_11 and not isNil(var_661_9) then
				local var_661_12 = (arg_658_1.time_ - var_661_10) / var_661_11

				if arg_658_1.var_.characterEffect10014ui_story and not isNil(var_661_9) then
					arg_658_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_658_1.time_ >= var_661_10 + var_661_11 and arg_658_1.time_ < var_661_10 + var_661_11 + arg_661_0 and not isNil(var_661_9) and arg_658_1.var_.characterEffect10014ui_story then
				arg_658_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_661_13 = 0
			local var_661_14 = 0.575

			if var_661_13 < arg_658_1.time_ and arg_658_1.time_ <= var_661_13 + arg_661_0 then
				arg_658_1.talkMaxDuration = 0
				arg_658_1.dialogCg_.alpha = 1

				arg_658_1.dialog_:SetActive(true)
				SetActive(arg_658_1.leftNameGo_, true)

				local var_661_15 = arg_658_1:FormatText(StoryNameCfg[264].name)

				arg_658_1.leftNameTxt_.text = var_661_15

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_658_1.leftNameTxt_.transform)

				arg_658_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_658_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_658_1:RecordName(arg_658_1.leftNameTxt_.text)
				SetActive(arg_658_1.iconTrs_.gameObject, false)
				arg_658_1.callingController_:SetSelectedState("normal")

				local var_661_16 = arg_658_1:GetWordFromCfg(411121153)
				local var_661_17 = arg_658_1:FormatText(var_661_16.content)

				arg_658_1.text_.text = var_661_17

				LuaForUtil.ClearLinePrefixSymbol(arg_658_1.text_)

				local var_661_18 = 23
				local var_661_19 = utf8.len(var_661_17)
				local var_661_20 = var_661_18 <= 0 and var_661_14 or var_661_14 * (var_661_19 / var_661_18)

				if var_661_20 > 0 and var_661_14 < var_661_20 then
					arg_658_1.talkMaxDuration = var_661_20

					if var_661_20 + var_661_13 > arg_658_1.duration_ then
						arg_658_1.duration_ = var_661_20 + var_661_13
					end
				end

				arg_658_1.text_.text = var_661_17
				arg_658_1.typewritter.percent = 0

				arg_658_1.typewritter:SetDirty()
				arg_658_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121153", "story_v_out_411121.awb") ~= 0 then
					local var_661_21 = manager.audio:GetVoiceLength("story_v_out_411121", "411121153", "story_v_out_411121.awb") / 1000

					if var_661_21 + var_661_13 > arg_658_1.duration_ then
						arg_658_1.duration_ = var_661_21 + var_661_13
					end

					if var_661_16.prefab_name ~= "" and arg_658_1.actors_[var_661_16.prefab_name] ~= nil then
						local var_661_22 = LuaForUtil.PlayVoiceWithCriLipsync(arg_658_1.actors_[var_661_16.prefab_name].transform, "story_v_out_411121", "411121153", "story_v_out_411121.awb")

						arg_658_1:RecordAudio("411121153", var_661_22)
						arg_658_1:RecordAudio("411121153", var_661_22)
					else
						arg_658_1:AudioAction("play", "voice", "story_v_out_411121", "411121153", "story_v_out_411121.awb")
					end

					arg_658_1:RecordHistoryTalkVoice("story_v_out_411121", "411121153", "story_v_out_411121.awb")
				end

				arg_658_1:RecordContent(arg_658_1.text_.text)
			end

			local var_661_23 = math.max(var_661_14, arg_658_1.talkMaxDuration)

			if var_661_13 <= arg_658_1.time_ and arg_658_1.time_ < var_661_13 + var_661_23 then
				arg_658_1.typewritter.percent = (arg_658_1.time_ - var_661_13) / var_661_23

				arg_658_1.typewritter:SetDirty()
			end

			if arg_658_1.time_ >= var_661_13 + var_661_23 and arg_658_1.time_ < var_661_13 + var_661_23 + arg_661_0 then
				arg_658_1.typewritter.percent = 1

				arg_658_1.typewritter:SetDirty()
				arg_658_1:ShowNextGo(true)
			end
		end
	end,
	Play411121154 = function(arg_662_0, arg_662_1)
		arg_662_1.time_ = 0
		arg_662_1.frameCnt_ = 0
		arg_662_1.state_ = "playing"
		arg_662_1.curTalkId_ = 411121154
		arg_662_1.duration_ = 1.3

		local var_662_0 = {
			zh = 1,
			ja = 1.3
		}
		local var_662_1 = manager.audio:GetLocalizationFlag()

		if var_662_0[var_662_1] ~= nil then
			arg_662_1.duration_ = var_662_0[var_662_1]
		end

		SetActive(arg_662_1.tipsGo_, false)

		function arg_662_1.onSingleLineFinish_()
			arg_662_1.onSingleLineUpdate_ = nil
			arg_662_1.onSingleLineFinish_ = nil
			arg_662_1.state_ = "waiting"
		end

		function arg_662_1.playNext_(arg_664_0)
			if arg_664_0 == 1 then
				arg_662_0:Play411121155(arg_662_1)
			end
		end

		function arg_662_1.onSingleLineUpdate_(arg_665_0)
			local var_665_0 = arg_662_1.actors_["10014ui_story"]
			local var_665_1 = 0

			if var_665_1 < arg_662_1.time_ and arg_662_1.time_ <= var_665_1 + arg_665_0 and not isNil(var_665_0) and arg_662_1.var_.characterEffect10014ui_story == nil then
				arg_662_1.var_.characterEffect10014ui_story = var_665_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_665_2 = 0.200000002980232

			if var_665_1 <= arg_662_1.time_ and arg_662_1.time_ < var_665_1 + var_665_2 and not isNil(var_665_0) then
				local var_665_3 = (arg_662_1.time_ - var_665_1) / var_665_2

				if arg_662_1.var_.characterEffect10014ui_story and not isNil(var_665_0) then
					local var_665_4 = Mathf.Lerp(0, 0.5, var_665_3)

					arg_662_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_662_1.var_.characterEffect10014ui_story.fillRatio = var_665_4
				end
			end

			if arg_662_1.time_ >= var_665_1 + var_665_2 and arg_662_1.time_ < var_665_1 + var_665_2 + arg_665_0 and not isNil(var_665_0) and arg_662_1.var_.characterEffect10014ui_story then
				local var_665_5 = 0.5

				arg_662_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_662_1.var_.characterEffect10014ui_story.fillRatio = var_665_5
			end

			local var_665_6 = 0
			local var_665_7 = 0.05

			if var_665_6 < arg_662_1.time_ and arg_662_1.time_ <= var_665_6 + arg_665_0 then
				arg_662_1.talkMaxDuration = 0
				arg_662_1.dialogCg_.alpha = 1

				arg_662_1.dialog_:SetActive(true)
				SetActive(arg_662_1.leftNameGo_, true)

				local var_665_8 = arg_662_1:FormatText(StoryNameCfg[670].name)

				arg_662_1.leftNameTxt_.text = var_665_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_662_1.leftNameTxt_.transform)

				arg_662_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_662_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_662_1:RecordName(arg_662_1.leftNameTxt_.text)
				SetActive(arg_662_1.iconTrs_.gameObject, true)
				arg_662_1.iconController_:SetSelectedState("hero")

				arg_662_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_662_1.callingController_:SetSelectedState("normal")

				arg_662_1.keyicon_.color = Color.New(1, 1, 1)
				arg_662_1.icon_.color = Color.New(1, 1, 1)

				local var_665_9 = arg_662_1:GetWordFromCfg(411121154)
				local var_665_10 = arg_662_1:FormatText(var_665_9.content)

				arg_662_1.text_.text = var_665_10

				LuaForUtil.ClearLinePrefixSymbol(arg_662_1.text_)

				local var_665_11 = 2
				local var_665_12 = utf8.len(var_665_10)
				local var_665_13 = var_665_11 <= 0 and var_665_7 or var_665_7 * (var_665_12 / var_665_11)

				if var_665_13 > 0 and var_665_7 < var_665_13 then
					arg_662_1.talkMaxDuration = var_665_13

					if var_665_13 + var_665_6 > arg_662_1.duration_ then
						arg_662_1.duration_ = var_665_13 + var_665_6
					end
				end

				arg_662_1.text_.text = var_665_10
				arg_662_1.typewritter.percent = 0

				arg_662_1.typewritter:SetDirty()
				arg_662_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121154", "story_v_out_411121.awb") ~= 0 then
					local var_665_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121154", "story_v_out_411121.awb") / 1000

					if var_665_14 + var_665_6 > arg_662_1.duration_ then
						arg_662_1.duration_ = var_665_14 + var_665_6
					end

					if var_665_9.prefab_name ~= "" and arg_662_1.actors_[var_665_9.prefab_name] ~= nil then
						local var_665_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_662_1.actors_[var_665_9.prefab_name].transform, "story_v_out_411121", "411121154", "story_v_out_411121.awb")

						arg_662_1:RecordAudio("411121154", var_665_15)
						arg_662_1:RecordAudio("411121154", var_665_15)
					else
						arg_662_1:AudioAction("play", "voice", "story_v_out_411121", "411121154", "story_v_out_411121.awb")
					end

					arg_662_1:RecordHistoryTalkVoice("story_v_out_411121", "411121154", "story_v_out_411121.awb")
				end

				arg_662_1:RecordContent(arg_662_1.text_.text)
			end

			local var_665_16 = math.max(var_665_7, arg_662_1.talkMaxDuration)

			if var_665_6 <= arg_662_1.time_ and arg_662_1.time_ < var_665_6 + var_665_16 then
				arg_662_1.typewritter.percent = (arg_662_1.time_ - var_665_6) / var_665_16

				arg_662_1.typewritter:SetDirty()
			end

			if arg_662_1.time_ >= var_665_6 + var_665_16 and arg_662_1.time_ < var_665_6 + var_665_16 + arg_665_0 then
				arg_662_1.typewritter.percent = 1

				arg_662_1.typewritter:SetDirty()
				arg_662_1:ShowNextGo(true)
			end
		end
	end,
	Play411121155 = function(arg_666_0, arg_666_1)
		arg_666_1.time_ = 0
		arg_666_1.frameCnt_ = 0
		arg_666_1.state_ = "playing"
		arg_666_1.curTalkId_ = 411121155
		arg_666_1.duration_ = 5

		SetActive(arg_666_1.tipsGo_, false)

		function arg_666_1.onSingleLineFinish_()
			arg_666_1.onSingleLineUpdate_ = nil
			arg_666_1.onSingleLineFinish_ = nil
			arg_666_1.state_ = "waiting"
		end

		function arg_666_1.playNext_(arg_668_0)
			if arg_668_0 == 1 then
				arg_666_0:Play411121156(arg_666_1)
			end
		end

		function arg_666_1.onSingleLineUpdate_(arg_669_0)
			local var_669_0 = arg_666_1.actors_["10071ui_story"]
			local var_669_1 = 0

			if var_669_1 < arg_666_1.time_ and arg_666_1.time_ <= var_669_1 + arg_669_0 and not isNil(var_669_0) and arg_666_1.var_.characterEffect10071ui_story == nil then
				arg_666_1.var_.characterEffect10071ui_story = var_669_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_669_2 = 0.200000002980232

			if var_669_1 <= arg_666_1.time_ and arg_666_1.time_ < var_669_1 + var_669_2 and not isNil(var_669_0) then
				local var_669_3 = (arg_666_1.time_ - var_669_1) / var_669_2

				if arg_666_1.var_.characterEffect10071ui_story and not isNil(var_669_0) then
					local var_669_4 = Mathf.Lerp(0, 0.5, var_669_3)

					arg_666_1.var_.characterEffect10071ui_story.fillFlat = true
					arg_666_1.var_.characterEffect10071ui_story.fillRatio = var_669_4
				end
			end

			if arg_666_1.time_ >= var_669_1 + var_669_2 and arg_666_1.time_ < var_669_1 + var_669_2 + arg_669_0 and not isNil(var_669_0) and arg_666_1.var_.characterEffect10071ui_story then
				local var_669_5 = 0.5

				arg_666_1.var_.characterEffect10071ui_story.fillFlat = true
				arg_666_1.var_.characterEffect10071ui_story.fillRatio = var_669_5
			end

			local var_669_6 = 0
			local var_669_7 = 1

			if var_669_6 < arg_666_1.time_ and arg_666_1.time_ <= var_669_6 + arg_669_0 then
				arg_666_1.talkMaxDuration = 0
				arg_666_1.dialogCg_.alpha = 1

				arg_666_1.dialog_:SetActive(true)
				SetActive(arg_666_1.leftNameGo_, false)

				arg_666_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_666_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_666_1:RecordName(arg_666_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_666_1.iconTrs_.gameObject, false)
				arg_666_1.callingController_:SetSelectedState("normal")

				local var_669_8 = arg_666_1:GetWordFromCfg(411121155)
				local var_669_9 = arg_666_1:FormatText(var_669_8.content)

				arg_666_1.text_.text = var_669_9

				LuaForUtil.ClearLinePrefixSymbol(arg_666_1.text_)

				local var_669_10 = 40
				local var_669_11 = utf8.len(var_669_9)
				local var_669_12 = var_669_10 <= 0 and var_669_7 or var_669_7 * (var_669_11 / var_669_10)

				if var_669_12 > 0 and var_669_7 < var_669_12 then
					arg_666_1.talkMaxDuration = var_669_12

					if var_669_12 + var_669_6 > arg_666_1.duration_ then
						arg_666_1.duration_ = var_669_12 + var_669_6
					end
				end

				arg_666_1.text_.text = var_669_9
				arg_666_1.typewritter.percent = 0

				arg_666_1.typewritter:SetDirty()
				arg_666_1:ShowNextGo(false)
				arg_666_1:RecordContent(arg_666_1.text_.text)
			end

			local var_669_13 = math.max(var_669_7, arg_666_1.talkMaxDuration)

			if var_669_6 <= arg_666_1.time_ and arg_666_1.time_ < var_669_6 + var_669_13 then
				arg_666_1.typewritter.percent = (arg_666_1.time_ - var_669_6) / var_669_13

				arg_666_1.typewritter:SetDirty()
			end

			if arg_666_1.time_ >= var_669_6 + var_669_13 and arg_666_1.time_ < var_669_6 + var_669_13 + arg_669_0 then
				arg_666_1.typewritter.percent = 1

				arg_666_1.typewritter:SetDirty()
				arg_666_1:ShowNextGo(true)
			end
		end
	end,
	Play411121156 = function(arg_670_0, arg_670_1)
		arg_670_1.time_ = 0
		arg_670_1.frameCnt_ = 0
		arg_670_1.state_ = "playing"
		arg_670_1.curTalkId_ = 411121156
		arg_670_1.duration_ = 4.6

		local var_670_0 = {
			zh = 3.366,
			ja = 4.6
		}
		local var_670_1 = manager.audio:GetLocalizationFlag()

		if var_670_0[var_670_1] ~= nil then
			arg_670_1.duration_ = var_670_0[var_670_1]
		end

		SetActive(arg_670_1.tipsGo_, false)

		function arg_670_1.onSingleLineFinish_()
			arg_670_1.onSingleLineUpdate_ = nil
			arg_670_1.onSingleLineFinish_ = nil
			arg_670_1.state_ = "waiting"
		end

		function arg_670_1.playNext_(arg_672_0)
			if arg_672_0 == 1 then
				arg_670_0:Play411121157(arg_670_1)
			end
		end

		function arg_670_1.onSingleLineUpdate_(arg_673_0)
			local var_673_0 = 0
			local var_673_1 = 0.25

			if var_673_0 < arg_670_1.time_ and arg_670_1.time_ <= var_673_0 + arg_673_0 then
				arg_670_1.talkMaxDuration = 0
				arg_670_1.dialogCg_.alpha = 1

				arg_670_1.dialog_:SetActive(true)
				SetActive(arg_670_1.leftNameGo_, true)

				local var_673_2 = arg_670_1:FormatText(StoryNameCfg[670].name)

				arg_670_1.leftNameTxt_.text = var_673_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_670_1.leftNameTxt_.transform)

				arg_670_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_670_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_670_1:RecordName(arg_670_1.leftNameTxt_.text)
				SetActive(arg_670_1.iconTrs_.gameObject, true)
				arg_670_1.iconController_:SetSelectedState("hero")

				arg_670_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_670_1.callingController_:SetSelectedState("normal")

				arg_670_1.keyicon_.color = Color.New(1, 1, 1)
				arg_670_1.icon_.color = Color.New(1, 1, 1)

				local var_673_3 = arg_670_1:GetWordFromCfg(411121156)
				local var_673_4 = arg_670_1:FormatText(var_673_3.content)

				arg_670_1.text_.text = var_673_4

				LuaForUtil.ClearLinePrefixSymbol(arg_670_1.text_)

				local var_673_5 = 10
				local var_673_6 = utf8.len(var_673_4)
				local var_673_7 = var_673_5 <= 0 and var_673_1 or var_673_1 * (var_673_6 / var_673_5)

				if var_673_7 > 0 and var_673_1 < var_673_7 then
					arg_670_1.talkMaxDuration = var_673_7

					if var_673_7 + var_673_0 > arg_670_1.duration_ then
						arg_670_1.duration_ = var_673_7 + var_673_0
					end
				end

				arg_670_1.text_.text = var_673_4
				arg_670_1.typewritter.percent = 0

				arg_670_1.typewritter:SetDirty()
				arg_670_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121156", "story_v_out_411121.awb") ~= 0 then
					local var_673_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121156", "story_v_out_411121.awb") / 1000

					if var_673_8 + var_673_0 > arg_670_1.duration_ then
						arg_670_1.duration_ = var_673_8 + var_673_0
					end

					if var_673_3.prefab_name ~= "" and arg_670_1.actors_[var_673_3.prefab_name] ~= nil then
						local var_673_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_670_1.actors_[var_673_3.prefab_name].transform, "story_v_out_411121", "411121156", "story_v_out_411121.awb")

						arg_670_1:RecordAudio("411121156", var_673_9)
						arg_670_1:RecordAudio("411121156", var_673_9)
					else
						arg_670_1:AudioAction("play", "voice", "story_v_out_411121", "411121156", "story_v_out_411121.awb")
					end

					arg_670_1:RecordHistoryTalkVoice("story_v_out_411121", "411121156", "story_v_out_411121.awb")
				end

				arg_670_1:RecordContent(arg_670_1.text_.text)
			end

			local var_673_10 = math.max(var_673_1, arg_670_1.talkMaxDuration)

			if var_673_0 <= arg_670_1.time_ and arg_670_1.time_ < var_673_0 + var_673_10 then
				arg_670_1.typewritter.percent = (arg_670_1.time_ - var_673_0) / var_673_10

				arg_670_1.typewritter:SetDirty()
			end

			if arg_670_1.time_ >= var_673_0 + var_673_10 and arg_670_1.time_ < var_673_0 + var_673_10 + arg_673_0 then
				arg_670_1.typewritter.percent = 1

				arg_670_1.typewritter:SetDirty()
				arg_670_1:ShowNextGo(true)
			end
		end
	end,
	Play411121157 = function(arg_674_0, arg_674_1)
		arg_674_1.time_ = 0
		arg_674_1.frameCnt_ = 0
		arg_674_1.state_ = "playing"
		arg_674_1.curTalkId_ = 411121157
		arg_674_1.duration_ = 9.4

		local var_674_0 = {
			zh = 9.4,
			ja = 6.8
		}
		local var_674_1 = manager.audio:GetLocalizationFlag()

		if var_674_0[var_674_1] ~= nil then
			arg_674_1.duration_ = var_674_0[var_674_1]
		end

		SetActive(arg_674_1.tipsGo_, false)

		function arg_674_1.onSingleLineFinish_()
			arg_674_1.onSingleLineUpdate_ = nil
			arg_674_1.onSingleLineFinish_ = nil
			arg_674_1.state_ = "waiting"
		end

		function arg_674_1.playNext_(arg_676_0)
			if arg_676_0 == 1 then
				arg_674_0:Play411121158(arg_674_1)
			end
		end

		function arg_674_1.onSingleLineUpdate_(arg_677_0)
			local var_677_0 = 0
			local var_677_1 = 0.75

			if var_677_0 < arg_674_1.time_ and arg_674_1.time_ <= var_677_0 + arg_677_0 then
				arg_674_1.talkMaxDuration = 0
				arg_674_1.dialogCg_.alpha = 1

				arg_674_1.dialog_:SetActive(true)
				SetActive(arg_674_1.leftNameGo_, true)

				local var_677_2 = arg_674_1:FormatText(StoryNameCfg[670].name)

				arg_674_1.leftNameTxt_.text = var_677_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_674_1.leftNameTxt_.transform)

				arg_674_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_674_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_674_1:RecordName(arg_674_1.leftNameTxt_.text)
				SetActive(arg_674_1.iconTrs_.gameObject, true)
				arg_674_1.iconController_:SetSelectedState("hero")

				arg_674_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_674_1.callingController_:SetSelectedState("normal")

				arg_674_1.keyicon_.color = Color.New(1, 1, 1)
				arg_674_1.icon_.color = Color.New(1, 1, 1)

				local var_677_3 = arg_674_1:GetWordFromCfg(411121157)
				local var_677_4 = arg_674_1:FormatText(var_677_3.content)

				arg_674_1.text_.text = var_677_4

				LuaForUtil.ClearLinePrefixSymbol(arg_674_1.text_)

				local var_677_5 = 30
				local var_677_6 = utf8.len(var_677_4)
				local var_677_7 = var_677_5 <= 0 and var_677_1 or var_677_1 * (var_677_6 / var_677_5)

				if var_677_7 > 0 and var_677_1 < var_677_7 then
					arg_674_1.talkMaxDuration = var_677_7

					if var_677_7 + var_677_0 > arg_674_1.duration_ then
						arg_674_1.duration_ = var_677_7 + var_677_0
					end
				end

				arg_674_1.text_.text = var_677_4
				arg_674_1.typewritter.percent = 0

				arg_674_1.typewritter:SetDirty()
				arg_674_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121157", "story_v_out_411121.awb") ~= 0 then
					local var_677_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121157", "story_v_out_411121.awb") / 1000

					if var_677_8 + var_677_0 > arg_674_1.duration_ then
						arg_674_1.duration_ = var_677_8 + var_677_0
					end

					if var_677_3.prefab_name ~= "" and arg_674_1.actors_[var_677_3.prefab_name] ~= nil then
						local var_677_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_674_1.actors_[var_677_3.prefab_name].transform, "story_v_out_411121", "411121157", "story_v_out_411121.awb")

						arg_674_1:RecordAudio("411121157", var_677_9)
						arg_674_1:RecordAudio("411121157", var_677_9)
					else
						arg_674_1:AudioAction("play", "voice", "story_v_out_411121", "411121157", "story_v_out_411121.awb")
					end

					arg_674_1:RecordHistoryTalkVoice("story_v_out_411121", "411121157", "story_v_out_411121.awb")
				end

				arg_674_1:RecordContent(arg_674_1.text_.text)
			end

			local var_677_10 = math.max(var_677_1, arg_674_1.talkMaxDuration)

			if var_677_0 <= arg_674_1.time_ and arg_674_1.time_ < var_677_0 + var_677_10 then
				arg_674_1.typewritter.percent = (arg_674_1.time_ - var_677_0) / var_677_10

				arg_674_1.typewritter:SetDirty()
			end

			if arg_674_1.time_ >= var_677_0 + var_677_10 and arg_674_1.time_ < var_677_0 + var_677_10 + arg_677_0 then
				arg_674_1.typewritter.percent = 1

				arg_674_1.typewritter:SetDirty()
				arg_674_1:ShowNextGo(true)
			end
		end
	end,
	Play411121158 = function(arg_678_0, arg_678_1)
		arg_678_1.time_ = 0
		arg_678_1.frameCnt_ = 0
		arg_678_1.state_ = "playing"
		arg_678_1.curTalkId_ = 411121158
		arg_678_1.duration_ = 4.23

		local var_678_0 = {
			zh = 4.233,
			ja = 4.1
		}
		local var_678_1 = manager.audio:GetLocalizationFlag()

		if var_678_0[var_678_1] ~= nil then
			arg_678_1.duration_ = var_678_0[var_678_1]
		end

		SetActive(arg_678_1.tipsGo_, false)

		function arg_678_1.onSingleLineFinish_()
			arg_678_1.onSingleLineUpdate_ = nil
			arg_678_1.onSingleLineFinish_ = nil
			arg_678_1.state_ = "waiting"
		end

		function arg_678_1.playNext_(arg_680_0)
			if arg_680_0 == 1 then
				arg_678_0:Play411121159(arg_678_1)
			end
		end

		function arg_678_1.onSingleLineUpdate_(arg_681_0)
			local var_681_0 = 0
			local var_681_1 = 0.45

			if var_681_0 < arg_678_1.time_ and arg_678_1.time_ <= var_681_0 + arg_681_0 then
				arg_678_1.talkMaxDuration = 0
				arg_678_1.dialogCg_.alpha = 1

				arg_678_1.dialog_:SetActive(true)
				SetActive(arg_678_1.leftNameGo_, true)

				local var_681_2 = arg_678_1:FormatText(StoryNameCfg[670].name)

				arg_678_1.leftNameTxt_.text = var_681_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_678_1.leftNameTxt_.transform)

				arg_678_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_678_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_678_1:RecordName(arg_678_1.leftNameTxt_.text)
				SetActive(arg_678_1.iconTrs_.gameObject, true)
				arg_678_1.iconController_:SetSelectedState("hero")

				arg_678_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_678_1.callingController_:SetSelectedState("normal")

				arg_678_1.keyicon_.color = Color.New(1, 1, 1)
				arg_678_1.icon_.color = Color.New(1, 1, 1)

				local var_681_3 = arg_678_1:GetWordFromCfg(411121158)
				local var_681_4 = arg_678_1:FormatText(var_681_3.content)

				arg_678_1.text_.text = var_681_4

				LuaForUtil.ClearLinePrefixSymbol(arg_678_1.text_)

				local var_681_5 = 18
				local var_681_6 = utf8.len(var_681_4)
				local var_681_7 = var_681_5 <= 0 and var_681_1 or var_681_1 * (var_681_6 / var_681_5)

				if var_681_7 > 0 and var_681_1 < var_681_7 then
					arg_678_1.talkMaxDuration = var_681_7

					if var_681_7 + var_681_0 > arg_678_1.duration_ then
						arg_678_1.duration_ = var_681_7 + var_681_0
					end
				end

				arg_678_1.text_.text = var_681_4
				arg_678_1.typewritter.percent = 0

				arg_678_1.typewritter:SetDirty()
				arg_678_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121158", "story_v_out_411121.awb") ~= 0 then
					local var_681_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121158", "story_v_out_411121.awb") / 1000

					if var_681_8 + var_681_0 > arg_678_1.duration_ then
						arg_678_1.duration_ = var_681_8 + var_681_0
					end

					if var_681_3.prefab_name ~= "" and arg_678_1.actors_[var_681_3.prefab_name] ~= nil then
						local var_681_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_678_1.actors_[var_681_3.prefab_name].transform, "story_v_out_411121", "411121158", "story_v_out_411121.awb")

						arg_678_1:RecordAudio("411121158", var_681_9)
						arg_678_1:RecordAudio("411121158", var_681_9)
					else
						arg_678_1:AudioAction("play", "voice", "story_v_out_411121", "411121158", "story_v_out_411121.awb")
					end

					arg_678_1:RecordHistoryTalkVoice("story_v_out_411121", "411121158", "story_v_out_411121.awb")
				end

				arg_678_1:RecordContent(arg_678_1.text_.text)
			end

			local var_681_10 = math.max(var_681_1, arg_678_1.talkMaxDuration)

			if var_681_0 <= arg_678_1.time_ and arg_678_1.time_ < var_681_0 + var_681_10 then
				arg_678_1.typewritter.percent = (arg_678_1.time_ - var_681_0) / var_681_10

				arg_678_1.typewritter:SetDirty()
			end

			if arg_678_1.time_ >= var_681_0 + var_681_10 and arg_678_1.time_ < var_681_0 + var_681_10 + arg_681_0 then
				arg_678_1.typewritter.percent = 1

				arg_678_1.typewritter:SetDirty()
				arg_678_1:ShowNextGo(true)
			end
		end
	end,
	Play411121159 = function(arg_682_0, arg_682_1)
		arg_682_1.time_ = 0
		arg_682_1.frameCnt_ = 0
		arg_682_1.state_ = "playing"
		arg_682_1.curTalkId_ = 411121159
		arg_682_1.duration_ = 8.5

		local var_682_0 = {
			zh = 8.5,
			ja = 8.366
		}
		local var_682_1 = manager.audio:GetLocalizationFlag()

		if var_682_0[var_682_1] ~= nil then
			arg_682_1.duration_ = var_682_0[var_682_1]
		end

		SetActive(arg_682_1.tipsGo_, false)

		function arg_682_1.onSingleLineFinish_()
			arg_682_1.onSingleLineUpdate_ = nil
			arg_682_1.onSingleLineFinish_ = nil
			arg_682_1.state_ = "waiting"
		end

		function arg_682_1.playNext_(arg_684_0)
			if arg_684_0 == 1 then
				arg_682_0:Play411121160(arg_682_1)
			end
		end

		function arg_682_1.onSingleLineUpdate_(arg_685_0)
			local var_685_0 = 0
			local var_685_1 = 0.825

			if var_685_0 < arg_682_1.time_ and arg_682_1.time_ <= var_685_0 + arg_685_0 then
				arg_682_1.talkMaxDuration = 0
				arg_682_1.dialogCg_.alpha = 1

				arg_682_1.dialog_:SetActive(true)
				SetActive(arg_682_1.leftNameGo_, true)

				local var_685_2 = arg_682_1:FormatText(StoryNameCfg[670].name)

				arg_682_1.leftNameTxt_.text = var_685_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_682_1.leftNameTxt_.transform)

				arg_682_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_682_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_682_1:RecordName(arg_682_1.leftNameTxt_.text)
				SetActive(arg_682_1.iconTrs_.gameObject, true)
				arg_682_1.iconController_:SetSelectedState("hero")

				arg_682_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_682_1.callingController_:SetSelectedState("normal")

				arg_682_1.keyicon_.color = Color.New(1, 1, 1)
				arg_682_1.icon_.color = Color.New(1, 1, 1)

				local var_685_3 = arg_682_1:GetWordFromCfg(411121159)
				local var_685_4 = arg_682_1:FormatText(var_685_3.content)

				arg_682_1.text_.text = var_685_4

				LuaForUtil.ClearLinePrefixSymbol(arg_682_1.text_)

				local var_685_5 = 33
				local var_685_6 = utf8.len(var_685_4)
				local var_685_7 = var_685_5 <= 0 and var_685_1 or var_685_1 * (var_685_6 / var_685_5)

				if var_685_7 > 0 and var_685_1 < var_685_7 then
					arg_682_1.talkMaxDuration = var_685_7

					if var_685_7 + var_685_0 > arg_682_1.duration_ then
						arg_682_1.duration_ = var_685_7 + var_685_0
					end
				end

				arg_682_1.text_.text = var_685_4
				arg_682_1.typewritter.percent = 0

				arg_682_1.typewritter:SetDirty()
				arg_682_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121159", "story_v_out_411121.awb") ~= 0 then
					local var_685_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121159", "story_v_out_411121.awb") / 1000

					if var_685_8 + var_685_0 > arg_682_1.duration_ then
						arg_682_1.duration_ = var_685_8 + var_685_0
					end

					if var_685_3.prefab_name ~= "" and arg_682_1.actors_[var_685_3.prefab_name] ~= nil then
						local var_685_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_682_1.actors_[var_685_3.prefab_name].transform, "story_v_out_411121", "411121159", "story_v_out_411121.awb")

						arg_682_1:RecordAudio("411121159", var_685_9)
						arg_682_1:RecordAudio("411121159", var_685_9)
					else
						arg_682_1:AudioAction("play", "voice", "story_v_out_411121", "411121159", "story_v_out_411121.awb")
					end

					arg_682_1:RecordHistoryTalkVoice("story_v_out_411121", "411121159", "story_v_out_411121.awb")
				end

				arg_682_1:RecordContent(arg_682_1.text_.text)
			end

			local var_685_10 = math.max(var_685_1, arg_682_1.talkMaxDuration)

			if var_685_0 <= arg_682_1.time_ and arg_682_1.time_ < var_685_0 + var_685_10 then
				arg_682_1.typewritter.percent = (arg_682_1.time_ - var_685_0) / var_685_10

				arg_682_1.typewritter:SetDirty()
			end

			if arg_682_1.time_ >= var_685_0 + var_685_10 and arg_682_1.time_ < var_685_0 + var_685_10 + arg_685_0 then
				arg_682_1.typewritter.percent = 1

				arg_682_1.typewritter:SetDirty()
				arg_682_1:ShowNextGo(true)
			end
		end
	end,
	Play411121160 = function(arg_686_0, arg_686_1)
		arg_686_1.time_ = 0
		arg_686_1.frameCnt_ = 0
		arg_686_1.state_ = "playing"
		arg_686_1.curTalkId_ = 411121160
		arg_686_1.duration_ = 8.43

		local var_686_0 = {
			zh = 8.433,
			ja = 4.933
		}
		local var_686_1 = manager.audio:GetLocalizationFlag()

		if var_686_0[var_686_1] ~= nil then
			arg_686_1.duration_ = var_686_0[var_686_1]
		end

		SetActive(arg_686_1.tipsGo_, false)

		function arg_686_1.onSingleLineFinish_()
			arg_686_1.onSingleLineUpdate_ = nil
			arg_686_1.onSingleLineFinish_ = nil
			arg_686_1.state_ = "waiting"
		end

		function arg_686_1.playNext_(arg_688_0)
			if arg_688_0 == 1 then
				arg_686_0:Play411121161(arg_686_1)
			end
		end

		function arg_686_1.onSingleLineUpdate_(arg_689_0)
			local var_689_0 = 0
			local var_689_1 = 0.525

			if var_689_0 < arg_686_1.time_ and arg_686_1.time_ <= var_689_0 + arg_689_0 then
				arg_686_1.talkMaxDuration = 0
				arg_686_1.dialogCg_.alpha = 1

				arg_686_1.dialog_:SetActive(true)
				SetActive(arg_686_1.leftNameGo_, true)

				local var_689_2 = arg_686_1:FormatText(StoryNameCfg[670].name)

				arg_686_1.leftNameTxt_.text = var_689_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_686_1.leftNameTxt_.transform)

				arg_686_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_686_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_686_1:RecordName(arg_686_1.leftNameTxt_.text)
				SetActive(arg_686_1.iconTrs_.gameObject, true)
				arg_686_1.iconController_:SetSelectedState("hero")

				arg_686_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_686_1.callingController_:SetSelectedState("normal")

				arg_686_1.keyicon_.color = Color.New(1, 1, 1)
				arg_686_1.icon_.color = Color.New(1, 1, 1)

				local var_689_3 = arg_686_1:GetWordFromCfg(411121160)
				local var_689_4 = arg_686_1:FormatText(var_689_3.content)

				arg_686_1.text_.text = var_689_4

				LuaForUtil.ClearLinePrefixSymbol(arg_686_1.text_)

				local var_689_5 = 21
				local var_689_6 = utf8.len(var_689_4)
				local var_689_7 = var_689_5 <= 0 and var_689_1 or var_689_1 * (var_689_6 / var_689_5)

				if var_689_7 > 0 and var_689_1 < var_689_7 then
					arg_686_1.talkMaxDuration = var_689_7

					if var_689_7 + var_689_0 > arg_686_1.duration_ then
						arg_686_1.duration_ = var_689_7 + var_689_0
					end
				end

				arg_686_1.text_.text = var_689_4
				arg_686_1.typewritter.percent = 0

				arg_686_1.typewritter:SetDirty()
				arg_686_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121160", "story_v_out_411121.awb") ~= 0 then
					local var_689_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121160", "story_v_out_411121.awb") / 1000

					if var_689_8 + var_689_0 > arg_686_1.duration_ then
						arg_686_1.duration_ = var_689_8 + var_689_0
					end

					if var_689_3.prefab_name ~= "" and arg_686_1.actors_[var_689_3.prefab_name] ~= nil then
						local var_689_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_686_1.actors_[var_689_3.prefab_name].transform, "story_v_out_411121", "411121160", "story_v_out_411121.awb")

						arg_686_1:RecordAudio("411121160", var_689_9)
						arg_686_1:RecordAudio("411121160", var_689_9)
					else
						arg_686_1:AudioAction("play", "voice", "story_v_out_411121", "411121160", "story_v_out_411121.awb")
					end

					arg_686_1:RecordHistoryTalkVoice("story_v_out_411121", "411121160", "story_v_out_411121.awb")
				end

				arg_686_1:RecordContent(arg_686_1.text_.text)
			end

			local var_689_10 = math.max(var_689_1, arg_686_1.talkMaxDuration)

			if var_689_0 <= arg_686_1.time_ and arg_686_1.time_ < var_689_0 + var_689_10 then
				arg_686_1.typewritter.percent = (arg_686_1.time_ - var_689_0) / var_689_10

				arg_686_1.typewritter:SetDirty()
			end

			if arg_686_1.time_ >= var_689_0 + var_689_10 and arg_686_1.time_ < var_689_0 + var_689_10 + arg_689_0 then
				arg_686_1.typewritter.percent = 1

				arg_686_1.typewritter:SetDirty()
				arg_686_1:ShowNextGo(true)
			end
		end
	end,
	Play411121161 = function(arg_690_0, arg_690_1)
		arg_690_1.time_ = 0
		arg_690_1.frameCnt_ = 0
		arg_690_1.state_ = "playing"
		arg_690_1.curTalkId_ = 411121161
		arg_690_1.duration_ = 5.5

		local var_690_0 = {
			zh = 4.766,
			ja = 5.5
		}
		local var_690_1 = manager.audio:GetLocalizationFlag()

		if var_690_0[var_690_1] ~= nil then
			arg_690_1.duration_ = var_690_0[var_690_1]
		end

		SetActive(arg_690_1.tipsGo_, false)

		function arg_690_1.onSingleLineFinish_()
			arg_690_1.onSingleLineUpdate_ = nil
			arg_690_1.onSingleLineFinish_ = nil
			arg_690_1.state_ = "waiting"
		end

		function arg_690_1.playNext_(arg_692_0)
			if arg_692_0 == 1 then
				arg_690_0:Play411121162(arg_690_1)
			end
		end

		function arg_690_1.onSingleLineUpdate_(arg_693_0)
			local var_693_0 = arg_690_1.actors_["10014ui_story"]
			local var_693_1 = 0

			if var_693_1 < arg_690_1.time_ and arg_690_1.time_ <= var_693_1 + arg_693_0 and not isNil(var_693_0) and arg_690_1.var_.characterEffect10014ui_story == nil then
				arg_690_1.var_.characterEffect10014ui_story = var_693_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_693_2 = 0.200000002980232

			if var_693_1 <= arg_690_1.time_ and arg_690_1.time_ < var_693_1 + var_693_2 and not isNil(var_693_0) then
				local var_693_3 = (arg_690_1.time_ - var_693_1) / var_693_2

				if arg_690_1.var_.characterEffect10014ui_story and not isNil(var_693_0) then
					arg_690_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_690_1.time_ >= var_693_1 + var_693_2 and arg_690_1.time_ < var_693_1 + var_693_2 + arg_693_0 and not isNil(var_693_0) and arg_690_1.var_.characterEffect10014ui_story then
				arg_690_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_693_4 = 0
			local var_693_5 = 0.35

			if var_693_4 < arg_690_1.time_ and arg_690_1.time_ <= var_693_4 + arg_693_0 then
				arg_690_1.talkMaxDuration = 0
				arg_690_1.dialogCg_.alpha = 1

				arg_690_1.dialog_:SetActive(true)
				SetActive(arg_690_1.leftNameGo_, true)

				local var_693_6 = arg_690_1:FormatText(StoryNameCfg[264].name)

				arg_690_1.leftNameTxt_.text = var_693_6

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_690_1.leftNameTxt_.transform)

				arg_690_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_690_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_690_1:RecordName(arg_690_1.leftNameTxt_.text)
				SetActive(arg_690_1.iconTrs_.gameObject, false)
				arg_690_1.callingController_:SetSelectedState("normal")

				local var_693_7 = arg_690_1:GetWordFromCfg(411121161)
				local var_693_8 = arg_690_1:FormatText(var_693_7.content)

				arg_690_1.text_.text = var_693_8

				LuaForUtil.ClearLinePrefixSymbol(arg_690_1.text_)

				local var_693_9 = 14
				local var_693_10 = utf8.len(var_693_8)
				local var_693_11 = var_693_9 <= 0 and var_693_5 or var_693_5 * (var_693_10 / var_693_9)

				if var_693_11 > 0 and var_693_5 < var_693_11 then
					arg_690_1.talkMaxDuration = var_693_11

					if var_693_11 + var_693_4 > arg_690_1.duration_ then
						arg_690_1.duration_ = var_693_11 + var_693_4
					end
				end

				arg_690_1.text_.text = var_693_8
				arg_690_1.typewritter.percent = 0

				arg_690_1.typewritter:SetDirty()
				arg_690_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121161", "story_v_out_411121.awb") ~= 0 then
					local var_693_12 = manager.audio:GetVoiceLength("story_v_out_411121", "411121161", "story_v_out_411121.awb") / 1000

					if var_693_12 + var_693_4 > arg_690_1.duration_ then
						arg_690_1.duration_ = var_693_12 + var_693_4
					end

					if var_693_7.prefab_name ~= "" and arg_690_1.actors_[var_693_7.prefab_name] ~= nil then
						local var_693_13 = LuaForUtil.PlayVoiceWithCriLipsync(arg_690_1.actors_[var_693_7.prefab_name].transform, "story_v_out_411121", "411121161", "story_v_out_411121.awb")

						arg_690_1:RecordAudio("411121161", var_693_13)
						arg_690_1:RecordAudio("411121161", var_693_13)
					else
						arg_690_1:AudioAction("play", "voice", "story_v_out_411121", "411121161", "story_v_out_411121.awb")
					end

					arg_690_1:RecordHistoryTalkVoice("story_v_out_411121", "411121161", "story_v_out_411121.awb")
				end

				arg_690_1:RecordContent(arg_690_1.text_.text)
			end

			local var_693_14 = math.max(var_693_5, arg_690_1.talkMaxDuration)

			if var_693_4 <= arg_690_1.time_ and arg_690_1.time_ < var_693_4 + var_693_14 then
				arg_690_1.typewritter.percent = (arg_690_1.time_ - var_693_4) / var_693_14

				arg_690_1.typewritter:SetDirty()
			end

			if arg_690_1.time_ >= var_693_4 + var_693_14 and arg_690_1.time_ < var_693_4 + var_693_14 + arg_693_0 then
				arg_690_1.typewritter.percent = 1

				arg_690_1.typewritter:SetDirty()
				arg_690_1:ShowNextGo(true)
			end
		end
	end,
	Play411121162 = function(arg_694_0, arg_694_1)
		arg_694_1.time_ = 0
		arg_694_1.frameCnt_ = 0
		arg_694_1.state_ = "playing"
		arg_694_1.curTalkId_ = 411121162
		arg_694_1.duration_ = 6.7

		local var_694_0 = {
			zh = 6.7,
			ja = 5.433
		}
		local var_694_1 = manager.audio:GetLocalizationFlag()

		if var_694_0[var_694_1] ~= nil then
			arg_694_1.duration_ = var_694_0[var_694_1]
		end

		SetActive(arg_694_1.tipsGo_, false)

		function arg_694_1.onSingleLineFinish_()
			arg_694_1.onSingleLineUpdate_ = nil
			arg_694_1.onSingleLineFinish_ = nil
			arg_694_1.state_ = "waiting"
		end

		function arg_694_1.playNext_(arg_696_0)
			if arg_696_0 == 1 then
				arg_694_0:Play411121163(arg_694_1)
			end
		end

		function arg_694_1.onSingleLineUpdate_(arg_697_0)
			local var_697_0 = arg_694_1.actors_["10014ui_story"].transform
			local var_697_1 = 0

			if var_697_1 < arg_694_1.time_ and arg_694_1.time_ <= var_697_1 + arg_697_0 then
				arg_694_1.var_.moveOldPos10014ui_story = var_697_0.localPosition
			end

			local var_697_2 = 0.001

			if var_697_1 <= arg_694_1.time_ and arg_694_1.time_ < var_697_1 + var_697_2 then
				local var_697_3 = (arg_694_1.time_ - var_697_1) / var_697_2
				local var_697_4 = Vector3.New(0, -1.06, -6.2)

				var_697_0.localPosition = Vector3.Lerp(arg_694_1.var_.moveOldPos10014ui_story, var_697_4, var_697_3)

				local var_697_5 = manager.ui.mainCamera.transform.position - var_697_0.position

				var_697_0.forward = Vector3.New(var_697_5.x, var_697_5.y, var_697_5.z)

				local var_697_6 = var_697_0.localEulerAngles

				var_697_6.z = 0
				var_697_6.x = 0
				var_697_0.localEulerAngles = var_697_6
			end

			if arg_694_1.time_ >= var_697_1 + var_697_2 and arg_694_1.time_ < var_697_1 + var_697_2 + arg_697_0 then
				var_697_0.localPosition = Vector3.New(0, -1.06, -6.2)

				local var_697_7 = manager.ui.mainCamera.transform.position - var_697_0.position

				var_697_0.forward = Vector3.New(var_697_7.x, var_697_7.y, var_697_7.z)

				local var_697_8 = var_697_0.localEulerAngles

				var_697_8.z = 0
				var_697_8.x = 0
				var_697_0.localEulerAngles = var_697_8
			end

			local var_697_9 = arg_694_1.actors_["10014ui_story"]
			local var_697_10 = 0

			if var_697_10 < arg_694_1.time_ and arg_694_1.time_ <= var_697_10 + arg_697_0 and not isNil(var_697_9) and arg_694_1.var_.characterEffect10014ui_story == nil then
				arg_694_1.var_.characterEffect10014ui_story = var_697_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_697_11 = 0.200000002980232

			if var_697_10 <= arg_694_1.time_ and arg_694_1.time_ < var_697_10 + var_697_11 and not isNil(var_697_9) then
				local var_697_12 = (arg_694_1.time_ - var_697_10) / var_697_11

				if arg_694_1.var_.characterEffect10014ui_story and not isNil(var_697_9) then
					arg_694_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_694_1.time_ >= var_697_10 + var_697_11 and arg_694_1.time_ < var_697_10 + var_697_11 + arg_697_0 and not isNil(var_697_9) and arg_694_1.var_.characterEffect10014ui_story then
				arg_694_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_697_13 = 0

			if var_697_13 < arg_694_1.time_ and arg_694_1.time_ <= var_697_13 + arg_697_0 then
				arg_694_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action5_1")
			end

			local var_697_14 = 0

			if var_697_14 < arg_694_1.time_ and arg_694_1.time_ <= var_697_14 + arg_697_0 then
				arg_694_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_697_15 = 0
			local var_697_16 = 0.675

			if var_697_15 < arg_694_1.time_ and arg_694_1.time_ <= var_697_15 + arg_697_0 then
				arg_694_1.talkMaxDuration = 0
				arg_694_1.dialogCg_.alpha = 1

				arg_694_1.dialog_:SetActive(true)
				SetActive(arg_694_1.leftNameGo_, true)

				local var_697_17 = arg_694_1:FormatText(StoryNameCfg[264].name)

				arg_694_1.leftNameTxt_.text = var_697_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_694_1.leftNameTxt_.transform)

				arg_694_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_694_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_694_1:RecordName(arg_694_1.leftNameTxt_.text)
				SetActive(arg_694_1.iconTrs_.gameObject, false)
				arg_694_1.callingController_:SetSelectedState("normal")

				local var_697_18 = arg_694_1:GetWordFromCfg(411121162)
				local var_697_19 = arg_694_1:FormatText(var_697_18.content)

				arg_694_1.text_.text = var_697_19

				LuaForUtil.ClearLinePrefixSymbol(arg_694_1.text_)

				local var_697_20 = 27
				local var_697_21 = utf8.len(var_697_19)
				local var_697_22 = var_697_20 <= 0 and var_697_16 or var_697_16 * (var_697_21 / var_697_20)

				if var_697_22 > 0 and var_697_16 < var_697_22 then
					arg_694_1.talkMaxDuration = var_697_22

					if var_697_22 + var_697_15 > arg_694_1.duration_ then
						arg_694_1.duration_ = var_697_22 + var_697_15
					end
				end

				arg_694_1.text_.text = var_697_19
				arg_694_1.typewritter.percent = 0

				arg_694_1.typewritter:SetDirty()
				arg_694_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121162", "story_v_out_411121.awb") ~= 0 then
					local var_697_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121162", "story_v_out_411121.awb") / 1000

					if var_697_23 + var_697_15 > arg_694_1.duration_ then
						arg_694_1.duration_ = var_697_23 + var_697_15
					end

					if var_697_18.prefab_name ~= "" and arg_694_1.actors_[var_697_18.prefab_name] ~= nil then
						local var_697_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_694_1.actors_[var_697_18.prefab_name].transform, "story_v_out_411121", "411121162", "story_v_out_411121.awb")

						arg_694_1:RecordAudio("411121162", var_697_24)
						arg_694_1:RecordAudio("411121162", var_697_24)
					else
						arg_694_1:AudioAction("play", "voice", "story_v_out_411121", "411121162", "story_v_out_411121.awb")
					end

					arg_694_1:RecordHistoryTalkVoice("story_v_out_411121", "411121162", "story_v_out_411121.awb")
				end

				arg_694_1:RecordContent(arg_694_1.text_.text)
			end

			local var_697_25 = math.max(var_697_16, arg_694_1.talkMaxDuration)

			if var_697_15 <= arg_694_1.time_ and arg_694_1.time_ < var_697_15 + var_697_25 then
				arg_694_1.typewritter.percent = (arg_694_1.time_ - var_697_15) / var_697_25

				arg_694_1.typewritter:SetDirty()
			end

			if arg_694_1.time_ >= var_697_15 + var_697_25 and arg_694_1.time_ < var_697_15 + var_697_25 + arg_697_0 then
				arg_694_1.typewritter.percent = 1

				arg_694_1.typewritter:SetDirty()
				arg_694_1:ShowNextGo(true)
			end
		end
	end,
	Play411121163 = function(arg_698_0, arg_698_1)
		arg_698_1.time_ = 0
		arg_698_1.frameCnt_ = 0
		arg_698_1.state_ = "playing"
		arg_698_1.curTalkId_ = 411121163
		arg_698_1.duration_ = 4.5

		local var_698_0 = {
			zh = 2.1,
			ja = 4.5
		}
		local var_698_1 = manager.audio:GetLocalizationFlag()

		if var_698_0[var_698_1] ~= nil then
			arg_698_1.duration_ = var_698_0[var_698_1]
		end

		SetActive(arg_698_1.tipsGo_, false)

		function arg_698_1.onSingleLineFinish_()
			arg_698_1.onSingleLineUpdate_ = nil
			arg_698_1.onSingleLineFinish_ = nil
			arg_698_1.state_ = "waiting"
		end

		function arg_698_1.playNext_(arg_700_0)
			if arg_700_0 == 1 then
				arg_698_0:Play411121164(arg_698_1)
			end
		end

		function arg_698_1.onSingleLineUpdate_(arg_701_0)
			local var_701_0 = 0
			local var_701_1 = 0.275

			if var_701_0 < arg_698_1.time_ and arg_698_1.time_ <= var_701_0 + arg_701_0 then
				arg_698_1.talkMaxDuration = 0
				arg_698_1.dialogCg_.alpha = 1

				arg_698_1.dialog_:SetActive(true)
				SetActive(arg_698_1.leftNameGo_, true)

				local var_701_2 = arg_698_1:FormatText(StoryNameCfg[264].name)

				arg_698_1.leftNameTxt_.text = var_701_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_698_1.leftNameTxt_.transform)

				arg_698_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_698_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_698_1:RecordName(arg_698_1.leftNameTxt_.text)
				SetActive(arg_698_1.iconTrs_.gameObject, false)
				arg_698_1.callingController_:SetSelectedState("normal")

				local var_701_3 = arg_698_1:GetWordFromCfg(411121163)
				local var_701_4 = arg_698_1:FormatText(var_701_3.content)

				arg_698_1.text_.text = var_701_4

				LuaForUtil.ClearLinePrefixSymbol(arg_698_1.text_)

				local var_701_5 = 11
				local var_701_6 = utf8.len(var_701_4)
				local var_701_7 = var_701_5 <= 0 and var_701_1 or var_701_1 * (var_701_6 / var_701_5)

				if var_701_7 > 0 and var_701_1 < var_701_7 then
					arg_698_1.talkMaxDuration = var_701_7

					if var_701_7 + var_701_0 > arg_698_1.duration_ then
						arg_698_1.duration_ = var_701_7 + var_701_0
					end
				end

				arg_698_1.text_.text = var_701_4
				arg_698_1.typewritter.percent = 0

				arg_698_1.typewritter:SetDirty()
				arg_698_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121163", "story_v_out_411121.awb") ~= 0 then
					local var_701_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121163", "story_v_out_411121.awb") / 1000

					if var_701_8 + var_701_0 > arg_698_1.duration_ then
						arg_698_1.duration_ = var_701_8 + var_701_0
					end

					if var_701_3.prefab_name ~= "" and arg_698_1.actors_[var_701_3.prefab_name] ~= nil then
						local var_701_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_698_1.actors_[var_701_3.prefab_name].transform, "story_v_out_411121", "411121163", "story_v_out_411121.awb")

						arg_698_1:RecordAudio("411121163", var_701_9)
						arg_698_1:RecordAudio("411121163", var_701_9)
					else
						arg_698_1:AudioAction("play", "voice", "story_v_out_411121", "411121163", "story_v_out_411121.awb")
					end

					arg_698_1:RecordHistoryTalkVoice("story_v_out_411121", "411121163", "story_v_out_411121.awb")
				end

				arg_698_1:RecordContent(arg_698_1.text_.text)
			end

			local var_701_10 = math.max(var_701_1, arg_698_1.talkMaxDuration)

			if var_701_0 <= arg_698_1.time_ and arg_698_1.time_ < var_701_0 + var_701_10 then
				arg_698_1.typewritter.percent = (arg_698_1.time_ - var_701_0) / var_701_10

				arg_698_1.typewritter:SetDirty()
			end

			if arg_698_1.time_ >= var_701_0 + var_701_10 and arg_698_1.time_ < var_701_0 + var_701_10 + arg_701_0 then
				arg_698_1.typewritter.percent = 1

				arg_698_1.typewritter:SetDirty()
				arg_698_1:ShowNextGo(true)
			end
		end
	end,
	Play411121164 = function(arg_702_0, arg_702_1)
		arg_702_1.time_ = 0
		arg_702_1.frameCnt_ = 0
		arg_702_1.state_ = "playing"
		arg_702_1.curTalkId_ = 411121164
		arg_702_1.duration_ = 8.93

		SetActive(arg_702_1.tipsGo_, false)

		function arg_702_1.onSingleLineFinish_()
			arg_702_1.onSingleLineUpdate_ = nil
			arg_702_1.onSingleLineFinish_ = nil
			arg_702_1.state_ = "waiting"
		end

		function arg_702_1.playNext_(arg_704_0)
			if arg_704_0 == 1 then
				arg_702_0:Play411121165(arg_702_1)
			end
		end

		function arg_702_1.onSingleLineUpdate_(arg_705_0)
			local var_705_0 = arg_702_1.actors_["10014ui_story"].transform
			local var_705_1 = 2

			if var_705_1 < arg_702_1.time_ and arg_702_1.time_ <= var_705_1 + arg_705_0 then
				arg_702_1.var_.moveOldPos10014ui_story = var_705_0.localPosition
			end

			local var_705_2 = 0.001

			if var_705_1 <= arg_702_1.time_ and arg_702_1.time_ < var_705_1 + var_705_2 then
				local var_705_3 = (arg_702_1.time_ - var_705_1) / var_705_2
				local var_705_4 = Vector3.New(0, 100, 0)

				var_705_0.localPosition = Vector3.Lerp(arg_702_1.var_.moveOldPos10014ui_story, var_705_4, var_705_3)

				local var_705_5 = manager.ui.mainCamera.transform.position - var_705_0.position

				var_705_0.forward = Vector3.New(var_705_5.x, var_705_5.y, var_705_5.z)

				local var_705_6 = var_705_0.localEulerAngles

				var_705_6.z = 0
				var_705_6.x = 0
				var_705_0.localEulerAngles = var_705_6
			end

			if arg_702_1.time_ >= var_705_1 + var_705_2 and arg_702_1.time_ < var_705_1 + var_705_2 + arg_705_0 then
				var_705_0.localPosition = Vector3.New(0, 100, 0)

				local var_705_7 = manager.ui.mainCamera.transform.position - var_705_0.position

				var_705_0.forward = Vector3.New(var_705_7.x, var_705_7.y, var_705_7.z)

				local var_705_8 = var_705_0.localEulerAngles

				var_705_8.z = 0
				var_705_8.x = 0
				var_705_0.localEulerAngles = var_705_8
			end

			local var_705_9 = 0

			if var_705_9 < arg_702_1.time_ and arg_702_1.time_ <= var_705_9 + arg_705_0 then
				local var_705_10 = manager.ui.mainCamera.transform.localPosition
				local var_705_11 = Vector3.New(0, 0, 10) + Vector3.New(var_705_10.x, var_705_10.y, 0)
				local var_705_12 = arg_702_1.bgs_.B04f

				var_705_12.transform.localPosition = var_705_11
				var_705_12.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_705_13 = var_705_12:GetComponent("SpriteRenderer")

				if var_705_13 and var_705_13.sprite then
					local var_705_14 = (var_705_12.transform.localPosition - var_705_10).z
					local var_705_15 = manager.ui.mainCameraCom_
					local var_705_16 = 2 * var_705_14 * Mathf.Tan(var_705_15.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_705_17 = var_705_16 * var_705_15.aspect
					local var_705_18 = var_705_13.sprite.bounds.size.x
					local var_705_19 = var_705_13.sprite.bounds.size.y
					local var_705_20 = var_705_17 / var_705_18
					local var_705_21 = var_705_16 / var_705_19
					local var_705_22 = var_705_21 < var_705_20 and var_705_20 or var_705_21

					var_705_12.transform.localScale = Vector3.New(var_705_22, var_705_22, 0)
				end

				for iter_705_0, iter_705_1 in pairs(arg_702_1.bgs_) do
					if iter_705_0 ~= "B04f" then
						iter_705_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_705_23 = 2

			if var_705_23 < arg_702_1.time_ and arg_702_1.time_ <= var_705_23 + arg_705_0 then
				local var_705_24 = manager.ui.mainCamera.transform.localPosition
				local var_705_25 = Vector3.New(0, 0, 10) + Vector3.New(var_705_24.x, var_705_24.y, 0)
				local var_705_26 = arg_702_1.bgs_.B04f

				var_705_26.transform.localPosition = var_705_25
				var_705_26.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_705_27 = var_705_26:GetComponent("SpriteRenderer")

				if var_705_27 and var_705_27.sprite then
					local var_705_28 = (var_705_26.transform.localPosition - var_705_24).z
					local var_705_29 = manager.ui.mainCameraCom_
					local var_705_30 = 2 * var_705_28 * Mathf.Tan(var_705_29.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_705_31 = var_705_30 * var_705_29.aspect
					local var_705_32 = var_705_27.sprite.bounds.size.x
					local var_705_33 = var_705_27.sprite.bounds.size.y
					local var_705_34 = var_705_31 / var_705_32
					local var_705_35 = var_705_30 / var_705_33
					local var_705_36 = var_705_35 < var_705_34 and var_705_34 or var_705_35

					var_705_26.transform.localScale = Vector3.New(var_705_36, var_705_36, 0)
				end

				for iter_705_2, iter_705_3 in pairs(arg_702_1.bgs_) do
					if iter_705_2 ~= "B04f" then
						iter_705_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_705_37 = 0

			if var_705_37 < arg_702_1.time_ and arg_702_1.time_ <= var_705_37 + arg_705_0 then
				arg_702_1.mask_.enabled = true
				arg_702_1.mask_.raycastTarget = true

				arg_702_1:SetGaussion(false)
			end

			local var_705_38 = 2

			if var_705_37 <= arg_702_1.time_ and arg_702_1.time_ < var_705_37 + var_705_38 then
				local var_705_39 = (arg_702_1.time_ - var_705_37) / var_705_38
				local var_705_40 = Color.New(0, 0, 0)

				var_705_40.a = Mathf.Lerp(0, 1, var_705_39)
				arg_702_1.mask_.color = var_705_40
			end

			if arg_702_1.time_ >= var_705_37 + var_705_38 and arg_702_1.time_ < var_705_37 + var_705_38 + arg_705_0 then
				local var_705_41 = Color.New(0, 0, 0)

				var_705_41.a = 1
				arg_702_1.mask_.color = var_705_41
			end

			local var_705_42 = 2

			if var_705_42 < arg_702_1.time_ and arg_702_1.time_ <= var_705_42 + arg_705_0 then
				arg_702_1.mask_.enabled = true
				arg_702_1.mask_.raycastTarget = true

				arg_702_1:SetGaussion(false)
			end

			local var_705_43 = 2

			if var_705_42 <= arg_702_1.time_ and arg_702_1.time_ < var_705_42 + var_705_43 then
				local var_705_44 = (arg_702_1.time_ - var_705_42) / var_705_43
				local var_705_45 = Color.New(0, 0, 0)

				var_705_45.a = Mathf.Lerp(1, 0, var_705_44)
				arg_702_1.mask_.color = var_705_45
			end

			if arg_702_1.time_ >= var_705_42 + var_705_43 and arg_702_1.time_ < var_705_42 + var_705_43 + arg_705_0 then
				local var_705_46 = Color.New(0, 0, 0)
				local var_705_47 = 0

				arg_702_1.mask_.enabled = false
				var_705_46.a = var_705_47
				arg_702_1.mask_.color = var_705_46
			end

			if arg_702_1.frameCnt_ <= 1 then
				arg_702_1.dialog_:SetActive(false)
			end

			local var_705_48 = 3.93333333333333
			local var_705_49 = 0.975

			if var_705_48 < arg_702_1.time_ and arg_702_1.time_ <= var_705_48 + arg_705_0 then
				arg_702_1.talkMaxDuration = 0

				arg_702_1.dialog_:SetActive(true)

				local var_705_50 = LeanTween.value(arg_702_1.dialog_, 0, 1, 0.3)

				var_705_50:setOnUpdate(LuaHelper.FloatAction(function(arg_706_0)
					arg_702_1.dialogCg_.alpha = arg_706_0
				end))
				var_705_50:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_702_1.dialog_)
					var_705_50:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_702_1.duration_ = arg_702_1.duration_ + 0.3

				SetActive(arg_702_1.leftNameGo_, false)

				arg_702_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_702_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_702_1:RecordName(arg_702_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_702_1.iconTrs_.gameObject, false)
				arg_702_1.callingController_:SetSelectedState("normal")

				local var_705_51 = arg_702_1:GetWordFromCfg(411121164)
				local var_705_52 = arg_702_1:FormatText(var_705_51.content)

				arg_702_1.text_.text = var_705_52

				LuaForUtil.ClearLinePrefixSymbol(arg_702_1.text_)

				local var_705_53 = 39
				local var_705_54 = utf8.len(var_705_52)
				local var_705_55 = var_705_53 <= 0 and var_705_49 or var_705_49 * (var_705_54 / var_705_53)

				if var_705_55 > 0 and var_705_49 < var_705_55 then
					arg_702_1.talkMaxDuration = var_705_55
					var_705_48 = var_705_48 + 0.3

					if var_705_55 + var_705_48 > arg_702_1.duration_ then
						arg_702_1.duration_ = var_705_55 + var_705_48
					end
				end

				arg_702_1.text_.text = var_705_52
				arg_702_1.typewritter.percent = 0

				arg_702_1.typewritter:SetDirty()
				arg_702_1:ShowNextGo(false)
				arg_702_1:RecordContent(arg_702_1.text_.text)
			end

			local var_705_56 = var_705_48 + 0.3
			local var_705_57 = math.max(var_705_49, arg_702_1.talkMaxDuration)

			if var_705_56 <= arg_702_1.time_ and arg_702_1.time_ < var_705_56 + var_705_57 then
				arg_702_1.typewritter.percent = (arg_702_1.time_ - var_705_56) / var_705_57

				arg_702_1.typewritter:SetDirty()
			end

			if arg_702_1.time_ >= var_705_56 + var_705_57 and arg_702_1.time_ < var_705_56 + var_705_57 + arg_705_0 then
				arg_702_1.typewritter.percent = 1

				arg_702_1.typewritter:SetDirty()
				arg_702_1:ShowNextGo(true)
			end
		end
	end,
	Play411121165 = function(arg_708_0, arg_708_1)
		arg_708_1.time_ = 0
		arg_708_1.frameCnt_ = 0
		arg_708_1.state_ = "playing"
		arg_708_1.curTalkId_ = 411121165
		arg_708_1.duration_ = 1.43

		local var_708_0 = {
			zh = 1.433,
			ja = 0.999999999999
		}
		local var_708_1 = manager.audio:GetLocalizationFlag()

		if var_708_0[var_708_1] ~= nil then
			arg_708_1.duration_ = var_708_0[var_708_1]
		end

		SetActive(arg_708_1.tipsGo_, false)

		function arg_708_1.onSingleLineFinish_()
			arg_708_1.onSingleLineUpdate_ = nil
			arg_708_1.onSingleLineFinish_ = nil
			arg_708_1.state_ = "waiting"
		end

		function arg_708_1.playNext_(arg_710_0)
			if arg_710_0 == 1 then
				arg_708_0:Play411121166(arg_708_1)
			end
		end

		function arg_708_1.onSingleLineUpdate_(arg_711_0)
			local var_711_0 = 0
			local var_711_1 = 0.1

			if var_711_0 < arg_708_1.time_ and arg_708_1.time_ <= var_711_0 + arg_711_0 then
				arg_708_1.talkMaxDuration = 0
				arg_708_1.dialogCg_.alpha = 1

				arg_708_1.dialog_:SetActive(true)
				SetActive(arg_708_1.leftNameGo_, true)

				local var_711_2 = arg_708_1:FormatText(StoryNameCfg[670].name)

				arg_708_1.leftNameTxt_.text = var_711_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_708_1.leftNameTxt_.transform)

				arg_708_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_708_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_708_1:RecordName(arg_708_1.leftNameTxt_.text)
				SetActive(arg_708_1.iconTrs_.gameObject, true)
				arg_708_1.iconController_:SetSelectedState("hero")

				arg_708_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_708_1.callingController_:SetSelectedState("normal")

				arg_708_1.keyicon_.color = Color.New(1, 1, 1)
				arg_708_1.icon_.color = Color.New(1, 1, 1)

				local var_711_3 = arg_708_1:GetWordFromCfg(411121165)
				local var_711_4 = arg_708_1:FormatText(var_711_3.content)

				arg_708_1.text_.text = var_711_4

				LuaForUtil.ClearLinePrefixSymbol(arg_708_1.text_)

				local var_711_5 = 4
				local var_711_6 = utf8.len(var_711_4)
				local var_711_7 = var_711_5 <= 0 and var_711_1 or var_711_1 * (var_711_6 / var_711_5)

				if var_711_7 > 0 and var_711_1 < var_711_7 then
					arg_708_1.talkMaxDuration = var_711_7

					if var_711_7 + var_711_0 > arg_708_1.duration_ then
						arg_708_1.duration_ = var_711_7 + var_711_0
					end
				end

				arg_708_1.text_.text = var_711_4
				arg_708_1.typewritter.percent = 0

				arg_708_1.typewritter:SetDirty()
				arg_708_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121165", "story_v_out_411121.awb") ~= 0 then
					local var_711_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121165", "story_v_out_411121.awb") / 1000

					if var_711_8 + var_711_0 > arg_708_1.duration_ then
						arg_708_1.duration_ = var_711_8 + var_711_0
					end

					if var_711_3.prefab_name ~= "" and arg_708_1.actors_[var_711_3.prefab_name] ~= nil then
						local var_711_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_708_1.actors_[var_711_3.prefab_name].transform, "story_v_out_411121", "411121165", "story_v_out_411121.awb")

						arg_708_1:RecordAudio("411121165", var_711_9)
						arg_708_1:RecordAudio("411121165", var_711_9)
					else
						arg_708_1:AudioAction("play", "voice", "story_v_out_411121", "411121165", "story_v_out_411121.awb")
					end

					arg_708_1:RecordHistoryTalkVoice("story_v_out_411121", "411121165", "story_v_out_411121.awb")
				end

				arg_708_1:RecordContent(arg_708_1.text_.text)
			end

			local var_711_10 = math.max(var_711_1, arg_708_1.talkMaxDuration)

			if var_711_0 <= arg_708_1.time_ and arg_708_1.time_ < var_711_0 + var_711_10 then
				arg_708_1.typewritter.percent = (arg_708_1.time_ - var_711_0) / var_711_10

				arg_708_1.typewritter:SetDirty()
			end

			if arg_708_1.time_ >= var_711_0 + var_711_10 and arg_708_1.time_ < var_711_0 + var_711_10 + arg_711_0 then
				arg_708_1.typewritter.percent = 1

				arg_708_1.typewritter:SetDirty()
				arg_708_1:ShowNextGo(true)
			end
		end
	end,
	Play411121166 = function(arg_712_0, arg_712_1)
		arg_712_1.time_ = 0
		arg_712_1.frameCnt_ = 0
		arg_712_1.state_ = "playing"
		arg_712_1.curTalkId_ = 411121166
		arg_712_1.duration_ = 7.03

		local var_712_0 = {
			zh = 3.966,
			ja = 7.033
		}
		local var_712_1 = manager.audio:GetLocalizationFlag()

		if var_712_0[var_712_1] ~= nil then
			arg_712_1.duration_ = var_712_0[var_712_1]
		end

		SetActive(arg_712_1.tipsGo_, false)

		function arg_712_1.onSingleLineFinish_()
			arg_712_1.onSingleLineUpdate_ = nil
			arg_712_1.onSingleLineFinish_ = nil
			arg_712_1.state_ = "waiting"
		end

		function arg_712_1.playNext_(arg_714_0)
			if arg_714_0 == 1 then
				arg_712_0:Play411121167(arg_712_1)
			end
		end

		function arg_712_1.onSingleLineUpdate_(arg_715_0)
			local var_715_0 = 0
			local var_715_1 = 0.225

			if var_715_0 < arg_712_1.time_ and arg_712_1.time_ <= var_715_0 + arg_715_0 then
				arg_712_1.talkMaxDuration = 0
				arg_712_1.dialogCg_.alpha = 1

				arg_712_1.dialog_:SetActive(true)
				SetActive(arg_712_1.leftNameGo_, true)

				local var_715_2 = arg_712_1:FormatText(StoryNameCfg[670].name)

				arg_712_1.leftNameTxt_.text = var_715_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_712_1.leftNameTxt_.transform)

				arg_712_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_712_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_712_1:RecordName(arg_712_1.leftNameTxt_.text)
				SetActive(arg_712_1.iconTrs_.gameObject, true)
				arg_712_1.iconController_:SetSelectedState("hero")

				arg_712_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_712_1.callingController_:SetSelectedState("normal")

				arg_712_1.keyicon_.color = Color.New(1, 1, 1)
				arg_712_1.icon_.color = Color.New(1, 1, 1)

				local var_715_3 = arg_712_1:GetWordFromCfg(411121166)
				local var_715_4 = arg_712_1:FormatText(var_715_3.content)

				arg_712_1.text_.text = var_715_4

				LuaForUtil.ClearLinePrefixSymbol(arg_712_1.text_)

				local var_715_5 = 9
				local var_715_6 = utf8.len(var_715_4)
				local var_715_7 = var_715_5 <= 0 and var_715_1 or var_715_1 * (var_715_6 / var_715_5)

				if var_715_7 > 0 and var_715_1 < var_715_7 then
					arg_712_1.talkMaxDuration = var_715_7

					if var_715_7 + var_715_0 > arg_712_1.duration_ then
						arg_712_1.duration_ = var_715_7 + var_715_0
					end
				end

				arg_712_1.text_.text = var_715_4
				arg_712_1.typewritter.percent = 0

				arg_712_1.typewritter:SetDirty()
				arg_712_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121166", "story_v_out_411121.awb") ~= 0 then
					local var_715_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121166", "story_v_out_411121.awb") / 1000

					if var_715_8 + var_715_0 > arg_712_1.duration_ then
						arg_712_1.duration_ = var_715_8 + var_715_0
					end

					if var_715_3.prefab_name ~= "" and arg_712_1.actors_[var_715_3.prefab_name] ~= nil then
						local var_715_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_712_1.actors_[var_715_3.prefab_name].transform, "story_v_out_411121", "411121166", "story_v_out_411121.awb")

						arg_712_1:RecordAudio("411121166", var_715_9)
						arg_712_1:RecordAudio("411121166", var_715_9)
					else
						arg_712_1:AudioAction("play", "voice", "story_v_out_411121", "411121166", "story_v_out_411121.awb")
					end

					arg_712_1:RecordHistoryTalkVoice("story_v_out_411121", "411121166", "story_v_out_411121.awb")
				end

				arg_712_1:RecordContent(arg_712_1.text_.text)
			end

			local var_715_10 = math.max(var_715_1, arg_712_1.talkMaxDuration)

			if var_715_0 <= arg_712_1.time_ and arg_712_1.time_ < var_715_0 + var_715_10 then
				arg_712_1.typewritter.percent = (arg_712_1.time_ - var_715_0) / var_715_10

				arg_712_1.typewritter:SetDirty()
			end

			if arg_712_1.time_ >= var_715_0 + var_715_10 and arg_712_1.time_ < var_715_0 + var_715_10 + arg_715_0 then
				arg_712_1.typewritter.percent = 1

				arg_712_1.typewritter:SetDirty()
				arg_712_1:ShowNextGo(true)
			end
		end
	end,
	Play411121167 = function(arg_716_0, arg_716_1)
		arg_716_1.time_ = 0
		arg_716_1.frameCnt_ = 0
		arg_716_1.state_ = "playing"
		arg_716_1.curTalkId_ = 411121167
		arg_716_1.duration_ = 4.33

		local var_716_0 = {
			zh = 4.333,
			ja = 3.166
		}
		local var_716_1 = manager.audio:GetLocalizationFlag()

		if var_716_0[var_716_1] ~= nil then
			arg_716_1.duration_ = var_716_0[var_716_1]
		end

		SetActive(arg_716_1.tipsGo_, false)

		function arg_716_1.onSingleLineFinish_()
			arg_716_1.onSingleLineUpdate_ = nil
			arg_716_1.onSingleLineFinish_ = nil
			arg_716_1.state_ = "waiting"
		end

		function arg_716_1.playNext_(arg_718_0)
			if arg_718_0 == 1 then
				arg_716_0:Play411121168(arg_716_1)
			end
		end

		function arg_716_1.onSingleLineUpdate_(arg_719_0)
			local var_719_0 = 0
			local var_719_1 = 0.375

			if var_719_0 < arg_716_1.time_ and arg_716_1.time_ <= var_719_0 + arg_719_0 then
				arg_716_1.talkMaxDuration = 0
				arg_716_1.dialogCg_.alpha = 1

				arg_716_1.dialog_:SetActive(true)
				SetActive(arg_716_1.leftNameGo_, true)

				local var_719_2 = arg_716_1:FormatText(StoryNameCfg[670].name)

				arg_716_1.leftNameTxt_.text = var_719_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_716_1.leftNameTxt_.transform)

				arg_716_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_716_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_716_1:RecordName(arg_716_1.leftNameTxt_.text)
				SetActive(arg_716_1.iconTrs_.gameObject, true)
				arg_716_1.iconController_:SetSelectedState("hero")

				arg_716_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_716_1.callingController_:SetSelectedState("normal")

				arg_716_1.keyicon_.color = Color.New(1, 1, 1)
				arg_716_1.icon_.color = Color.New(1, 1, 1)

				local var_719_3 = arg_716_1:GetWordFromCfg(411121167)
				local var_719_4 = arg_716_1:FormatText(var_719_3.content)

				arg_716_1.text_.text = var_719_4

				LuaForUtil.ClearLinePrefixSymbol(arg_716_1.text_)

				local var_719_5 = 15
				local var_719_6 = utf8.len(var_719_4)
				local var_719_7 = var_719_5 <= 0 and var_719_1 or var_719_1 * (var_719_6 / var_719_5)

				if var_719_7 > 0 and var_719_1 < var_719_7 then
					arg_716_1.talkMaxDuration = var_719_7

					if var_719_7 + var_719_0 > arg_716_1.duration_ then
						arg_716_1.duration_ = var_719_7 + var_719_0
					end
				end

				arg_716_1.text_.text = var_719_4
				arg_716_1.typewritter.percent = 0

				arg_716_1.typewritter:SetDirty()
				arg_716_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121167", "story_v_out_411121.awb") ~= 0 then
					local var_719_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121167", "story_v_out_411121.awb") / 1000

					if var_719_8 + var_719_0 > arg_716_1.duration_ then
						arg_716_1.duration_ = var_719_8 + var_719_0
					end

					if var_719_3.prefab_name ~= "" and arg_716_1.actors_[var_719_3.prefab_name] ~= nil then
						local var_719_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_716_1.actors_[var_719_3.prefab_name].transform, "story_v_out_411121", "411121167", "story_v_out_411121.awb")

						arg_716_1:RecordAudio("411121167", var_719_9)
						arg_716_1:RecordAudio("411121167", var_719_9)
					else
						arg_716_1:AudioAction("play", "voice", "story_v_out_411121", "411121167", "story_v_out_411121.awb")
					end

					arg_716_1:RecordHistoryTalkVoice("story_v_out_411121", "411121167", "story_v_out_411121.awb")
				end

				arg_716_1:RecordContent(arg_716_1.text_.text)
			end

			local var_719_10 = math.max(var_719_1, arg_716_1.talkMaxDuration)

			if var_719_0 <= arg_716_1.time_ and arg_716_1.time_ < var_719_0 + var_719_10 then
				arg_716_1.typewritter.percent = (arg_716_1.time_ - var_719_0) / var_719_10

				arg_716_1.typewritter:SetDirty()
			end

			if arg_716_1.time_ >= var_719_0 + var_719_10 and arg_716_1.time_ < var_719_0 + var_719_10 + arg_719_0 then
				arg_716_1.typewritter.percent = 1

				arg_716_1.typewritter:SetDirty()
				arg_716_1:ShowNextGo(true)
			end
		end
	end,
	Play411121168 = function(arg_720_0, arg_720_1)
		arg_720_1.time_ = 0
		arg_720_1.frameCnt_ = 0
		arg_720_1.state_ = "playing"
		arg_720_1.curTalkId_ = 411121168
		arg_720_1.duration_ = 6.57

		local var_720_0 = {
			zh = 6.566,
			ja = 5.8
		}
		local var_720_1 = manager.audio:GetLocalizationFlag()

		if var_720_0[var_720_1] ~= nil then
			arg_720_1.duration_ = var_720_0[var_720_1]
		end

		SetActive(arg_720_1.tipsGo_, false)

		function arg_720_1.onSingleLineFinish_()
			arg_720_1.onSingleLineUpdate_ = nil
			arg_720_1.onSingleLineFinish_ = nil
			arg_720_1.state_ = "waiting"
		end

		function arg_720_1.playNext_(arg_722_0)
			if arg_722_0 == 1 then
				arg_720_0:Play411121169(arg_720_1)
			end
		end

		function arg_720_1.onSingleLineUpdate_(arg_723_0)
			local var_723_0 = 0
			local var_723_1 = 0.325

			if var_723_0 < arg_720_1.time_ and arg_720_1.time_ <= var_723_0 + arg_723_0 then
				arg_720_1.talkMaxDuration = 0
				arg_720_1.dialogCg_.alpha = 1

				arg_720_1.dialog_:SetActive(true)
				SetActive(arg_720_1.leftNameGo_, true)

				local var_723_2 = arg_720_1:FormatText(StoryNameCfg[670].name)

				arg_720_1.leftNameTxt_.text = var_723_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_720_1.leftNameTxt_.transform)

				arg_720_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_720_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_720_1:RecordName(arg_720_1.leftNameTxt_.text)
				SetActive(arg_720_1.iconTrs_.gameObject, true)
				arg_720_1.iconController_:SetSelectedState("hero")

				arg_720_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072break")

				arg_720_1.callingController_:SetSelectedState("normal")

				arg_720_1.keyicon_.color = Color.New(1, 1, 1)
				arg_720_1.icon_.color = Color.New(1, 1, 1)

				local var_723_3 = arg_720_1:GetWordFromCfg(411121168)
				local var_723_4 = arg_720_1:FormatText(var_723_3.content)

				arg_720_1.text_.text = var_723_4

				LuaForUtil.ClearLinePrefixSymbol(arg_720_1.text_)

				local var_723_5 = 13
				local var_723_6 = utf8.len(var_723_4)
				local var_723_7 = var_723_5 <= 0 and var_723_1 or var_723_1 * (var_723_6 / var_723_5)

				if var_723_7 > 0 and var_723_1 < var_723_7 then
					arg_720_1.talkMaxDuration = var_723_7

					if var_723_7 + var_723_0 > arg_720_1.duration_ then
						arg_720_1.duration_ = var_723_7 + var_723_0
					end
				end

				arg_720_1.text_.text = var_723_4
				arg_720_1.typewritter.percent = 0

				arg_720_1.typewritter:SetDirty()
				arg_720_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121168", "story_v_out_411121.awb") ~= 0 then
					local var_723_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121168", "story_v_out_411121.awb") / 1000

					if var_723_8 + var_723_0 > arg_720_1.duration_ then
						arg_720_1.duration_ = var_723_8 + var_723_0
					end

					if var_723_3.prefab_name ~= "" and arg_720_1.actors_[var_723_3.prefab_name] ~= nil then
						local var_723_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_720_1.actors_[var_723_3.prefab_name].transform, "story_v_out_411121", "411121168", "story_v_out_411121.awb")

						arg_720_1:RecordAudio("411121168", var_723_9)
						arg_720_1:RecordAudio("411121168", var_723_9)
					else
						arg_720_1:AudioAction("play", "voice", "story_v_out_411121", "411121168", "story_v_out_411121.awb")
					end

					arg_720_1:RecordHistoryTalkVoice("story_v_out_411121", "411121168", "story_v_out_411121.awb")
				end

				arg_720_1:RecordContent(arg_720_1.text_.text)
			end

			local var_723_10 = math.max(var_723_1, arg_720_1.talkMaxDuration)

			if var_723_0 <= arg_720_1.time_ and arg_720_1.time_ < var_723_0 + var_723_10 then
				arg_720_1.typewritter.percent = (arg_720_1.time_ - var_723_0) / var_723_10

				arg_720_1.typewritter:SetDirty()
			end

			if arg_720_1.time_ >= var_723_0 + var_723_10 and arg_720_1.time_ < var_723_0 + var_723_10 + arg_723_0 then
				arg_720_1.typewritter.percent = 1

				arg_720_1.typewritter:SetDirty()
				arg_720_1:ShowNextGo(true)
			end
		end
	end,
	Play411121169 = function(arg_724_0, arg_724_1)
		arg_724_1.time_ = 0
		arg_724_1.frameCnt_ = 0
		arg_724_1.state_ = "playing"
		arg_724_1.curTalkId_ = 411121169
		arg_724_1.duration_ = 2.7

		local var_724_0 = {
			zh = 2.666,
			ja = 2.7
		}
		local var_724_1 = manager.audio:GetLocalizationFlag()

		if var_724_0[var_724_1] ~= nil then
			arg_724_1.duration_ = var_724_0[var_724_1]
		end

		SetActive(arg_724_1.tipsGo_, false)

		function arg_724_1.onSingleLineFinish_()
			arg_724_1.onSingleLineUpdate_ = nil
			arg_724_1.onSingleLineFinish_ = nil
			arg_724_1.state_ = "waiting"
		end

		function arg_724_1.playNext_(arg_726_0)
			if arg_726_0 == 1 then
				arg_724_0:Play411121170(arg_724_1)
			end
		end

		function arg_724_1.onSingleLineUpdate_(arg_727_0)
			local var_727_0 = arg_724_1.actors_["1095ui_story"].transform
			local var_727_1 = 0

			if var_727_1 < arg_724_1.time_ and arg_724_1.time_ <= var_727_1 + arg_727_0 then
				arg_724_1.var_.moveOldPos1095ui_story = var_727_0.localPosition
			end

			local var_727_2 = 0.001

			if var_727_1 <= arg_724_1.time_ and arg_724_1.time_ < var_727_1 + var_727_2 then
				local var_727_3 = (arg_724_1.time_ - var_727_1) / var_727_2
				local var_727_4 = Vector3.New(0, -0.98, -6.1)

				var_727_0.localPosition = Vector3.Lerp(arg_724_1.var_.moveOldPos1095ui_story, var_727_4, var_727_3)

				local var_727_5 = manager.ui.mainCamera.transform.position - var_727_0.position

				var_727_0.forward = Vector3.New(var_727_5.x, var_727_5.y, var_727_5.z)

				local var_727_6 = var_727_0.localEulerAngles

				var_727_6.z = 0
				var_727_6.x = 0
				var_727_0.localEulerAngles = var_727_6
			end

			if arg_724_1.time_ >= var_727_1 + var_727_2 and arg_724_1.time_ < var_727_1 + var_727_2 + arg_727_0 then
				var_727_0.localPosition = Vector3.New(0, -0.98, -6.1)

				local var_727_7 = manager.ui.mainCamera.transform.position - var_727_0.position

				var_727_0.forward = Vector3.New(var_727_7.x, var_727_7.y, var_727_7.z)

				local var_727_8 = var_727_0.localEulerAngles

				var_727_8.z = 0
				var_727_8.x = 0
				var_727_0.localEulerAngles = var_727_8
			end

			local var_727_9 = arg_724_1.actors_["1095ui_story"]
			local var_727_10 = 0

			if var_727_10 < arg_724_1.time_ and arg_724_1.time_ <= var_727_10 + arg_727_0 and not isNil(var_727_9) and arg_724_1.var_.characterEffect1095ui_story == nil then
				arg_724_1.var_.characterEffect1095ui_story = var_727_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_727_11 = 0.200000002980232

			if var_727_10 <= arg_724_1.time_ and arg_724_1.time_ < var_727_10 + var_727_11 and not isNil(var_727_9) then
				local var_727_12 = (arg_724_1.time_ - var_727_10) / var_727_11

				if arg_724_1.var_.characterEffect1095ui_story and not isNil(var_727_9) then
					arg_724_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_724_1.time_ >= var_727_10 + var_727_11 and arg_724_1.time_ < var_727_10 + var_727_11 + arg_727_0 and not isNil(var_727_9) and arg_724_1.var_.characterEffect1095ui_story then
				arg_724_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_727_13 = 0

			if var_727_13 < arg_724_1.time_ and arg_724_1.time_ <= var_727_13 + arg_727_0 then
				arg_724_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_727_14 = 0

			if var_727_14 < arg_724_1.time_ and arg_724_1.time_ <= var_727_14 + arg_727_0 then
				arg_724_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface2101cva")
			end

			local var_727_15 = 0
			local var_727_16 = 0.25

			if var_727_15 < arg_724_1.time_ and arg_724_1.time_ <= var_727_15 + arg_727_0 then
				arg_724_1.talkMaxDuration = 0
				arg_724_1.dialogCg_.alpha = 1

				arg_724_1.dialog_:SetActive(true)
				SetActive(arg_724_1.leftNameGo_, true)

				local var_727_17 = arg_724_1:FormatText(StoryNameCfg[471].name)

				arg_724_1.leftNameTxt_.text = var_727_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_724_1.leftNameTxt_.transform)

				arg_724_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_724_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_724_1:RecordName(arg_724_1.leftNameTxt_.text)
				SetActive(arg_724_1.iconTrs_.gameObject, false)
				arg_724_1.callingController_:SetSelectedState("normal")

				local var_727_18 = arg_724_1:GetWordFromCfg(411121169)
				local var_727_19 = arg_724_1:FormatText(var_727_18.content)

				arg_724_1.text_.text = var_727_19

				LuaForUtil.ClearLinePrefixSymbol(arg_724_1.text_)

				local var_727_20 = 10
				local var_727_21 = utf8.len(var_727_19)
				local var_727_22 = var_727_20 <= 0 and var_727_16 or var_727_16 * (var_727_21 / var_727_20)

				if var_727_22 > 0 and var_727_16 < var_727_22 then
					arg_724_1.talkMaxDuration = var_727_22

					if var_727_22 + var_727_15 > arg_724_1.duration_ then
						arg_724_1.duration_ = var_727_22 + var_727_15
					end
				end

				arg_724_1.text_.text = var_727_19
				arg_724_1.typewritter.percent = 0

				arg_724_1.typewritter:SetDirty()
				arg_724_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121169", "story_v_out_411121.awb") ~= 0 then
					local var_727_23 = manager.audio:GetVoiceLength("story_v_out_411121", "411121169", "story_v_out_411121.awb") / 1000

					if var_727_23 + var_727_15 > arg_724_1.duration_ then
						arg_724_1.duration_ = var_727_23 + var_727_15
					end

					if var_727_18.prefab_name ~= "" and arg_724_1.actors_[var_727_18.prefab_name] ~= nil then
						local var_727_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_724_1.actors_[var_727_18.prefab_name].transform, "story_v_out_411121", "411121169", "story_v_out_411121.awb")

						arg_724_1:RecordAudio("411121169", var_727_24)
						arg_724_1:RecordAudio("411121169", var_727_24)
					else
						arg_724_1:AudioAction("play", "voice", "story_v_out_411121", "411121169", "story_v_out_411121.awb")
					end

					arg_724_1:RecordHistoryTalkVoice("story_v_out_411121", "411121169", "story_v_out_411121.awb")
				end

				arg_724_1:RecordContent(arg_724_1.text_.text)
			end

			local var_727_25 = math.max(var_727_16, arg_724_1.talkMaxDuration)

			if var_727_15 <= arg_724_1.time_ and arg_724_1.time_ < var_727_15 + var_727_25 then
				arg_724_1.typewritter.percent = (arg_724_1.time_ - var_727_15) / var_727_25

				arg_724_1.typewritter:SetDirty()
			end

			if arg_724_1.time_ >= var_727_15 + var_727_25 and arg_724_1.time_ < var_727_15 + var_727_25 + arg_727_0 then
				arg_724_1.typewritter.percent = 1

				arg_724_1.typewritter:SetDirty()
				arg_724_1:ShowNextGo(true)
			end
		end
	end,
	Play411121170 = function(arg_728_0, arg_728_1)
		arg_728_1.time_ = 0
		arg_728_1.frameCnt_ = 0
		arg_728_1.state_ = "playing"
		arg_728_1.curTalkId_ = 411121170
		arg_728_1.duration_ = 5

		SetActive(arg_728_1.tipsGo_, false)

		function arg_728_1.onSingleLineFinish_()
			arg_728_1.onSingleLineUpdate_ = nil
			arg_728_1.onSingleLineFinish_ = nil
			arg_728_1.state_ = "waiting"
		end

		function arg_728_1.playNext_(arg_730_0)
			if arg_730_0 == 1 then
				arg_728_0:Play411121171(arg_728_1)
			end
		end

		function arg_728_1.onSingleLineUpdate_(arg_731_0)
			local var_731_0 = arg_728_1.actors_["1095ui_story"]
			local var_731_1 = 0

			if var_731_1 < arg_728_1.time_ and arg_728_1.time_ <= var_731_1 + arg_731_0 and not isNil(var_731_0) and arg_728_1.var_.characterEffect1095ui_story == nil then
				arg_728_1.var_.characterEffect1095ui_story = var_731_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_731_2 = 0.200000002980232

			if var_731_1 <= arg_728_1.time_ and arg_728_1.time_ < var_731_1 + var_731_2 and not isNil(var_731_0) then
				local var_731_3 = (arg_728_1.time_ - var_731_1) / var_731_2

				if arg_728_1.var_.characterEffect1095ui_story and not isNil(var_731_0) then
					local var_731_4 = Mathf.Lerp(0, 0.5, var_731_3)

					arg_728_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_728_1.var_.characterEffect1095ui_story.fillRatio = var_731_4
				end
			end

			if arg_728_1.time_ >= var_731_1 + var_731_2 and arg_728_1.time_ < var_731_1 + var_731_2 + arg_731_0 and not isNil(var_731_0) and arg_728_1.var_.characterEffect1095ui_story then
				local var_731_5 = 0.5

				arg_728_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_728_1.var_.characterEffect1095ui_story.fillRatio = var_731_5
			end

			local var_731_6 = 0
			local var_731_7 = 0.75

			if var_731_6 < arg_728_1.time_ and arg_728_1.time_ <= var_731_6 + arg_731_0 then
				arg_728_1.talkMaxDuration = 0
				arg_728_1.dialogCg_.alpha = 1

				arg_728_1.dialog_:SetActive(true)
				SetActive(arg_728_1.leftNameGo_, false)

				arg_728_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_728_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_728_1:RecordName(arg_728_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_728_1.iconTrs_.gameObject, false)
				arg_728_1.callingController_:SetSelectedState("normal")

				local var_731_8 = arg_728_1:GetWordFromCfg(411121170)
				local var_731_9 = arg_728_1:FormatText(var_731_8.content)

				arg_728_1.text_.text = var_731_9

				LuaForUtil.ClearLinePrefixSymbol(arg_728_1.text_)

				local var_731_10 = 30
				local var_731_11 = utf8.len(var_731_9)
				local var_731_12 = var_731_10 <= 0 and var_731_7 or var_731_7 * (var_731_11 / var_731_10)

				if var_731_12 > 0 and var_731_7 < var_731_12 then
					arg_728_1.talkMaxDuration = var_731_12

					if var_731_12 + var_731_6 > arg_728_1.duration_ then
						arg_728_1.duration_ = var_731_12 + var_731_6
					end
				end

				arg_728_1.text_.text = var_731_9
				arg_728_1.typewritter.percent = 0

				arg_728_1.typewritter:SetDirty()
				arg_728_1:ShowNextGo(false)
				arg_728_1:RecordContent(arg_728_1.text_.text)
			end

			local var_731_13 = math.max(var_731_7, arg_728_1.talkMaxDuration)

			if var_731_6 <= arg_728_1.time_ and arg_728_1.time_ < var_731_6 + var_731_13 then
				arg_728_1.typewritter.percent = (arg_728_1.time_ - var_731_6) / var_731_13

				arg_728_1.typewritter:SetDirty()
			end

			if arg_728_1.time_ >= var_731_6 + var_731_13 and arg_728_1.time_ < var_731_6 + var_731_13 + arg_731_0 then
				arg_728_1.typewritter.percent = 1

				arg_728_1.typewritter:SetDirty()
				arg_728_1:ShowNextGo(true)
			end
		end
	end,
	Play411121171 = function(arg_732_0, arg_732_1)
		arg_732_1.time_ = 0
		arg_732_1.frameCnt_ = 0
		arg_732_1.state_ = "playing"
		arg_732_1.curTalkId_ = 411121171
		arg_732_1.duration_ = 9.73

		local var_732_0 = {
			zh = 9.733,
			ja = 7.933
		}
		local var_732_1 = manager.audio:GetLocalizationFlag()

		if var_732_0[var_732_1] ~= nil then
			arg_732_1.duration_ = var_732_0[var_732_1]
		end

		SetActive(arg_732_1.tipsGo_, false)

		function arg_732_1.onSingleLineFinish_()
			arg_732_1.onSingleLineUpdate_ = nil
			arg_732_1.onSingleLineFinish_ = nil
			arg_732_1.state_ = "waiting"
		end

		function arg_732_1.playNext_(arg_734_0)
			if arg_734_0 == 1 then
				arg_732_0:Play411121172(arg_732_1)
			end
		end

		function arg_732_1.onSingleLineUpdate_(arg_735_0)
			local var_735_0 = 0

			if var_735_0 < arg_732_1.time_ and arg_732_1.time_ <= var_735_0 + arg_735_0 then
				local var_735_1 = manager.ui.mainCamera.transform.localPosition
				local var_735_2 = Vector3.New(0, 0, 10) + Vector3.New(var_735_1.x, var_735_1.y, 0)
				local var_735_3 = arg_732_1.bgs_.B04f

				var_735_3.transform.localPosition = var_735_2
				var_735_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_735_4 = var_735_3:GetComponent("SpriteRenderer")

				if var_735_4 and var_735_4.sprite then
					local var_735_5 = (var_735_3.transform.localPosition - var_735_1).z
					local var_735_6 = manager.ui.mainCameraCom_
					local var_735_7 = 2 * var_735_5 * Mathf.Tan(var_735_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_735_8 = var_735_7 * var_735_6.aspect
					local var_735_9 = var_735_4.sprite.bounds.size.x
					local var_735_10 = var_735_4.sprite.bounds.size.y
					local var_735_11 = var_735_8 / var_735_9
					local var_735_12 = var_735_7 / var_735_10
					local var_735_13 = var_735_12 < var_735_11 and var_735_11 or var_735_12

					var_735_3.transform.localScale = Vector3.New(var_735_13, var_735_13, 0)
				end

				for iter_735_0, iter_735_1 in pairs(arg_732_1.bgs_) do
					if iter_735_0 ~= "B04f" then
						iter_735_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_735_14 = 2

			if var_735_14 < arg_732_1.time_ and arg_732_1.time_ <= var_735_14 + arg_735_0 then
				local var_735_15 = manager.ui.mainCamera.transform.localPosition
				local var_735_16 = Vector3.New(0, 0, 10) + Vector3.New(var_735_15.x, var_735_15.y, 0)
				local var_735_17 = arg_732_1.bgs_.B04f

				var_735_17.transform.localPosition = var_735_16
				var_735_17.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_735_18 = var_735_17:GetComponent("SpriteRenderer")

				if var_735_18 and var_735_18.sprite then
					local var_735_19 = (var_735_17.transform.localPosition - var_735_15).z
					local var_735_20 = manager.ui.mainCameraCom_
					local var_735_21 = 2 * var_735_19 * Mathf.Tan(var_735_20.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_735_22 = var_735_21 * var_735_20.aspect
					local var_735_23 = var_735_18.sprite.bounds.size.x
					local var_735_24 = var_735_18.sprite.bounds.size.y
					local var_735_25 = var_735_22 / var_735_23
					local var_735_26 = var_735_21 / var_735_24
					local var_735_27 = var_735_26 < var_735_25 and var_735_25 or var_735_26

					var_735_17.transform.localScale = Vector3.New(var_735_27, var_735_27, 0)
				end

				for iter_735_2, iter_735_3 in pairs(arg_732_1.bgs_) do
					if iter_735_2 ~= "B04f" then
						iter_735_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_735_28 = 0

			if var_735_28 < arg_732_1.time_ and arg_732_1.time_ <= var_735_28 + arg_735_0 then
				arg_732_1.mask_.enabled = true
				arg_732_1.mask_.raycastTarget = true

				arg_732_1:SetGaussion(false)
			end

			local var_735_29 = 2

			if var_735_28 <= arg_732_1.time_ and arg_732_1.time_ < var_735_28 + var_735_29 then
				local var_735_30 = (arg_732_1.time_ - var_735_28) / var_735_29
				local var_735_31 = Color.New(0, 0, 0)

				var_735_31.a = Mathf.Lerp(0, 1, var_735_30)
				arg_732_1.mask_.color = var_735_31
			end

			if arg_732_1.time_ >= var_735_28 + var_735_29 and arg_732_1.time_ < var_735_28 + var_735_29 + arg_735_0 then
				local var_735_32 = Color.New(0, 0, 0)

				var_735_32.a = 1
				arg_732_1.mask_.color = var_735_32
			end

			local var_735_33 = 2

			if var_735_33 < arg_732_1.time_ and arg_732_1.time_ <= var_735_33 + arg_735_0 then
				arg_732_1.mask_.enabled = true
				arg_732_1.mask_.raycastTarget = true

				arg_732_1:SetGaussion(false)
			end

			local var_735_34 = 2.03400000184774

			if var_735_33 <= arg_732_1.time_ and arg_732_1.time_ < var_735_33 + var_735_34 then
				local var_735_35 = (arg_732_1.time_ - var_735_33) / var_735_34
				local var_735_36 = Color.New(0, 0, 0)

				var_735_36.a = Mathf.Lerp(1, 0, var_735_35)
				arg_732_1.mask_.color = var_735_36
			end

			if arg_732_1.time_ >= var_735_33 + var_735_34 and arg_732_1.time_ < var_735_33 + var_735_34 + arg_735_0 then
				local var_735_37 = Color.New(0, 0, 0)
				local var_735_38 = 0

				arg_732_1.mask_.enabled = false
				var_735_37.a = var_735_38
				arg_732_1.mask_.color = var_735_37
			end

			local var_735_39 = arg_732_1.actors_["1095ui_story"].transform
			local var_735_40 = 4

			if var_735_40 < arg_732_1.time_ and arg_732_1.time_ <= var_735_40 + arg_735_0 then
				arg_732_1.var_.moveOldPos1095ui_story = var_735_39.localPosition
			end

			local var_735_41 = 0.001

			if var_735_40 <= arg_732_1.time_ and arg_732_1.time_ < var_735_40 + var_735_41 then
				local var_735_42 = (arg_732_1.time_ - var_735_40) / var_735_41
				local var_735_43 = Vector3.New(0, -0.98, -6.1)

				var_735_39.localPosition = Vector3.Lerp(arg_732_1.var_.moveOldPos1095ui_story, var_735_43, var_735_42)

				local var_735_44 = manager.ui.mainCamera.transform.position - var_735_39.position

				var_735_39.forward = Vector3.New(var_735_44.x, var_735_44.y, var_735_44.z)

				local var_735_45 = var_735_39.localEulerAngles

				var_735_45.z = 0
				var_735_45.x = 0
				var_735_39.localEulerAngles = var_735_45
			end

			if arg_732_1.time_ >= var_735_40 + var_735_41 and arg_732_1.time_ < var_735_40 + var_735_41 + arg_735_0 then
				var_735_39.localPosition = Vector3.New(0, -0.98, -6.1)

				local var_735_46 = manager.ui.mainCamera.transform.position - var_735_39.position

				var_735_39.forward = Vector3.New(var_735_46.x, var_735_46.y, var_735_46.z)

				local var_735_47 = var_735_39.localEulerAngles

				var_735_47.z = 0
				var_735_47.x = 0
				var_735_39.localEulerAngles = var_735_47
			end

			local var_735_48 = arg_732_1.actors_["1095ui_story"]
			local var_735_49 = 4

			if var_735_49 < arg_732_1.time_ and arg_732_1.time_ <= var_735_49 + arg_735_0 and not isNil(var_735_48) and arg_732_1.var_.characterEffect1095ui_story == nil then
				arg_732_1.var_.characterEffect1095ui_story = var_735_48:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_735_50 = 0.200000002980232

			if var_735_49 <= arg_732_1.time_ and arg_732_1.time_ < var_735_49 + var_735_50 and not isNil(var_735_48) then
				local var_735_51 = (arg_732_1.time_ - var_735_49) / var_735_50

				if arg_732_1.var_.characterEffect1095ui_story and not isNil(var_735_48) then
					local var_735_52 = Mathf.Lerp(0, 0.5, var_735_51)

					arg_732_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_732_1.var_.characterEffect1095ui_story.fillRatio = var_735_52
				end
			end

			if arg_732_1.time_ >= var_735_49 + var_735_50 and arg_732_1.time_ < var_735_49 + var_735_50 + arg_735_0 and not isNil(var_735_48) and arg_732_1.var_.characterEffect1095ui_story then
				local var_735_53 = 0.5

				arg_732_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_732_1.var_.characterEffect1095ui_story.fillRatio = var_735_53
			end

			local var_735_54 = 4

			if var_735_54 < arg_732_1.time_ and arg_732_1.time_ <= var_735_54 + arg_735_0 then
				arg_732_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_735_55 = 4

			if var_735_55 < arg_732_1.time_ and arg_732_1.time_ <= var_735_55 + arg_735_0 then
				arg_732_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface2101cva")
			end

			local var_735_56 = arg_732_1.actors_["1095ui_story"].transform
			local var_735_57 = 2

			if var_735_57 < arg_732_1.time_ and arg_732_1.time_ <= var_735_57 + arg_735_0 then
				arg_732_1.var_.moveOldPos1095ui_story = var_735_56.localPosition
			end

			local var_735_58 = 0.001

			if var_735_57 <= arg_732_1.time_ and arg_732_1.time_ < var_735_57 + var_735_58 then
				local var_735_59 = (arg_732_1.time_ - var_735_57) / var_735_58
				local var_735_60 = Vector3.New(0, 100, 0)

				var_735_56.localPosition = Vector3.Lerp(arg_732_1.var_.moveOldPos1095ui_story, var_735_60, var_735_59)

				local var_735_61 = manager.ui.mainCamera.transform.position - var_735_56.position

				var_735_56.forward = Vector3.New(var_735_61.x, var_735_61.y, var_735_61.z)

				local var_735_62 = var_735_56.localEulerAngles

				var_735_62.z = 0
				var_735_62.x = 0
				var_735_56.localEulerAngles = var_735_62
			end

			if arg_732_1.time_ >= var_735_57 + var_735_58 and arg_732_1.time_ < var_735_57 + var_735_58 + arg_735_0 then
				var_735_56.localPosition = Vector3.New(0, 100, 0)

				local var_735_63 = manager.ui.mainCamera.transform.position - var_735_56.position

				var_735_56.forward = Vector3.New(var_735_63.x, var_735_63.y, var_735_63.z)

				local var_735_64 = var_735_56.localEulerAngles

				var_735_64.z = 0
				var_735_64.x = 0
				var_735_56.localEulerAngles = var_735_64
			end

			local var_735_65 = 0
			local var_735_66 = 1

			if var_735_65 < arg_732_1.time_ and arg_732_1.time_ <= var_735_65 + arg_735_0 then
				local var_735_67 = "stop"
				local var_735_68 = "effect"

				arg_732_1:AudioAction(var_735_67, var_735_68, "se_story_123_01", "se_story_123_01_medical", "")
			end

			if arg_732_1.frameCnt_ <= 1 then
				arg_732_1.dialog_:SetActive(false)
			end

			local var_735_69 = 4
			local var_735_70 = 0.425

			if var_735_69 < arg_732_1.time_ and arg_732_1.time_ <= var_735_69 + arg_735_0 then
				arg_732_1.talkMaxDuration = 0

				arg_732_1.dialog_:SetActive(true)

				local var_735_71 = LeanTween.value(arg_732_1.dialog_, 0, 1, 0.3)

				var_735_71:setOnUpdate(LuaHelper.FloatAction(function(arg_736_0)
					arg_732_1.dialogCg_.alpha = arg_736_0
				end))
				var_735_71:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_732_1.dialog_)
					var_735_71:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_732_1.duration_ = arg_732_1.duration_ + 0.3

				SetActive(arg_732_1.leftNameGo_, true)

				local var_735_72 = arg_732_1:FormatText(StoryNameCfg[471].name)

				arg_732_1.leftNameTxt_.text = var_735_72

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_732_1.leftNameTxt_.transform)

				arg_732_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_732_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_732_1:RecordName(arg_732_1.leftNameTxt_.text)
				SetActive(arg_732_1.iconTrs_.gameObject, false)
				arg_732_1.callingController_:SetSelectedState("normal")

				local var_735_73 = arg_732_1:GetWordFromCfg(411121171)
				local var_735_74 = arg_732_1:FormatText(var_735_73.content)

				arg_732_1.text_.text = var_735_74

				LuaForUtil.ClearLinePrefixSymbol(arg_732_1.text_)

				local var_735_75 = 17
				local var_735_76 = utf8.len(var_735_74)
				local var_735_77 = var_735_75 <= 0 and var_735_70 or var_735_70 * (var_735_76 / var_735_75)

				if var_735_77 > 0 and var_735_70 < var_735_77 then
					arg_732_1.talkMaxDuration = var_735_77
					var_735_69 = var_735_69 + 0.3

					if var_735_77 + var_735_69 > arg_732_1.duration_ then
						arg_732_1.duration_ = var_735_77 + var_735_69
					end
				end

				arg_732_1.text_.text = var_735_74
				arg_732_1.typewritter.percent = 0

				arg_732_1.typewritter:SetDirty()
				arg_732_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121171", "story_v_out_411121.awb") ~= 0 then
					local var_735_78 = manager.audio:GetVoiceLength("story_v_out_411121", "411121171", "story_v_out_411121.awb") / 1000

					if var_735_78 + var_735_69 > arg_732_1.duration_ then
						arg_732_1.duration_ = var_735_78 + var_735_69
					end

					if var_735_73.prefab_name ~= "" and arg_732_1.actors_[var_735_73.prefab_name] ~= nil then
						local var_735_79 = LuaForUtil.PlayVoiceWithCriLipsync(arg_732_1.actors_[var_735_73.prefab_name].transform, "story_v_out_411121", "411121171", "story_v_out_411121.awb")

						arg_732_1:RecordAudio("411121171", var_735_79)
						arg_732_1:RecordAudio("411121171", var_735_79)
					else
						arg_732_1:AudioAction("play", "voice", "story_v_out_411121", "411121171", "story_v_out_411121.awb")
					end

					arg_732_1:RecordHistoryTalkVoice("story_v_out_411121", "411121171", "story_v_out_411121.awb")
				end

				arg_732_1:RecordContent(arg_732_1.text_.text)
			end

			local var_735_80 = var_735_69 + 0.3
			local var_735_81 = math.max(var_735_70, arg_732_1.talkMaxDuration)

			if var_735_80 <= arg_732_1.time_ and arg_732_1.time_ < var_735_80 + var_735_81 then
				arg_732_1.typewritter.percent = (arg_732_1.time_ - var_735_80) / var_735_81

				arg_732_1.typewritter:SetDirty()
			end

			if arg_732_1.time_ >= var_735_80 + var_735_81 and arg_732_1.time_ < var_735_80 + var_735_81 + arg_735_0 then
				arg_732_1.typewritter.percent = 1

				arg_732_1.typewritter:SetDirty()
				arg_732_1:ShowNextGo(true)
			end
		end
	end,
	Play411121172 = function(arg_738_0, arg_738_1)
		arg_738_1.time_ = 0
		arg_738_1.frameCnt_ = 0
		arg_738_1.state_ = "playing"
		arg_738_1.curTalkId_ = 411121172
		arg_738_1.duration_ = 5

		SetActive(arg_738_1.tipsGo_, false)

		function arg_738_1.onSingleLineFinish_()
			arg_738_1.onSingleLineUpdate_ = nil
			arg_738_1.onSingleLineFinish_ = nil
			arg_738_1.state_ = "waiting"
		end

		function arg_738_1.playNext_(arg_740_0)
			if arg_740_0 == 1 then
				arg_738_0:Play411121173(arg_738_1)
			end
		end

		function arg_738_1.onSingleLineUpdate_(arg_741_0)
			local var_741_0 = arg_738_1.actors_["1095ui_story"]
			local var_741_1 = 0

			if var_741_1 < arg_738_1.time_ and arg_738_1.time_ <= var_741_1 + arg_741_0 and not isNil(var_741_0) and arg_738_1.var_.characterEffect1095ui_story == nil then
				arg_738_1.var_.characterEffect1095ui_story = var_741_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_741_2 = 0.200000002980232

			if var_741_1 <= arg_738_1.time_ and arg_738_1.time_ < var_741_1 + var_741_2 and not isNil(var_741_0) then
				local var_741_3 = (arg_738_1.time_ - var_741_1) / var_741_2

				if arg_738_1.var_.characterEffect1095ui_story and not isNil(var_741_0) then
					local var_741_4 = Mathf.Lerp(0, 0.5, var_741_3)

					arg_738_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_738_1.var_.characterEffect1095ui_story.fillRatio = var_741_4
				end
			end

			if arg_738_1.time_ >= var_741_1 + var_741_2 and arg_738_1.time_ < var_741_1 + var_741_2 + arg_741_0 and not isNil(var_741_0) and arg_738_1.var_.characterEffect1095ui_story then
				local var_741_5 = 0.5

				arg_738_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_738_1.var_.characterEffect1095ui_story.fillRatio = var_741_5
			end

			local var_741_6 = 0
			local var_741_7 = 1.025

			if var_741_6 < arg_738_1.time_ and arg_738_1.time_ <= var_741_6 + arg_741_0 then
				arg_738_1.talkMaxDuration = 0
				arg_738_1.dialogCg_.alpha = 1

				arg_738_1.dialog_:SetActive(true)
				SetActive(arg_738_1.leftNameGo_, false)

				arg_738_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_738_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_738_1:RecordName(arg_738_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_738_1.iconTrs_.gameObject, false)
				arg_738_1.callingController_:SetSelectedState("normal")

				local var_741_8 = arg_738_1:GetWordFromCfg(411121172)
				local var_741_9 = arg_738_1:FormatText(var_741_8.content)

				arg_738_1.text_.text = var_741_9

				LuaForUtil.ClearLinePrefixSymbol(arg_738_1.text_)

				local var_741_10 = 41
				local var_741_11 = utf8.len(var_741_9)
				local var_741_12 = var_741_10 <= 0 and var_741_7 or var_741_7 * (var_741_11 / var_741_10)

				if var_741_12 > 0 and var_741_7 < var_741_12 then
					arg_738_1.talkMaxDuration = var_741_12

					if var_741_12 + var_741_6 > arg_738_1.duration_ then
						arg_738_1.duration_ = var_741_12 + var_741_6
					end
				end

				arg_738_1.text_.text = var_741_9
				arg_738_1.typewritter.percent = 0

				arg_738_1.typewritter:SetDirty()
				arg_738_1:ShowNextGo(false)
				arg_738_1:RecordContent(arg_738_1.text_.text)
			end

			local var_741_13 = math.max(var_741_7, arg_738_1.talkMaxDuration)

			if var_741_6 <= arg_738_1.time_ and arg_738_1.time_ < var_741_6 + var_741_13 then
				arg_738_1.typewritter.percent = (arg_738_1.time_ - var_741_6) / var_741_13

				arg_738_1.typewritter:SetDirty()
			end

			if arg_738_1.time_ >= var_741_6 + var_741_13 and arg_738_1.time_ < var_741_6 + var_741_13 + arg_741_0 then
				arg_738_1.typewritter.percent = 1

				arg_738_1.typewritter:SetDirty()
				arg_738_1:ShowNextGo(true)
			end
		end
	end,
	Play411121173 = function(arg_742_0, arg_742_1)
		arg_742_1.time_ = 0
		arg_742_1.frameCnt_ = 0
		arg_742_1.state_ = "playing"
		arg_742_1.curTalkId_ = 411121173
		arg_742_1.duration_ = 3.83

		local var_742_0 = {
			zh = 3.833,
			ja = 1.433
		}
		local var_742_1 = manager.audio:GetLocalizationFlag()

		if var_742_0[var_742_1] ~= nil then
			arg_742_1.duration_ = var_742_0[var_742_1]
		end

		SetActive(arg_742_1.tipsGo_, false)

		function arg_742_1.onSingleLineFinish_()
			arg_742_1.onSingleLineUpdate_ = nil
			arg_742_1.onSingleLineFinish_ = nil
			arg_742_1.state_ = "waiting"
		end

		function arg_742_1.playNext_(arg_744_0)
			if arg_744_0 == 1 then
				arg_742_0:Play411121174(arg_742_1)
			end
		end

		function arg_742_1.onSingleLineUpdate_(arg_745_0)
			local var_745_0 = arg_742_1.actors_["1095ui_story"]
			local var_745_1 = 0

			if var_745_1 < arg_742_1.time_ and arg_742_1.time_ <= var_745_1 + arg_745_0 and not isNil(var_745_0) and arg_742_1.var_.characterEffect1095ui_story == nil then
				arg_742_1.var_.characterEffect1095ui_story = var_745_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_745_2 = 0.200000002980232

			if var_745_1 <= arg_742_1.time_ and arg_742_1.time_ < var_745_1 + var_745_2 and not isNil(var_745_0) then
				local var_745_3 = (arg_742_1.time_ - var_745_1) / var_745_2

				if arg_742_1.var_.characterEffect1095ui_story and not isNil(var_745_0) then
					arg_742_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_742_1.time_ >= var_745_1 + var_745_2 and arg_742_1.time_ < var_745_1 + var_745_2 + arg_745_0 and not isNil(var_745_0) and arg_742_1.var_.characterEffect1095ui_story then
				arg_742_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_745_4 = 0
			local var_745_5 = 0.375

			if var_745_4 < arg_742_1.time_ and arg_742_1.time_ <= var_745_4 + arg_745_0 then
				arg_742_1.talkMaxDuration = 0
				arg_742_1.dialogCg_.alpha = 1

				arg_742_1.dialog_:SetActive(true)
				SetActive(arg_742_1.leftNameGo_, true)

				local var_745_6 = arg_742_1:FormatText(StoryNameCfg[471].name)

				arg_742_1.leftNameTxt_.text = var_745_6

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_742_1.leftNameTxt_.transform)

				arg_742_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_742_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_742_1:RecordName(arg_742_1.leftNameTxt_.text)
				SetActive(arg_742_1.iconTrs_.gameObject, false)
				arg_742_1.callingController_:SetSelectedState("normal")

				local var_745_7 = arg_742_1:GetWordFromCfg(411121173)
				local var_745_8 = arg_742_1:FormatText(var_745_7.content)

				arg_742_1.text_.text = var_745_8

				LuaForUtil.ClearLinePrefixSymbol(arg_742_1.text_)

				local var_745_9 = 15
				local var_745_10 = utf8.len(var_745_8)
				local var_745_11 = var_745_9 <= 0 and var_745_5 or var_745_5 * (var_745_10 / var_745_9)

				if var_745_11 > 0 and var_745_5 < var_745_11 then
					arg_742_1.talkMaxDuration = var_745_11

					if var_745_11 + var_745_4 > arg_742_1.duration_ then
						arg_742_1.duration_ = var_745_11 + var_745_4
					end
				end

				arg_742_1.text_.text = var_745_8
				arg_742_1.typewritter.percent = 0

				arg_742_1.typewritter:SetDirty()
				arg_742_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121173", "story_v_out_411121.awb") ~= 0 then
					local var_745_12 = manager.audio:GetVoiceLength("story_v_out_411121", "411121173", "story_v_out_411121.awb") / 1000

					if var_745_12 + var_745_4 > arg_742_1.duration_ then
						arg_742_1.duration_ = var_745_12 + var_745_4
					end

					if var_745_7.prefab_name ~= "" and arg_742_1.actors_[var_745_7.prefab_name] ~= nil then
						local var_745_13 = LuaForUtil.PlayVoiceWithCriLipsync(arg_742_1.actors_[var_745_7.prefab_name].transform, "story_v_out_411121", "411121173", "story_v_out_411121.awb")

						arg_742_1:RecordAudio("411121173", var_745_13)
						arg_742_1:RecordAudio("411121173", var_745_13)
					else
						arg_742_1:AudioAction("play", "voice", "story_v_out_411121", "411121173", "story_v_out_411121.awb")
					end

					arg_742_1:RecordHistoryTalkVoice("story_v_out_411121", "411121173", "story_v_out_411121.awb")
				end

				arg_742_1:RecordContent(arg_742_1.text_.text)
			end

			local var_745_14 = math.max(var_745_5, arg_742_1.talkMaxDuration)

			if var_745_4 <= arg_742_1.time_ and arg_742_1.time_ < var_745_4 + var_745_14 then
				arg_742_1.typewritter.percent = (arg_742_1.time_ - var_745_4) / var_745_14

				arg_742_1.typewritter:SetDirty()
			end

			if arg_742_1.time_ >= var_745_4 + var_745_14 and arg_742_1.time_ < var_745_4 + var_745_14 + arg_745_0 then
				arg_742_1.typewritter.percent = 1

				arg_742_1.typewritter:SetDirty()
				arg_742_1:ShowNextGo(true)
			end
		end
	end,
	Play411121174 = function(arg_746_0, arg_746_1)
		arg_746_1.time_ = 0
		arg_746_1.frameCnt_ = 0
		arg_746_1.state_ = "playing"
		arg_746_1.curTalkId_ = 411121174
		arg_746_1.duration_ = 10.8

		local var_746_0 = {
			zh = 10.8,
			ja = 9.566
		}
		local var_746_1 = manager.audio:GetLocalizationFlag()

		if var_746_0[var_746_1] ~= nil then
			arg_746_1.duration_ = var_746_0[var_746_1]
		end

		SetActive(arg_746_1.tipsGo_, false)

		function arg_746_1.onSingleLineFinish_()
			arg_746_1.onSingleLineUpdate_ = nil
			arg_746_1.onSingleLineFinish_ = nil
			arg_746_1.state_ = "waiting"
		end

		function arg_746_1.playNext_(arg_748_0)
			if arg_748_0 == 1 then
				arg_746_0:Play411121175(arg_746_1)
			end
		end

		function arg_746_1.onSingleLineUpdate_(arg_749_0)
			local var_749_0 = arg_746_1.actors_["1095ui_story"]
			local var_749_1 = 0

			if var_749_1 < arg_746_1.time_ and arg_746_1.time_ <= var_749_1 + arg_749_0 and not isNil(var_749_0) and arg_746_1.var_.characterEffect1095ui_story == nil then
				arg_746_1.var_.characterEffect1095ui_story = var_749_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_749_2 = 0.200000002980232

			if var_749_1 <= arg_746_1.time_ and arg_746_1.time_ < var_749_1 + var_749_2 and not isNil(var_749_0) then
				local var_749_3 = (arg_746_1.time_ - var_749_1) / var_749_2

				if arg_746_1.var_.characterEffect1095ui_story and not isNil(var_749_0) then
					local var_749_4 = Mathf.Lerp(0, 0.5, var_749_3)

					arg_746_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_746_1.var_.characterEffect1095ui_story.fillRatio = var_749_4
				end
			end

			if arg_746_1.time_ >= var_749_1 + var_749_2 and arg_746_1.time_ < var_749_1 + var_749_2 + arg_749_0 and not isNil(var_749_0) and arg_746_1.var_.characterEffect1095ui_story then
				local var_749_5 = 0.5

				arg_746_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_746_1.var_.characterEffect1095ui_story.fillRatio = var_749_5
			end

			local var_749_6 = 0
			local var_749_7 = 0.85

			if var_749_6 < arg_746_1.time_ and arg_746_1.time_ <= var_749_6 + arg_749_0 then
				arg_746_1.talkMaxDuration = 0
				arg_746_1.dialogCg_.alpha = 1

				arg_746_1.dialog_:SetActive(true)
				SetActive(arg_746_1.leftNameGo_, true)

				local var_749_8 = arg_746_1:FormatText(StoryNameCfg[670].name)

				arg_746_1.leftNameTxt_.text = var_749_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_746_1.leftNameTxt_.transform)

				arg_746_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_746_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_746_1:RecordName(arg_746_1.leftNameTxt_.text)
				SetActive(arg_746_1.iconTrs_.gameObject, true)
				arg_746_1.iconController_:SetSelectedState("hero")

				arg_746_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10072")

				arg_746_1.callingController_:SetSelectedState("normal")

				arg_746_1.keyicon_.color = Color.New(1, 1, 1)
				arg_746_1.icon_.color = Color.New(1, 1, 1)

				local var_749_9 = arg_746_1:GetWordFromCfg(411121174)
				local var_749_10 = arg_746_1:FormatText(var_749_9.content)

				arg_746_1.text_.text = var_749_10

				LuaForUtil.ClearLinePrefixSymbol(arg_746_1.text_)

				local var_749_11 = 34
				local var_749_12 = utf8.len(var_749_10)
				local var_749_13 = var_749_11 <= 0 and var_749_7 or var_749_7 * (var_749_12 / var_749_11)

				if var_749_13 > 0 and var_749_7 < var_749_13 then
					arg_746_1.talkMaxDuration = var_749_13

					if var_749_13 + var_749_6 > arg_746_1.duration_ then
						arg_746_1.duration_ = var_749_13 + var_749_6
					end
				end

				arg_746_1.text_.text = var_749_10
				arg_746_1.typewritter.percent = 0

				arg_746_1.typewritter:SetDirty()
				arg_746_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121174", "story_v_out_411121.awb") ~= 0 then
					local var_749_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121174", "story_v_out_411121.awb") / 1000

					if var_749_14 + var_749_6 > arg_746_1.duration_ then
						arg_746_1.duration_ = var_749_14 + var_749_6
					end

					if var_749_9.prefab_name ~= "" and arg_746_1.actors_[var_749_9.prefab_name] ~= nil then
						local var_749_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_746_1.actors_[var_749_9.prefab_name].transform, "story_v_out_411121", "411121174", "story_v_out_411121.awb")

						arg_746_1:RecordAudio("411121174", var_749_15)
						arg_746_1:RecordAudio("411121174", var_749_15)
					else
						arg_746_1:AudioAction("play", "voice", "story_v_out_411121", "411121174", "story_v_out_411121.awb")
					end

					arg_746_1:RecordHistoryTalkVoice("story_v_out_411121", "411121174", "story_v_out_411121.awb")
				end

				arg_746_1:RecordContent(arg_746_1.text_.text)
			end

			local var_749_16 = math.max(var_749_7, arg_746_1.talkMaxDuration)

			if var_749_6 <= arg_746_1.time_ and arg_746_1.time_ < var_749_6 + var_749_16 then
				arg_746_1.typewritter.percent = (arg_746_1.time_ - var_749_6) / var_749_16

				arg_746_1.typewritter:SetDirty()
			end

			if arg_746_1.time_ >= var_749_6 + var_749_16 and arg_746_1.time_ < var_749_6 + var_749_16 + arg_749_0 then
				arg_746_1.typewritter.percent = 1

				arg_746_1.typewritter:SetDirty()
				arg_746_1:ShowNextGo(true)
			end
		end
	end,
	Play411121175 = function(arg_750_0, arg_750_1)
		arg_750_1.time_ = 0
		arg_750_1.frameCnt_ = 0
		arg_750_1.state_ = "playing"
		arg_750_1.curTalkId_ = 411121175
		arg_750_1.duration_ = 9.03

		SetActive(arg_750_1.tipsGo_, false)

		function arg_750_1.onSingleLineFinish_()
			arg_750_1.onSingleLineUpdate_ = nil
			arg_750_1.onSingleLineFinish_ = nil
			arg_750_1.state_ = "waiting"
		end

		function arg_750_1.playNext_(arg_752_0)
			if arg_752_0 == 1 then
				arg_750_0:Play411121176(arg_750_1)
			end
		end

		function arg_750_1.onSingleLineUpdate_(arg_753_0)
			local var_753_0 = arg_750_1.actors_["1095ui_story"].transform
			local var_753_1 = 2

			if var_753_1 < arg_750_1.time_ and arg_750_1.time_ <= var_753_1 + arg_753_0 then
				arg_750_1.var_.moveOldPos1095ui_story = var_753_0.localPosition
			end

			local var_753_2 = 0.001

			if var_753_1 <= arg_750_1.time_ and arg_750_1.time_ < var_753_1 + var_753_2 then
				local var_753_3 = (arg_750_1.time_ - var_753_1) / var_753_2
				local var_753_4 = Vector3.New(0, 100, 0)

				var_753_0.localPosition = Vector3.Lerp(arg_750_1.var_.moveOldPos1095ui_story, var_753_4, var_753_3)

				local var_753_5 = manager.ui.mainCamera.transform.position - var_753_0.position

				var_753_0.forward = Vector3.New(var_753_5.x, var_753_5.y, var_753_5.z)

				local var_753_6 = var_753_0.localEulerAngles

				var_753_6.z = 0
				var_753_6.x = 0
				var_753_0.localEulerAngles = var_753_6
			end

			if arg_750_1.time_ >= var_753_1 + var_753_2 and arg_750_1.time_ < var_753_1 + var_753_2 + arg_753_0 then
				var_753_0.localPosition = Vector3.New(0, 100, 0)

				local var_753_7 = manager.ui.mainCamera.transform.position - var_753_0.position

				var_753_0.forward = Vector3.New(var_753_7.x, var_753_7.y, var_753_7.z)

				local var_753_8 = var_753_0.localEulerAngles

				var_753_8.z = 0
				var_753_8.x = 0
				var_753_0.localEulerAngles = var_753_8
			end

			local var_753_9 = 0

			if var_753_9 < arg_750_1.time_ and arg_750_1.time_ <= var_753_9 + arg_753_0 then
				local var_753_10 = manager.ui.mainCamera.transform.localPosition
				local var_753_11 = Vector3.New(0, 0, 10) + Vector3.New(var_753_10.x, var_753_10.y, 0)
				local var_753_12 = arg_750_1.bgs_.B04f

				var_753_12.transform.localPosition = var_753_11
				var_753_12.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_753_13 = var_753_12:GetComponent("SpriteRenderer")

				if var_753_13 and var_753_13.sprite then
					local var_753_14 = (var_753_12.transform.localPosition - var_753_10).z
					local var_753_15 = manager.ui.mainCameraCom_
					local var_753_16 = 2 * var_753_14 * Mathf.Tan(var_753_15.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_753_17 = var_753_16 * var_753_15.aspect
					local var_753_18 = var_753_13.sprite.bounds.size.x
					local var_753_19 = var_753_13.sprite.bounds.size.y
					local var_753_20 = var_753_17 / var_753_18
					local var_753_21 = var_753_16 / var_753_19
					local var_753_22 = var_753_21 < var_753_20 and var_753_20 or var_753_21

					var_753_12.transform.localScale = Vector3.New(var_753_22, var_753_22, 0)
				end

				for iter_753_0, iter_753_1 in pairs(arg_750_1.bgs_) do
					if iter_753_0 ~= "B04f" then
						iter_753_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_753_23 = "ML0504"

			if arg_750_1.bgs_[var_753_23] == nil then
				local var_753_24 = Object.Instantiate(arg_750_1.paintGo_)

				var_753_24:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_753_23)
				var_753_24.name = var_753_23
				var_753_24.transform.parent = arg_750_1.stage_.transform
				var_753_24.transform.localPosition = Vector3.New(0, 100, 0)
				arg_750_1.bgs_[var_753_23] = var_753_24
			end

			local var_753_25 = 2

			if var_753_25 < arg_750_1.time_ and arg_750_1.time_ <= var_753_25 + arg_753_0 then
				local var_753_26 = manager.ui.mainCamera.transform.localPosition
				local var_753_27 = Vector3.New(0, 0, 10) + Vector3.New(var_753_26.x, var_753_26.y, 0)
				local var_753_28 = arg_750_1.bgs_.ML0504

				var_753_28.transform.localPosition = var_753_27
				var_753_28.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_753_29 = var_753_28:GetComponent("SpriteRenderer")

				if var_753_29 and var_753_29.sprite then
					local var_753_30 = (var_753_28.transform.localPosition - var_753_26).z
					local var_753_31 = manager.ui.mainCameraCom_
					local var_753_32 = 2 * var_753_30 * Mathf.Tan(var_753_31.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_753_33 = var_753_32 * var_753_31.aspect
					local var_753_34 = var_753_29.sprite.bounds.size.x
					local var_753_35 = var_753_29.sprite.bounds.size.y
					local var_753_36 = var_753_33 / var_753_34
					local var_753_37 = var_753_32 / var_753_35
					local var_753_38 = var_753_37 < var_753_36 and var_753_36 or var_753_37

					var_753_28.transform.localScale = Vector3.New(var_753_38, var_753_38, 0)
				end

				for iter_753_2, iter_753_3 in pairs(arg_750_1.bgs_) do
					if iter_753_2 ~= "ML0504" then
						iter_753_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_753_39 = 0

			if var_753_39 < arg_750_1.time_ and arg_750_1.time_ <= var_753_39 + arg_753_0 then
				arg_750_1.mask_.enabled = true
				arg_750_1.mask_.raycastTarget = true

				arg_750_1:SetGaussion(false)
			end

			local var_753_40 = 2

			if var_753_39 <= arg_750_1.time_ and arg_750_1.time_ < var_753_39 + var_753_40 then
				local var_753_41 = (arg_750_1.time_ - var_753_39) / var_753_40
				local var_753_42 = Color.New(0, 0, 0)

				var_753_42.a = Mathf.Lerp(0, 1, var_753_41)
				arg_750_1.mask_.color = var_753_42
			end

			if arg_750_1.time_ >= var_753_39 + var_753_40 and arg_750_1.time_ < var_753_39 + var_753_40 + arg_753_0 then
				local var_753_43 = Color.New(0, 0, 0)

				var_753_43.a = 1
				arg_750_1.mask_.color = var_753_43
			end

			local var_753_44 = 2

			if var_753_44 < arg_750_1.time_ and arg_750_1.time_ <= var_753_44 + arg_753_0 then
				arg_750_1.mask_.enabled = true
				arg_750_1.mask_.raycastTarget = true

				arg_750_1:SetGaussion(false)
			end

			local var_753_45 = 2.03400000184774

			if var_753_44 <= arg_750_1.time_ and arg_750_1.time_ < var_753_44 + var_753_45 then
				local var_753_46 = (arg_750_1.time_ - var_753_44) / var_753_45
				local var_753_47 = Color.New(0, 0, 0)

				var_753_47.a = Mathf.Lerp(1, 0, var_753_46)
				arg_750_1.mask_.color = var_753_47
			end

			if arg_750_1.time_ >= var_753_44 + var_753_45 and arg_750_1.time_ < var_753_44 + var_753_45 + arg_753_0 then
				local var_753_48 = Color.New(0, 0, 0)
				local var_753_49 = 0

				arg_750_1.mask_.enabled = false
				var_753_48.a = var_753_49
				arg_750_1.mask_.color = var_753_48
			end

			if arg_750_1.frameCnt_ <= 1 then
				arg_750_1.dialog_:SetActive(false)
			end

			local var_753_50 = 4.03400000184774
			local var_753_51 = 1.2

			if var_753_50 < arg_750_1.time_ and arg_750_1.time_ <= var_753_50 + arg_753_0 then
				arg_750_1.talkMaxDuration = 0

				arg_750_1.dialog_:SetActive(true)

				local var_753_52 = LeanTween.value(arg_750_1.dialog_, 0, 1, 0.3)

				var_753_52:setOnUpdate(LuaHelper.FloatAction(function(arg_754_0)
					arg_750_1.dialogCg_.alpha = arg_754_0
				end))
				var_753_52:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_750_1.dialog_)
					var_753_52:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_750_1.duration_ = arg_750_1.duration_ + 0.3

				SetActive(arg_750_1.leftNameGo_, false)

				arg_750_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_750_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_750_1:RecordName(arg_750_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_750_1.iconTrs_.gameObject, false)
				arg_750_1.callingController_:SetSelectedState("normal")

				local var_753_53 = arg_750_1:GetWordFromCfg(411121175)
				local var_753_54 = arg_750_1:FormatText(var_753_53.content)

				arg_750_1.text_.text = var_753_54

				LuaForUtil.ClearLinePrefixSymbol(arg_750_1.text_)

				local var_753_55 = 48
				local var_753_56 = utf8.len(var_753_54)
				local var_753_57 = var_753_55 <= 0 and var_753_51 or var_753_51 * (var_753_56 / var_753_55)

				if var_753_57 > 0 and var_753_51 < var_753_57 then
					arg_750_1.talkMaxDuration = var_753_57
					var_753_50 = var_753_50 + 0.3

					if var_753_57 + var_753_50 > arg_750_1.duration_ then
						arg_750_1.duration_ = var_753_57 + var_753_50
					end
				end

				arg_750_1.text_.text = var_753_54
				arg_750_1.typewritter.percent = 0

				arg_750_1.typewritter:SetDirty()
				arg_750_1:ShowNextGo(false)
				arg_750_1:RecordContent(arg_750_1.text_.text)
			end

			local var_753_58 = var_753_50 + 0.3
			local var_753_59 = math.max(var_753_51, arg_750_1.talkMaxDuration)

			if var_753_58 <= arg_750_1.time_ and arg_750_1.time_ < var_753_58 + var_753_59 then
				arg_750_1.typewritter.percent = (arg_750_1.time_ - var_753_58) / var_753_59

				arg_750_1.typewritter:SetDirty()
			end

			if arg_750_1.time_ >= var_753_58 + var_753_59 and arg_750_1.time_ < var_753_58 + var_753_59 + arg_753_0 then
				arg_750_1.typewritter.percent = 1

				arg_750_1.typewritter:SetDirty()
				arg_750_1:ShowNextGo(true)
			end
		end
	end,
	Play411121176 = function(arg_756_0, arg_756_1)
		arg_756_1.time_ = 0
		arg_756_1.frameCnt_ = 0
		arg_756_1.state_ = "playing"
		arg_756_1.curTalkId_ = 411121176
		arg_756_1.duration_ = 9.63

		local var_756_0 = {
			zh = 8.966,
			ja = 9.633
		}
		local var_756_1 = manager.audio:GetLocalizationFlag()

		if var_756_0[var_756_1] ~= nil then
			arg_756_1.duration_ = var_756_0[var_756_1]
		end

		SetActive(arg_756_1.tipsGo_, false)

		function arg_756_1.onSingleLineFinish_()
			arg_756_1.onSingleLineUpdate_ = nil
			arg_756_1.onSingleLineFinish_ = nil
			arg_756_1.state_ = "waiting"
		end

		function arg_756_1.playNext_(arg_758_0)
			if arg_758_0 == 1 then
				arg_756_0:Play411121177(arg_756_1)
			end
		end

		function arg_756_1.onSingleLineUpdate_(arg_759_0)
			local var_759_0 = 0
			local var_759_1 = 1

			if var_759_0 < arg_756_1.time_ and arg_756_1.time_ <= var_759_0 + arg_759_0 then
				arg_756_1.talkMaxDuration = 0
				arg_756_1.dialogCg_.alpha = 1

				arg_756_1.dialog_:SetActive(true)
				SetActive(arg_756_1.leftNameGo_, true)

				local var_759_2 = arg_756_1:FormatText(StoryNameCfg[471].name)

				arg_756_1.leftNameTxt_.text = var_759_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_756_1.leftNameTxt_.transform)

				arg_756_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_756_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_756_1:RecordName(arg_756_1.leftNameTxt_.text)
				SetActive(arg_756_1.iconTrs_.gameObject, false)
				arg_756_1.callingController_:SetSelectedState("normal")

				local var_759_3 = arg_756_1:GetWordFromCfg(411121176)
				local var_759_4 = arg_756_1:FormatText(var_759_3.content)

				arg_756_1.text_.text = var_759_4

				LuaForUtil.ClearLinePrefixSymbol(arg_756_1.text_)

				local var_759_5 = 40
				local var_759_6 = utf8.len(var_759_4)
				local var_759_7 = var_759_5 <= 0 and var_759_1 or var_759_1 * (var_759_6 / var_759_5)

				if var_759_7 > 0 and var_759_1 < var_759_7 then
					arg_756_1.talkMaxDuration = var_759_7

					if var_759_7 + var_759_0 > arg_756_1.duration_ then
						arg_756_1.duration_ = var_759_7 + var_759_0
					end
				end

				arg_756_1.text_.text = var_759_4
				arg_756_1.typewritter.percent = 0

				arg_756_1.typewritter:SetDirty()
				arg_756_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121176", "story_v_out_411121.awb") ~= 0 then
					local var_759_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121176", "story_v_out_411121.awb") / 1000

					if var_759_8 + var_759_0 > arg_756_1.duration_ then
						arg_756_1.duration_ = var_759_8 + var_759_0
					end

					if var_759_3.prefab_name ~= "" and arg_756_1.actors_[var_759_3.prefab_name] ~= nil then
						local var_759_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_756_1.actors_[var_759_3.prefab_name].transform, "story_v_out_411121", "411121176", "story_v_out_411121.awb")

						arg_756_1:RecordAudio("411121176", var_759_9)
						arg_756_1:RecordAudio("411121176", var_759_9)
					else
						arg_756_1:AudioAction("play", "voice", "story_v_out_411121", "411121176", "story_v_out_411121.awb")
					end

					arg_756_1:RecordHistoryTalkVoice("story_v_out_411121", "411121176", "story_v_out_411121.awb")
				end

				arg_756_1:RecordContent(arg_756_1.text_.text)
			end

			local var_759_10 = math.max(var_759_1, arg_756_1.talkMaxDuration)

			if var_759_0 <= arg_756_1.time_ and arg_756_1.time_ < var_759_0 + var_759_10 then
				arg_756_1.typewritter.percent = (arg_756_1.time_ - var_759_0) / var_759_10

				arg_756_1.typewritter:SetDirty()
			end

			if arg_756_1.time_ >= var_759_0 + var_759_10 and arg_756_1.time_ < var_759_0 + var_759_10 + arg_759_0 then
				arg_756_1.typewritter.percent = 1

				arg_756_1.typewritter:SetDirty()
				arg_756_1:ShowNextGo(true)
			end
		end
	end,
	Play411121177 = function(arg_760_0, arg_760_1)
		arg_760_1.time_ = 0
		arg_760_1.frameCnt_ = 0
		arg_760_1.state_ = "playing"
		arg_760_1.curTalkId_ = 411121177
		arg_760_1.duration_ = 1.5

		SetActive(arg_760_1.tipsGo_, false)

		function arg_760_1.onSingleLineFinish_()
			arg_760_1.onSingleLineUpdate_ = nil
			arg_760_1.onSingleLineFinish_ = nil
			arg_760_1.state_ = "waiting"
		end

		function arg_760_1.playNext_(arg_762_0)
			if arg_762_0 == 1 then
				arg_760_0:Play411121178(arg_760_1)
			end
		end

		function arg_760_1.onSingleLineUpdate_(arg_763_0)
			local var_763_0 = 0
			local var_763_1 = 0.15

			if var_763_0 < arg_760_1.time_ and arg_760_1.time_ <= var_763_0 + arg_763_0 then
				arg_760_1.talkMaxDuration = 0
				arg_760_1.dialogCg_.alpha = 1

				arg_760_1.dialog_:SetActive(true)
				SetActive(arg_760_1.leftNameGo_, true)

				local var_763_2 = arg_760_1:FormatText(StoryNameCfg[670].name)

				arg_760_1.leftNameTxt_.text = var_763_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_760_1.leftNameTxt_.transform)

				arg_760_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_760_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_760_1:RecordName(arg_760_1.leftNameTxt_.text)
				SetActive(arg_760_1.iconTrs_.gameObject, false)
				arg_760_1.callingController_:SetSelectedState("normal")

				local var_763_3 = arg_760_1:GetWordFromCfg(411121177)
				local var_763_4 = arg_760_1:FormatText(var_763_3.content)

				arg_760_1.text_.text = var_763_4

				LuaForUtil.ClearLinePrefixSymbol(arg_760_1.text_)

				local var_763_5 = 6
				local var_763_6 = utf8.len(var_763_4)
				local var_763_7 = var_763_5 <= 0 and var_763_1 or var_763_1 * (var_763_6 / var_763_5)

				if var_763_7 > 0 and var_763_1 < var_763_7 then
					arg_760_1.talkMaxDuration = var_763_7

					if var_763_7 + var_763_0 > arg_760_1.duration_ then
						arg_760_1.duration_ = var_763_7 + var_763_0
					end
				end

				arg_760_1.text_.text = var_763_4
				arg_760_1.typewritter.percent = 0

				arg_760_1.typewritter:SetDirty()
				arg_760_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121177", "story_v_out_411121.awb") ~= 0 then
					local var_763_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121177", "story_v_out_411121.awb") / 1000

					if var_763_8 + var_763_0 > arg_760_1.duration_ then
						arg_760_1.duration_ = var_763_8 + var_763_0
					end

					if var_763_3.prefab_name ~= "" and arg_760_1.actors_[var_763_3.prefab_name] ~= nil then
						local var_763_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_760_1.actors_[var_763_3.prefab_name].transform, "story_v_out_411121", "411121177", "story_v_out_411121.awb")

						arg_760_1:RecordAudio("411121177", var_763_9)
						arg_760_1:RecordAudio("411121177", var_763_9)
					else
						arg_760_1:AudioAction("play", "voice", "story_v_out_411121", "411121177", "story_v_out_411121.awb")
					end

					arg_760_1:RecordHistoryTalkVoice("story_v_out_411121", "411121177", "story_v_out_411121.awb")
				end

				arg_760_1:RecordContent(arg_760_1.text_.text)
			end

			local var_763_10 = math.max(var_763_1, arg_760_1.talkMaxDuration)

			if var_763_0 <= arg_760_1.time_ and arg_760_1.time_ < var_763_0 + var_763_10 then
				arg_760_1.typewritter.percent = (arg_760_1.time_ - var_763_0) / var_763_10

				arg_760_1.typewritter:SetDirty()
			end

			if arg_760_1.time_ >= var_763_0 + var_763_10 and arg_760_1.time_ < var_763_0 + var_763_10 + arg_763_0 then
				arg_760_1.typewritter.percent = 1

				arg_760_1.typewritter:SetDirty()
				arg_760_1:ShowNextGo(true)
			end
		end
	end,
	Play411121178 = function(arg_764_0, arg_764_1)
		arg_764_1.time_ = 0
		arg_764_1.frameCnt_ = 0
		arg_764_1.state_ = "playing"
		arg_764_1.curTalkId_ = 411121178
		arg_764_1.duration_ = 5.1

		local var_764_0 = {
			zh = 4.633,
			ja = 5.1
		}
		local var_764_1 = manager.audio:GetLocalizationFlag()

		if var_764_0[var_764_1] ~= nil then
			arg_764_1.duration_ = var_764_0[var_764_1]
		end

		SetActive(arg_764_1.tipsGo_, false)

		function arg_764_1.onSingleLineFinish_()
			arg_764_1.onSingleLineUpdate_ = nil
			arg_764_1.onSingleLineFinish_ = nil
			arg_764_1.state_ = "waiting"
		end

		function arg_764_1.playNext_(arg_766_0)
			if arg_766_0 == 1 then
				arg_764_0:Play411121179(arg_764_1)
			end
		end

		function arg_764_1.onSingleLineUpdate_(arg_767_0)
			local var_767_0 = 0
			local var_767_1 = 0.35

			if var_767_0 < arg_764_1.time_ and arg_764_1.time_ <= var_767_0 + arg_767_0 then
				arg_764_1.talkMaxDuration = 0
				arg_764_1.dialogCg_.alpha = 1

				arg_764_1.dialog_:SetActive(true)
				SetActive(arg_764_1.leftNameGo_, true)

				local var_767_2 = arg_764_1:FormatText(StoryNameCfg[670].name)

				arg_764_1.leftNameTxt_.text = var_767_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_764_1.leftNameTxt_.transform)

				arg_764_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_764_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_764_1:RecordName(arg_764_1.leftNameTxt_.text)
				SetActive(arg_764_1.iconTrs_.gameObject, false)
				arg_764_1.callingController_:SetSelectedState("normal")

				local var_767_3 = arg_764_1:GetWordFromCfg(411121178)
				local var_767_4 = arg_764_1:FormatText(var_767_3.content)

				arg_764_1.text_.text = var_767_4

				LuaForUtil.ClearLinePrefixSymbol(arg_764_1.text_)

				local var_767_5 = 14
				local var_767_6 = utf8.len(var_767_4)
				local var_767_7 = var_767_5 <= 0 and var_767_1 or var_767_1 * (var_767_6 / var_767_5)

				if var_767_7 > 0 and var_767_1 < var_767_7 then
					arg_764_1.talkMaxDuration = var_767_7

					if var_767_7 + var_767_0 > arg_764_1.duration_ then
						arg_764_1.duration_ = var_767_7 + var_767_0
					end
				end

				arg_764_1.text_.text = var_767_4
				arg_764_1.typewritter.percent = 0

				arg_764_1.typewritter:SetDirty()
				arg_764_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121178", "story_v_out_411121.awb") ~= 0 then
					local var_767_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121178", "story_v_out_411121.awb") / 1000

					if var_767_8 + var_767_0 > arg_764_1.duration_ then
						arg_764_1.duration_ = var_767_8 + var_767_0
					end

					if var_767_3.prefab_name ~= "" and arg_764_1.actors_[var_767_3.prefab_name] ~= nil then
						local var_767_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_764_1.actors_[var_767_3.prefab_name].transform, "story_v_out_411121", "411121178", "story_v_out_411121.awb")

						arg_764_1:RecordAudio("411121178", var_767_9)
						arg_764_1:RecordAudio("411121178", var_767_9)
					else
						arg_764_1:AudioAction("play", "voice", "story_v_out_411121", "411121178", "story_v_out_411121.awb")
					end

					arg_764_1:RecordHistoryTalkVoice("story_v_out_411121", "411121178", "story_v_out_411121.awb")
				end

				arg_764_1:RecordContent(arg_764_1.text_.text)
			end

			local var_767_10 = math.max(var_767_1, arg_764_1.talkMaxDuration)

			if var_767_0 <= arg_764_1.time_ and arg_764_1.time_ < var_767_0 + var_767_10 then
				arg_764_1.typewritter.percent = (arg_764_1.time_ - var_767_0) / var_767_10

				arg_764_1.typewritter:SetDirty()
			end

			if arg_764_1.time_ >= var_767_0 + var_767_10 and arg_764_1.time_ < var_767_0 + var_767_10 + arg_767_0 then
				arg_764_1.typewritter.percent = 1

				arg_764_1.typewritter:SetDirty()
				arg_764_1:ShowNextGo(true)
			end
		end
	end,
	Play411121179 = function(arg_768_0, arg_768_1)
		arg_768_1.time_ = 0
		arg_768_1.frameCnt_ = 0
		arg_768_1.state_ = "playing"
		arg_768_1.curTalkId_ = 411121179
		arg_768_1.duration_ = 5

		SetActive(arg_768_1.tipsGo_, false)

		function arg_768_1.onSingleLineFinish_()
			arg_768_1.onSingleLineUpdate_ = nil
			arg_768_1.onSingleLineFinish_ = nil
			arg_768_1.state_ = "waiting"
		end

		function arg_768_1.playNext_(arg_770_0)
			if arg_770_0 == 1 then
				arg_768_0:Play411121180(arg_768_1)
			end
		end

		function arg_768_1.onSingleLineUpdate_(arg_771_0)
			local var_771_0 = 0
			local var_771_1 = 0.65

			if var_771_0 < arg_768_1.time_ and arg_768_1.time_ <= var_771_0 + arg_771_0 then
				arg_768_1.talkMaxDuration = 0
				arg_768_1.dialogCg_.alpha = 1

				arg_768_1.dialog_:SetActive(true)
				SetActive(arg_768_1.leftNameGo_, false)

				arg_768_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_768_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_768_1:RecordName(arg_768_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_768_1.iconTrs_.gameObject, false)
				arg_768_1.callingController_:SetSelectedState("normal")

				local var_771_2 = arg_768_1:GetWordFromCfg(411121179)
				local var_771_3 = arg_768_1:FormatText(var_771_2.content)

				arg_768_1.text_.text = var_771_3

				LuaForUtil.ClearLinePrefixSymbol(arg_768_1.text_)

				local var_771_4 = 26
				local var_771_5 = utf8.len(var_771_3)
				local var_771_6 = var_771_4 <= 0 and var_771_1 or var_771_1 * (var_771_5 / var_771_4)

				if var_771_6 > 0 and var_771_1 < var_771_6 then
					arg_768_1.talkMaxDuration = var_771_6

					if var_771_6 + var_771_0 > arg_768_1.duration_ then
						arg_768_1.duration_ = var_771_6 + var_771_0
					end
				end

				arg_768_1.text_.text = var_771_3
				arg_768_1.typewritter.percent = 0

				arg_768_1.typewritter:SetDirty()
				arg_768_1:ShowNextGo(false)
				arg_768_1:RecordContent(arg_768_1.text_.text)
			end

			local var_771_7 = math.max(var_771_1, arg_768_1.talkMaxDuration)

			if var_771_0 <= arg_768_1.time_ and arg_768_1.time_ < var_771_0 + var_771_7 then
				arg_768_1.typewritter.percent = (arg_768_1.time_ - var_771_0) / var_771_7

				arg_768_1.typewritter:SetDirty()
			end

			if arg_768_1.time_ >= var_771_0 + var_771_7 and arg_768_1.time_ < var_771_0 + var_771_7 + arg_771_0 then
				arg_768_1.typewritter.percent = 1

				arg_768_1.typewritter:SetDirty()
				arg_768_1:ShowNextGo(true)
			end
		end
	end,
	Play411121180 = function(arg_772_0, arg_772_1)
		arg_772_1.time_ = 0
		arg_772_1.frameCnt_ = 0
		arg_772_1.state_ = "playing"
		arg_772_1.curTalkId_ = 411121180
		arg_772_1.duration_ = 7

		local var_772_0 = {
			zh = 5.6,
			ja = 7
		}
		local var_772_1 = manager.audio:GetLocalizationFlag()

		if var_772_0[var_772_1] ~= nil then
			arg_772_1.duration_ = var_772_0[var_772_1]
		end

		SetActive(arg_772_1.tipsGo_, false)

		function arg_772_1.onSingleLineFinish_()
			arg_772_1.onSingleLineUpdate_ = nil
			arg_772_1.onSingleLineFinish_ = nil
			arg_772_1.state_ = "waiting"
		end

		function arg_772_1.playNext_(arg_774_0)
			if arg_774_0 == 1 then
				arg_772_0:Play411121181(arg_772_1)
			end
		end

		function arg_772_1.onSingleLineUpdate_(arg_775_0)
			local var_775_0 = 0
			local var_775_1 = 0.55

			if var_775_0 < arg_772_1.time_ and arg_772_1.time_ <= var_775_0 + arg_775_0 then
				arg_772_1.talkMaxDuration = 0
				arg_772_1.dialogCg_.alpha = 1

				arg_772_1.dialog_:SetActive(true)
				SetActive(arg_772_1.leftNameGo_, true)

				local var_775_2 = arg_772_1:FormatText(StoryNameCfg[670].name)

				arg_772_1.leftNameTxt_.text = var_775_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_772_1.leftNameTxt_.transform)

				arg_772_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_772_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_772_1:RecordName(arg_772_1.leftNameTxt_.text)
				SetActive(arg_772_1.iconTrs_.gameObject, false)
				arg_772_1.callingController_:SetSelectedState("normal")

				local var_775_3 = arg_772_1:GetWordFromCfg(411121180)
				local var_775_4 = arg_772_1:FormatText(var_775_3.content)

				arg_772_1.text_.text = var_775_4

				LuaForUtil.ClearLinePrefixSymbol(arg_772_1.text_)

				local var_775_5 = 22
				local var_775_6 = utf8.len(var_775_4)
				local var_775_7 = var_775_5 <= 0 and var_775_1 or var_775_1 * (var_775_6 / var_775_5)

				if var_775_7 > 0 and var_775_1 < var_775_7 then
					arg_772_1.talkMaxDuration = var_775_7

					if var_775_7 + var_775_0 > arg_772_1.duration_ then
						arg_772_1.duration_ = var_775_7 + var_775_0
					end
				end

				arg_772_1.text_.text = var_775_4
				arg_772_1.typewritter.percent = 0

				arg_772_1.typewritter:SetDirty()
				arg_772_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121180", "story_v_out_411121.awb") ~= 0 then
					local var_775_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121180", "story_v_out_411121.awb") / 1000

					if var_775_8 + var_775_0 > arg_772_1.duration_ then
						arg_772_1.duration_ = var_775_8 + var_775_0
					end

					if var_775_3.prefab_name ~= "" and arg_772_1.actors_[var_775_3.prefab_name] ~= nil then
						local var_775_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_772_1.actors_[var_775_3.prefab_name].transform, "story_v_out_411121", "411121180", "story_v_out_411121.awb")

						arg_772_1:RecordAudio("411121180", var_775_9)
						arg_772_1:RecordAudio("411121180", var_775_9)
					else
						arg_772_1:AudioAction("play", "voice", "story_v_out_411121", "411121180", "story_v_out_411121.awb")
					end

					arg_772_1:RecordHistoryTalkVoice("story_v_out_411121", "411121180", "story_v_out_411121.awb")
				end

				arg_772_1:RecordContent(arg_772_1.text_.text)
			end

			local var_775_10 = math.max(var_775_1, arg_772_1.talkMaxDuration)

			if var_775_0 <= arg_772_1.time_ and arg_772_1.time_ < var_775_0 + var_775_10 then
				arg_772_1.typewritter.percent = (arg_772_1.time_ - var_775_0) / var_775_10

				arg_772_1.typewritter:SetDirty()
			end

			if arg_772_1.time_ >= var_775_0 + var_775_10 and arg_772_1.time_ < var_775_0 + var_775_10 + arg_775_0 then
				arg_772_1.typewritter.percent = 1

				arg_772_1.typewritter:SetDirty()
				arg_772_1:ShowNextGo(true)
			end
		end
	end,
	Play411121181 = function(arg_776_0, arg_776_1)
		arg_776_1.time_ = 0
		arg_776_1.frameCnt_ = 0
		arg_776_1.state_ = "playing"
		arg_776_1.curTalkId_ = 411121181
		arg_776_1.duration_ = 11.4

		local var_776_0 = {
			zh = 11.4,
			ja = 9.266
		}
		local var_776_1 = manager.audio:GetLocalizationFlag()

		if var_776_0[var_776_1] ~= nil then
			arg_776_1.duration_ = var_776_0[var_776_1]
		end

		SetActive(arg_776_1.tipsGo_, false)

		function arg_776_1.onSingleLineFinish_()
			arg_776_1.onSingleLineUpdate_ = nil
			arg_776_1.onSingleLineFinish_ = nil
			arg_776_1.state_ = "waiting"
		end

		function arg_776_1.playNext_(arg_778_0)
			if arg_778_0 == 1 then
				arg_776_0:Play411121182(arg_776_1)
			end
		end

		function arg_776_1.onSingleLineUpdate_(arg_779_0)
			local var_779_0 = 0
			local var_779_1 = 1.075

			if var_779_0 < arg_776_1.time_ and arg_776_1.time_ <= var_779_0 + arg_779_0 then
				arg_776_1.talkMaxDuration = 0
				arg_776_1.dialogCg_.alpha = 1

				arg_776_1.dialog_:SetActive(true)
				SetActive(arg_776_1.leftNameGo_, true)

				local var_779_2 = arg_776_1:FormatText(StoryNameCfg[670].name)

				arg_776_1.leftNameTxt_.text = var_779_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_776_1.leftNameTxt_.transform)

				arg_776_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_776_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_776_1:RecordName(arg_776_1.leftNameTxt_.text)
				SetActive(arg_776_1.iconTrs_.gameObject, false)
				arg_776_1.callingController_:SetSelectedState("normal")

				local var_779_3 = arg_776_1:GetWordFromCfg(411121181)
				local var_779_4 = arg_776_1:FormatText(var_779_3.content)

				arg_776_1.text_.text = var_779_4

				LuaForUtil.ClearLinePrefixSymbol(arg_776_1.text_)

				local var_779_5 = 43
				local var_779_6 = utf8.len(var_779_4)
				local var_779_7 = var_779_5 <= 0 and var_779_1 or var_779_1 * (var_779_6 / var_779_5)

				if var_779_7 > 0 and var_779_1 < var_779_7 then
					arg_776_1.talkMaxDuration = var_779_7

					if var_779_7 + var_779_0 > arg_776_1.duration_ then
						arg_776_1.duration_ = var_779_7 + var_779_0
					end
				end

				arg_776_1.text_.text = var_779_4
				arg_776_1.typewritter.percent = 0

				arg_776_1.typewritter:SetDirty()
				arg_776_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121181", "story_v_out_411121.awb") ~= 0 then
					local var_779_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121181", "story_v_out_411121.awb") / 1000

					if var_779_8 + var_779_0 > arg_776_1.duration_ then
						arg_776_1.duration_ = var_779_8 + var_779_0
					end

					if var_779_3.prefab_name ~= "" and arg_776_1.actors_[var_779_3.prefab_name] ~= nil then
						local var_779_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_776_1.actors_[var_779_3.prefab_name].transform, "story_v_out_411121", "411121181", "story_v_out_411121.awb")

						arg_776_1:RecordAudio("411121181", var_779_9)
						arg_776_1:RecordAudio("411121181", var_779_9)
					else
						arg_776_1:AudioAction("play", "voice", "story_v_out_411121", "411121181", "story_v_out_411121.awb")
					end

					arg_776_1:RecordHistoryTalkVoice("story_v_out_411121", "411121181", "story_v_out_411121.awb")
				end

				arg_776_1:RecordContent(arg_776_1.text_.text)
			end

			local var_779_10 = math.max(var_779_1, arg_776_1.talkMaxDuration)

			if var_779_0 <= arg_776_1.time_ and arg_776_1.time_ < var_779_0 + var_779_10 then
				arg_776_1.typewritter.percent = (arg_776_1.time_ - var_779_0) / var_779_10

				arg_776_1.typewritter:SetDirty()
			end

			if arg_776_1.time_ >= var_779_0 + var_779_10 and arg_776_1.time_ < var_779_0 + var_779_10 + arg_779_0 then
				arg_776_1.typewritter.percent = 1

				arg_776_1.typewritter:SetDirty()
				arg_776_1:ShowNextGo(true)
			end
		end
	end,
	Play411121182 = function(arg_780_0, arg_780_1)
		arg_780_1.time_ = 0
		arg_780_1.frameCnt_ = 0
		arg_780_1.state_ = "playing"
		arg_780_1.curTalkId_ = 411121182
		arg_780_1.duration_ = 9.1

		local var_780_0 = {
			zh = 4.9,
			ja = 9.1
		}
		local var_780_1 = manager.audio:GetLocalizationFlag()

		if var_780_0[var_780_1] ~= nil then
			arg_780_1.duration_ = var_780_0[var_780_1]
		end

		SetActive(arg_780_1.tipsGo_, false)

		function arg_780_1.onSingleLineFinish_()
			arg_780_1.onSingleLineUpdate_ = nil
			arg_780_1.onSingleLineFinish_ = nil
			arg_780_1.state_ = "waiting"
		end

		function arg_780_1.playNext_(arg_782_0)
			if arg_782_0 == 1 then
				arg_780_0:Play411121183(arg_780_1)
			end
		end

		function arg_780_1.onSingleLineUpdate_(arg_783_0)
			local var_783_0 = 0
			local var_783_1 = 0.5

			if var_783_0 < arg_780_1.time_ and arg_780_1.time_ <= var_783_0 + arg_783_0 then
				arg_780_1.talkMaxDuration = 0
				arg_780_1.dialogCg_.alpha = 1

				arg_780_1.dialog_:SetActive(true)
				SetActive(arg_780_1.leftNameGo_, true)

				local var_783_2 = arg_780_1:FormatText(StoryNameCfg[670].name)

				arg_780_1.leftNameTxt_.text = var_783_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_780_1.leftNameTxt_.transform)

				arg_780_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_780_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_780_1:RecordName(arg_780_1.leftNameTxt_.text)
				SetActive(arg_780_1.iconTrs_.gameObject, false)
				arg_780_1.callingController_:SetSelectedState("normal")

				local var_783_3 = arg_780_1:GetWordFromCfg(411121182)
				local var_783_4 = arg_780_1:FormatText(var_783_3.content)

				arg_780_1.text_.text = var_783_4

				LuaForUtil.ClearLinePrefixSymbol(arg_780_1.text_)

				local var_783_5 = 20
				local var_783_6 = utf8.len(var_783_4)
				local var_783_7 = var_783_5 <= 0 and var_783_1 or var_783_1 * (var_783_6 / var_783_5)

				if var_783_7 > 0 and var_783_1 < var_783_7 then
					arg_780_1.talkMaxDuration = var_783_7

					if var_783_7 + var_783_0 > arg_780_1.duration_ then
						arg_780_1.duration_ = var_783_7 + var_783_0
					end
				end

				arg_780_1.text_.text = var_783_4
				arg_780_1.typewritter.percent = 0

				arg_780_1.typewritter:SetDirty()
				arg_780_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121182", "story_v_out_411121.awb") ~= 0 then
					local var_783_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121182", "story_v_out_411121.awb") / 1000

					if var_783_8 + var_783_0 > arg_780_1.duration_ then
						arg_780_1.duration_ = var_783_8 + var_783_0
					end

					if var_783_3.prefab_name ~= "" and arg_780_1.actors_[var_783_3.prefab_name] ~= nil then
						local var_783_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_780_1.actors_[var_783_3.prefab_name].transform, "story_v_out_411121", "411121182", "story_v_out_411121.awb")

						arg_780_1:RecordAudio("411121182", var_783_9)
						arg_780_1:RecordAudio("411121182", var_783_9)
					else
						arg_780_1:AudioAction("play", "voice", "story_v_out_411121", "411121182", "story_v_out_411121.awb")
					end

					arg_780_1:RecordHistoryTalkVoice("story_v_out_411121", "411121182", "story_v_out_411121.awb")
				end

				arg_780_1:RecordContent(arg_780_1.text_.text)
			end

			local var_783_10 = math.max(var_783_1, arg_780_1.talkMaxDuration)

			if var_783_0 <= arg_780_1.time_ and arg_780_1.time_ < var_783_0 + var_783_10 then
				arg_780_1.typewritter.percent = (arg_780_1.time_ - var_783_0) / var_783_10

				arg_780_1.typewritter:SetDirty()
			end

			if arg_780_1.time_ >= var_783_0 + var_783_10 and arg_780_1.time_ < var_783_0 + var_783_10 + arg_783_0 then
				arg_780_1.typewritter.percent = 1

				arg_780_1.typewritter:SetDirty()
				arg_780_1:ShowNextGo(true)
			end
		end
	end,
	Play411121183 = function(arg_784_0, arg_784_1)
		arg_784_1.time_ = 0
		arg_784_1.frameCnt_ = 0
		arg_784_1.state_ = "playing"
		arg_784_1.curTalkId_ = 411121183
		arg_784_1.duration_ = 13.27

		local var_784_0 = {
			zh = 13.266,
			ja = 8.566
		}
		local var_784_1 = manager.audio:GetLocalizationFlag()

		if var_784_0[var_784_1] ~= nil then
			arg_784_1.duration_ = var_784_0[var_784_1]
		end

		SetActive(arg_784_1.tipsGo_, false)

		function arg_784_1.onSingleLineFinish_()
			arg_784_1.onSingleLineUpdate_ = nil
			arg_784_1.onSingleLineFinish_ = nil
			arg_784_1.state_ = "waiting"
		end

		function arg_784_1.playNext_(arg_786_0)
			if arg_786_0 == 1 then
				arg_784_0:Play411121184(arg_784_1)
			end
		end

		function arg_784_1.onSingleLineUpdate_(arg_787_0)
			local var_787_0 = 0
			local var_787_1 = 1.05

			if var_787_0 < arg_784_1.time_ and arg_784_1.time_ <= var_787_0 + arg_787_0 then
				arg_784_1.talkMaxDuration = 0
				arg_784_1.dialogCg_.alpha = 1

				arg_784_1.dialog_:SetActive(true)
				SetActive(arg_784_1.leftNameGo_, true)

				local var_787_2 = arg_784_1:FormatText(StoryNameCfg[670].name)

				arg_784_1.leftNameTxt_.text = var_787_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_784_1.leftNameTxt_.transform)

				arg_784_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_784_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_784_1:RecordName(arg_784_1.leftNameTxt_.text)
				SetActive(arg_784_1.iconTrs_.gameObject, false)
				arg_784_1.callingController_:SetSelectedState("normal")

				local var_787_3 = arg_784_1:GetWordFromCfg(411121183)
				local var_787_4 = arg_784_1:FormatText(var_787_3.content)

				arg_784_1.text_.text = var_787_4

				LuaForUtil.ClearLinePrefixSymbol(arg_784_1.text_)

				local var_787_5 = 42
				local var_787_6 = utf8.len(var_787_4)
				local var_787_7 = var_787_5 <= 0 and var_787_1 or var_787_1 * (var_787_6 / var_787_5)

				if var_787_7 > 0 and var_787_1 < var_787_7 then
					arg_784_1.talkMaxDuration = var_787_7

					if var_787_7 + var_787_0 > arg_784_1.duration_ then
						arg_784_1.duration_ = var_787_7 + var_787_0
					end
				end

				arg_784_1.text_.text = var_787_4
				arg_784_1.typewritter.percent = 0

				arg_784_1.typewritter:SetDirty()
				arg_784_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121183", "story_v_out_411121.awb") ~= 0 then
					local var_787_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121183", "story_v_out_411121.awb") / 1000

					if var_787_8 + var_787_0 > arg_784_1.duration_ then
						arg_784_1.duration_ = var_787_8 + var_787_0
					end

					if var_787_3.prefab_name ~= "" and arg_784_1.actors_[var_787_3.prefab_name] ~= nil then
						local var_787_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_784_1.actors_[var_787_3.prefab_name].transform, "story_v_out_411121", "411121183", "story_v_out_411121.awb")

						arg_784_1:RecordAudio("411121183", var_787_9)
						arg_784_1:RecordAudio("411121183", var_787_9)
					else
						arg_784_1:AudioAction("play", "voice", "story_v_out_411121", "411121183", "story_v_out_411121.awb")
					end

					arg_784_1:RecordHistoryTalkVoice("story_v_out_411121", "411121183", "story_v_out_411121.awb")
				end

				arg_784_1:RecordContent(arg_784_1.text_.text)
			end

			local var_787_10 = math.max(var_787_1, arg_784_1.talkMaxDuration)

			if var_787_0 <= arg_784_1.time_ and arg_784_1.time_ < var_787_0 + var_787_10 then
				arg_784_1.typewritter.percent = (arg_784_1.time_ - var_787_0) / var_787_10

				arg_784_1.typewritter:SetDirty()
			end

			if arg_784_1.time_ >= var_787_0 + var_787_10 and arg_784_1.time_ < var_787_0 + var_787_10 + arg_787_0 then
				arg_784_1.typewritter.percent = 1

				arg_784_1.typewritter:SetDirty()
				arg_784_1:ShowNextGo(true)
			end
		end
	end,
	Play411121184 = function(arg_788_0, arg_788_1)
		arg_788_1.time_ = 0
		arg_788_1.frameCnt_ = 0
		arg_788_1.state_ = "playing"
		arg_788_1.curTalkId_ = 411121184
		arg_788_1.duration_ = 5.2

		local var_788_0 = {
			zh = 4.266,
			ja = 5.2
		}
		local var_788_1 = manager.audio:GetLocalizationFlag()

		if var_788_0[var_788_1] ~= nil then
			arg_788_1.duration_ = var_788_0[var_788_1]
		end

		SetActive(arg_788_1.tipsGo_, false)

		function arg_788_1.onSingleLineFinish_()
			arg_788_1.onSingleLineUpdate_ = nil
			arg_788_1.onSingleLineFinish_ = nil
			arg_788_1.state_ = "waiting"
		end

		function arg_788_1.playNext_(arg_790_0)
			if arg_790_0 == 1 then
				arg_788_0:Play411121185(arg_788_1)
			end
		end

		function arg_788_1.onSingleLineUpdate_(arg_791_0)
			local var_791_0 = 0
			local var_791_1 = 0.375

			if var_791_0 < arg_788_1.time_ and arg_788_1.time_ <= var_791_0 + arg_791_0 then
				arg_788_1.talkMaxDuration = 0
				arg_788_1.dialogCg_.alpha = 1

				arg_788_1.dialog_:SetActive(true)
				SetActive(arg_788_1.leftNameGo_, true)

				local var_791_2 = arg_788_1:FormatText(StoryNameCfg[670].name)

				arg_788_1.leftNameTxt_.text = var_791_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_788_1.leftNameTxt_.transform)

				arg_788_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_788_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_788_1:RecordName(arg_788_1.leftNameTxt_.text)
				SetActive(arg_788_1.iconTrs_.gameObject, false)
				arg_788_1.callingController_:SetSelectedState("normal")

				local var_791_3 = arg_788_1:GetWordFromCfg(411121184)
				local var_791_4 = arg_788_1:FormatText(var_791_3.content)

				arg_788_1.text_.text = var_791_4

				LuaForUtil.ClearLinePrefixSymbol(arg_788_1.text_)

				local var_791_5 = 15
				local var_791_6 = utf8.len(var_791_4)
				local var_791_7 = var_791_5 <= 0 and var_791_1 or var_791_1 * (var_791_6 / var_791_5)

				if var_791_7 > 0 and var_791_1 < var_791_7 then
					arg_788_1.talkMaxDuration = var_791_7

					if var_791_7 + var_791_0 > arg_788_1.duration_ then
						arg_788_1.duration_ = var_791_7 + var_791_0
					end
				end

				arg_788_1.text_.text = var_791_4
				arg_788_1.typewritter.percent = 0

				arg_788_1.typewritter:SetDirty()
				arg_788_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121184", "story_v_out_411121.awb") ~= 0 then
					local var_791_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121184", "story_v_out_411121.awb") / 1000

					if var_791_8 + var_791_0 > arg_788_1.duration_ then
						arg_788_1.duration_ = var_791_8 + var_791_0
					end

					if var_791_3.prefab_name ~= "" and arg_788_1.actors_[var_791_3.prefab_name] ~= nil then
						local var_791_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_788_1.actors_[var_791_3.prefab_name].transform, "story_v_out_411121", "411121184", "story_v_out_411121.awb")

						arg_788_1:RecordAudio("411121184", var_791_9)
						arg_788_1:RecordAudio("411121184", var_791_9)
					else
						arg_788_1:AudioAction("play", "voice", "story_v_out_411121", "411121184", "story_v_out_411121.awb")
					end

					arg_788_1:RecordHistoryTalkVoice("story_v_out_411121", "411121184", "story_v_out_411121.awb")
				end

				arg_788_1:RecordContent(arg_788_1.text_.text)
			end

			local var_791_10 = math.max(var_791_1, arg_788_1.talkMaxDuration)

			if var_791_0 <= arg_788_1.time_ and arg_788_1.time_ < var_791_0 + var_791_10 then
				arg_788_1.typewritter.percent = (arg_788_1.time_ - var_791_0) / var_791_10

				arg_788_1.typewritter:SetDirty()
			end

			if arg_788_1.time_ >= var_791_0 + var_791_10 and arg_788_1.time_ < var_791_0 + var_791_10 + arg_791_0 then
				arg_788_1.typewritter.percent = 1

				arg_788_1.typewritter:SetDirty()
				arg_788_1:ShowNextGo(true)
			end
		end
	end,
	Play411121185 = function(arg_792_0, arg_792_1)
		arg_792_1.time_ = 0
		arg_792_1.frameCnt_ = 0
		arg_792_1.state_ = "playing"
		arg_792_1.curTalkId_ = 411121185
		arg_792_1.duration_ = 5

		SetActive(arg_792_1.tipsGo_, false)

		function arg_792_1.onSingleLineFinish_()
			arg_792_1.onSingleLineUpdate_ = nil
			arg_792_1.onSingleLineFinish_ = nil
			arg_792_1.state_ = "waiting"
		end

		function arg_792_1.playNext_(arg_794_0)
			if arg_794_0 == 1 then
				arg_792_0:Play411121186(arg_792_1)
			end
		end

		function arg_792_1.onSingleLineUpdate_(arg_795_0)
			local var_795_0 = 0
			local var_795_1 = 0.5

			if var_795_0 < arg_792_1.time_ and arg_792_1.time_ <= var_795_0 + arg_795_0 then
				arg_792_1.talkMaxDuration = 0
				arg_792_1.dialogCg_.alpha = 1

				arg_792_1.dialog_:SetActive(true)
				SetActive(arg_792_1.leftNameGo_, false)

				arg_792_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_792_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_792_1:RecordName(arg_792_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_792_1.iconTrs_.gameObject, false)
				arg_792_1.callingController_:SetSelectedState("normal")

				local var_795_2 = arg_792_1:GetWordFromCfg(411121185)
				local var_795_3 = arg_792_1:FormatText(var_795_2.content)

				arg_792_1.text_.text = var_795_3

				LuaForUtil.ClearLinePrefixSymbol(arg_792_1.text_)

				local var_795_4 = 20
				local var_795_5 = utf8.len(var_795_3)
				local var_795_6 = var_795_4 <= 0 and var_795_1 or var_795_1 * (var_795_5 / var_795_4)

				if var_795_6 > 0 and var_795_1 < var_795_6 then
					arg_792_1.talkMaxDuration = var_795_6

					if var_795_6 + var_795_0 > arg_792_1.duration_ then
						arg_792_1.duration_ = var_795_6 + var_795_0
					end
				end

				arg_792_1.text_.text = var_795_3
				arg_792_1.typewritter.percent = 0

				arg_792_1.typewritter:SetDirty()
				arg_792_1:ShowNextGo(false)
				arg_792_1:RecordContent(arg_792_1.text_.text)
			end

			local var_795_7 = math.max(var_795_1, arg_792_1.talkMaxDuration)

			if var_795_0 <= arg_792_1.time_ and arg_792_1.time_ < var_795_0 + var_795_7 then
				arg_792_1.typewritter.percent = (arg_792_1.time_ - var_795_0) / var_795_7

				arg_792_1.typewritter:SetDirty()
			end

			if arg_792_1.time_ >= var_795_0 + var_795_7 and arg_792_1.time_ < var_795_0 + var_795_7 + arg_795_0 then
				arg_792_1.typewritter.percent = 1

				arg_792_1.typewritter:SetDirty()
				arg_792_1:ShowNextGo(true)
			end
		end
	end,
	Play411121186 = function(arg_796_0, arg_796_1)
		arg_796_1.time_ = 0
		arg_796_1.frameCnt_ = 0
		arg_796_1.state_ = "playing"
		arg_796_1.curTalkId_ = 411121186
		arg_796_1.duration_ = 5.2

		local var_796_0 = {
			zh = 4.633,
			ja = 5.2
		}
		local var_796_1 = manager.audio:GetLocalizationFlag()

		if var_796_0[var_796_1] ~= nil then
			arg_796_1.duration_ = var_796_0[var_796_1]
		end

		SetActive(arg_796_1.tipsGo_, false)

		function arg_796_1.onSingleLineFinish_()
			arg_796_1.onSingleLineUpdate_ = nil
			arg_796_1.onSingleLineFinish_ = nil
			arg_796_1.state_ = "waiting"
		end

		function arg_796_1.playNext_(arg_798_0)
			if arg_798_0 == 1 then
				arg_796_0:Play411121187(arg_796_1)
			end
		end

		function arg_796_1.onSingleLineUpdate_(arg_799_0)
			local var_799_0 = 0
			local var_799_1 = 0.425

			if var_799_0 < arg_796_1.time_ and arg_796_1.time_ <= var_799_0 + arg_799_0 then
				arg_796_1.talkMaxDuration = 0
				arg_796_1.dialogCg_.alpha = 1

				arg_796_1.dialog_:SetActive(true)
				SetActive(arg_796_1.leftNameGo_, true)

				local var_799_2 = arg_796_1:FormatText(StoryNameCfg[670].name)

				arg_796_1.leftNameTxt_.text = var_799_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_796_1.leftNameTxt_.transform)

				arg_796_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_796_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_796_1:RecordName(arg_796_1.leftNameTxt_.text)
				SetActive(arg_796_1.iconTrs_.gameObject, false)
				arg_796_1.callingController_:SetSelectedState("normal")

				local var_799_3 = arg_796_1:GetWordFromCfg(411121186)
				local var_799_4 = arg_796_1:FormatText(var_799_3.content)

				arg_796_1.text_.text = var_799_4

				LuaForUtil.ClearLinePrefixSymbol(arg_796_1.text_)

				local var_799_5 = 17
				local var_799_6 = utf8.len(var_799_4)
				local var_799_7 = var_799_5 <= 0 and var_799_1 or var_799_1 * (var_799_6 / var_799_5)

				if var_799_7 > 0 and var_799_1 < var_799_7 then
					arg_796_1.talkMaxDuration = var_799_7

					if var_799_7 + var_799_0 > arg_796_1.duration_ then
						arg_796_1.duration_ = var_799_7 + var_799_0
					end
				end

				arg_796_1.text_.text = var_799_4
				arg_796_1.typewritter.percent = 0

				arg_796_1.typewritter:SetDirty()
				arg_796_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121186", "story_v_out_411121.awb") ~= 0 then
					local var_799_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121186", "story_v_out_411121.awb") / 1000

					if var_799_8 + var_799_0 > arg_796_1.duration_ then
						arg_796_1.duration_ = var_799_8 + var_799_0
					end

					if var_799_3.prefab_name ~= "" and arg_796_1.actors_[var_799_3.prefab_name] ~= nil then
						local var_799_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_796_1.actors_[var_799_3.prefab_name].transform, "story_v_out_411121", "411121186", "story_v_out_411121.awb")

						arg_796_1:RecordAudio("411121186", var_799_9)
						arg_796_1:RecordAudio("411121186", var_799_9)
					else
						arg_796_1:AudioAction("play", "voice", "story_v_out_411121", "411121186", "story_v_out_411121.awb")
					end

					arg_796_1:RecordHistoryTalkVoice("story_v_out_411121", "411121186", "story_v_out_411121.awb")
				end

				arg_796_1:RecordContent(arg_796_1.text_.text)
			end

			local var_799_10 = math.max(var_799_1, arg_796_1.talkMaxDuration)

			if var_799_0 <= arg_796_1.time_ and arg_796_1.time_ < var_799_0 + var_799_10 then
				arg_796_1.typewritter.percent = (arg_796_1.time_ - var_799_0) / var_799_10

				arg_796_1.typewritter:SetDirty()
			end

			if arg_796_1.time_ >= var_799_0 + var_799_10 and arg_796_1.time_ < var_799_0 + var_799_10 + arg_799_0 then
				arg_796_1.typewritter.percent = 1

				arg_796_1.typewritter:SetDirty()
				arg_796_1:ShowNextGo(true)
			end
		end
	end,
	Play411121187 = function(arg_800_0, arg_800_1)
		arg_800_1.time_ = 0
		arg_800_1.frameCnt_ = 0
		arg_800_1.state_ = "playing"
		arg_800_1.curTalkId_ = 411121187
		arg_800_1.duration_ = 8.1

		local var_800_0 = {
			zh = 8.1,
			ja = 6.5
		}
		local var_800_1 = manager.audio:GetLocalizationFlag()

		if var_800_0[var_800_1] ~= nil then
			arg_800_1.duration_ = var_800_0[var_800_1]
		end

		SetActive(arg_800_1.tipsGo_, false)

		function arg_800_1.onSingleLineFinish_()
			arg_800_1.onSingleLineUpdate_ = nil
			arg_800_1.onSingleLineFinish_ = nil
			arg_800_1.state_ = "waiting"
		end

		function arg_800_1.playNext_(arg_802_0)
			if arg_802_0 == 1 then
				arg_800_0:Play411121188(arg_800_1)
			end
		end

		function arg_800_1.onSingleLineUpdate_(arg_803_0)
			local var_803_0 = 0
			local var_803_1 = 0.775

			if var_803_0 < arg_800_1.time_ and arg_800_1.time_ <= var_803_0 + arg_803_0 then
				arg_800_1.talkMaxDuration = 0
				arg_800_1.dialogCg_.alpha = 1

				arg_800_1.dialog_:SetActive(true)
				SetActive(arg_800_1.leftNameGo_, true)

				local var_803_2 = arg_800_1:FormatText(StoryNameCfg[670].name)

				arg_800_1.leftNameTxt_.text = var_803_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_800_1.leftNameTxt_.transform)

				arg_800_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_800_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_800_1:RecordName(arg_800_1.leftNameTxt_.text)
				SetActive(arg_800_1.iconTrs_.gameObject, false)
				arg_800_1.callingController_:SetSelectedState("normal")

				local var_803_3 = arg_800_1:GetWordFromCfg(411121187)
				local var_803_4 = arg_800_1:FormatText(var_803_3.content)

				arg_800_1.text_.text = var_803_4

				LuaForUtil.ClearLinePrefixSymbol(arg_800_1.text_)

				local var_803_5 = 31
				local var_803_6 = utf8.len(var_803_4)
				local var_803_7 = var_803_5 <= 0 and var_803_1 or var_803_1 * (var_803_6 / var_803_5)

				if var_803_7 > 0 and var_803_1 < var_803_7 then
					arg_800_1.talkMaxDuration = var_803_7

					if var_803_7 + var_803_0 > arg_800_1.duration_ then
						arg_800_1.duration_ = var_803_7 + var_803_0
					end
				end

				arg_800_1.text_.text = var_803_4
				arg_800_1.typewritter.percent = 0

				arg_800_1.typewritter:SetDirty()
				arg_800_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121187", "story_v_out_411121.awb") ~= 0 then
					local var_803_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121187", "story_v_out_411121.awb") / 1000

					if var_803_8 + var_803_0 > arg_800_1.duration_ then
						arg_800_1.duration_ = var_803_8 + var_803_0
					end

					if var_803_3.prefab_name ~= "" and arg_800_1.actors_[var_803_3.prefab_name] ~= nil then
						local var_803_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_800_1.actors_[var_803_3.prefab_name].transform, "story_v_out_411121", "411121187", "story_v_out_411121.awb")

						arg_800_1:RecordAudio("411121187", var_803_9)
						arg_800_1:RecordAudio("411121187", var_803_9)
					else
						arg_800_1:AudioAction("play", "voice", "story_v_out_411121", "411121187", "story_v_out_411121.awb")
					end

					arg_800_1:RecordHistoryTalkVoice("story_v_out_411121", "411121187", "story_v_out_411121.awb")
				end

				arg_800_1:RecordContent(arg_800_1.text_.text)
			end

			local var_803_10 = math.max(var_803_1, arg_800_1.talkMaxDuration)

			if var_803_0 <= arg_800_1.time_ and arg_800_1.time_ < var_803_0 + var_803_10 then
				arg_800_1.typewritter.percent = (arg_800_1.time_ - var_803_0) / var_803_10

				arg_800_1.typewritter:SetDirty()
			end

			if arg_800_1.time_ >= var_803_0 + var_803_10 and arg_800_1.time_ < var_803_0 + var_803_10 + arg_803_0 then
				arg_800_1.typewritter.percent = 1

				arg_800_1.typewritter:SetDirty()
				arg_800_1:ShowNextGo(true)
			end
		end
	end,
	Play411121188 = function(arg_804_0, arg_804_1)
		arg_804_1.time_ = 0
		arg_804_1.frameCnt_ = 0
		arg_804_1.state_ = "playing"
		arg_804_1.curTalkId_ = 411121188
		arg_804_1.duration_ = 7.73

		SetActive(arg_804_1.tipsGo_, false)

		function arg_804_1.onSingleLineFinish_()
			arg_804_1.onSingleLineUpdate_ = nil
			arg_804_1.onSingleLineFinish_ = nil
			arg_804_1.state_ = "waiting"
		end

		function arg_804_1.playNext_(arg_806_0)
			if arg_806_0 == 1 then
				arg_804_0:Play411121189(arg_804_1)
			end
		end

		function arg_804_1.onSingleLineUpdate_(arg_807_0)
			local var_807_0 = 0

			if var_807_0 < arg_804_1.time_ and arg_804_1.time_ <= var_807_0 + arg_807_0 then
				arg_804_1.mask_.enabled = true
				arg_804_1.mask_.raycastTarget = true

				arg_804_1:SetGaussion(false)
			end

			local var_807_1 = 1.33333333333333

			if var_807_0 <= arg_804_1.time_ and arg_804_1.time_ < var_807_0 + var_807_1 then
				local var_807_2 = (arg_804_1.time_ - var_807_0) / var_807_1
				local var_807_3 = Color.New(1, 1, 1)

				var_807_3.a = Mathf.Lerp(0, 1, var_807_2)
				arg_804_1.mask_.color = var_807_3
			end

			if arg_804_1.time_ >= var_807_0 + var_807_1 and arg_804_1.time_ < var_807_0 + var_807_1 + arg_807_0 then
				local var_807_4 = Color.New(1, 1, 1)

				var_807_4.a = 1
				arg_804_1.mask_.color = var_807_4
			end

			local var_807_5 = 1.33333333333333

			if var_807_5 < arg_804_1.time_ and arg_804_1.time_ <= var_807_5 + arg_807_0 then
				arg_804_1.mask_.enabled = true
				arg_804_1.mask_.raycastTarget = true

				arg_804_1:SetGaussion(false)
			end

			local var_807_6 = 1.43333333333333

			if var_807_5 <= arg_804_1.time_ and arg_804_1.time_ < var_807_5 + var_807_6 then
				local var_807_7 = (arg_804_1.time_ - var_807_5) / var_807_6
				local var_807_8 = Color.New(1, 1, 1)

				var_807_8.a = Mathf.Lerp(1, 0, var_807_7)
				arg_804_1.mask_.color = var_807_8
			end

			if arg_804_1.time_ >= var_807_5 + var_807_6 and arg_804_1.time_ < var_807_5 + var_807_6 + arg_807_0 then
				local var_807_9 = Color.New(1, 1, 1)
				local var_807_10 = 0

				arg_804_1.mask_.enabled = false
				var_807_9.a = var_807_10
				arg_804_1.mask_.color = var_807_9
			end

			local var_807_11 = 0

			if var_807_11 < arg_804_1.time_ and arg_804_1.time_ <= var_807_11 + arg_807_0 then
				local var_807_12 = manager.ui.mainCamera.transform.localPosition
				local var_807_13 = Vector3.New(0, 0, 10) + Vector3.New(var_807_12.x, var_807_12.y, 0)
				local var_807_14 = arg_804_1.bgs_.ML0504

				var_807_14.transform.localPosition = var_807_13
				var_807_14.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_807_15 = var_807_14:GetComponent("SpriteRenderer")

				if var_807_15 and var_807_15.sprite then
					local var_807_16 = (var_807_14.transform.localPosition - var_807_12).z
					local var_807_17 = manager.ui.mainCameraCom_
					local var_807_18 = 2 * var_807_16 * Mathf.Tan(var_807_17.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_807_19 = var_807_18 * var_807_17.aspect
					local var_807_20 = var_807_15.sprite.bounds.size.x
					local var_807_21 = var_807_15.sprite.bounds.size.y
					local var_807_22 = var_807_19 / var_807_20
					local var_807_23 = var_807_18 / var_807_21
					local var_807_24 = var_807_23 < var_807_22 and var_807_22 or var_807_23

					var_807_14.transform.localScale = Vector3.New(var_807_24, var_807_24, 0)
				end

				for iter_807_0, iter_807_1 in pairs(arg_804_1.bgs_) do
					if iter_807_0 ~= "ML0504" then
						iter_807_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_807_25 = 1.33333333333333

			if var_807_25 < arg_804_1.time_ and arg_804_1.time_ <= var_807_25 + arg_807_0 then
				local var_807_26 = manager.ui.mainCamera.transform.localPosition
				local var_807_27 = Vector3.New(0, 0, 10) + Vector3.New(var_807_26.x, var_807_26.y, 0)
				local var_807_28 = arg_804_1.bgs_.ML0504

				var_807_28.transform.localPosition = var_807_27
				var_807_28.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_807_29 = var_807_28:GetComponent("SpriteRenderer")

				if var_807_29 and var_807_29.sprite then
					local var_807_30 = (var_807_28.transform.localPosition - var_807_26).z
					local var_807_31 = manager.ui.mainCameraCom_
					local var_807_32 = 2 * var_807_30 * Mathf.Tan(var_807_31.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_807_33 = var_807_32 * var_807_31.aspect
					local var_807_34 = var_807_29.sprite.bounds.size.x
					local var_807_35 = var_807_29.sprite.bounds.size.y
					local var_807_36 = var_807_33 / var_807_34
					local var_807_37 = var_807_32 / var_807_35
					local var_807_38 = var_807_37 < var_807_36 and var_807_36 or var_807_37

					var_807_28.transform.localScale = Vector3.New(var_807_38, var_807_38, 0)
				end

				for iter_807_2, iter_807_3 in pairs(arg_804_1.bgs_) do
					if iter_807_2 ~= "ML0504" then
						iter_807_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			if arg_804_1.frameCnt_ <= 1 then
				arg_804_1.dialog_:SetActive(false)
			end

			local var_807_39 = 2.73230289765634
			local var_807_40 = 0.925

			if var_807_39 < arg_804_1.time_ and arg_804_1.time_ <= var_807_39 + arg_807_0 then
				arg_804_1.talkMaxDuration = 0

				arg_804_1.dialog_:SetActive(true)

				local var_807_41 = LeanTween.value(arg_804_1.dialog_, 0, 1, 0.3)

				var_807_41:setOnUpdate(LuaHelper.FloatAction(function(arg_808_0)
					arg_804_1.dialogCg_.alpha = arg_808_0
				end))
				var_807_41:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_804_1.dialog_)
					var_807_41:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_804_1.duration_ = arg_804_1.duration_ + 0.3

				SetActive(arg_804_1.leftNameGo_, false)

				arg_804_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_804_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_804_1:RecordName(arg_804_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_804_1.iconTrs_.gameObject, false)
				arg_804_1.callingController_:SetSelectedState("normal")

				local var_807_42 = arg_804_1:GetWordFromCfg(411121188)
				local var_807_43 = arg_804_1:FormatText(var_807_42.content)

				arg_804_1.text_.text = var_807_43

				LuaForUtil.ClearLinePrefixSymbol(arg_804_1.text_)

				local var_807_44 = 37
				local var_807_45 = utf8.len(var_807_43)
				local var_807_46 = var_807_44 <= 0 and var_807_40 or var_807_40 * (var_807_45 / var_807_44)

				if var_807_46 > 0 and var_807_40 < var_807_46 then
					arg_804_1.talkMaxDuration = var_807_46
					var_807_39 = var_807_39 + 0.3

					if var_807_46 + var_807_39 > arg_804_1.duration_ then
						arg_804_1.duration_ = var_807_46 + var_807_39
					end
				end

				arg_804_1.text_.text = var_807_43
				arg_804_1.typewritter.percent = 0

				arg_804_1.typewritter:SetDirty()
				arg_804_1:ShowNextGo(false)
				arg_804_1:RecordContent(arg_804_1.text_.text)
			end

			local var_807_47 = var_807_39 + 0.3
			local var_807_48 = math.max(var_807_40, arg_804_1.talkMaxDuration)

			if var_807_47 <= arg_804_1.time_ and arg_804_1.time_ < var_807_47 + var_807_48 then
				arg_804_1.typewritter.percent = (arg_804_1.time_ - var_807_47) / var_807_48

				arg_804_1.typewritter:SetDirty()
			end

			if arg_804_1.time_ >= var_807_47 + var_807_48 and arg_804_1.time_ < var_807_47 + var_807_48 + arg_807_0 then
				arg_804_1.typewritter.percent = 1

				arg_804_1.typewritter:SetDirty()
				arg_804_1:ShowNextGo(true)
			end
		end
	end,
	Play411121189 = function(arg_810_0, arg_810_1)
		arg_810_1.time_ = 0
		arg_810_1.frameCnt_ = 0
		arg_810_1.state_ = "playing"
		arg_810_1.curTalkId_ = 411121189
		arg_810_1.duration_ = 4.87

		local var_810_0 = {
			zh = 4.366,
			ja = 4.866
		}
		local var_810_1 = manager.audio:GetLocalizationFlag()

		if var_810_0[var_810_1] ~= nil then
			arg_810_1.duration_ = var_810_0[var_810_1]
		end

		SetActive(arg_810_1.tipsGo_, false)

		function arg_810_1.onSingleLineFinish_()
			arg_810_1.onSingleLineUpdate_ = nil
			arg_810_1.onSingleLineFinish_ = nil
			arg_810_1.state_ = "waiting"
		end

		function arg_810_1.playNext_(arg_812_0)
			if arg_812_0 == 1 then
				arg_810_0:Play411121190(arg_810_1)
			end
		end

		function arg_810_1.onSingleLineUpdate_(arg_813_0)
			local var_813_0 = 0
			local var_813_1 = 0.45

			if var_813_0 < arg_810_1.time_ and arg_810_1.time_ <= var_813_0 + arg_813_0 then
				arg_810_1.talkMaxDuration = 0
				arg_810_1.dialogCg_.alpha = 1

				arg_810_1.dialog_:SetActive(true)
				SetActive(arg_810_1.leftNameGo_, true)

				local var_813_2 = arg_810_1:FormatText(StoryNameCfg[670].name)

				arg_810_1.leftNameTxt_.text = var_813_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_810_1.leftNameTxt_.transform)

				arg_810_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_810_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_810_1:RecordName(arg_810_1.leftNameTxt_.text)
				SetActive(arg_810_1.iconTrs_.gameObject, false)
				arg_810_1.callingController_:SetSelectedState("normal")

				local var_813_3 = arg_810_1:GetWordFromCfg(411121189)
				local var_813_4 = arg_810_1:FormatText(var_813_3.content)

				arg_810_1.text_.text = var_813_4

				LuaForUtil.ClearLinePrefixSymbol(arg_810_1.text_)

				local var_813_5 = 18
				local var_813_6 = utf8.len(var_813_4)
				local var_813_7 = var_813_5 <= 0 and var_813_1 or var_813_1 * (var_813_6 / var_813_5)

				if var_813_7 > 0 and var_813_1 < var_813_7 then
					arg_810_1.talkMaxDuration = var_813_7

					if var_813_7 + var_813_0 > arg_810_1.duration_ then
						arg_810_1.duration_ = var_813_7 + var_813_0
					end
				end

				arg_810_1.text_.text = var_813_4
				arg_810_1.typewritter.percent = 0

				arg_810_1.typewritter:SetDirty()
				arg_810_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121189", "story_v_out_411121.awb") ~= 0 then
					local var_813_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121189", "story_v_out_411121.awb") / 1000

					if var_813_8 + var_813_0 > arg_810_1.duration_ then
						arg_810_1.duration_ = var_813_8 + var_813_0
					end

					if var_813_3.prefab_name ~= "" and arg_810_1.actors_[var_813_3.prefab_name] ~= nil then
						local var_813_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_810_1.actors_[var_813_3.prefab_name].transform, "story_v_out_411121", "411121189", "story_v_out_411121.awb")

						arg_810_1:RecordAudio("411121189", var_813_9)
						arg_810_1:RecordAudio("411121189", var_813_9)
					else
						arg_810_1:AudioAction("play", "voice", "story_v_out_411121", "411121189", "story_v_out_411121.awb")
					end

					arg_810_1:RecordHistoryTalkVoice("story_v_out_411121", "411121189", "story_v_out_411121.awb")
				end

				arg_810_1:RecordContent(arg_810_1.text_.text)
			end

			local var_813_10 = math.max(var_813_1, arg_810_1.talkMaxDuration)

			if var_813_0 <= arg_810_1.time_ and arg_810_1.time_ < var_813_0 + var_813_10 then
				arg_810_1.typewritter.percent = (arg_810_1.time_ - var_813_0) / var_813_10

				arg_810_1.typewritter:SetDirty()
			end

			if arg_810_1.time_ >= var_813_0 + var_813_10 and arg_810_1.time_ < var_813_0 + var_813_10 + arg_813_0 then
				arg_810_1.typewritter.percent = 1

				arg_810_1.typewritter:SetDirty()
				arg_810_1:ShowNextGo(true)
			end
		end
	end,
	Play411121190 = function(arg_814_0, arg_814_1)
		arg_814_1.time_ = 0
		arg_814_1.frameCnt_ = 0
		arg_814_1.state_ = "playing"
		arg_814_1.curTalkId_ = 411121190
		arg_814_1.duration_ = 7.4

		local var_814_0 = {
			zh = 7.4,
			ja = 5.1
		}
		local var_814_1 = manager.audio:GetLocalizationFlag()

		if var_814_0[var_814_1] ~= nil then
			arg_814_1.duration_ = var_814_0[var_814_1]
		end

		SetActive(arg_814_1.tipsGo_, false)

		function arg_814_1.onSingleLineFinish_()
			arg_814_1.onSingleLineUpdate_ = nil
			arg_814_1.onSingleLineFinish_ = nil
			arg_814_1.state_ = "waiting"
		end

		function arg_814_1.playNext_(arg_816_0)
			if arg_816_0 == 1 then
				arg_814_0:Play411121191(arg_814_1)
			end
		end

		function arg_814_1.onSingleLineUpdate_(arg_817_0)
			local var_817_0 = 0
			local var_817_1 = 0.675

			if var_817_0 < arg_814_1.time_ and arg_814_1.time_ <= var_817_0 + arg_817_0 then
				arg_814_1.talkMaxDuration = 0
				arg_814_1.dialogCg_.alpha = 1

				arg_814_1.dialog_:SetActive(true)
				SetActive(arg_814_1.leftNameGo_, true)

				local var_817_2 = arg_814_1:FormatText(StoryNameCfg[670].name)

				arg_814_1.leftNameTxt_.text = var_817_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_814_1.leftNameTxt_.transform)

				arg_814_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_814_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_814_1:RecordName(arg_814_1.leftNameTxt_.text)
				SetActive(arg_814_1.iconTrs_.gameObject, false)
				arg_814_1.callingController_:SetSelectedState("normal")

				local var_817_3 = arg_814_1:GetWordFromCfg(411121190)
				local var_817_4 = arg_814_1:FormatText(var_817_3.content)

				arg_814_1.text_.text = var_817_4

				LuaForUtil.ClearLinePrefixSymbol(arg_814_1.text_)

				local var_817_5 = 27
				local var_817_6 = utf8.len(var_817_4)
				local var_817_7 = var_817_5 <= 0 and var_817_1 or var_817_1 * (var_817_6 / var_817_5)

				if var_817_7 > 0 and var_817_1 < var_817_7 then
					arg_814_1.talkMaxDuration = var_817_7

					if var_817_7 + var_817_0 > arg_814_1.duration_ then
						arg_814_1.duration_ = var_817_7 + var_817_0
					end
				end

				arg_814_1.text_.text = var_817_4
				arg_814_1.typewritter.percent = 0

				arg_814_1.typewritter:SetDirty()
				arg_814_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121190", "story_v_out_411121.awb") ~= 0 then
					local var_817_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121190", "story_v_out_411121.awb") / 1000

					if var_817_8 + var_817_0 > arg_814_1.duration_ then
						arg_814_1.duration_ = var_817_8 + var_817_0
					end

					if var_817_3.prefab_name ~= "" and arg_814_1.actors_[var_817_3.prefab_name] ~= nil then
						local var_817_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_814_1.actors_[var_817_3.prefab_name].transform, "story_v_out_411121", "411121190", "story_v_out_411121.awb")

						arg_814_1:RecordAudio("411121190", var_817_9)
						arg_814_1:RecordAudio("411121190", var_817_9)
					else
						arg_814_1:AudioAction("play", "voice", "story_v_out_411121", "411121190", "story_v_out_411121.awb")
					end

					arg_814_1:RecordHistoryTalkVoice("story_v_out_411121", "411121190", "story_v_out_411121.awb")
				end

				arg_814_1:RecordContent(arg_814_1.text_.text)
			end

			local var_817_10 = math.max(var_817_1, arg_814_1.talkMaxDuration)

			if var_817_0 <= arg_814_1.time_ and arg_814_1.time_ < var_817_0 + var_817_10 then
				arg_814_1.typewritter.percent = (arg_814_1.time_ - var_817_0) / var_817_10

				arg_814_1.typewritter:SetDirty()
			end

			if arg_814_1.time_ >= var_817_0 + var_817_10 and arg_814_1.time_ < var_817_0 + var_817_10 + arg_817_0 then
				arg_814_1.typewritter.percent = 1

				arg_814_1.typewritter:SetDirty()
				arg_814_1:ShowNextGo(true)
			end
		end
	end,
	Play411121191 = function(arg_818_0, arg_818_1)
		arg_818_1.time_ = 0
		arg_818_1.frameCnt_ = 0
		arg_818_1.state_ = "playing"
		arg_818_1.curTalkId_ = 411121191
		arg_818_1.duration_ = 7.27

		local var_818_0 = {
			zh = 4.9,
			ja = 7.266
		}
		local var_818_1 = manager.audio:GetLocalizationFlag()

		if var_818_0[var_818_1] ~= nil then
			arg_818_1.duration_ = var_818_0[var_818_1]
		end

		SetActive(arg_818_1.tipsGo_, false)

		function arg_818_1.onSingleLineFinish_()
			arg_818_1.onSingleLineUpdate_ = nil
			arg_818_1.onSingleLineFinish_ = nil
			arg_818_1.state_ = "waiting"
		end

		function arg_818_1.playNext_(arg_820_0)
			if arg_820_0 == 1 then
				arg_818_0:Play411121192(arg_818_1)
			end
		end

		function arg_818_1.onSingleLineUpdate_(arg_821_0)
			local var_821_0 = 0
			local var_821_1 = 0.425

			if var_821_0 < arg_818_1.time_ and arg_818_1.time_ <= var_821_0 + arg_821_0 then
				arg_818_1.talkMaxDuration = 0
				arg_818_1.dialogCg_.alpha = 1

				arg_818_1.dialog_:SetActive(true)
				SetActive(arg_818_1.leftNameGo_, true)

				local var_821_2 = arg_818_1:FormatText(StoryNameCfg[670].name)

				arg_818_1.leftNameTxt_.text = var_821_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_818_1.leftNameTxt_.transform)

				arg_818_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_818_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_818_1:RecordName(arg_818_1.leftNameTxt_.text)
				SetActive(arg_818_1.iconTrs_.gameObject, false)
				arg_818_1.callingController_:SetSelectedState("normal")

				local var_821_3 = arg_818_1:GetWordFromCfg(411121191)
				local var_821_4 = arg_818_1:FormatText(var_821_3.content)

				arg_818_1.text_.text = var_821_4

				LuaForUtil.ClearLinePrefixSymbol(arg_818_1.text_)

				local var_821_5 = 17
				local var_821_6 = utf8.len(var_821_4)
				local var_821_7 = var_821_5 <= 0 and var_821_1 or var_821_1 * (var_821_6 / var_821_5)

				if var_821_7 > 0 and var_821_1 < var_821_7 then
					arg_818_1.talkMaxDuration = var_821_7

					if var_821_7 + var_821_0 > arg_818_1.duration_ then
						arg_818_1.duration_ = var_821_7 + var_821_0
					end
				end

				arg_818_1.text_.text = var_821_4
				arg_818_1.typewritter.percent = 0

				arg_818_1.typewritter:SetDirty()
				arg_818_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121191", "story_v_out_411121.awb") ~= 0 then
					local var_821_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121191", "story_v_out_411121.awb") / 1000

					if var_821_8 + var_821_0 > arg_818_1.duration_ then
						arg_818_1.duration_ = var_821_8 + var_821_0
					end

					if var_821_3.prefab_name ~= "" and arg_818_1.actors_[var_821_3.prefab_name] ~= nil then
						local var_821_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_818_1.actors_[var_821_3.prefab_name].transform, "story_v_out_411121", "411121191", "story_v_out_411121.awb")

						arg_818_1:RecordAudio("411121191", var_821_9)
						arg_818_1:RecordAudio("411121191", var_821_9)
					else
						arg_818_1:AudioAction("play", "voice", "story_v_out_411121", "411121191", "story_v_out_411121.awb")
					end

					arg_818_1:RecordHistoryTalkVoice("story_v_out_411121", "411121191", "story_v_out_411121.awb")
				end

				arg_818_1:RecordContent(arg_818_1.text_.text)
			end

			local var_821_10 = math.max(var_821_1, arg_818_1.talkMaxDuration)

			if var_821_0 <= arg_818_1.time_ and arg_818_1.time_ < var_821_0 + var_821_10 then
				arg_818_1.typewritter.percent = (arg_818_1.time_ - var_821_0) / var_821_10

				arg_818_1.typewritter:SetDirty()
			end

			if arg_818_1.time_ >= var_821_0 + var_821_10 and arg_818_1.time_ < var_821_0 + var_821_10 + arg_821_0 then
				arg_818_1.typewritter.percent = 1

				arg_818_1.typewritter:SetDirty()
				arg_818_1:ShowNextGo(true)
			end
		end
	end,
	Play411121192 = function(arg_822_0, arg_822_1)
		arg_822_1.time_ = 0
		arg_822_1.frameCnt_ = 0
		arg_822_1.state_ = "playing"
		arg_822_1.curTalkId_ = 411121192
		arg_822_1.duration_ = 9.57

		local var_822_0 = {
			zh = 9.565999999999,
			ja = 9.032999999999
		}
		local var_822_1 = manager.audio:GetLocalizationFlag()

		if var_822_0[var_822_1] ~= nil then
			arg_822_1.duration_ = var_822_0[var_822_1]
		end

		SetActive(arg_822_1.tipsGo_, false)

		function arg_822_1.onSingleLineFinish_()
			arg_822_1.onSingleLineUpdate_ = nil
			arg_822_1.onSingleLineFinish_ = nil
			arg_822_1.state_ = "waiting"
		end

		function arg_822_1.playNext_(arg_824_0)
			if arg_824_0 == 1 then
				arg_822_0:Play411121193(arg_822_1)
			end
		end

		function arg_822_1.onSingleLineUpdate_(arg_825_0)
			local var_825_0 = 0

			if var_825_0 < arg_822_1.time_ and arg_822_1.time_ <= var_825_0 + arg_825_0 then
				local var_825_1 = manager.ui.mainCamera.transform.localPosition
				local var_825_2 = Vector3.New(0, 0, 10) + Vector3.New(var_825_1.x, var_825_1.y, 0)
				local var_825_3 = arg_822_1.bgs_.ML0504

				var_825_3.transform.localPosition = var_825_2
				var_825_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_825_4 = var_825_3:GetComponent("SpriteRenderer")

				if var_825_4 and var_825_4.sprite then
					local var_825_5 = (var_825_3.transform.localPosition - var_825_1).z
					local var_825_6 = manager.ui.mainCameraCom_
					local var_825_7 = 2 * var_825_5 * Mathf.Tan(var_825_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_825_8 = var_825_7 * var_825_6.aspect
					local var_825_9 = var_825_4.sprite.bounds.size.x
					local var_825_10 = var_825_4.sprite.bounds.size.y
					local var_825_11 = var_825_8 / var_825_9
					local var_825_12 = var_825_7 / var_825_10
					local var_825_13 = var_825_12 < var_825_11 and var_825_11 or var_825_12

					var_825_3.transform.localScale = Vector3.New(var_825_13, var_825_13, 0)
				end

				for iter_825_0, iter_825_1 in pairs(arg_822_1.bgs_) do
					if iter_825_0 ~= "ML0504" then
						iter_825_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_825_14 = 2.06666666666667

			if var_825_14 < arg_822_1.time_ and arg_822_1.time_ <= var_825_14 + arg_825_0 then
				local var_825_15 = manager.ui.mainCamera.transform.localPosition
				local var_825_16 = Vector3.New(0, 0, 10) + Vector3.New(var_825_15.x, var_825_15.y, 0)
				local var_825_17 = arg_822_1.bgs_.STblack

				var_825_17.transform.localPosition = var_825_16
				var_825_17.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_825_18 = var_825_17:GetComponent("SpriteRenderer")

				if var_825_18 and var_825_18.sprite then
					local var_825_19 = (var_825_17.transform.localPosition - var_825_15).z
					local var_825_20 = manager.ui.mainCameraCom_
					local var_825_21 = 2 * var_825_19 * Mathf.Tan(var_825_20.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_825_22 = var_825_21 * var_825_20.aspect
					local var_825_23 = var_825_18.sprite.bounds.size.x
					local var_825_24 = var_825_18.sprite.bounds.size.y
					local var_825_25 = var_825_22 / var_825_23
					local var_825_26 = var_825_21 / var_825_24
					local var_825_27 = var_825_26 < var_825_25 and var_825_25 or var_825_26

					var_825_17.transform.localScale = Vector3.New(var_825_27, var_825_27, 0)
				end

				for iter_825_2, iter_825_3 in pairs(arg_822_1.bgs_) do
					if iter_825_2 ~= "STblack" then
						iter_825_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_825_28 = 0

			if var_825_28 < arg_822_1.time_ and arg_822_1.time_ <= var_825_28 + arg_825_0 then
				arg_822_1.mask_.enabled = true
				arg_822_1.mask_.raycastTarget = true

				arg_822_1:SetGaussion(false)
			end

			local var_825_29 = 2.06666666666667

			if var_825_28 <= arg_822_1.time_ and arg_822_1.time_ < var_825_28 + var_825_29 then
				local var_825_30 = (arg_822_1.time_ - var_825_28) / var_825_29
				local var_825_31 = Color.New(0, 0, 0)

				var_825_31.a = Mathf.Lerp(0, 1, var_825_30)
				arg_822_1.mask_.color = var_825_31
			end

			if arg_822_1.time_ >= var_825_28 + var_825_29 and arg_822_1.time_ < var_825_28 + var_825_29 + arg_825_0 then
				local var_825_32 = Color.New(0, 0, 0)

				var_825_32.a = 1
				arg_822_1.mask_.color = var_825_32
			end

			local var_825_33 = 2.06666666666667

			if var_825_33 < arg_822_1.time_ and arg_822_1.time_ <= var_825_33 + arg_825_0 then
				arg_822_1.mask_.enabled = true
				arg_822_1.mask_.raycastTarget = true

				arg_822_1:SetGaussion(false)
			end

			local var_825_34 = 1.63333333333333

			if var_825_33 <= arg_822_1.time_ and arg_822_1.time_ < var_825_33 + var_825_34 then
				local var_825_35 = (arg_822_1.time_ - var_825_33) / var_825_34
				local var_825_36 = Color.New(0, 0, 0)

				var_825_36.a = Mathf.Lerp(1, 0, var_825_35)
				arg_822_1.mask_.color = var_825_36
			end

			if arg_822_1.time_ >= var_825_33 + var_825_34 and arg_822_1.time_ < var_825_33 + var_825_34 + arg_825_0 then
				local var_825_37 = Color.New(0, 0, 0)
				local var_825_38 = 0

				arg_822_1.mask_.enabled = false
				var_825_37.a = var_825_38
				arg_822_1.mask_.color = var_825_37
			end

			if arg_822_1.frameCnt_ <= 1 then
				arg_822_1.dialog_:SetActive(false)
			end

			local var_825_39 = 3.699999999999
			local var_825_40 = 0.225

			if var_825_39 < arg_822_1.time_ and arg_822_1.time_ <= var_825_39 + arg_825_0 then
				arg_822_1.talkMaxDuration = 0

				arg_822_1.dialog_:SetActive(true)

				local var_825_41 = LeanTween.value(arg_822_1.dialog_, 0, 1, 0.3)

				var_825_41:setOnUpdate(LuaHelper.FloatAction(function(arg_826_0)
					arg_822_1.dialogCg_.alpha = arg_826_0
				end))
				var_825_41:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_822_1.dialog_)
					var_825_41:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_822_1.duration_ = arg_822_1.duration_ + 0.3

				SetActive(arg_822_1.leftNameGo_, true)

				local var_825_42 = arg_822_1:FormatText(StoryNameCfg[670].name)

				arg_822_1.leftNameTxt_.text = var_825_42

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_822_1.leftNameTxt_.transform)

				arg_822_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_822_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_822_1:RecordName(arg_822_1.leftNameTxt_.text)
				SetActive(arg_822_1.iconTrs_.gameObject, false)
				arg_822_1.callingController_:SetSelectedState("normal")

				local var_825_43 = arg_822_1:GetWordFromCfg(411121192)
				local var_825_44 = arg_822_1:FormatText(var_825_43.content)

				arg_822_1.text_.text = var_825_44

				LuaForUtil.ClearLinePrefixSymbol(arg_822_1.text_)

				local var_825_45 = 9
				local var_825_46 = utf8.len(var_825_44)
				local var_825_47 = var_825_45 <= 0 and var_825_40 or var_825_40 * (var_825_46 / var_825_45)

				if var_825_47 > 0 and var_825_40 < var_825_47 then
					arg_822_1.talkMaxDuration = var_825_47
					var_825_39 = var_825_39 + 0.3

					if var_825_47 + var_825_39 > arg_822_1.duration_ then
						arg_822_1.duration_ = var_825_47 + var_825_39
					end
				end

				arg_822_1.text_.text = var_825_44
				arg_822_1.typewritter.percent = 0

				arg_822_1.typewritter:SetDirty()
				arg_822_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121192", "story_v_out_411121.awb") ~= 0 then
					local var_825_48 = manager.audio:GetVoiceLength("story_v_out_411121", "411121192", "story_v_out_411121.awb") / 1000

					if var_825_48 + var_825_39 > arg_822_1.duration_ then
						arg_822_1.duration_ = var_825_48 + var_825_39
					end

					if var_825_43.prefab_name ~= "" and arg_822_1.actors_[var_825_43.prefab_name] ~= nil then
						local var_825_49 = LuaForUtil.PlayVoiceWithCriLipsync(arg_822_1.actors_[var_825_43.prefab_name].transform, "story_v_out_411121", "411121192", "story_v_out_411121.awb")

						arg_822_1:RecordAudio("411121192", var_825_49)
						arg_822_1:RecordAudio("411121192", var_825_49)
					else
						arg_822_1:AudioAction("play", "voice", "story_v_out_411121", "411121192", "story_v_out_411121.awb")
					end

					arg_822_1:RecordHistoryTalkVoice("story_v_out_411121", "411121192", "story_v_out_411121.awb")
				end

				arg_822_1:RecordContent(arg_822_1.text_.text)
			end

			local var_825_50 = var_825_39 + 0.3
			local var_825_51 = math.max(var_825_40, arg_822_1.talkMaxDuration)

			if var_825_50 <= arg_822_1.time_ and arg_822_1.time_ < var_825_50 + var_825_51 then
				arg_822_1.typewritter.percent = (arg_822_1.time_ - var_825_50) / var_825_51

				arg_822_1.typewritter:SetDirty()
			end

			if arg_822_1.time_ >= var_825_50 + var_825_51 and arg_822_1.time_ < var_825_50 + var_825_51 + arg_825_0 then
				arg_822_1.typewritter.percent = 1

				arg_822_1.typewritter:SetDirty()
				arg_822_1:ShowNextGo(true)
			end
		end
	end,
	Play411121193 = function(arg_828_0, arg_828_1)
		arg_828_1.time_ = 0
		arg_828_1.frameCnt_ = 0
		arg_828_1.state_ = "playing"
		arg_828_1.curTalkId_ = 411121193
		arg_828_1.duration_ = 7.93

		SetActive(arg_828_1.tipsGo_, false)

		function arg_828_1.onSingleLineFinish_()
			arg_828_1.onSingleLineUpdate_ = nil
			arg_828_1.onSingleLineFinish_ = nil
			arg_828_1.state_ = "waiting"
		end

		function arg_828_1.playNext_(arg_830_0)
			if arg_830_0 == 1 then
				arg_828_0:Play411121194(arg_828_1)
			end
		end

		function arg_828_1.onSingleLineUpdate_(arg_831_0)
			local var_831_0 = 0

			if var_831_0 < arg_828_1.time_ and arg_828_1.time_ <= var_831_0 + arg_831_0 then
				local var_831_1 = manager.ui.mainCamera.transform.localPosition
				local var_831_2 = Vector3.New(0, 0, 10) + Vector3.New(var_831_1.x, var_831_1.y, 0)
				local var_831_3 = arg_828_1.bgs_.STblack

				var_831_3.transform.localPosition = var_831_2
				var_831_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_831_4 = var_831_3:GetComponent("SpriteRenderer")

				if var_831_4 and var_831_4.sprite then
					local var_831_5 = (var_831_3.transform.localPosition - var_831_1).z
					local var_831_6 = manager.ui.mainCameraCom_
					local var_831_7 = 2 * var_831_5 * Mathf.Tan(var_831_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_831_8 = var_831_7 * var_831_6.aspect
					local var_831_9 = var_831_4.sprite.bounds.size.x
					local var_831_10 = var_831_4.sprite.bounds.size.y
					local var_831_11 = var_831_8 / var_831_9
					local var_831_12 = var_831_7 / var_831_10
					local var_831_13 = var_831_12 < var_831_11 and var_831_11 or var_831_12

					var_831_3.transform.localScale = Vector3.New(var_831_13, var_831_13, 0)
				end

				for iter_831_0, iter_831_1 in pairs(arg_828_1.bgs_) do
					if iter_831_0 ~= "STblack" then
						iter_831_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_831_14 = 0

			if var_831_14 < arg_828_1.time_ and arg_828_1.time_ <= var_831_14 + arg_831_0 then
				arg_828_1.mask_.enabled = true
				arg_828_1.mask_.raycastTarget = true

				arg_828_1:SetGaussion(false)
			end

			local var_831_15 = 2.93266666481892

			if var_831_14 <= arg_828_1.time_ and arg_828_1.time_ < var_831_14 + var_831_15 then
				local var_831_16 = (arg_828_1.time_ - var_831_14) / var_831_15
				local var_831_17 = Color.New(0, 0, 0)

				var_831_17.a = Mathf.Lerp(1, 0, var_831_16)
				arg_828_1.mask_.color = var_831_17
			end

			if arg_828_1.time_ >= var_831_14 + var_831_15 and arg_828_1.time_ < var_831_14 + var_831_15 + arg_831_0 then
				local var_831_18 = Color.New(0, 0, 0)
				local var_831_19 = 0

				arg_828_1.mask_.enabled = false
				var_831_18.a = var_831_19
				arg_828_1.mask_.color = var_831_18
			end

			if arg_828_1.frameCnt_ <= 1 then
				arg_828_1.dialog_:SetActive(false)
			end

			local var_831_20 = 2.93266666481892
			local var_831_21 = 0.775

			if var_831_20 < arg_828_1.time_ and arg_828_1.time_ <= var_831_20 + arg_831_0 then
				arg_828_1.talkMaxDuration = 0

				arg_828_1.dialog_:SetActive(true)

				local var_831_22 = LeanTween.value(arg_828_1.dialog_, 0, 1, 0.3)

				var_831_22:setOnUpdate(LuaHelper.FloatAction(function(arg_832_0)
					arg_828_1.dialogCg_.alpha = arg_832_0
				end))
				var_831_22:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_828_1.dialog_)
					var_831_22:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_828_1.duration_ = arg_828_1.duration_ + 0.3

				SetActive(arg_828_1.leftNameGo_, false)

				arg_828_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_828_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_828_1:RecordName(arg_828_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_828_1.iconTrs_.gameObject, false)
				arg_828_1.callingController_:SetSelectedState("normal")

				local var_831_23 = arg_828_1:GetWordFromCfg(411121193)
				local var_831_24 = arg_828_1:FormatText(var_831_23.content)

				arg_828_1.text_.text = var_831_24

				LuaForUtil.ClearLinePrefixSymbol(arg_828_1.text_)

				local var_831_25 = 31
				local var_831_26 = utf8.len(var_831_24)
				local var_831_27 = var_831_25 <= 0 and var_831_21 or var_831_21 * (var_831_26 / var_831_25)

				if var_831_27 > 0 and var_831_21 < var_831_27 then
					arg_828_1.talkMaxDuration = var_831_27
					var_831_20 = var_831_20 + 0.3

					if var_831_27 + var_831_20 > arg_828_1.duration_ then
						arg_828_1.duration_ = var_831_27 + var_831_20
					end
				end

				arg_828_1.text_.text = var_831_24
				arg_828_1.typewritter.percent = 0

				arg_828_1.typewritter:SetDirty()
				arg_828_1:ShowNextGo(false)
				arg_828_1:RecordContent(arg_828_1.text_.text)
			end

			local var_831_28 = var_831_20 + 0.3
			local var_831_29 = math.max(var_831_21, arg_828_1.talkMaxDuration)

			if var_831_28 <= arg_828_1.time_ and arg_828_1.time_ < var_831_28 + var_831_29 then
				arg_828_1.typewritter.percent = (arg_828_1.time_ - var_831_28) / var_831_29

				arg_828_1.typewritter:SetDirty()
			end

			if arg_828_1.time_ >= var_831_28 + var_831_29 and arg_828_1.time_ < var_831_28 + var_831_29 + arg_831_0 then
				arg_828_1.typewritter.percent = 1

				arg_828_1.typewritter:SetDirty()
				arg_828_1:ShowNextGo(true)
			end
		end
	end,
	Play411121194 = function(arg_834_0, arg_834_1)
		arg_834_1.time_ = 0
		arg_834_1.frameCnt_ = 0
		arg_834_1.state_ = "playing"
		arg_834_1.curTalkId_ = 411121194
		arg_834_1.duration_ = 10.1

		local var_834_0 = {
			zh = 7.83266666666667,
			ja = 10.0996666666667
		}
		local var_834_1 = manager.audio:GetLocalizationFlag()

		if var_834_0[var_834_1] ~= nil then
			arg_834_1.duration_ = var_834_0[var_834_1]
		end

		SetActive(arg_834_1.tipsGo_, false)

		function arg_834_1.onSingleLineFinish_()
			arg_834_1.onSingleLineUpdate_ = nil
			arg_834_1.onSingleLineFinish_ = nil
			arg_834_1.state_ = "waiting"
		end

		function arg_834_1.playNext_(arg_836_0)
			if arg_836_0 == 1 then
				arg_834_0:Play411121195(arg_834_1)
			end
		end

		function arg_834_1.onSingleLineUpdate_(arg_837_0)
			local var_837_0 = arg_834_1.actors_["10014ui_story"].transform
			local var_837_1 = 3.66666666666667

			if var_837_1 < arg_834_1.time_ and arg_834_1.time_ <= var_837_1 + arg_837_0 then
				arg_834_1.var_.moveOldPos10014ui_story = var_837_0.localPosition
			end

			local var_837_2 = 0.001

			if var_837_1 <= arg_834_1.time_ and arg_834_1.time_ < var_837_1 + var_837_2 then
				local var_837_3 = (arg_834_1.time_ - var_837_1) / var_837_2
				local var_837_4 = Vector3.New(0, -1.06, -6.2)

				var_837_0.localPosition = Vector3.Lerp(arg_834_1.var_.moveOldPos10014ui_story, var_837_4, var_837_3)

				local var_837_5 = manager.ui.mainCamera.transform.position - var_837_0.position

				var_837_0.forward = Vector3.New(var_837_5.x, var_837_5.y, var_837_5.z)

				local var_837_6 = var_837_0.localEulerAngles

				var_837_6.z = 0
				var_837_6.x = 0
				var_837_0.localEulerAngles = var_837_6
			end

			if arg_834_1.time_ >= var_837_1 + var_837_2 and arg_834_1.time_ < var_837_1 + var_837_2 + arg_837_0 then
				var_837_0.localPosition = Vector3.New(0, -1.06, -6.2)

				local var_837_7 = manager.ui.mainCamera.transform.position - var_837_0.position

				var_837_0.forward = Vector3.New(var_837_7.x, var_837_7.y, var_837_7.z)

				local var_837_8 = var_837_0.localEulerAngles

				var_837_8.z = 0
				var_837_8.x = 0
				var_837_0.localEulerAngles = var_837_8
			end

			local var_837_9 = arg_834_1.actors_["10014ui_story"]
			local var_837_10 = 3.66666666666667

			if var_837_10 < arg_834_1.time_ and arg_834_1.time_ <= var_837_10 + arg_837_0 and not isNil(var_837_9) and arg_834_1.var_.characterEffect10014ui_story == nil then
				arg_834_1.var_.characterEffect10014ui_story = var_837_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_837_11 = 0.200000002980232

			if var_837_10 <= arg_834_1.time_ and arg_834_1.time_ < var_837_10 + var_837_11 and not isNil(var_837_9) then
				local var_837_12 = (arg_834_1.time_ - var_837_10) / var_837_11

				if arg_834_1.var_.characterEffect10014ui_story and not isNil(var_837_9) then
					arg_834_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_834_1.time_ >= var_837_10 + var_837_11 and arg_834_1.time_ < var_837_10 + var_837_11 + arg_837_0 and not isNil(var_837_9) and arg_834_1.var_.characterEffect10014ui_story then
				arg_834_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_837_13 = 3.66666666666667

			if var_837_13 < arg_834_1.time_ and arg_834_1.time_ <= var_837_13 + arg_837_0 then
				arg_834_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action5_2")
			end

			local var_837_14 = 3.66666666666667

			if var_837_14 < arg_834_1.time_ and arg_834_1.time_ <= var_837_14 + arg_837_0 then
				arg_834_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_837_15 = 0

			if var_837_15 < arg_834_1.time_ and arg_834_1.time_ <= var_837_15 + arg_837_0 then
				local var_837_16 = manager.ui.mainCamera.transform.localPosition
				local var_837_17 = Vector3.New(0, 0, 10) + Vector3.New(var_837_16.x, var_837_16.y, 0)
				local var_837_18 = arg_834_1.bgs_.STblack

				var_837_18.transform.localPosition = var_837_17
				var_837_18.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_837_19 = var_837_18:GetComponent("SpriteRenderer")

				if var_837_19 and var_837_19.sprite then
					local var_837_20 = (var_837_18.transform.localPosition - var_837_16).z
					local var_837_21 = manager.ui.mainCameraCom_
					local var_837_22 = 2 * var_837_20 * Mathf.Tan(var_837_21.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_837_23 = var_837_22 * var_837_21.aspect
					local var_837_24 = var_837_19.sprite.bounds.size.x
					local var_837_25 = var_837_19.sprite.bounds.size.y
					local var_837_26 = var_837_23 / var_837_24
					local var_837_27 = var_837_22 / var_837_25
					local var_837_28 = var_837_27 < var_837_26 and var_837_26 or var_837_27

					var_837_18.transform.localScale = Vector3.New(var_837_28, var_837_28, 0)
				end

				for iter_837_0, iter_837_1 in pairs(arg_834_1.bgs_) do
					if iter_837_0 ~= "STblack" then
						iter_837_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_837_29 = "B14"

			if arg_834_1.bgs_[var_837_29] == nil then
				local var_837_30 = Object.Instantiate(arg_834_1.paintGo_)

				var_837_30:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_837_29)
				var_837_30.name = var_837_29
				var_837_30.transform.parent = arg_834_1.stage_.transform
				var_837_30.transform.localPosition = Vector3.New(0, 100, 0)
				arg_834_1.bgs_[var_837_29] = var_837_30
			end

			local var_837_31 = 1.66666666666667

			if var_837_31 < arg_834_1.time_ and arg_834_1.time_ <= var_837_31 + arg_837_0 then
				local var_837_32 = manager.ui.mainCamera.transform.localPosition
				local var_837_33 = Vector3.New(0, 0, 10) + Vector3.New(var_837_32.x, var_837_32.y, 0)
				local var_837_34 = arg_834_1.bgs_.B14

				var_837_34.transform.localPosition = var_837_33
				var_837_34.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_837_35 = var_837_34:GetComponent("SpriteRenderer")

				if var_837_35 and var_837_35.sprite then
					local var_837_36 = (var_837_34.transform.localPosition - var_837_32).z
					local var_837_37 = manager.ui.mainCameraCom_
					local var_837_38 = 2 * var_837_36 * Mathf.Tan(var_837_37.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_837_39 = var_837_38 * var_837_37.aspect
					local var_837_40 = var_837_35.sprite.bounds.size.x
					local var_837_41 = var_837_35.sprite.bounds.size.y
					local var_837_42 = var_837_39 / var_837_40
					local var_837_43 = var_837_38 / var_837_41
					local var_837_44 = var_837_43 < var_837_42 and var_837_42 or var_837_43

					var_837_34.transform.localScale = Vector3.New(var_837_44, var_837_44, 0)
				end

				for iter_837_2, iter_837_3 in pairs(arg_834_1.bgs_) do
					if iter_837_2 ~= "B14" then
						iter_837_3.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_837_45 = 0

			if var_837_45 < arg_834_1.time_ and arg_834_1.time_ <= var_837_45 + arg_837_0 then
				arg_834_1.mask_.enabled = true
				arg_834_1.mask_.raycastTarget = true

				arg_834_1:SetGaussion(false)
			end

			local var_837_46 = 1.66666666666667

			if var_837_45 <= arg_834_1.time_ and arg_834_1.time_ < var_837_45 + var_837_46 then
				local var_837_47 = (arg_834_1.time_ - var_837_45) / var_837_46
				local var_837_48 = Color.New(0, 0, 0)

				var_837_48.a = Mathf.Lerp(0, 1, var_837_47)
				arg_834_1.mask_.color = var_837_48
			end

			if arg_834_1.time_ >= var_837_45 + var_837_46 and arg_834_1.time_ < var_837_45 + var_837_46 + arg_837_0 then
				local var_837_49 = Color.New(0, 0, 0)

				var_837_49.a = 1
				arg_834_1.mask_.color = var_837_49
			end

			local var_837_50 = 1.66666666666667

			if var_837_50 < arg_834_1.time_ and arg_834_1.time_ <= var_837_50 + arg_837_0 then
				arg_834_1.mask_.enabled = true
				arg_834_1.mask_.raycastTarget = true

				arg_834_1:SetGaussion(false)
			end

			local var_837_51 = 2

			if var_837_50 <= arg_834_1.time_ and arg_834_1.time_ < var_837_50 + var_837_51 then
				local var_837_52 = (arg_834_1.time_ - var_837_50) / var_837_51
				local var_837_53 = Color.New(0, 0, 0)

				var_837_53.a = Mathf.Lerp(1, 0, var_837_52)
				arg_834_1.mask_.color = var_837_53
			end

			if arg_834_1.time_ >= var_837_50 + var_837_51 and arg_834_1.time_ < var_837_50 + var_837_51 + arg_837_0 then
				local var_837_54 = Color.New(0, 0, 0)
				local var_837_55 = 0

				arg_834_1.mask_.enabled = false
				var_837_54.a = var_837_55
				arg_834_1.mask_.color = var_837_54
			end

			if arg_834_1.frameCnt_ <= 1 then
				arg_834_1.dialog_:SetActive(false)
			end

			local var_837_56 = 3.66666666666667
			local var_837_57 = 0.55

			if var_837_56 < arg_834_1.time_ and arg_834_1.time_ <= var_837_56 + arg_837_0 then
				arg_834_1.talkMaxDuration = 0

				arg_834_1.dialog_:SetActive(true)

				local var_837_58 = LeanTween.value(arg_834_1.dialog_, 0, 1, 0.3)

				var_837_58:setOnUpdate(LuaHelper.FloatAction(function(arg_838_0)
					arg_834_1.dialogCg_.alpha = arg_838_0
				end))
				var_837_58:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_834_1.dialog_)
					var_837_58:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_834_1.duration_ = arg_834_1.duration_ + 0.3

				SetActive(arg_834_1.leftNameGo_, true)

				local var_837_59 = arg_834_1:FormatText(StoryNameCfg[264].name)

				arg_834_1.leftNameTxt_.text = var_837_59

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_834_1.leftNameTxt_.transform)

				arg_834_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_834_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_834_1:RecordName(arg_834_1.leftNameTxt_.text)
				SetActive(arg_834_1.iconTrs_.gameObject, false)
				arg_834_1.callingController_:SetSelectedState("normal")

				local var_837_60 = arg_834_1:GetWordFromCfg(411121194)
				local var_837_61 = arg_834_1:FormatText(var_837_60.content)

				arg_834_1.text_.text = var_837_61

				LuaForUtil.ClearLinePrefixSymbol(arg_834_1.text_)

				local var_837_62 = 22
				local var_837_63 = utf8.len(var_837_61)
				local var_837_64 = var_837_62 <= 0 and var_837_57 or var_837_57 * (var_837_63 / var_837_62)

				if var_837_64 > 0 and var_837_57 < var_837_64 then
					arg_834_1.talkMaxDuration = var_837_64
					var_837_56 = var_837_56 + 0.3

					if var_837_64 + var_837_56 > arg_834_1.duration_ then
						arg_834_1.duration_ = var_837_64 + var_837_56
					end
				end

				arg_834_1.text_.text = var_837_61
				arg_834_1.typewritter.percent = 0

				arg_834_1.typewritter:SetDirty()
				arg_834_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121194", "story_v_out_411121.awb") ~= 0 then
					local var_837_65 = manager.audio:GetVoiceLength("story_v_out_411121", "411121194", "story_v_out_411121.awb") / 1000

					if var_837_65 + var_837_56 > arg_834_1.duration_ then
						arg_834_1.duration_ = var_837_65 + var_837_56
					end

					if var_837_60.prefab_name ~= "" and arg_834_1.actors_[var_837_60.prefab_name] ~= nil then
						local var_837_66 = LuaForUtil.PlayVoiceWithCriLipsync(arg_834_1.actors_[var_837_60.prefab_name].transform, "story_v_out_411121", "411121194", "story_v_out_411121.awb")

						arg_834_1:RecordAudio("411121194", var_837_66)
						arg_834_1:RecordAudio("411121194", var_837_66)
					else
						arg_834_1:AudioAction("play", "voice", "story_v_out_411121", "411121194", "story_v_out_411121.awb")
					end

					arg_834_1:RecordHistoryTalkVoice("story_v_out_411121", "411121194", "story_v_out_411121.awb")
				end

				arg_834_1:RecordContent(arg_834_1.text_.text)
			end

			local var_837_67 = var_837_56 + 0.3
			local var_837_68 = math.max(var_837_57, arg_834_1.talkMaxDuration)

			if var_837_67 <= arg_834_1.time_ and arg_834_1.time_ < var_837_67 + var_837_68 then
				arg_834_1.typewritter.percent = (arg_834_1.time_ - var_837_67) / var_837_68

				arg_834_1.typewritter:SetDirty()
			end

			if arg_834_1.time_ >= var_837_67 + var_837_68 and arg_834_1.time_ < var_837_67 + var_837_68 + arg_837_0 then
				arg_834_1.typewritter.percent = 1

				arg_834_1.typewritter:SetDirty()
				arg_834_1:ShowNextGo(true)
			end
		end
	end,
	Play411121195 = function(arg_840_0, arg_840_1)
		arg_840_1.time_ = 0
		arg_840_1.frameCnt_ = 0
		arg_840_1.state_ = "playing"
		arg_840_1.curTalkId_ = 411121195
		arg_840_1.duration_ = 8.47

		local var_840_0 = {
			zh = 4.166,
			ja = 8.466
		}
		local var_840_1 = manager.audio:GetLocalizationFlag()

		if var_840_0[var_840_1] ~= nil then
			arg_840_1.duration_ = var_840_0[var_840_1]
		end

		SetActive(arg_840_1.tipsGo_, false)

		function arg_840_1.onSingleLineFinish_()
			arg_840_1.onSingleLineUpdate_ = nil
			arg_840_1.onSingleLineFinish_ = nil
			arg_840_1.state_ = "waiting"
		end

		function arg_840_1.playNext_(arg_842_0)
			if arg_842_0 == 1 then
				arg_840_0:Play411121196(arg_840_1)
			end
		end

		function arg_840_1.onSingleLineUpdate_(arg_843_0)
			local var_843_0 = arg_840_1.actors_["1095ui_story"].transform
			local var_843_1 = 0

			if var_843_1 < arg_840_1.time_ and arg_840_1.time_ <= var_843_1 + arg_843_0 then
				arg_840_1.var_.moveOldPos1095ui_story = var_843_0.localPosition
			end

			local var_843_2 = 0.001

			if var_843_1 <= arg_840_1.time_ and arg_840_1.time_ < var_843_1 + var_843_2 then
				local var_843_3 = (arg_840_1.time_ - var_843_1) / var_843_2
				local var_843_4 = Vector3.New(0.7, -0.98, -6.1)

				var_843_0.localPosition = Vector3.Lerp(arg_840_1.var_.moveOldPos1095ui_story, var_843_4, var_843_3)

				local var_843_5 = manager.ui.mainCamera.transform.position - var_843_0.position

				var_843_0.forward = Vector3.New(var_843_5.x, var_843_5.y, var_843_5.z)

				local var_843_6 = var_843_0.localEulerAngles

				var_843_6.z = 0
				var_843_6.x = 0
				var_843_0.localEulerAngles = var_843_6
			end

			if arg_840_1.time_ >= var_843_1 + var_843_2 and arg_840_1.time_ < var_843_1 + var_843_2 + arg_843_0 then
				var_843_0.localPosition = Vector3.New(0.7, -0.98, -6.1)

				local var_843_7 = manager.ui.mainCamera.transform.position - var_843_0.position

				var_843_0.forward = Vector3.New(var_843_7.x, var_843_7.y, var_843_7.z)

				local var_843_8 = var_843_0.localEulerAngles

				var_843_8.z = 0
				var_843_8.x = 0
				var_843_0.localEulerAngles = var_843_8
			end

			local var_843_9 = arg_840_1.actors_["1095ui_story"]
			local var_843_10 = 0

			if var_843_10 < arg_840_1.time_ and arg_840_1.time_ <= var_843_10 + arg_843_0 and not isNil(var_843_9) and arg_840_1.var_.characterEffect1095ui_story == nil then
				arg_840_1.var_.characterEffect1095ui_story = var_843_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_843_11 = 0.200000002980232

			if var_843_10 <= arg_840_1.time_ and arg_840_1.time_ < var_843_10 + var_843_11 and not isNil(var_843_9) then
				local var_843_12 = (arg_840_1.time_ - var_843_10) / var_843_11

				if arg_840_1.var_.characterEffect1095ui_story and not isNil(var_843_9) then
					arg_840_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_840_1.time_ >= var_843_10 + var_843_11 and arg_840_1.time_ < var_843_10 + var_843_11 + arg_843_0 and not isNil(var_843_9) and arg_840_1.var_.characterEffect1095ui_story then
				arg_840_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_843_13 = 0

			if var_843_13 < arg_840_1.time_ and arg_840_1.time_ <= var_843_13 + arg_843_0 then
				arg_840_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action1_1")
			end

			local var_843_14 = 0

			if var_843_14 < arg_840_1.time_ and arg_840_1.time_ <= var_843_14 + arg_843_0 then
				arg_840_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0101cva")
			end

			local var_843_15 = arg_840_1.actors_["10014ui_story"].transform
			local var_843_16 = 0

			if var_843_16 < arg_840_1.time_ and arg_840_1.time_ <= var_843_16 + arg_843_0 then
				arg_840_1.var_.moveOldPos10014ui_story = var_843_15.localPosition
			end

			local var_843_17 = 0.001

			if var_843_16 <= arg_840_1.time_ and arg_840_1.time_ < var_843_16 + var_843_17 then
				local var_843_18 = (arg_840_1.time_ - var_843_16) / var_843_17
				local var_843_19 = Vector3.New(-0.7, -1.06, -6.2)

				var_843_15.localPosition = Vector3.Lerp(arg_840_1.var_.moveOldPos10014ui_story, var_843_19, var_843_18)

				local var_843_20 = manager.ui.mainCamera.transform.position - var_843_15.position

				var_843_15.forward = Vector3.New(var_843_20.x, var_843_20.y, var_843_20.z)

				local var_843_21 = var_843_15.localEulerAngles

				var_843_21.z = 0
				var_843_21.x = 0
				var_843_15.localEulerAngles = var_843_21
			end

			if arg_840_1.time_ >= var_843_16 + var_843_17 and arg_840_1.time_ < var_843_16 + var_843_17 + arg_843_0 then
				var_843_15.localPosition = Vector3.New(-0.7, -1.06, -6.2)

				local var_843_22 = manager.ui.mainCamera.transform.position - var_843_15.position

				var_843_15.forward = Vector3.New(var_843_22.x, var_843_22.y, var_843_22.z)

				local var_843_23 = var_843_15.localEulerAngles

				var_843_23.z = 0
				var_843_23.x = 0
				var_843_15.localEulerAngles = var_843_23
			end

			local var_843_24 = arg_840_1.actors_["10014ui_story"]
			local var_843_25 = 0

			if var_843_25 < arg_840_1.time_ and arg_840_1.time_ <= var_843_25 + arg_843_0 and not isNil(var_843_24) and arg_840_1.var_.characterEffect10014ui_story == nil then
				arg_840_1.var_.characterEffect10014ui_story = var_843_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_843_26 = 0.200000002980232

			if var_843_25 <= arg_840_1.time_ and arg_840_1.time_ < var_843_25 + var_843_26 and not isNil(var_843_24) then
				local var_843_27 = (arg_840_1.time_ - var_843_25) / var_843_26

				if arg_840_1.var_.characterEffect10014ui_story and not isNil(var_843_24) then
					local var_843_28 = Mathf.Lerp(0, 0.5, var_843_27)

					arg_840_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_840_1.var_.characterEffect10014ui_story.fillRatio = var_843_28
				end
			end

			if arg_840_1.time_ >= var_843_25 + var_843_26 and arg_840_1.time_ < var_843_25 + var_843_26 + arg_843_0 and not isNil(var_843_24) and arg_840_1.var_.characterEffect10014ui_story then
				local var_843_29 = 0.5

				arg_840_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_840_1.var_.characterEffect10014ui_story.fillRatio = var_843_29
			end

			local var_843_30 = 0
			local var_843_31 = 0.525

			if var_843_30 < arg_840_1.time_ and arg_840_1.time_ <= var_843_30 + arg_843_0 then
				arg_840_1.talkMaxDuration = 0
				arg_840_1.dialogCg_.alpha = 1

				arg_840_1.dialog_:SetActive(true)
				SetActive(arg_840_1.leftNameGo_, true)

				local var_843_32 = arg_840_1:FormatText(StoryNameCfg[471].name)

				arg_840_1.leftNameTxt_.text = var_843_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_840_1.leftNameTxt_.transform)

				arg_840_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_840_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_840_1:RecordName(arg_840_1.leftNameTxt_.text)
				SetActive(arg_840_1.iconTrs_.gameObject, false)
				arg_840_1.callingController_:SetSelectedState("normal")

				local var_843_33 = arg_840_1:GetWordFromCfg(411121195)
				local var_843_34 = arg_840_1:FormatText(var_843_33.content)

				arg_840_1.text_.text = var_843_34

				LuaForUtil.ClearLinePrefixSymbol(arg_840_1.text_)

				local var_843_35 = 21
				local var_843_36 = utf8.len(var_843_34)
				local var_843_37 = var_843_35 <= 0 and var_843_31 or var_843_31 * (var_843_36 / var_843_35)

				if var_843_37 > 0 and var_843_31 < var_843_37 then
					arg_840_1.talkMaxDuration = var_843_37

					if var_843_37 + var_843_30 > arg_840_1.duration_ then
						arg_840_1.duration_ = var_843_37 + var_843_30
					end
				end

				arg_840_1.text_.text = var_843_34
				arg_840_1.typewritter.percent = 0

				arg_840_1.typewritter:SetDirty()
				arg_840_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121195", "story_v_out_411121.awb") ~= 0 then
					local var_843_38 = manager.audio:GetVoiceLength("story_v_out_411121", "411121195", "story_v_out_411121.awb") / 1000

					if var_843_38 + var_843_30 > arg_840_1.duration_ then
						arg_840_1.duration_ = var_843_38 + var_843_30
					end

					if var_843_33.prefab_name ~= "" and arg_840_1.actors_[var_843_33.prefab_name] ~= nil then
						local var_843_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_840_1.actors_[var_843_33.prefab_name].transform, "story_v_out_411121", "411121195", "story_v_out_411121.awb")

						arg_840_1:RecordAudio("411121195", var_843_39)
						arg_840_1:RecordAudio("411121195", var_843_39)
					else
						arg_840_1:AudioAction("play", "voice", "story_v_out_411121", "411121195", "story_v_out_411121.awb")
					end

					arg_840_1:RecordHistoryTalkVoice("story_v_out_411121", "411121195", "story_v_out_411121.awb")
				end

				arg_840_1:RecordContent(arg_840_1.text_.text)
			end

			local var_843_40 = math.max(var_843_31, arg_840_1.talkMaxDuration)

			if var_843_30 <= arg_840_1.time_ and arg_840_1.time_ < var_843_30 + var_843_40 then
				arg_840_1.typewritter.percent = (arg_840_1.time_ - var_843_30) / var_843_40

				arg_840_1.typewritter:SetDirty()
			end

			if arg_840_1.time_ >= var_843_30 + var_843_40 and arg_840_1.time_ < var_843_30 + var_843_40 + arg_843_0 then
				arg_840_1.typewritter.percent = 1

				arg_840_1.typewritter:SetDirty()
				arg_840_1:ShowNextGo(true)
			end
		end
	end,
	Play411121196 = function(arg_844_0, arg_844_1)
		arg_844_1.time_ = 0
		arg_844_1.frameCnt_ = 0
		arg_844_1.state_ = "playing"
		arg_844_1.curTalkId_ = 411121196
		arg_844_1.duration_ = 8.3

		local var_844_0 = {
			zh = 5.566,
			ja = 8.3
		}
		local var_844_1 = manager.audio:GetLocalizationFlag()

		if var_844_0[var_844_1] ~= nil then
			arg_844_1.duration_ = var_844_0[var_844_1]
		end

		SetActive(arg_844_1.tipsGo_, false)

		function arg_844_1.onSingleLineFinish_()
			arg_844_1.onSingleLineUpdate_ = nil
			arg_844_1.onSingleLineFinish_ = nil
			arg_844_1.state_ = "waiting"
		end

		function arg_844_1.playNext_(arg_846_0)
			if arg_846_0 == 1 then
				arg_844_0:Play411121197(arg_844_1)
			end
		end

		function arg_844_1.onSingleLineUpdate_(arg_847_0)
			local var_847_0 = arg_844_1.actors_["1095ui_story"]
			local var_847_1 = 0

			if var_847_1 < arg_844_1.time_ and arg_844_1.time_ <= var_847_1 + arg_847_0 and not isNil(var_847_0) and arg_844_1.var_.characterEffect1095ui_story == nil then
				arg_844_1.var_.characterEffect1095ui_story = var_847_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_847_2 = 0.200000002980232

			if var_847_1 <= arg_844_1.time_ and arg_844_1.time_ < var_847_1 + var_847_2 and not isNil(var_847_0) then
				local var_847_3 = (arg_844_1.time_ - var_847_1) / var_847_2

				if arg_844_1.var_.characterEffect1095ui_story and not isNil(var_847_0) then
					local var_847_4 = Mathf.Lerp(0, 0.5, var_847_3)

					arg_844_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_844_1.var_.characterEffect1095ui_story.fillRatio = var_847_4
				end
			end

			if arg_844_1.time_ >= var_847_1 + var_847_2 and arg_844_1.time_ < var_847_1 + var_847_2 + arg_847_0 and not isNil(var_847_0) and arg_844_1.var_.characterEffect1095ui_story then
				local var_847_5 = 0.5

				arg_844_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_844_1.var_.characterEffect1095ui_story.fillRatio = var_847_5
			end

			local var_847_6 = arg_844_1.actors_["10014ui_story"]
			local var_847_7 = 0

			if var_847_7 < arg_844_1.time_ and arg_844_1.time_ <= var_847_7 + arg_847_0 and not isNil(var_847_6) and arg_844_1.var_.characterEffect10014ui_story == nil then
				arg_844_1.var_.characterEffect10014ui_story = var_847_6:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_847_8 = 0.200000002980232

			if var_847_7 <= arg_844_1.time_ and arg_844_1.time_ < var_847_7 + var_847_8 and not isNil(var_847_6) then
				local var_847_9 = (arg_844_1.time_ - var_847_7) / var_847_8

				if arg_844_1.var_.characterEffect10014ui_story and not isNil(var_847_6) then
					arg_844_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_844_1.time_ >= var_847_7 + var_847_8 and arg_844_1.time_ < var_847_7 + var_847_8 + arg_847_0 and not isNil(var_847_6) and arg_844_1.var_.characterEffect10014ui_story then
				arg_844_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_847_10 = 0
			local var_847_11 = 0.65

			if var_847_10 < arg_844_1.time_ and arg_844_1.time_ <= var_847_10 + arg_847_0 then
				arg_844_1.talkMaxDuration = 0
				arg_844_1.dialogCg_.alpha = 1

				arg_844_1.dialog_:SetActive(true)
				SetActive(arg_844_1.leftNameGo_, true)

				local var_847_12 = arg_844_1:FormatText(StoryNameCfg[264].name)

				arg_844_1.leftNameTxt_.text = var_847_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_844_1.leftNameTxt_.transform)

				arg_844_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_844_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_844_1:RecordName(arg_844_1.leftNameTxt_.text)
				SetActive(arg_844_1.iconTrs_.gameObject, false)
				arg_844_1.callingController_:SetSelectedState("normal")

				local var_847_13 = arg_844_1:GetWordFromCfg(411121196)
				local var_847_14 = arg_844_1:FormatText(var_847_13.content)

				arg_844_1.text_.text = var_847_14

				LuaForUtil.ClearLinePrefixSymbol(arg_844_1.text_)

				local var_847_15 = 26
				local var_847_16 = utf8.len(var_847_14)
				local var_847_17 = var_847_15 <= 0 and var_847_11 or var_847_11 * (var_847_16 / var_847_15)

				if var_847_17 > 0 and var_847_11 < var_847_17 then
					arg_844_1.talkMaxDuration = var_847_17

					if var_847_17 + var_847_10 > arg_844_1.duration_ then
						arg_844_1.duration_ = var_847_17 + var_847_10
					end
				end

				arg_844_1.text_.text = var_847_14
				arg_844_1.typewritter.percent = 0

				arg_844_1.typewritter:SetDirty()
				arg_844_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121196", "story_v_out_411121.awb") ~= 0 then
					local var_847_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121196", "story_v_out_411121.awb") / 1000

					if var_847_18 + var_847_10 > arg_844_1.duration_ then
						arg_844_1.duration_ = var_847_18 + var_847_10
					end

					if var_847_13.prefab_name ~= "" and arg_844_1.actors_[var_847_13.prefab_name] ~= nil then
						local var_847_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_844_1.actors_[var_847_13.prefab_name].transform, "story_v_out_411121", "411121196", "story_v_out_411121.awb")

						arg_844_1:RecordAudio("411121196", var_847_19)
						arg_844_1:RecordAudio("411121196", var_847_19)
					else
						arg_844_1:AudioAction("play", "voice", "story_v_out_411121", "411121196", "story_v_out_411121.awb")
					end

					arg_844_1:RecordHistoryTalkVoice("story_v_out_411121", "411121196", "story_v_out_411121.awb")
				end

				arg_844_1:RecordContent(arg_844_1.text_.text)
			end

			local var_847_20 = math.max(var_847_11, arg_844_1.talkMaxDuration)

			if var_847_10 <= arg_844_1.time_ and arg_844_1.time_ < var_847_10 + var_847_20 then
				arg_844_1.typewritter.percent = (arg_844_1.time_ - var_847_10) / var_847_20

				arg_844_1.typewritter:SetDirty()
			end

			if arg_844_1.time_ >= var_847_10 + var_847_20 and arg_844_1.time_ < var_847_10 + var_847_20 + arg_847_0 then
				arg_844_1.typewritter.percent = 1

				arg_844_1.typewritter:SetDirty()
				arg_844_1:ShowNextGo(true)
			end
		end
	end,
	Play411121197 = function(arg_848_0, arg_848_1)
		arg_848_1.time_ = 0
		arg_848_1.frameCnt_ = 0
		arg_848_1.state_ = "playing"
		arg_848_1.curTalkId_ = 411121197
		arg_848_1.duration_ = 4.47

		local var_848_0 = {
			zh = 4.1,
			ja = 4.466
		}
		local var_848_1 = manager.audio:GetLocalizationFlag()

		if var_848_0[var_848_1] ~= nil then
			arg_848_1.duration_ = var_848_0[var_848_1]
		end

		SetActive(arg_848_1.tipsGo_, false)

		function arg_848_1.onSingleLineFinish_()
			arg_848_1.onSingleLineUpdate_ = nil
			arg_848_1.onSingleLineFinish_ = nil
			arg_848_1.state_ = "waiting"
		end

		function arg_848_1.playNext_(arg_850_0)
			if arg_850_0 == 1 then
				arg_848_0:Play411121198(arg_848_1)
			end
		end

		function arg_848_1.onSingleLineUpdate_(arg_851_0)
			local var_851_0 = 0
			local var_851_1 = 0.475

			if var_851_0 < arg_848_1.time_ and arg_848_1.time_ <= var_851_0 + arg_851_0 then
				arg_848_1.talkMaxDuration = 0
				arg_848_1.dialogCg_.alpha = 1

				arg_848_1.dialog_:SetActive(true)
				SetActive(arg_848_1.leftNameGo_, true)

				local var_851_2 = arg_848_1:FormatText(StoryNameCfg[264].name)

				arg_848_1.leftNameTxt_.text = var_851_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_848_1.leftNameTxt_.transform)

				arg_848_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_848_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_848_1:RecordName(arg_848_1.leftNameTxt_.text)
				SetActive(arg_848_1.iconTrs_.gameObject, false)
				arg_848_1.callingController_:SetSelectedState("normal")

				local var_851_3 = arg_848_1:GetWordFromCfg(411121197)
				local var_851_4 = arg_848_1:FormatText(var_851_3.content)

				arg_848_1.text_.text = var_851_4

				LuaForUtil.ClearLinePrefixSymbol(arg_848_1.text_)

				local var_851_5 = 19
				local var_851_6 = utf8.len(var_851_4)
				local var_851_7 = var_851_5 <= 0 and var_851_1 or var_851_1 * (var_851_6 / var_851_5)

				if var_851_7 > 0 and var_851_1 < var_851_7 then
					arg_848_1.talkMaxDuration = var_851_7

					if var_851_7 + var_851_0 > arg_848_1.duration_ then
						arg_848_1.duration_ = var_851_7 + var_851_0
					end
				end

				arg_848_1.text_.text = var_851_4
				arg_848_1.typewritter.percent = 0

				arg_848_1.typewritter:SetDirty()
				arg_848_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121197", "story_v_out_411121.awb") ~= 0 then
					local var_851_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121197", "story_v_out_411121.awb") / 1000

					if var_851_8 + var_851_0 > arg_848_1.duration_ then
						arg_848_1.duration_ = var_851_8 + var_851_0
					end

					if var_851_3.prefab_name ~= "" and arg_848_1.actors_[var_851_3.prefab_name] ~= nil then
						local var_851_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_848_1.actors_[var_851_3.prefab_name].transform, "story_v_out_411121", "411121197", "story_v_out_411121.awb")

						arg_848_1:RecordAudio("411121197", var_851_9)
						arg_848_1:RecordAudio("411121197", var_851_9)
					else
						arg_848_1:AudioAction("play", "voice", "story_v_out_411121", "411121197", "story_v_out_411121.awb")
					end

					arg_848_1:RecordHistoryTalkVoice("story_v_out_411121", "411121197", "story_v_out_411121.awb")
				end

				arg_848_1:RecordContent(arg_848_1.text_.text)
			end

			local var_851_10 = math.max(var_851_1, arg_848_1.talkMaxDuration)

			if var_851_0 <= arg_848_1.time_ and arg_848_1.time_ < var_851_0 + var_851_10 then
				arg_848_1.typewritter.percent = (arg_848_1.time_ - var_851_0) / var_851_10

				arg_848_1.typewritter:SetDirty()
			end

			if arg_848_1.time_ >= var_851_0 + var_851_10 and arg_848_1.time_ < var_851_0 + var_851_10 + arg_851_0 then
				arg_848_1.typewritter.percent = 1

				arg_848_1.typewritter:SetDirty()
				arg_848_1:ShowNextGo(true)
			end
		end
	end,
	Play411121198 = function(arg_852_0, arg_852_1)
		arg_852_1.time_ = 0
		arg_852_1.frameCnt_ = 0
		arg_852_1.state_ = "playing"
		arg_852_1.curTalkId_ = 411121198
		arg_852_1.duration_ = 6.33

		local var_852_0 = {
			zh = 6.3,
			ja = 6.333
		}
		local var_852_1 = manager.audio:GetLocalizationFlag()

		if var_852_0[var_852_1] ~= nil then
			arg_852_1.duration_ = var_852_0[var_852_1]
		end

		SetActive(arg_852_1.tipsGo_, false)

		function arg_852_1.onSingleLineFinish_()
			arg_852_1.onSingleLineUpdate_ = nil
			arg_852_1.onSingleLineFinish_ = nil
			arg_852_1.state_ = "waiting"
		end

		function arg_852_1.playNext_(arg_854_0)
			if arg_854_0 == 1 then
				arg_852_0:Play411121199(arg_852_1)
			end
		end

		function arg_852_1.onSingleLineUpdate_(arg_855_0)
			local var_855_0 = 0
			local var_855_1 = 0.675

			if var_855_0 < arg_852_1.time_ and arg_852_1.time_ <= var_855_0 + arg_855_0 then
				arg_852_1.talkMaxDuration = 0
				arg_852_1.dialogCg_.alpha = 1

				arg_852_1.dialog_:SetActive(true)
				SetActive(arg_852_1.leftNameGo_, true)

				local var_855_2 = arg_852_1:FormatText(StoryNameCfg[264].name)

				arg_852_1.leftNameTxt_.text = var_855_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_852_1.leftNameTxt_.transform)

				arg_852_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_852_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_852_1:RecordName(arg_852_1.leftNameTxt_.text)
				SetActive(arg_852_1.iconTrs_.gameObject, false)
				arg_852_1.callingController_:SetSelectedState("normal")

				local var_855_3 = arg_852_1:GetWordFromCfg(411121198)
				local var_855_4 = arg_852_1:FormatText(var_855_3.content)

				arg_852_1.text_.text = var_855_4

				LuaForUtil.ClearLinePrefixSymbol(arg_852_1.text_)

				local var_855_5 = 27
				local var_855_6 = utf8.len(var_855_4)
				local var_855_7 = var_855_5 <= 0 and var_855_1 or var_855_1 * (var_855_6 / var_855_5)

				if var_855_7 > 0 and var_855_1 < var_855_7 then
					arg_852_1.talkMaxDuration = var_855_7

					if var_855_7 + var_855_0 > arg_852_1.duration_ then
						arg_852_1.duration_ = var_855_7 + var_855_0
					end
				end

				arg_852_1.text_.text = var_855_4
				arg_852_1.typewritter.percent = 0

				arg_852_1.typewritter:SetDirty()
				arg_852_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121198", "story_v_out_411121.awb") ~= 0 then
					local var_855_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121198", "story_v_out_411121.awb") / 1000

					if var_855_8 + var_855_0 > arg_852_1.duration_ then
						arg_852_1.duration_ = var_855_8 + var_855_0
					end

					if var_855_3.prefab_name ~= "" and arg_852_1.actors_[var_855_3.prefab_name] ~= nil then
						local var_855_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_852_1.actors_[var_855_3.prefab_name].transform, "story_v_out_411121", "411121198", "story_v_out_411121.awb")

						arg_852_1:RecordAudio("411121198", var_855_9)
						arg_852_1:RecordAudio("411121198", var_855_9)
					else
						arg_852_1:AudioAction("play", "voice", "story_v_out_411121", "411121198", "story_v_out_411121.awb")
					end

					arg_852_1:RecordHistoryTalkVoice("story_v_out_411121", "411121198", "story_v_out_411121.awb")
				end

				arg_852_1:RecordContent(arg_852_1.text_.text)
			end

			local var_855_10 = math.max(var_855_1, arg_852_1.talkMaxDuration)

			if var_855_0 <= arg_852_1.time_ and arg_852_1.time_ < var_855_0 + var_855_10 then
				arg_852_1.typewritter.percent = (arg_852_1.time_ - var_855_0) / var_855_10

				arg_852_1.typewritter:SetDirty()
			end

			if arg_852_1.time_ >= var_855_0 + var_855_10 and arg_852_1.time_ < var_855_0 + var_855_10 + arg_855_0 then
				arg_852_1.typewritter.percent = 1

				arg_852_1.typewritter:SetDirty()
				arg_852_1:ShowNextGo(true)
			end
		end
	end,
	Play411121199 = function(arg_856_0, arg_856_1)
		arg_856_1.time_ = 0
		arg_856_1.frameCnt_ = 0
		arg_856_1.state_ = "playing"
		arg_856_1.curTalkId_ = 411121199
		arg_856_1.duration_ = 1.77

		local var_856_0 = {
			zh = 1.3,
			ja = 1.766
		}
		local var_856_1 = manager.audio:GetLocalizationFlag()

		if var_856_0[var_856_1] ~= nil then
			arg_856_1.duration_ = var_856_0[var_856_1]
		end

		SetActive(arg_856_1.tipsGo_, false)

		function arg_856_1.onSingleLineFinish_()
			arg_856_1.onSingleLineUpdate_ = nil
			arg_856_1.onSingleLineFinish_ = nil
			arg_856_1.state_ = "waiting"
		end

		function arg_856_1.playNext_(arg_858_0)
			if arg_858_0 == 1 then
				arg_856_0:Play411121200(arg_856_1)
			end
		end

		function arg_856_1.onSingleLineUpdate_(arg_859_0)
			local var_859_0 = arg_856_1.actors_["1095ui_story"]
			local var_859_1 = 0

			if var_859_1 < arg_856_1.time_ and arg_856_1.time_ <= var_859_1 + arg_859_0 and not isNil(var_859_0) and arg_856_1.var_.characterEffect1095ui_story == nil then
				arg_856_1.var_.characterEffect1095ui_story = var_859_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_859_2 = 0.200000002980232

			if var_859_1 <= arg_856_1.time_ and arg_856_1.time_ < var_859_1 + var_859_2 and not isNil(var_859_0) then
				local var_859_3 = (arg_856_1.time_ - var_859_1) / var_859_2

				if arg_856_1.var_.characterEffect1095ui_story and not isNil(var_859_0) then
					arg_856_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_856_1.time_ >= var_859_1 + var_859_2 and arg_856_1.time_ < var_859_1 + var_859_2 + arg_859_0 and not isNil(var_859_0) and arg_856_1.var_.characterEffect1095ui_story then
				arg_856_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_859_4 = arg_856_1.actors_["10014ui_story"]
			local var_859_5 = 0

			if var_859_5 < arg_856_1.time_ and arg_856_1.time_ <= var_859_5 + arg_859_0 and not isNil(var_859_4) and arg_856_1.var_.characterEffect10014ui_story == nil then
				arg_856_1.var_.characterEffect10014ui_story = var_859_4:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_859_6 = 0.200000002980232

			if var_859_5 <= arg_856_1.time_ and arg_856_1.time_ < var_859_5 + var_859_6 and not isNil(var_859_4) then
				local var_859_7 = (arg_856_1.time_ - var_859_5) / var_859_6

				if arg_856_1.var_.characterEffect10014ui_story and not isNil(var_859_4) then
					local var_859_8 = Mathf.Lerp(0, 0.5, var_859_7)

					arg_856_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_856_1.var_.characterEffect10014ui_story.fillRatio = var_859_8
				end
			end

			if arg_856_1.time_ >= var_859_5 + var_859_6 and arg_856_1.time_ < var_859_5 + var_859_6 + arg_859_0 and not isNil(var_859_4) and arg_856_1.var_.characterEffect10014ui_story then
				local var_859_9 = 0.5

				arg_856_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_856_1.var_.characterEffect10014ui_story.fillRatio = var_859_9
			end

			local var_859_10 = 0
			local var_859_11 = 0.125

			if var_859_10 < arg_856_1.time_ and arg_856_1.time_ <= var_859_10 + arg_859_0 then
				arg_856_1.talkMaxDuration = 0
				arg_856_1.dialogCg_.alpha = 1

				arg_856_1.dialog_:SetActive(true)
				SetActive(arg_856_1.leftNameGo_, true)

				local var_859_12 = arg_856_1:FormatText(StoryNameCfg[471].name)

				arg_856_1.leftNameTxt_.text = var_859_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_856_1.leftNameTxt_.transform)

				arg_856_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_856_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_856_1:RecordName(arg_856_1.leftNameTxt_.text)
				SetActive(arg_856_1.iconTrs_.gameObject, false)
				arg_856_1.callingController_:SetSelectedState("normal")

				local var_859_13 = arg_856_1:GetWordFromCfg(411121199)
				local var_859_14 = arg_856_1:FormatText(var_859_13.content)

				arg_856_1.text_.text = var_859_14

				LuaForUtil.ClearLinePrefixSymbol(arg_856_1.text_)

				local var_859_15 = 5
				local var_859_16 = utf8.len(var_859_14)
				local var_859_17 = var_859_15 <= 0 and var_859_11 or var_859_11 * (var_859_16 / var_859_15)

				if var_859_17 > 0 and var_859_11 < var_859_17 then
					arg_856_1.talkMaxDuration = var_859_17

					if var_859_17 + var_859_10 > arg_856_1.duration_ then
						arg_856_1.duration_ = var_859_17 + var_859_10
					end
				end

				arg_856_1.text_.text = var_859_14
				arg_856_1.typewritter.percent = 0

				arg_856_1.typewritter:SetDirty()
				arg_856_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121199", "story_v_out_411121.awb") ~= 0 then
					local var_859_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121199", "story_v_out_411121.awb") / 1000

					if var_859_18 + var_859_10 > arg_856_1.duration_ then
						arg_856_1.duration_ = var_859_18 + var_859_10
					end

					if var_859_13.prefab_name ~= "" and arg_856_1.actors_[var_859_13.prefab_name] ~= nil then
						local var_859_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_856_1.actors_[var_859_13.prefab_name].transform, "story_v_out_411121", "411121199", "story_v_out_411121.awb")

						arg_856_1:RecordAudio("411121199", var_859_19)
						arg_856_1:RecordAudio("411121199", var_859_19)
					else
						arg_856_1:AudioAction("play", "voice", "story_v_out_411121", "411121199", "story_v_out_411121.awb")
					end

					arg_856_1:RecordHistoryTalkVoice("story_v_out_411121", "411121199", "story_v_out_411121.awb")
				end

				arg_856_1:RecordContent(arg_856_1.text_.text)
			end

			local var_859_20 = math.max(var_859_11, arg_856_1.talkMaxDuration)

			if var_859_10 <= arg_856_1.time_ and arg_856_1.time_ < var_859_10 + var_859_20 then
				arg_856_1.typewritter.percent = (arg_856_1.time_ - var_859_10) / var_859_20

				arg_856_1.typewritter:SetDirty()
			end

			if arg_856_1.time_ >= var_859_10 + var_859_20 and arg_856_1.time_ < var_859_10 + var_859_20 + arg_859_0 then
				arg_856_1.typewritter.percent = 1

				arg_856_1.typewritter:SetDirty()
				arg_856_1:ShowNextGo(true)
			end
		end
	end,
	Play411121200 = function(arg_860_0, arg_860_1)
		arg_860_1.time_ = 0
		arg_860_1.frameCnt_ = 0
		arg_860_1.state_ = "playing"
		arg_860_1.curTalkId_ = 411121200
		arg_860_1.duration_ = 11.47

		local var_860_0 = {
			zh = 9.566,
			ja = 11.466
		}
		local var_860_1 = manager.audio:GetLocalizationFlag()

		if var_860_0[var_860_1] ~= nil then
			arg_860_1.duration_ = var_860_0[var_860_1]
		end

		SetActive(arg_860_1.tipsGo_, false)

		function arg_860_1.onSingleLineFinish_()
			arg_860_1.onSingleLineUpdate_ = nil
			arg_860_1.onSingleLineFinish_ = nil
			arg_860_1.state_ = "waiting"
		end

		function arg_860_1.playNext_(arg_862_0)
			if arg_862_0 == 1 then
				arg_860_0:Play411121201(arg_860_1)
			end
		end

		function arg_860_1.onSingleLineUpdate_(arg_863_0)
			local var_863_0 = arg_860_1.actors_["1095ui_story"]
			local var_863_1 = 0

			if var_863_1 < arg_860_1.time_ and arg_860_1.time_ <= var_863_1 + arg_863_0 and not isNil(var_863_0) and arg_860_1.var_.characterEffect1095ui_story == nil then
				arg_860_1.var_.characterEffect1095ui_story = var_863_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_863_2 = 0.200000002980232

			if var_863_1 <= arg_860_1.time_ and arg_860_1.time_ < var_863_1 + var_863_2 and not isNil(var_863_0) then
				local var_863_3 = (arg_860_1.time_ - var_863_1) / var_863_2

				if arg_860_1.var_.characterEffect1095ui_story and not isNil(var_863_0) then
					local var_863_4 = Mathf.Lerp(0, 0.5, var_863_3)

					arg_860_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_860_1.var_.characterEffect1095ui_story.fillRatio = var_863_4
				end
			end

			if arg_860_1.time_ >= var_863_1 + var_863_2 and arg_860_1.time_ < var_863_1 + var_863_2 + arg_863_0 and not isNil(var_863_0) and arg_860_1.var_.characterEffect1095ui_story then
				local var_863_5 = 0.5

				arg_860_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_860_1.var_.characterEffect1095ui_story.fillRatio = var_863_5
			end

			local var_863_6 = arg_860_1.actors_["10014ui_story"]
			local var_863_7 = 0

			if var_863_7 < arg_860_1.time_ and arg_860_1.time_ <= var_863_7 + arg_863_0 and not isNil(var_863_6) and arg_860_1.var_.characterEffect10014ui_story == nil then
				arg_860_1.var_.characterEffect10014ui_story = var_863_6:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_863_8 = 0.200000002980232

			if var_863_7 <= arg_860_1.time_ and arg_860_1.time_ < var_863_7 + var_863_8 and not isNil(var_863_6) then
				local var_863_9 = (arg_860_1.time_ - var_863_7) / var_863_8

				if arg_860_1.var_.characterEffect10014ui_story and not isNil(var_863_6) then
					arg_860_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_860_1.time_ >= var_863_7 + var_863_8 and arg_860_1.time_ < var_863_7 + var_863_8 + arg_863_0 and not isNil(var_863_6) and arg_860_1.var_.characterEffect10014ui_story then
				arg_860_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_863_10 = 0
			local var_863_11 = 1.2

			if var_863_10 < arg_860_1.time_ and arg_860_1.time_ <= var_863_10 + arg_863_0 then
				arg_860_1.talkMaxDuration = 0
				arg_860_1.dialogCg_.alpha = 1

				arg_860_1.dialog_:SetActive(true)
				SetActive(arg_860_1.leftNameGo_, true)

				local var_863_12 = arg_860_1:FormatText(StoryNameCfg[264].name)

				arg_860_1.leftNameTxt_.text = var_863_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_860_1.leftNameTxt_.transform)

				arg_860_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_860_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_860_1:RecordName(arg_860_1.leftNameTxt_.text)
				SetActive(arg_860_1.iconTrs_.gameObject, false)
				arg_860_1.callingController_:SetSelectedState("normal")

				local var_863_13 = arg_860_1:GetWordFromCfg(411121200)
				local var_863_14 = arg_860_1:FormatText(var_863_13.content)

				arg_860_1.text_.text = var_863_14

				LuaForUtil.ClearLinePrefixSymbol(arg_860_1.text_)

				local var_863_15 = 48
				local var_863_16 = utf8.len(var_863_14)
				local var_863_17 = var_863_15 <= 0 and var_863_11 or var_863_11 * (var_863_16 / var_863_15)

				if var_863_17 > 0 and var_863_11 < var_863_17 then
					arg_860_1.talkMaxDuration = var_863_17

					if var_863_17 + var_863_10 > arg_860_1.duration_ then
						arg_860_1.duration_ = var_863_17 + var_863_10
					end
				end

				arg_860_1.text_.text = var_863_14
				arg_860_1.typewritter.percent = 0

				arg_860_1.typewritter:SetDirty()
				arg_860_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121200", "story_v_out_411121.awb") ~= 0 then
					local var_863_18 = manager.audio:GetVoiceLength("story_v_out_411121", "411121200", "story_v_out_411121.awb") / 1000

					if var_863_18 + var_863_10 > arg_860_1.duration_ then
						arg_860_1.duration_ = var_863_18 + var_863_10
					end

					if var_863_13.prefab_name ~= "" and arg_860_1.actors_[var_863_13.prefab_name] ~= nil then
						local var_863_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_860_1.actors_[var_863_13.prefab_name].transform, "story_v_out_411121", "411121200", "story_v_out_411121.awb")

						arg_860_1:RecordAudio("411121200", var_863_19)
						arg_860_1:RecordAudio("411121200", var_863_19)
					else
						arg_860_1:AudioAction("play", "voice", "story_v_out_411121", "411121200", "story_v_out_411121.awb")
					end

					arg_860_1:RecordHistoryTalkVoice("story_v_out_411121", "411121200", "story_v_out_411121.awb")
				end

				arg_860_1:RecordContent(arg_860_1.text_.text)
			end

			local var_863_20 = math.max(var_863_11, arg_860_1.talkMaxDuration)

			if var_863_10 <= arg_860_1.time_ and arg_860_1.time_ < var_863_10 + var_863_20 then
				arg_860_1.typewritter.percent = (arg_860_1.time_ - var_863_10) / var_863_20

				arg_860_1.typewritter:SetDirty()
			end

			if arg_860_1.time_ >= var_863_10 + var_863_20 and arg_860_1.time_ < var_863_10 + var_863_20 + arg_863_0 then
				arg_860_1.typewritter.percent = 1

				arg_860_1.typewritter:SetDirty()
				arg_860_1:ShowNextGo(true)
			end
		end
	end,
	Play411121201 = function(arg_864_0, arg_864_1)
		arg_864_1.time_ = 0
		arg_864_1.frameCnt_ = 0
		arg_864_1.state_ = "playing"
		arg_864_1.curTalkId_ = 411121201
		arg_864_1.duration_ = 6.8

		local var_864_0 = {
			zh = 6.233,
			ja = 6.8
		}
		local var_864_1 = manager.audio:GetLocalizationFlag()

		if var_864_0[var_864_1] ~= nil then
			arg_864_1.duration_ = var_864_0[var_864_1]
		end

		SetActive(arg_864_1.tipsGo_, false)

		function arg_864_1.onSingleLineFinish_()
			arg_864_1.onSingleLineUpdate_ = nil
			arg_864_1.onSingleLineFinish_ = nil
			arg_864_1.state_ = "waiting"
		end

		function arg_864_1.playNext_(arg_866_0)
			if arg_866_0 == 1 then
				arg_864_0:Play411121202(arg_864_1)
			end
		end

		function arg_864_1.onSingleLineUpdate_(arg_867_0)
			local var_867_0 = arg_864_1.actors_["10014ui_story"]
			local var_867_1 = 0

			if var_867_1 < arg_864_1.time_ and arg_864_1.time_ <= var_867_1 + arg_867_0 and not isNil(var_867_0) and arg_864_1.var_.characterEffect10014ui_story == nil then
				arg_864_1.var_.characterEffect10014ui_story = var_867_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_867_2 = 0.200000002980232

			if var_867_1 <= arg_864_1.time_ and arg_864_1.time_ < var_867_1 + var_867_2 and not isNil(var_867_0) then
				local var_867_3 = (arg_864_1.time_ - var_867_1) / var_867_2

				if arg_864_1.var_.characterEffect10014ui_story and not isNil(var_867_0) then
					arg_864_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_864_1.time_ >= var_867_1 + var_867_2 and arg_864_1.time_ < var_867_1 + var_867_2 + arg_867_0 and not isNil(var_867_0) and arg_864_1.var_.characterEffect10014ui_story then
				arg_864_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_867_4 = 0

			if var_867_4 < arg_864_1.time_ and arg_864_1.time_ <= var_867_4 + arg_867_0 then
				arg_864_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action6_1")
			end

			local var_867_5 = 0

			if var_867_5 < arg_864_1.time_ and arg_864_1.time_ <= var_867_5 + arg_867_0 then
				arg_864_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_867_6 = arg_864_1.actors_["1095ui_story"]
			local var_867_7 = 0

			if var_867_7 < arg_864_1.time_ and arg_864_1.time_ <= var_867_7 + arg_867_0 and not isNil(var_867_6) and arg_864_1.var_.characterEffect1095ui_story == nil then
				arg_864_1.var_.characterEffect1095ui_story = var_867_6:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_867_8 = 0.200000002980232

			if var_867_7 <= arg_864_1.time_ and arg_864_1.time_ < var_867_7 + var_867_8 and not isNil(var_867_6) then
				local var_867_9 = (arg_864_1.time_ - var_867_7) / var_867_8

				if arg_864_1.var_.characterEffect1095ui_story and not isNil(var_867_6) then
					local var_867_10 = Mathf.Lerp(0, 0.5, var_867_9)

					arg_864_1.var_.characterEffect1095ui_story.fillFlat = true
					arg_864_1.var_.characterEffect1095ui_story.fillRatio = var_867_10
				end
			end

			if arg_864_1.time_ >= var_867_7 + var_867_8 and arg_864_1.time_ < var_867_7 + var_867_8 + arg_867_0 and not isNil(var_867_6) and arg_864_1.var_.characterEffect1095ui_story then
				local var_867_11 = 0.5

				arg_864_1.var_.characterEffect1095ui_story.fillFlat = true
				arg_864_1.var_.characterEffect1095ui_story.fillRatio = var_867_11
			end

			local var_867_12 = 0
			local var_867_13 = 0.725

			if var_867_12 < arg_864_1.time_ and arg_864_1.time_ <= var_867_12 + arg_867_0 then
				arg_864_1.talkMaxDuration = 0
				arg_864_1.dialogCg_.alpha = 1

				arg_864_1.dialog_:SetActive(true)
				SetActive(arg_864_1.leftNameGo_, true)

				local var_867_14 = arg_864_1:FormatText(StoryNameCfg[264].name)

				arg_864_1.leftNameTxt_.text = var_867_14

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_864_1.leftNameTxt_.transform)

				arg_864_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_864_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_864_1:RecordName(arg_864_1.leftNameTxt_.text)
				SetActive(arg_864_1.iconTrs_.gameObject, false)
				arg_864_1.callingController_:SetSelectedState("normal")

				local var_867_15 = arg_864_1:GetWordFromCfg(411121201)
				local var_867_16 = arg_864_1:FormatText(var_867_15.content)

				arg_864_1.text_.text = var_867_16

				LuaForUtil.ClearLinePrefixSymbol(arg_864_1.text_)

				local var_867_17 = 29
				local var_867_18 = utf8.len(var_867_16)
				local var_867_19 = var_867_17 <= 0 and var_867_13 or var_867_13 * (var_867_18 / var_867_17)

				if var_867_19 > 0 and var_867_13 < var_867_19 then
					arg_864_1.talkMaxDuration = var_867_19

					if var_867_19 + var_867_12 > arg_864_1.duration_ then
						arg_864_1.duration_ = var_867_19 + var_867_12
					end
				end

				arg_864_1.text_.text = var_867_16
				arg_864_1.typewritter.percent = 0

				arg_864_1.typewritter:SetDirty()
				arg_864_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121201", "story_v_out_411121.awb") ~= 0 then
					local var_867_20 = manager.audio:GetVoiceLength("story_v_out_411121", "411121201", "story_v_out_411121.awb") / 1000

					if var_867_20 + var_867_12 > arg_864_1.duration_ then
						arg_864_1.duration_ = var_867_20 + var_867_12
					end

					if var_867_15.prefab_name ~= "" and arg_864_1.actors_[var_867_15.prefab_name] ~= nil then
						local var_867_21 = LuaForUtil.PlayVoiceWithCriLipsync(arg_864_1.actors_[var_867_15.prefab_name].transform, "story_v_out_411121", "411121201", "story_v_out_411121.awb")

						arg_864_1:RecordAudio("411121201", var_867_21)
						arg_864_1:RecordAudio("411121201", var_867_21)
					else
						arg_864_1:AudioAction("play", "voice", "story_v_out_411121", "411121201", "story_v_out_411121.awb")
					end

					arg_864_1:RecordHistoryTalkVoice("story_v_out_411121", "411121201", "story_v_out_411121.awb")
				end

				arg_864_1:RecordContent(arg_864_1.text_.text)
			end

			local var_867_22 = math.max(var_867_13, arg_864_1.talkMaxDuration)

			if var_867_12 <= arg_864_1.time_ and arg_864_1.time_ < var_867_12 + var_867_22 then
				arg_864_1.typewritter.percent = (arg_864_1.time_ - var_867_12) / var_867_22

				arg_864_1.typewritter:SetDirty()
			end

			if arg_864_1.time_ >= var_867_12 + var_867_22 and arg_864_1.time_ < var_867_12 + var_867_22 + arg_867_0 then
				arg_864_1.typewritter.percent = 1

				arg_864_1.typewritter:SetDirty()
				arg_864_1:ShowNextGo(true)
			end
		end
	end,
	Play411121202 = function(arg_868_0, arg_868_1)
		arg_868_1.time_ = 0
		arg_868_1.frameCnt_ = 0
		arg_868_1.state_ = "playing"
		arg_868_1.curTalkId_ = 411121202
		arg_868_1.duration_ = 8.93

		local var_868_0 = {
			zh = 8.1,
			ja = 8.933
		}
		local var_868_1 = manager.audio:GetLocalizationFlag()

		if var_868_0[var_868_1] ~= nil then
			arg_868_1.duration_ = var_868_0[var_868_1]
		end

		SetActive(arg_868_1.tipsGo_, false)

		function arg_868_1.onSingleLineFinish_()
			arg_868_1.onSingleLineUpdate_ = nil
			arg_868_1.onSingleLineFinish_ = nil
			arg_868_1.state_ = "waiting"
		end

		function arg_868_1.playNext_(arg_870_0)
			if arg_870_0 == 1 then
				arg_868_0:Play411121203(arg_868_1)
			end
		end

		function arg_868_1.onSingleLineUpdate_(arg_871_0)
			local var_871_0 = arg_868_1.actors_["1095ui_story"].transform
			local var_871_1 = 0

			if var_871_1 < arg_868_1.time_ and arg_868_1.time_ <= var_871_1 + arg_871_0 then
				arg_868_1.var_.moveOldPos1095ui_story = var_871_0.localPosition
			end

			local var_871_2 = 0.001

			if var_871_1 <= arg_868_1.time_ and arg_868_1.time_ < var_871_1 + var_871_2 then
				local var_871_3 = (arg_868_1.time_ - var_871_1) / var_871_2
				local var_871_4 = Vector3.New(0.7, -0.98, -6.1)

				var_871_0.localPosition = Vector3.Lerp(arg_868_1.var_.moveOldPos1095ui_story, var_871_4, var_871_3)

				local var_871_5 = manager.ui.mainCamera.transform.position - var_871_0.position

				var_871_0.forward = Vector3.New(var_871_5.x, var_871_5.y, var_871_5.z)

				local var_871_6 = var_871_0.localEulerAngles

				var_871_6.z = 0
				var_871_6.x = 0
				var_871_0.localEulerAngles = var_871_6
			end

			if arg_868_1.time_ >= var_871_1 + var_871_2 and arg_868_1.time_ < var_871_1 + var_871_2 + arg_871_0 then
				var_871_0.localPosition = Vector3.New(0.7, -0.98, -6.1)

				local var_871_7 = manager.ui.mainCamera.transform.position - var_871_0.position

				var_871_0.forward = Vector3.New(var_871_7.x, var_871_7.y, var_871_7.z)

				local var_871_8 = var_871_0.localEulerAngles

				var_871_8.z = 0
				var_871_8.x = 0
				var_871_0.localEulerAngles = var_871_8
			end

			local var_871_9 = arg_868_1.actors_["1095ui_story"]
			local var_871_10 = 0

			if var_871_10 < arg_868_1.time_ and arg_868_1.time_ <= var_871_10 + arg_871_0 and not isNil(var_871_9) and arg_868_1.var_.characterEffect1095ui_story == nil then
				arg_868_1.var_.characterEffect1095ui_story = var_871_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_871_11 = 0.200000002980232

			if var_871_10 <= arg_868_1.time_ and arg_868_1.time_ < var_871_10 + var_871_11 and not isNil(var_871_9) then
				local var_871_12 = (arg_868_1.time_ - var_871_10) / var_871_11

				if arg_868_1.var_.characterEffect1095ui_story and not isNil(var_871_9) then
					arg_868_1.var_.characterEffect1095ui_story.fillFlat = false
				end
			end

			if arg_868_1.time_ >= var_871_10 + var_871_11 and arg_868_1.time_ < var_871_10 + var_871_11 + arg_871_0 and not isNil(var_871_9) and arg_868_1.var_.characterEffect1095ui_story then
				arg_868_1.var_.characterEffect1095ui_story.fillFlat = false
			end

			local var_871_13 = 0

			if var_871_13 < arg_868_1.time_ and arg_868_1.time_ <= var_871_13 + arg_871_0 then
				arg_868_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/story1095/story1095action/1095action2_1")
			end

			local var_871_14 = 0

			if var_871_14 < arg_868_1.time_ and arg_868_1.time_ <= var_871_14 + arg_871_0 then
				arg_868_1:PlayTimeline("1095ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0101cva")
			end

			local var_871_15 = arg_868_1.actors_["10014ui_story"]
			local var_871_16 = 0

			if var_871_16 < arg_868_1.time_ and arg_868_1.time_ <= var_871_16 + arg_871_0 and not isNil(var_871_15) and arg_868_1.var_.characterEffect10014ui_story == nil then
				arg_868_1.var_.characterEffect10014ui_story = var_871_15:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_871_17 = 0.200000002980232

			if var_871_16 <= arg_868_1.time_ and arg_868_1.time_ < var_871_16 + var_871_17 and not isNil(var_871_15) then
				local var_871_18 = (arg_868_1.time_ - var_871_16) / var_871_17

				if arg_868_1.var_.characterEffect10014ui_story and not isNil(var_871_15) then
					local var_871_19 = Mathf.Lerp(0, 0.5, var_871_18)

					arg_868_1.var_.characterEffect10014ui_story.fillFlat = true
					arg_868_1.var_.characterEffect10014ui_story.fillRatio = var_871_19
				end
			end

			if arg_868_1.time_ >= var_871_16 + var_871_17 and arg_868_1.time_ < var_871_16 + var_871_17 + arg_871_0 and not isNil(var_871_15) and arg_868_1.var_.characterEffect10014ui_story then
				local var_871_20 = 0.5

				arg_868_1.var_.characterEffect10014ui_story.fillFlat = true
				arg_868_1.var_.characterEffect10014ui_story.fillRatio = var_871_20
			end

			local var_871_21 = 0
			local var_871_22 = 0.575

			if var_871_21 < arg_868_1.time_ and arg_868_1.time_ <= var_871_21 + arg_871_0 then
				arg_868_1.talkMaxDuration = 0
				arg_868_1.dialogCg_.alpha = 1

				arg_868_1.dialog_:SetActive(true)
				SetActive(arg_868_1.leftNameGo_, true)

				local var_871_23 = arg_868_1:FormatText(StoryNameCfg[471].name)

				arg_868_1.leftNameTxt_.text = var_871_23

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_868_1.leftNameTxt_.transform)

				arg_868_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_868_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_868_1:RecordName(arg_868_1.leftNameTxt_.text)
				SetActive(arg_868_1.iconTrs_.gameObject, false)
				arg_868_1.callingController_:SetSelectedState("normal")

				local var_871_24 = arg_868_1:GetWordFromCfg(411121202)
				local var_871_25 = arg_868_1:FormatText(var_871_24.content)

				arg_868_1.text_.text = var_871_25

				LuaForUtil.ClearLinePrefixSymbol(arg_868_1.text_)

				local var_871_26 = 23
				local var_871_27 = utf8.len(var_871_25)
				local var_871_28 = var_871_26 <= 0 and var_871_22 or var_871_22 * (var_871_27 / var_871_26)

				if var_871_28 > 0 and var_871_22 < var_871_28 then
					arg_868_1.talkMaxDuration = var_871_28

					if var_871_28 + var_871_21 > arg_868_1.duration_ then
						arg_868_1.duration_ = var_871_28 + var_871_21
					end
				end

				arg_868_1.text_.text = var_871_25
				arg_868_1.typewritter.percent = 0

				arg_868_1.typewritter:SetDirty()
				arg_868_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121202", "story_v_out_411121.awb") ~= 0 then
					local var_871_29 = manager.audio:GetVoiceLength("story_v_out_411121", "411121202", "story_v_out_411121.awb") / 1000

					if var_871_29 + var_871_21 > arg_868_1.duration_ then
						arg_868_1.duration_ = var_871_29 + var_871_21
					end

					if var_871_24.prefab_name ~= "" and arg_868_1.actors_[var_871_24.prefab_name] ~= nil then
						local var_871_30 = LuaForUtil.PlayVoiceWithCriLipsync(arg_868_1.actors_[var_871_24.prefab_name].transform, "story_v_out_411121", "411121202", "story_v_out_411121.awb")

						arg_868_1:RecordAudio("411121202", var_871_30)
						arg_868_1:RecordAudio("411121202", var_871_30)
					else
						arg_868_1:AudioAction("play", "voice", "story_v_out_411121", "411121202", "story_v_out_411121.awb")
					end

					arg_868_1:RecordHistoryTalkVoice("story_v_out_411121", "411121202", "story_v_out_411121.awb")
				end

				arg_868_1:RecordContent(arg_868_1.text_.text)
			end

			local var_871_31 = math.max(var_871_22, arg_868_1.talkMaxDuration)

			if var_871_21 <= arg_868_1.time_ and arg_868_1.time_ < var_871_21 + var_871_31 then
				arg_868_1.typewritter.percent = (arg_868_1.time_ - var_871_21) / var_871_31

				arg_868_1.typewritter:SetDirty()
			end

			if arg_868_1.time_ >= var_871_21 + var_871_31 and arg_868_1.time_ < var_871_21 + var_871_31 + arg_871_0 then
				arg_868_1.typewritter.percent = 1

				arg_868_1.typewritter:SetDirty()
				arg_868_1:ShowNextGo(true)
			end
		end
	end,
	Play411121203 = function(arg_872_0, arg_872_1)
		arg_872_1.time_ = 0
		arg_872_1.frameCnt_ = 0
		arg_872_1.state_ = "playing"
		arg_872_1.curTalkId_ = 411121203
		arg_872_1.duration_ = 5

		SetActive(arg_872_1.tipsGo_, false)

		function arg_872_1.onSingleLineFinish_()
			arg_872_1.onSingleLineUpdate_ = nil
			arg_872_1.onSingleLineFinish_ = nil
			arg_872_1.state_ = "waiting"
		end

		function arg_872_1.playNext_(arg_874_0)
			if arg_874_0 == 1 then
				arg_872_0:Play411121204(arg_872_1)
			end
		end

		function arg_872_1.onSingleLineUpdate_(arg_875_0)
			local var_875_0 = arg_872_1.actors_["10014ui_story"].transform
			local var_875_1 = 0

			if var_875_1 < arg_872_1.time_ and arg_872_1.time_ <= var_875_1 + arg_875_0 then
				arg_872_1.var_.moveOldPos10014ui_story = var_875_0.localPosition
			end

			local var_875_2 = 0.001

			if var_875_1 <= arg_872_1.time_ and arg_872_1.time_ < var_875_1 + var_875_2 then
				local var_875_3 = (arg_872_1.time_ - var_875_1) / var_875_2
				local var_875_4 = Vector3.New(0, 100, 0)

				var_875_0.localPosition = Vector3.Lerp(arg_872_1.var_.moveOldPos10014ui_story, var_875_4, var_875_3)

				local var_875_5 = manager.ui.mainCamera.transform.position - var_875_0.position

				var_875_0.forward = Vector3.New(var_875_5.x, var_875_5.y, var_875_5.z)

				local var_875_6 = var_875_0.localEulerAngles

				var_875_6.z = 0
				var_875_6.x = 0
				var_875_0.localEulerAngles = var_875_6
			end

			if arg_872_1.time_ >= var_875_1 + var_875_2 and arg_872_1.time_ < var_875_1 + var_875_2 + arg_875_0 then
				var_875_0.localPosition = Vector3.New(0, 100, 0)

				local var_875_7 = manager.ui.mainCamera.transform.position - var_875_0.position

				var_875_0.forward = Vector3.New(var_875_7.x, var_875_7.y, var_875_7.z)

				local var_875_8 = var_875_0.localEulerAngles

				var_875_8.z = 0
				var_875_8.x = 0
				var_875_0.localEulerAngles = var_875_8
			end

			local var_875_9 = arg_872_1.actors_["1095ui_story"].transform
			local var_875_10 = 0

			if var_875_10 < arg_872_1.time_ and arg_872_1.time_ <= var_875_10 + arg_875_0 then
				arg_872_1.var_.moveOldPos1095ui_story = var_875_9.localPosition
			end

			local var_875_11 = 0.001

			if var_875_10 <= arg_872_1.time_ and arg_872_1.time_ < var_875_10 + var_875_11 then
				local var_875_12 = (arg_872_1.time_ - var_875_10) / var_875_11
				local var_875_13 = Vector3.New(0, 100, 0)

				var_875_9.localPosition = Vector3.Lerp(arg_872_1.var_.moveOldPos1095ui_story, var_875_13, var_875_12)

				local var_875_14 = manager.ui.mainCamera.transform.position - var_875_9.position

				var_875_9.forward = Vector3.New(var_875_14.x, var_875_14.y, var_875_14.z)

				local var_875_15 = var_875_9.localEulerAngles

				var_875_15.z = 0
				var_875_15.x = 0
				var_875_9.localEulerAngles = var_875_15
			end

			if arg_872_1.time_ >= var_875_10 + var_875_11 and arg_872_1.time_ < var_875_10 + var_875_11 + arg_875_0 then
				var_875_9.localPosition = Vector3.New(0, 100, 0)

				local var_875_16 = manager.ui.mainCamera.transform.position - var_875_9.position

				var_875_9.forward = Vector3.New(var_875_16.x, var_875_16.y, var_875_16.z)

				local var_875_17 = var_875_9.localEulerAngles

				var_875_17.z = 0
				var_875_17.x = 0
				var_875_9.localEulerAngles = var_875_17
			end

			local var_875_18 = 0
			local var_875_19 = 0.675

			if var_875_18 < arg_872_1.time_ and arg_872_1.time_ <= var_875_18 + arg_875_0 then
				arg_872_1.talkMaxDuration = 0
				arg_872_1.dialogCg_.alpha = 1

				arg_872_1.dialog_:SetActive(true)
				SetActive(arg_872_1.leftNameGo_, false)

				arg_872_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_872_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_872_1:RecordName(arg_872_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_872_1.iconTrs_.gameObject, false)
				arg_872_1.callingController_:SetSelectedState("normal")

				local var_875_20 = arg_872_1:GetWordFromCfg(411121203)
				local var_875_21 = arg_872_1:FormatText(var_875_20.content)

				arg_872_1.text_.text = var_875_21

				LuaForUtil.ClearLinePrefixSymbol(arg_872_1.text_)

				local var_875_22 = 27
				local var_875_23 = utf8.len(var_875_21)
				local var_875_24 = var_875_22 <= 0 and var_875_19 or var_875_19 * (var_875_23 / var_875_22)

				if var_875_24 > 0 and var_875_19 < var_875_24 then
					arg_872_1.talkMaxDuration = var_875_24

					if var_875_24 + var_875_18 > arg_872_1.duration_ then
						arg_872_1.duration_ = var_875_24 + var_875_18
					end
				end

				arg_872_1.text_.text = var_875_21
				arg_872_1.typewritter.percent = 0

				arg_872_1.typewritter:SetDirty()
				arg_872_1:ShowNextGo(false)
				arg_872_1:RecordContent(arg_872_1.text_.text)
			end

			local var_875_25 = math.max(var_875_19, arg_872_1.talkMaxDuration)

			if var_875_18 <= arg_872_1.time_ and arg_872_1.time_ < var_875_18 + var_875_25 then
				arg_872_1.typewritter.percent = (arg_872_1.time_ - var_875_18) / var_875_25

				arg_872_1.typewritter:SetDirty()
			end

			if arg_872_1.time_ >= var_875_18 + var_875_25 and arg_872_1.time_ < var_875_18 + var_875_25 + arg_875_0 then
				arg_872_1.typewritter.percent = 1

				arg_872_1.typewritter:SetDirty()
				arg_872_1:ShowNextGo(true)
			end
		end
	end,
	Play411121204 = function(arg_876_0, arg_876_1)
		arg_876_1.time_ = 0
		arg_876_1.frameCnt_ = 0
		arg_876_1.state_ = "playing"
		arg_876_1.curTalkId_ = 411121204
		arg_876_1.duration_ = 9.7

		local var_876_0 = {
			zh = 4.833,
			ja = 9.7
		}
		local var_876_1 = manager.audio:GetLocalizationFlag()

		if var_876_0[var_876_1] ~= nil then
			arg_876_1.duration_ = var_876_0[var_876_1]
		end

		SetActive(arg_876_1.tipsGo_, false)

		function arg_876_1.onSingleLineFinish_()
			arg_876_1.onSingleLineUpdate_ = nil
			arg_876_1.onSingleLineFinish_ = nil
			arg_876_1.state_ = "waiting"
		end

		function arg_876_1.playNext_(arg_878_0)
			if arg_878_0 == 1 then
				arg_876_0:Play411121205(arg_876_1)
			end
		end

		function arg_876_1.onSingleLineUpdate_(arg_879_0)
			local var_879_0 = arg_876_1.actors_["10014ui_story"].transform
			local var_879_1 = 0

			if var_879_1 < arg_876_1.time_ and arg_876_1.time_ <= var_879_1 + arg_879_0 then
				arg_876_1.var_.moveOldPos10014ui_story = var_879_0.localPosition
			end

			local var_879_2 = 0.001

			if var_879_1 <= arg_876_1.time_ and arg_876_1.time_ < var_879_1 + var_879_2 then
				local var_879_3 = (arg_876_1.time_ - var_879_1) / var_879_2
				local var_879_4 = Vector3.New(0, -1.06, -6.2)

				var_879_0.localPosition = Vector3.Lerp(arg_876_1.var_.moveOldPos10014ui_story, var_879_4, var_879_3)

				local var_879_5 = manager.ui.mainCamera.transform.position - var_879_0.position

				var_879_0.forward = Vector3.New(var_879_5.x, var_879_5.y, var_879_5.z)

				local var_879_6 = var_879_0.localEulerAngles

				var_879_6.z = 0
				var_879_6.x = 0
				var_879_0.localEulerAngles = var_879_6
			end

			if arg_876_1.time_ >= var_879_1 + var_879_2 and arg_876_1.time_ < var_879_1 + var_879_2 + arg_879_0 then
				var_879_0.localPosition = Vector3.New(0, -1.06, -6.2)

				local var_879_7 = manager.ui.mainCamera.transform.position - var_879_0.position

				var_879_0.forward = Vector3.New(var_879_7.x, var_879_7.y, var_879_7.z)

				local var_879_8 = var_879_0.localEulerAngles

				var_879_8.z = 0
				var_879_8.x = 0
				var_879_0.localEulerAngles = var_879_8
			end

			local var_879_9 = arg_876_1.actors_["10014ui_story"]
			local var_879_10 = 0

			if var_879_10 < arg_876_1.time_ and arg_876_1.time_ <= var_879_10 + arg_879_0 and not isNil(var_879_9) and arg_876_1.var_.characterEffect10014ui_story == nil then
				arg_876_1.var_.characterEffect10014ui_story = var_879_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_879_11 = 0.200000002980232

			if var_879_10 <= arg_876_1.time_ and arg_876_1.time_ < var_879_10 + var_879_11 and not isNil(var_879_9) then
				local var_879_12 = (arg_876_1.time_ - var_879_10) / var_879_11

				if arg_876_1.var_.characterEffect10014ui_story and not isNil(var_879_9) then
					arg_876_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_876_1.time_ >= var_879_10 + var_879_11 and arg_876_1.time_ < var_879_10 + var_879_11 + arg_879_0 and not isNil(var_879_9) and arg_876_1.var_.characterEffect10014ui_story then
				arg_876_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_879_13 = 0
			local var_879_14 = 0.5

			if var_879_13 < arg_876_1.time_ and arg_876_1.time_ <= var_879_13 + arg_879_0 then
				arg_876_1.talkMaxDuration = 0
				arg_876_1.dialogCg_.alpha = 1

				arg_876_1.dialog_:SetActive(true)
				SetActive(arg_876_1.leftNameGo_, true)

				local var_879_15 = arg_876_1:FormatText(StoryNameCfg[264].name)

				arg_876_1.leftNameTxt_.text = var_879_15

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_876_1.leftNameTxt_.transform)

				arg_876_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_876_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_876_1:RecordName(arg_876_1.leftNameTxt_.text)
				SetActive(arg_876_1.iconTrs_.gameObject, false)
				arg_876_1.callingController_:SetSelectedState("normal")

				local var_879_16 = arg_876_1:GetWordFromCfg(411121204)
				local var_879_17 = arg_876_1:FormatText(var_879_16.content)

				arg_876_1.text_.text = var_879_17

				LuaForUtil.ClearLinePrefixSymbol(arg_876_1.text_)

				local var_879_18 = 20
				local var_879_19 = utf8.len(var_879_17)
				local var_879_20 = var_879_18 <= 0 and var_879_14 or var_879_14 * (var_879_19 / var_879_18)

				if var_879_20 > 0 and var_879_14 < var_879_20 then
					arg_876_1.talkMaxDuration = var_879_20

					if var_879_20 + var_879_13 > arg_876_1.duration_ then
						arg_876_1.duration_ = var_879_20 + var_879_13
					end
				end

				arg_876_1.text_.text = var_879_17
				arg_876_1.typewritter.percent = 0

				arg_876_1.typewritter:SetDirty()
				arg_876_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121204", "story_v_out_411121.awb") ~= 0 then
					local var_879_21 = manager.audio:GetVoiceLength("story_v_out_411121", "411121204", "story_v_out_411121.awb") / 1000

					if var_879_21 + var_879_13 > arg_876_1.duration_ then
						arg_876_1.duration_ = var_879_21 + var_879_13
					end

					if var_879_16.prefab_name ~= "" and arg_876_1.actors_[var_879_16.prefab_name] ~= nil then
						local var_879_22 = LuaForUtil.PlayVoiceWithCriLipsync(arg_876_1.actors_[var_879_16.prefab_name].transform, "story_v_out_411121", "411121204", "story_v_out_411121.awb")

						arg_876_1:RecordAudio("411121204", var_879_22)
						arg_876_1:RecordAudio("411121204", var_879_22)
					else
						arg_876_1:AudioAction("play", "voice", "story_v_out_411121", "411121204", "story_v_out_411121.awb")
					end

					arg_876_1:RecordHistoryTalkVoice("story_v_out_411121", "411121204", "story_v_out_411121.awb")
				end

				arg_876_1:RecordContent(arg_876_1.text_.text)
			end

			local var_879_23 = math.max(var_879_14, arg_876_1.talkMaxDuration)

			if var_879_13 <= arg_876_1.time_ and arg_876_1.time_ < var_879_13 + var_879_23 then
				arg_876_1.typewritter.percent = (arg_876_1.time_ - var_879_13) / var_879_23

				arg_876_1.typewritter:SetDirty()
			end

			if arg_876_1.time_ >= var_879_13 + var_879_23 and arg_876_1.time_ < var_879_13 + var_879_23 + arg_879_0 then
				arg_876_1.typewritter.percent = 1

				arg_876_1.typewritter:SetDirty()
				arg_876_1:ShowNextGo(true)
			end
		end
	end,
	Play411121205 = function(arg_880_0, arg_880_1)
		arg_880_1.time_ = 0
		arg_880_1.frameCnt_ = 0
		arg_880_1.state_ = "playing"
		arg_880_1.curTalkId_ = 411121205
		arg_880_1.duration_ = 5.23

		local var_880_0 = {
			zh = 4.766,
			ja = 5.233
		}
		local var_880_1 = manager.audio:GetLocalizationFlag()

		if var_880_0[var_880_1] ~= nil then
			arg_880_1.duration_ = var_880_0[var_880_1]
		end

		SetActive(arg_880_1.tipsGo_, false)

		function arg_880_1.onSingleLineFinish_()
			arg_880_1.onSingleLineUpdate_ = nil
			arg_880_1.onSingleLineFinish_ = nil
			arg_880_1.state_ = "waiting"
		end

		function arg_880_1.playNext_(arg_882_0)
			if arg_882_0 == 1 then
				arg_880_0:Play411121206(arg_880_1)
			end
		end

		function arg_880_1.onSingleLineUpdate_(arg_883_0)
			local var_883_0 = 0
			local var_883_1 = 0.525

			if var_883_0 < arg_880_1.time_ and arg_880_1.time_ <= var_883_0 + arg_883_0 then
				arg_880_1.talkMaxDuration = 0
				arg_880_1.dialogCg_.alpha = 1

				arg_880_1.dialog_:SetActive(true)
				SetActive(arg_880_1.leftNameGo_, true)

				local var_883_2 = arg_880_1:FormatText(StoryNameCfg[264].name)

				arg_880_1.leftNameTxt_.text = var_883_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_880_1.leftNameTxt_.transform)

				arg_880_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_880_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_880_1:RecordName(arg_880_1.leftNameTxt_.text)
				SetActive(arg_880_1.iconTrs_.gameObject, false)
				arg_880_1.callingController_:SetSelectedState("normal")

				local var_883_3 = arg_880_1:GetWordFromCfg(411121205)
				local var_883_4 = arg_880_1:FormatText(var_883_3.content)

				arg_880_1.text_.text = var_883_4

				LuaForUtil.ClearLinePrefixSymbol(arg_880_1.text_)

				local var_883_5 = 21
				local var_883_6 = utf8.len(var_883_4)
				local var_883_7 = var_883_5 <= 0 and var_883_1 or var_883_1 * (var_883_6 / var_883_5)

				if var_883_7 > 0 and var_883_1 < var_883_7 then
					arg_880_1.talkMaxDuration = var_883_7

					if var_883_7 + var_883_0 > arg_880_1.duration_ then
						arg_880_1.duration_ = var_883_7 + var_883_0
					end
				end

				arg_880_1.text_.text = var_883_4
				arg_880_1.typewritter.percent = 0

				arg_880_1.typewritter:SetDirty()
				arg_880_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121205", "story_v_out_411121.awb") ~= 0 then
					local var_883_8 = manager.audio:GetVoiceLength("story_v_out_411121", "411121205", "story_v_out_411121.awb") / 1000

					if var_883_8 + var_883_0 > arg_880_1.duration_ then
						arg_880_1.duration_ = var_883_8 + var_883_0
					end

					if var_883_3.prefab_name ~= "" and arg_880_1.actors_[var_883_3.prefab_name] ~= nil then
						local var_883_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_880_1.actors_[var_883_3.prefab_name].transform, "story_v_out_411121", "411121205", "story_v_out_411121.awb")

						arg_880_1:RecordAudio("411121205", var_883_9)
						arg_880_1:RecordAudio("411121205", var_883_9)
					else
						arg_880_1:AudioAction("play", "voice", "story_v_out_411121", "411121205", "story_v_out_411121.awb")
					end

					arg_880_1:RecordHistoryTalkVoice("story_v_out_411121", "411121205", "story_v_out_411121.awb")
				end

				arg_880_1:RecordContent(arg_880_1.text_.text)
			end

			local var_883_10 = math.max(var_883_1, arg_880_1.talkMaxDuration)

			if var_883_0 <= arg_880_1.time_ and arg_880_1.time_ < var_883_0 + var_883_10 then
				arg_880_1.typewritter.percent = (arg_880_1.time_ - var_883_0) / var_883_10

				arg_880_1.typewritter:SetDirty()
			end

			if arg_880_1.time_ >= var_883_0 + var_883_10 and arg_880_1.time_ < var_883_0 + var_883_10 + arg_883_0 then
				arg_880_1.typewritter.percent = 1

				arg_880_1.typewritter:SetDirty()
				arg_880_1:ShowNextGo(true)
			end
		end
	end,
	Play411121206 = function(arg_884_0, arg_884_1)
		arg_884_1.time_ = 0
		arg_884_1.frameCnt_ = 0
		arg_884_1.state_ = "playing"
		arg_884_1.curTalkId_ = 411121206
		arg_884_1.duration_ = 8.1

		local var_884_0 = {
			zh = 8.1,
			ja = 4.833
		}
		local var_884_1 = manager.audio:GetLocalizationFlag()

		if var_884_0[var_884_1] ~= nil then
			arg_884_1.duration_ = var_884_0[var_884_1]
		end

		SetActive(arg_884_1.tipsGo_, false)

		function arg_884_1.onSingleLineFinish_()
			arg_884_1.onSingleLineUpdate_ = nil
			arg_884_1.onSingleLineFinish_ = nil
			arg_884_1.state_ = "waiting"
			arg_884_1.auto_ = false
		end

		function arg_884_1.playNext_(arg_886_0)
			arg_884_1.onStoryFinished_()
		end

		function arg_884_1.onSingleLineUpdate_(arg_887_0)
			local var_887_0 = arg_884_1.actors_["10014ui_story"]
			local var_887_1 = 0

			if var_887_1 < arg_884_1.time_ and arg_884_1.time_ <= var_887_1 + arg_887_0 and not isNil(var_887_0) and arg_884_1.var_.characterEffect10014ui_story == nil then
				arg_884_1.var_.characterEffect10014ui_story = var_887_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_887_2 = 0.200000002980232

			if var_887_1 <= arg_884_1.time_ and arg_884_1.time_ < var_887_1 + var_887_2 and not isNil(var_887_0) then
				local var_887_3 = (arg_884_1.time_ - var_887_1) / var_887_2

				if arg_884_1.var_.characterEffect10014ui_story and not isNil(var_887_0) then
					arg_884_1.var_.characterEffect10014ui_story.fillFlat = false
				end
			end

			if arg_884_1.time_ >= var_887_1 + var_887_2 and arg_884_1.time_ < var_887_1 + var_887_2 + arg_887_0 and not isNil(var_887_0) and arg_884_1.var_.characterEffect10014ui_story then
				arg_884_1.var_.characterEffect10014ui_story.fillFlat = false
			end

			local var_887_4 = 0

			if var_887_4 < arg_884_1.time_ and arg_884_1.time_ <= var_887_4 + arg_887_0 then
				arg_884_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/story10014/story10014action/10014action6_2")
			end

			local var_887_5 = 0

			if var_887_5 < arg_884_1.time_ and arg_884_1.time_ <= var_887_5 + arg_887_0 then
				arg_884_1:PlayTimeline("10014ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_887_6 = 0
			local var_887_7 = 0.825

			if var_887_6 < arg_884_1.time_ and arg_884_1.time_ <= var_887_6 + arg_887_0 then
				arg_884_1.talkMaxDuration = 0
				arg_884_1.dialogCg_.alpha = 1

				arg_884_1.dialog_:SetActive(true)
				SetActive(arg_884_1.leftNameGo_, true)

				local var_887_8 = arg_884_1:FormatText(StoryNameCfg[264].name)

				arg_884_1.leftNameTxt_.text = var_887_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_884_1.leftNameTxt_.transform)

				arg_884_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_884_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_884_1:RecordName(arg_884_1.leftNameTxt_.text)
				SetActive(arg_884_1.iconTrs_.gameObject, false)
				arg_884_1.callingController_:SetSelectedState("normal")

				local var_887_9 = arg_884_1:GetWordFromCfg(411121206)
				local var_887_10 = arg_884_1:FormatText(var_887_9.content)

				arg_884_1.text_.text = var_887_10

				LuaForUtil.ClearLinePrefixSymbol(arg_884_1.text_)

				local var_887_11 = 33
				local var_887_12 = utf8.len(var_887_10)
				local var_887_13 = var_887_11 <= 0 and var_887_7 or var_887_7 * (var_887_12 / var_887_11)

				if var_887_13 > 0 and var_887_7 < var_887_13 then
					arg_884_1.talkMaxDuration = var_887_13

					if var_887_13 + var_887_6 > arg_884_1.duration_ then
						arg_884_1.duration_ = var_887_13 + var_887_6
					end
				end

				arg_884_1.text_.text = var_887_10
				arg_884_1.typewritter.percent = 0

				arg_884_1.typewritter:SetDirty()
				arg_884_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_411121", "411121206", "story_v_out_411121.awb") ~= 0 then
					local var_887_14 = manager.audio:GetVoiceLength("story_v_out_411121", "411121206", "story_v_out_411121.awb") / 1000

					if var_887_14 + var_887_6 > arg_884_1.duration_ then
						arg_884_1.duration_ = var_887_14 + var_887_6
					end

					if var_887_9.prefab_name ~= "" and arg_884_1.actors_[var_887_9.prefab_name] ~= nil then
						local var_887_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_884_1.actors_[var_887_9.prefab_name].transform, "story_v_out_411121", "411121206", "story_v_out_411121.awb")

						arg_884_1:RecordAudio("411121206", var_887_15)
						arg_884_1:RecordAudio("411121206", var_887_15)
					else
						arg_884_1:AudioAction("play", "voice", "story_v_out_411121", "411121206", "story_v_out_411121.awb")
					end

					arg_884_1:RecordHistoryTalkVoice("story_v_out_411121", "411121206", "story_v_out_411121.awb")
				end

				arg_884_1:RecordContent(arg_884_1.text_.text)
			end

			local var_887_16 = math.max(var_887_7, arg_884_1.talkMaxDuration)

			if var_887_6 <= arg_884_1.time_ and arg_884_1.time_ < var_887_6 + var_887_16 then
				arg_884_1.typewritter.percent = (arg_884_1.time_ - var_887_6) / var_887_16

				arg_884_1.typewritter:SetDirty()
			end

			if arg_884_1.time_ >= var_887_6 + var_887_16 and arg_884_1.time_ < var_887_6 + var_887_16 + arg_887_0 then
				arg_884_1.typewritter.percent = 1

				arg_884_1.typewritter:SetDirty()
				arg_884_1:ShowNextGo(true)
			end
		end
	end,
	assets = {
		"Assets/UIResources/UI_AB/TextureConfig/Background/B04g",
		"Assets/UIResources/UI_AB/TextureConfig/Background/B04f",
		"Assets/UIResources/UI_AB/TextureConfig/Background/STblack",
		"Assets/UIResources/UI_AB/TextureConfig/Background/B07a",
		"Assets/UIResources/UI_AB/TextureConfig/Background/B03b",
		"Assets/UIResources/UI_AB/TextureConfig/Background/I11r",
		"Assets/UIResources/UI_AB/TextureConfig/Background/ST71a",
		"Assets/UIResources/UI_AB/TextureConfig/Background/ST74a",
		"Assets/UIResources/UI_AB/TextureConfig/Background/I11m",
		"Assets/UIResources/UI_AB/TextureConfig/Background/ML0504",
		"Assets/UIResources/UI_AB/TextureConfig/Background/B14"
	},
	voices = {
		"story_v_out_411121.awb"
	}
}
