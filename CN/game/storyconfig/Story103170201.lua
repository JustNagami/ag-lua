return {
	Play317021001 = function(arg_1_0, arg_1_1)
		arg_1_1.time_ = 0
		arg_1_1.frameCnt_ = 0
		arg_1_1.state_ = "playing"
		arg_1_1.curTalkId_ = 317021001
		arg_1_1.duration_ = 3.4

		local var_1_0 = {
			zh = 3.4,
			ja = 3.3
		}
		local var_1_1 = manager.audio:GetLocalizationFlag()

		if var_1_0[var_1_1] ~= nil then
			arg_1_1.duration_ = var_1_0[var_1_1]
		end

		SetActive(arg_1_1.tipsGo_, false)

		function arg_1_1.onSingleLineFinish_()
			arg_1_1.onSingleLineUpdate_ = nil
			arg_1_1.onSingleLineFinish_ = nil
			arg_1_1.state_ = "waiting"
		end

		function arg_1_1.playNext_(arg_3_0)
			if arg_3_0 == 1 then
				arg_1_0:Play317021002(arg_1_1)
			end
		end

		function arg_1_1.onSingleLineUpdate_(arg_4_0)
			local var_4_0 = "STblack"

			if arg_1_1.bgs_[var_4_0] == nil then
				local var_4_1 = Object.Instantiate(arg_1_1.paintGo_)

				var_4_1:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_4_0)
				var_4_1.name = var_4_0
				var_4_1.transform.parent = arg_1_1.stage_.transform
				var_4_1.transform.localPosition = Vector3.New(0, 100, 0)
				arg_1_1.bgs_[var_4_0] = var_4_1
			end

			local var_4_2 = 0

			if var_4_2 < arg_1_1.time_ and arg_1_1.time_ <= var_4_2 + arg_4_0 then
				local var_4_3 = manager.ui.mainCamera.transform.localPosition
				local var_4_4 = Vector3.New(0, 0, 10) + Vector3.New(var_4_3.x, var_4_3.y, 0)
				local var_4_5 = arg_1_1.bgs_.STblack

				var_4_5.transform.localPosition = var_4_4
				var_4_5.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_4_6 = var_4_5:GetComponent("SpriteRenderer")

				if var_4_6 and var_4_6.sprite then
					local var_4_7 = (var_4_5.transform.localPosition - var_4_3).z
					local var_4_8 = manager.ui.mainCameraCom_
					local var_4_9 = 2 * var_4_7 * Mathf.Tan(var_4_8.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_4_10 = var_4_9 * var_4_8.aspect
					local var_4_11 = var_4_6.sprite.bounds.size.x
					local var_4_12 = var_4_6.sprite.bounds.size.y
					local var_4_13 = var_4_10 / var_4_11
					local var_4_14 = var_4_9 / var_4_12
					local var_4_15 = var_4_14 < var_4_13 and var_4_13 or var_4_14

					var_4_5.transform.localScale = Vector3.New(var_4_15, var_4_15, 0)
				end

				for iter_4_0, iter_4_1 in pairs(arg_1_1.bgs_) do
					if iter_4_0 ~= "STblack" then
						iter_4_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_4_16 = 0

			if var_4_16 < arg_1_1.time_ and arg_1_1.time_ <= var_4_16 + arg_4_0 then
				arg_1_1.mask_.enabled = true
				arg_1_1.mask_.raycastTarget = true

				arg_1_1:SetGaussion(false)
			end

			local var_4_17 = 2

			if var_4_16 <= arg_1_1.time_ and arg_1_1.time_ < var_4_16 + var_4_17 then
				local var_4_18 = (arg_1_1.time_ - var_4_16) / var_4_17
				local var_4_19 = Color.New(0, 0, 0)

				var_4_19.a = Mathf.Lerp(1, 0, var_4_18)
				arg_1_1.mask_.color = var_4_19
			end

			if arg_1_1.time_ >= var_4_16 + var_4_17 and arg_1_1.time_ < var_4_16 + var_4_17 + arg_4_0 then
				local var_4_20 = Color.New(0, 0, 0)
				local var_4_21 = 0

				arg_1_1.mask_.enabled = false
				var_4_20.a = var_4_21
				arg_1_1.mask_.color = var_4_20
			end

			local var_4_22 = 0
			local var_4_23 = 1

			if var_4_22 < arg_1_1.time_ and arg_1_1.time_ <= var_4_22 + arg_4_0 then
				local var_4_24 = "play"
				local var_4_25 = "music"

				arg_1_1:AudioAction(var_4_24, var_4_25, "ui_battle", "ui_battle_stopbgm", "")

				local var_4_26 = ""
				local var_4_27 = manager.audio:GetAudioName("ui_battle", "ui_battle_stopbgm")

				if var_4_27 ~= "" then
					if arg_1_1.bgmTxt_.text ~= var_4_27 and arg_1_1.bgmTxt_.text ~= "" then
						if arg_1_1.bgmTxt2_.text ~= "" then
							arg_1_1.bgmTxt_.text = arg_1_1.bgmTxt2_.text
						end

						arg_1_1.bgmTxt2_.text = var_4_27

						arg_1_1.musicChangeAnimator_:Play("music_change", 0, 0)
					else
						arg_1_1.bgmTxt_.text = var_4_27
					end

					if arg_1_1.bgmTimer then
						arg_1_1.bgmTimer:Stop()

						arg_1_1.bgmTimer = nil
					end

					if arg_1_1.settingData.show_music_name == 1 then
						arg_1_1.musicController:SetSelectedState("show")
						arg_1_1.musicAnimator_:Play("open", 0, 0)

						if arg_1_1.settingData.music_time ~= 0 then
							arg_1_1.bgmTimer = TimeTools.StartAfterSeconds(tonumber(arg_1_1.settingData.music_time), function()
								if arg_1_1 == nil or isNil(arg_1_1.bgmTxt_) then
									return
								end

								arg_1_1.musicController:SetSelectedState("hide")
								arg_1_1.musicAnimator_:Play("back", 0, 0)
							end, {})
						end
					end
				end
			end

			if arg_1_1.frameCnt_ <= 1 then
				arg_1_1.dialog_:SetActive(false)
			end

			local var_4_28 = 2
			local var_4_29 = 0.15

			if var_4_28 < arg_1_1.time_ and arg_1_1.time_ <= var_4_28 + arg_4_0 then
				arg_1_1.talkMaxDuration = 0

				arg_1_1.dialog_:SetActive(true)

				local var_4_30 = LeanTween.value(arg_1_1.dialog_, 0, 1, 0.3)

				var_4_30:setOnUpdate(LuaHelper.FloatAction(function(arg_6_0)
					arg_1_1.dialogCg_.alpha = arg_6_0
				end))
				var_4_30:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_1_1.dialog_)
					var_4_30:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_1_1.duration_ = arg_1_1.duration_ + 0.3

				SetActive(arg_1_1.leftNameGo_, true)

				local var_4_31 = arg_1_1:FormatText(StoryNameCfg[487].name)

				arg_1_1.leftNameTxt_.text = var_4_31

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_1_1.leftNameTxt_.transform)

				arg_1_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_1_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_1_1:RecordName(arg_1_1.leftNameTxt_.text)
				SetActive(arg_1_1.iconTrs_.gameObject, true)
				arg_1_1.iconController_:SetSelectedState("hero")

				arg_1_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10054")

				arg_1_1.callingController_:SetSelectedState("normal")

				arg_1_1.keyicon_.color = Color.New(1, 1, 1)
				arg_1_1.icon_.color = Color.New(1, 1, 1)

				local var_4_32 = arg_1_1:GetWordFromCfg(317021001)
				local var_4_33 = arg_1_1:FormatText(var_4_32.content)

				arg_1_1.text_.text = var_4_33

				LuaForUtil.ClearLinePrefixSymbol(arg_1_1.text_)

				local var_4_34 = 6
				local var_4_35 = utf8.len(var_4_33)
				local var_4_36 = var_4_34 <= 0 and var_4_29 or var_4_29 * (var_4_35 / var_4_34)

				if var_4_36 > 0 and var_4_29 < var_4_36 then
					arg_1_1.talkMaxDuration = var_4_36
					var_4_28 = var_4_28 + 0.3

					if var_4_36 + var_4_28 > arg_1_1.duration_ then
						arg_1_1.duration_ = var_4_36 + var_4_28
					end
				end

				arg_1_1.text_.text = var_4_33
				arg_1_1.typewritter.percent = 0

				arg_1_1.typewritter:SetDirty()
				arg_1_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021001", "story_v_out_317021.awb") ~= 0 then
					local var_4_37 = manager.audio:GetVoiceLength("story_v_out_317021", "317021001", "story_v_out_317021.awb") / 1000

					if var_4_37 + var_4_28 > arg_1_1.duration_ then
						arg_1_1.duration_ = var_4_37 + var_4_28
					end

					if var_4_32.prefab_name ~= "" and arg_1_1.actors_[var_4_32.prefab_name] ~= nil then
						local var_4_38 = LuaForUtil.PlayVoiceWithCriLipsync(arg_1_1.actors_[var_4_32.prefab_name].transform, "story_v_out_317021", "317021001", "story_v_out_317021.awb")

						arg_1_1:RecordAudio("317021001", var_4_38)
						arg_1_1:RecordAudio("317021001", var_4_38)
					else
						arg_1_1:AudioAction("play", "voice", "story_v_out_317021", "317021001", "story_v_out_317021.awb")
					end

					arg_1_1:RecordHistoryTalkVoice("story_v_out_317021", "317021001", "story_v_out_317021.awb")
				end

				arg_1_1:RecordContent(arg_1_1.text_.text)
			end

			local var_4_39 = var_4_28 + 0.3
			local var_4_40 = math.max(var_4_29, arg_1_1.talkMaxDuration)

			if var_4_39 <= arg_1_1.time_ and arg_1_1.time_ < var_4_39 + var_4_40 then
				arg_1_1.typewritter.percent = (arg_1_1.time_ - var_4_39) / var_4_40

				arg_1_1.typewritter:SetDirty()
			end

			if arg_1_1.time_ >= var_4_39 + var_4_40 and arg_1_1.time_ < var_4_39 + var_4_40 + arg_4_0 then
				arg_1_1.typewritter.percent = 1

				arg_1_1.typewritter:SetDirty()
				arg_1_1:ShowNextGo(true)
			end
		end
	end,
	Play317021002 = function(arg_8_0, arg_8_1)
		arg_8_1.time_ = 0
		arg_8_1.frameCnt_ = 0
		arg_8_1.state_ = "playing"
		arg_8_1.curTalkId_ = 317021002
		arg_8_1.duration_ = 8.87

		local var_8_0 = {
			zh = 6.133,
			ja = 8.866
		}
		local var_8_1 = manager.audio:GetLocalizationFlag()

		if var_8_0[var_8_1] ~= nil then
			arg_8_1.duration_ = var_8_0[var_8_1]
		end

		SetActive(arg_8_1.tipsGo_, false)

		function arg_8_1.onSingleLineFinish_()
			arg_8_1.onSingleLineUpdate_ = nil
			arg_8_1.onSingleLineFinish_ = nil
			arg_8_1.state_ = "waiting"
		end

		function arg_8_1.playNext_(arg_10_0)
			if arg_10_0 == 1 then
				arg_8_0:Play317021003(arg_8_1)
			end
		end

		function arg_8_1.onSingleLineUpdate_(arg_11_0)
			local var_11_0 = 0
			local var_11_1 = 0.825

			if var_11_0 < arg_8_1.time_ and arg_8_1.time_ <= var_11_0 + arg_11_0 then
				arg_8_1.talkMaxDuration = 0
				arg_8_1.dialogCg_.alpha = 1

				arg_8_1.dialog_:SetActive(true)
				SetActive(arg_8_1.leftNameGo_, true)

				local var_11_2 = arg_8_1:FormatText(StoryNameCfg[542].name)

				arg_8_1.leftNameTxt_.text = var_11_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_8_1.leftNameTxt_.transform)

				arg_8_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_8_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_8_1:RecordName(arg_8_1.leftNameTxt_.text)
				SetActive(arg_8_1.iconTrs_.gameObject, false)
				arg_8_1.callingController_:SetSelectedState("normal")

				local var_11_3 = arg_8_1:GetWordFromCfg(317021002)
				local var_11_4 = arg_8_1:FormatText(var_11_3.content)

				arg_8_1.text_.text = var_11_4

				LuaForUtil.ClearLinePrefixSymbol(arg_8_1.text_)

				local var_11_5 = 33
				local var_11_6 = utf8.len(var_11_4)
				local var_11_7 = var_11_5 <= 0 and var_11_1 or var_11_1 * (var_11_6 / var_11_5)

				if var_11_7 > 0 and var_11_1 < var_11_7 then
					arg_8_1.talkMaxDuration = var_11_7

					if var_11_7 + var_11_0 > arg_8_1.duration_ then
						arg_8_1.duration_ = var_11_7 + var_11_0
					end
				end

				arg_8_1.text_.text = var_11_4
				arg_8_1.typewritter.percent = 0

				arg_8_1.typewritter:SetDirty()
				arg_8_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021002", "story_v_out_317021.awb") ~= 0 then
					local var_11_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021002", "story_v_out_317021.awb") / 1000

					if var_11_8 + var_11_0 > arg_8_1.duration_ then
						arg_8_1.duration_ = var_11_8 + var_11_0
					end

					if var_11_3.prefab_name ~= "" and arg_8_1.actors_[var_11_3.prefab_name] ~= nil then
						local var_11_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_8_1.actors_[var_11_3.prefab_name].transform, "story_v_out_317021", "317021002", "story_v_out_317021.awb")

						arg_8_1:RecordAudio("317021002", var_11_9)
						arg_8_1:RecordAudio("317021002", var_11_9)
					else
						arg_8_1:AudioAction("play", "voice", "story_v_out_317021", "317021002", "story_v_out_317021.awb")
					end

					arg_8_1:RecordHistoryTalkVoice("story_v_out_317021", "317021002", "story_v_out_317021.awb")
				end

				arg_8_1:RecordContent(arg_8_1.text_.text)
			end

			local var_11_10 = math.max(var_11_1, arg_8_1.talkMaxDuration)

			if var_11_0 <= arg_8_1.time_ and arg_8_1.time_ < var_11_0 + var_11_10 then
				arg_8_1.typewritter.percent = (arg_8_1.time_ - var_11_0) / var_11_10

				arg_8_1.typewritter:SetDirty()
			end

			if arg_8_1.time_ >= var_11_0 + var_11_10 and arg_8_1.time_ < var_11_0 + var_11_10 + arg_11_0 then
				arg_8_1.typewritter.percent = 1

				arg_8_1.typewritter:SetDirty()
				arg_8_1:ShowNextGo(true)
			end
		end
	end,
	Play317021003 = function(arg_12_0, arg_12_1)
		arg_12_1.time_ = 0
		arg_12_1.frameCnt_ = 0
		arg_12_1.state_ = "playing"
		arg_12_1.curTalkId_ = 317021003
		arg_12_1.duration_ = 6.67

		local var_12_0 = {
			zh = 6.666,
			ja = 4.5
		}
		local var_12_1 = manager.audio:GetLocalizationFlag()

		if var_12_0[var_12_1] ~= nil then
			arg_12_1.duration_ = var_12_0[var_12_1]
		end

		SetActive(arg_12_1.tipsGo_, false)

		function arg_12_1.onSingleLineFinish_()
			arg_12_1.onSingleLineUpdate_ = nil
			arg_12_1.onSingleLineFinish_ = nil
			arg_12_1.state_ = "waiting"
		end

		function arg_12_1.playNext_(arg_14_0)
			if arg_14_0 == 1 then
				arg_12_0:Play317021004(arg_12_1)
			end
		end

		function arg_12_1.onSingleLineUpdate_(arg_15_0)
			local var_15_0 = 0
			local var_15_1 = 0.65

			if var_15_0 < arg_12_1.time_ and arg_12_1.time_ <= var_15_0 + arg_15_0 then
				arg_12_1.talkMaxDuration = 0
				arg_12_1.dialogCg_.alpha = 1

				arg_12_1.dialog_:SetActive(true)
				SetActive(arg_12_1.leftNameGo_, true)

				local var_15_2 = arg_12_1:FormatText(StoryNameCfg[487].name)

				arg_12_1.leftNameTxt_.text = var_15_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_12_1.leftNameTxt_.transform)

				arg_12_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_12_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_12_1:RecordName(arg_12_1.leftNameTxt_.text)
				SetActive(arg_12_1.iconTrs_.gameObject, true)
				arg_12_1.iconController_:SetSelectedState("hero")

				arg_12_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10054")

				arg_12_1.callingController_:SetSelectedState("normal")

				arg_12_1.keyicon_.color = Color.New(1, 1, 1)
				arg_12_1.icon_.color = Color.New(1, 1, 1)

				local var_15_3 = arg_12_1:GetWordFromCfg(317021003)
				local var_15_4 = arg_12_1:FormatText(var_15_3.content)

				arg_12_1.text_.text = var_15_4

				LuaForUtil.ClearLinePrefixSymbol(arg_12_1.text_)

				local var_15_5 = 26
				local var_15_6 = utf8.len(var_15_4)
				local var_15_7 = var_15_5 <= 0 and var_15_1 or var_15_1 * (var_15_6 / var_15_5)

				if var_15_7 > 0 and var_15_1 < var_15_7 then
					arg_12_1.talkMaxDuration = var_15_7

					if var_15_7 + var_15_0 > arg_12_1.duration_ then
						arg_12_1.duration_ = var_15_7 + var_15_0
					end
				end

				arg_12_1.text_.text = var_15_4
				arg_12_1.typewritter.percent = 0

				arg_12_1.typewritter:SetDirty()
				arg_12_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021003", "story_v_out_317021.awb") ~= 0 then
					local var_15_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021003", "story_v_out_317021.awb") / 1000

					if var_15_8 + var_15_0 > arg_12_1.duration_ then
						arg_12_1.duration_ = var_15_8 + var_15_0
					end

					if var_15_3.prefab_name ~= "" and arg_12_1.actors_[var_15_3.prefab_name] ~= nil then
						local var_15_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_12_1.actors_[var_15_3.prefab_name].transform, "story_v_out_317021", "317021003", "story_v_out_317021.awb")

						arg_12_1:RecordAudio("317021003", var_15_9)
						arg_12_1:RecordAudio("317021003", var_15_9)
					else
						arg_12_1:AudioAction("play", "voice", "story_v_out_317021", "317021003", "story_v_out_317021.awb")
					end

					arg_12_1:RecordHistoryTalkVoice("story_v_out_317021", "317021003", "story_v_out_317021.awb")
				end

				arg_12_1:RecordContent(arg_12_1.text_.text)
			end

			local var_15_10 = math.max(var_15_1, arg_12_1.talkMaxDuration)

			if var_15_0 <= arg_12_1.time_ and arg_12_1.time_ < var_15_0 + var_15_10 then
				arg_12_1.typewritter.percent = (arg_12_1.time_ - var_15_0) / var_15_10

				arg_12_1.typewritter:SetDirty()
			end

			if arg_12_1.time_ >= var_15_0 + var_15_10 and arg_12_1.time_ < var_15_0 + var_15_10 + arg_15_0 then
				arg_12_1.typewritter.percent = 1

				arg_12_1.typewritter:SetDirty()
				arg_12_1:ShowNextGo(true)
			end
		end
	end,
	Play317021004 = function(arg_16_0, arg_16_1)
		arg_16_1.time_ = 0
		arg_16_1.frameCnt_ = 0
		arg_16_1.state_ = "playing"
		arg_16_1.curTalkId_ = 317021004
		arg_16_1.duration_ = 6.43

		local var_16_0 = {
			zh = 5.4,
			ja = 6.433
		}
		local var_16_1 = manager.audio:GetLocalizationFlag()

		if var_16_0[var_16_1] ~= nil then
			arg_16_1.duration_ = var_16_0[var_16_1]
		end

		SetActive(arg_16_1.tipsGo_, false)

		function arg_16_1.onSingleLineFinish_()
			arg_16_1.onSingleLineUpdate_ = nil
			arg_16_1.onSingleLineFinish_ = nil
			arg_16_1.state_ = "waiting"
		end

		function arg_16_1.playNext_(arg_18_0)
			if arg_18_0 == 1 then
				arg_16_0:Play317021005(arg_16_1)
			end
		end

		function arg_16_1.onSingleLineUpdate_(arg_19_0)
			local var_19_0 = 0
			local var_19_1 = 0.625

			if var_19_0 < arg_16_1.time_ and arg_16_1.time_ <= var_19_0 + arg_19_0 then
				arg_16_1.talkMaxDuration = 0
				arg_16_1.dialogCg_.alpha = 1

				arg_16_1.dialog_:SetActive(true)
				SetActive(arg_16_1.leftNameGo_, true)

				local var_19_2 = arg_16_1:FormatText(StoryNameCfg[542].name)

				arg_16_1.leftNameTxt_.text = var_19_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_16_1.leftNameTxt_.transform)

				arg_16_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_16_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_16_1:RecordName(arg_16_1.leftNameTxt_.text)
				SetActive(arg_16_1.iconTrs_.gameObject, false)
				arg_16_1.callingController_:SetSelectedState("normal")

				local var_19_3 = arg_16_1:GetWordFromCfg(317021004)
				local var_19_4 = arg_16_1:FormatText(var_19_3.content)

				arg_16_1.text_.text = var_19_4

				LuaForUtil.ClearLinePrefixSymbol(arg_16_1.text_)

				local var_19_5 = 25
				local var_19_6 = utf8.len(var_19_4)
				local var_19_7 = var_19_5 <= 0 and var_19_1 or var_19_1 * (var_19_6 / var_19_5)

				if var_19_7 > 0 and var_19_1 < var_19_7 then
					arg_16_1.talkMaxDuration = var_19_7

					if var_19_7 + var_19_0 > arg_16_1.duration_ then
						arg_16_1.duration_ = var_19_7 + var_19_0
					end
				end

				arg_16_1.text_.text = var_19_4
				arg_16_1.typewritter.percent = 0

				arg_16_1.typewritter:SetDirty()
				arg_16_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021004", "story_v_out_317021.awb") ~= 0 then
					local var_19_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021004", "story_v_out_317021.awb") / 1000

					if var_19_8 + var_19_0 > arg_16_1.duration_ then
						arg_16_1.duration_ = var_19_8 + var_19_0
					end

					if var_19_3.prefab_name ~= "" and arg_16_1.actors_[var_19_3.prefab_name] ~= nil then
						local var_19_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_16_1.actors_[var_19_3.prefab_name].transform, "story_v_out_317021", "317021004", "story_v_out_317021.awb")

						arg_16_1:RecordAudio("317021004", var_19_9)
						arg_16_1:RecordAudio("317021004", var_19_9)
					else
						arg_16_1:AudioAction("play", "voice", "story_v_out_317021", "317021004", "story_v_out_317021.awb")
					end

					arg_16_1:RecordHistoryTalkVoice("story_v_out_317021", "317021004", "story_v_out_317021.awb")
				end

				arg_16_1:RecordContent(arg_16_1.text_.text)
			end

			local var_19_10 = math.max(var_19_1, arg_16_1.talkMaxDuration)

			if var_19_0 <= arg_16_1.time_ and arg_16_1.time_ < var_19_0 + var_19_10 then
				arg_16_1.typewritter.percent = (arg_16_1.time_ - var_19_0) / var_19_10

				arg_16_1.typewritter:SetDirty()
			end

			if arg_16_1.time_ >= var_19_0 + var_19_10 and arg_16_1.time_ < var_19_0 + var_19_10 + arg_19_0 then
				arg_16_1.typewritter.percent = 1

				arg_16_1.typewritter:SetDirty()
				arg_16_1:ShowNextGo(true)
			end
		end
	end,
	Play317021005 = function(arg_20_0, arg_20_1)
		arg_20_1.time_ = 0
		arg_20_1.frameCnt_ = 0
		arg_20_1.state_ = "playing"
		arg_20_1.curTalkId_ = 317021005
		arg_20_1.duration_ = 5.4

		local var_20_0 = {
			zh = 2.766,
			ja = 5.4
		}
		local var_20_1 = manager.audio:GetLocalizationFlag()

		if var_20_0[var_20_1] ~= nil then
			arg_20_1.duration_ = var_20_0[var_20_1]
		end

		SetActive(arg_20_1.tipsGo_, false)

		function arg_20_1.onSingleLineFinish_()
			arg_20_1.onSingleLineUpdate_ = nil
			arg_20_1.onSingleLineFinish_ = nil
			arg_20_1.state_ = "waiting"
		end

		function arg_20_1.playNext_(arg_22_0)
			if arg_22_0 == 1 then
				arg_20_0:Play317021006(arg_20_1)
			end
		end

		function arg_20_1.onSingleLineUpdate_(arg_23_0)
			local var_23_0 = 0
			local var_23_1 = 0.35

			if var_23_0 < arg_20_1.time_ and arg_20_1.time_ <= var_23_0 + arg_23_0 then
				arg_20_1.talkMaxDuration = 0
				arg_20_1.dialogCg_.alpha = 1

				arg_20_1.dialog_:SetActive(true)
				SetActive(arg_20_1.leftNameGo_, true)

				local var_23_2 = arg_20_1:FormatText(StoryNameCfg[487].name)

				arg_20_1.leftNameTxt_.text = var_23_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_20_1.leftNameTxt_.transform)

				arg_20_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_20_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_20_1:RecordName(arg_20_1.leftNameTxt_.text)
				SetActive(arg_20_1.iconTrs_.gameObject, true)
				arg_20_1.iconController_:SetSelectedState("hero")

				arg_20_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_10054")

				arg_20_1.callingController_:SetSelectedState("normal")

				arg_20_1.keyicon_.color = Color.New(1, 1, 1)
				arg_20_1.icon_.color = Color.New(1, 1, 1)

				local var_23_3 = arg_20_1:GetWordFromCfg(317021005)
				local var_23_4 = arg_20_1:FormatText(var_23_3.content)

				arg_20_1.text_.text = var_23_4

				LuaForUtil.ClearLinePrefixSymbol(arg_20_1.text_)

				local var_23_5 = 14
				local var_23_6 = utf8.len(var_23_4)
				local var_23_7 = var_23_5 <= 0 and var_23_1 or var_23_1 * (var_23_6 / var_23_5)

				if var_23_7 > 0 and var_23_1 < var_23_7 then
					arg_20_1.talkMaxDuration = var_23_7

					if var_23_7 + var_23_0 > arg_20_1.duration_ then
						arg_20_1.duration_ = var_23_7 + var_23_0
					end
				end

				arg_20_1.text_.text = var_23_4
				arg_20_1.typewritter.percent = 0

				arg_20_1.typewritter:SetDirty()
				arg_20_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021005", "story_v_out_317021.awb") ~= 0 then
					local var_23_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021005", "story_v_out_317021.awb") / 1000

					if var_23_8 + var_23_0 > arg_20_1.duration_ then
						arg_20_1.duration_ = var_23_8 + var_23_0
					end

					if var_23_3.prefab_name ~= "" and arg_20_1.actors_[var_23_3.prefab_name] ~= nil then
						local var_23_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_20_1.actors_[var_23_3.prefab_name].transform, "story_v_out_317021", "317021005", "story_v_out_317021.awb")

						arg_20_1:RecordAudio("317021005", var_23_9)
						arg_20_1:RecordAudio("317021005", var_23_9)
					else
						arg_20_1:AudioAction("play", "voice", "story_v_out_317021", "317021005", "story_v_out_317021.awb")
					end

					arg_20_1:RecordHistoryTalkVoice("story_v_out_317021", "317021005", "story_v_out_317021.awb")
				end

				arg_20_1:RecordContent(arg_20_1.text_.text)
			end

			local var_23_10 = math.max(var_23_1, arg_20_1.talkMaxDuration)

			if var_23_0 <= arg_20_1.time_ and arg_20_1.time_ < var_23_0 + var_23_10 then
				arg_20_1.typewritter.percent = (arg_20_1.time_ - var_23_0) / var_23_10

				arg_20_1.typewritter:SetDirty()
			end

			if arg_20_1.time_ >= var_23_0 + var_23_10 and arg_20_1.time_ < var_23_0 + var_23_10 + arg_23_0 then
				arg_20_1.typewritter.percent = 1

				arg_20_1.typewritter:SetDirty()
				arg_20_1:ShowNextGo(true)
			end
		end
	end,
	Play317021006 = function(arg_24_0, arg_24_1)
		arg_24_1.time_ = 0
		arg_24_1.frameCnt_ = 0
		arg_24_1.state_ = "playing"
		arg_24_1.curTalkId_ = 317021006
		arg_24_1.duration_ = 7

		SetActive(arg_24_1.tipsGo_, false)

		function arg_24_1.onSingleLineFinish_()
			arg_24_1.onSingleLineUpdate_ = nil
			arg_24_1.onSingleLineFinish_ = nil
			arg_24_1.state_ = "waiting"
		end

		function arg_24_1.playNext_(arg_26_0)
			if arg_26_0 == 1 then
				arg_24_0:Play317021007(arg_24_1)
			end
		end

		function arg_24_1.onSingleLineUpdate_(arg_27_0)
			local var_27_0 = "K06f"

			if arg_24_1.bgs_[var_27_0] == nil then
				local var_27_1 = Object.Instantiate(arg_24_1.paintGo_)

				var_27_1:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_27_0)
				var_27_1.name = var_27_0
				var_27_1.transform.parent = arg_24_1.stage_.transform
				var_27_1.transform.localPosition = Vector3.New(0, 100, 0)
				arg_24_1.bgs_[var_27_0] = var_27_1
			end

			local var_27_2 = 0

			if var_27_2 < arg_24_1.time_ and arg_24_1.time_ <= var_27_2 + arg_27_0 then
				local var_27_3 = manager.ui.mainCamera.transform.localPosition
				local var_27_4 = Vector3.New(0, 0, 10) + Vector3.New(var_27_3.x, var_27_3.y, 0)
				local var_27_5 = arg_24_1.bgs_.K06f

				var_27_5.transform.localPosition = var_27_4
				var_27_5.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_27_6 = var_27_5:GetComponent("SpriteRenderer")

				if var_27_6 and var_27_6.sprite then
					local var_27_7 = (var_27_5.transform.localPosition - var_27_3).z
					local var_27_8 = manager.ui.mainCameraCom_
					local var_27_9 = 2 * var_27_7 * Mathf.Tan(var_27_8.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_27_10 = var_27_9 * var_27_8.aspect
					local var_27_11 = var_27_6.sprite.bounds.size.x
					local var_27_12 = var_27_6.sprite.bounds.size.y
					local var_27_13 = var_27_10 / var_27_11
					local var_27_14 = var_27_9 / var_27_12
					local var_27_15 = var_27_14 < var_27_13 and var_27_13 or var_27_14

					var_27_5.transform.localScale = Vector3.New(var_27_15, var_27_15, 0)
				end

				for iter_27_0, iter_27_1 in pairs(arg_24_1.bgs_) do
					if iter_27_0 ~= "K06f" then
						iter_27_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_27_16 = 0

			if var_27_16 < arg_24_1.time_ and arg_24_1.time_ <= var_27_16 + arg_27_0 then
				arg_24_1.mask_.enabled = true
				arg_24_1.mask_.raycastTarget = true

				arg_24_1:SetGaussion(false)
			end

			local var_27_17 = 2

			if var_27_16 <= arg_24_1.time_ and arg_24_1.time_ < var_27_16 + var_27_17 then
				local var_27_18 = (arg_24_1.time_ - var_27_16) / var_27_17
				local var_27_19 = Color.New(0, 0, 0)

				var_27_19.a = Mathf.Lerp(1, 0, var_27_18)
				arg_24_1.mask_.color = var_27_19
			end

			if arg_24_1.time_ >= var_27_16 + var_27_17 and arg_24_1.time_ < var_27_16 + var_27_17 + arg_27_0 then
				local var_27_20 = Color.New(0, 0, 0)
				local var_27_21 = 0

				arg_24_1.mask_.enabled = false
				var_27_20.a = var_27_21
				arg_24_1.mask_.color = var_27_20
			end

			local var_27_22 = 0
			local var_27_23 = 1

			if var_27_22 < arg_24_1.time_ and arg_24_1.time_ <= var_27_22 + arg_27_0 then
				local var_27_24 = "play"
				local var_27_25 = "music"

				arg_24_1:AudioAction(var_27_24, var_27_25, "ui_battle", "ui_battle_stopbgm", "")

				local var_27_26 = ""
				local var_27_27 = manager.audio:GetAudioName("ui_battle", "ui_battle_stopbgm")

				if var_27_27 ~= "" then
					if arg_24_1.bgmTxt_.text ~= var_27_27 and arg_24_1.bgmTxt_.text ~= "" then
						if arg_24_1.bgmTxt2_.text ~= "" then
							arg_24_1.bgmTxt_.text = arg_24_1.bgmTxt2_.text
						end

						arg_24_1.bgmTxt2_.text = var_27_27

						arg_24_1.musicChangeAnimator_:Play("music_change", 0, 0)
					else
						arg_24_1.bgmTxt_.text = var_27_27
					end

					if arg_24_1.bgmTimer then
						arg_24_1.bgmTimer:Stop()

						arg_24_1.bgmTimer = nil
					end

					if arg_24_1.settingData.show_music_name == 1 then
						arg_24_1.musicController:SetSelectedState("show")
						arg_24_1.musicAnimator_:Play("open", 0, 0)

						if arg_24_1.settingData.music_time ~= 0 then
							arg_24_1.bgmTimer = TimeTools.StartAfterSeconds(tonumber(arg_24_1.settingData.music_time), function()
								if arg_24_1 == nil or isNil(arg_24_1.bgmTxt_) then
									return
								end

								arg_24_1.musicController:SetSelectedState("hide")
								arg_24_1.musicAnimator_:Play("back", 0, 0)
							end, {})
						end
					end
				end
			end

			local var_27_28 = 1.56666666666667
			local var_27_29 = 1

			if var_27_28 < arg_24_1.time_ and arg_24_1.time_ <= var_27_28 + arg_27_0 then
				local var_27_30 = "play"
				local var_27_31 = "music"

				arg_24_1:AudioAction(var_27_30, var_27_31, "bgm_activity_2_4_story_xiajingqu", "bgm_activity_2_4_story_xiajingqu", "bgm_activity_2_4_story_xiajingqu.awb")

				local var_27_32 = ""
				local var_27_33 = manager.audio:GetAudioName("bgm_activity_2_4_story_xiajingqu", "bgm_activity_2_4_story_xiajingqu")

				if var_27_33 ~= "" then
					if arg_24_1.bgmTxt_.text ~= var_27_33 and arg_24_1.bgmTxt_.text ~= "" then
						if arg_24_1.bgmTxt2_.text ~= "" then
							arg_24_1.bgmTxt_.text = arg_24_1.bgmTxt2_.text
						end

						arg_24_1.bgmTxt2_.text = var_27_33

						arg_24_1.musicChangeAnimator_:Play("music_change", 0, 0)
					else
						arg_24_1.bgmTxt_.text = var_27_33
					end

					if arg_24_1.bgmTimer then
						arg_24_1.bgmTimer:Stop()

						arg_24_1.bgmTimer = nil
					end

					if arg_24_1.settingData.show_music_name == 1 then
						arg_24_1.musicController:SetSelectedState("show")
						arg_24_1.musicAnimator_:Play("open", 0, 0)

						if arg_24_1.settingData.music_time ~= 0 then
							arg_24_1.bgmTimer = TimeTools.StartAfterSeconds(tonumber(arg_24_1.settingData.music_time), function()
								if arg_24_1 == nil or isNil(arg_24_1.bgmTxt_) then
									return
								end

								arg_24_1.musicController:SetSelectedState("hide")
								arg_24_1.musicAnimator_:Play("back", 0, 0)
							end, {})
						end
					end
				end
			end

			if arg_24_1.frameCnt_ <= 1 then
				arg_24_1.dialog_:SetActive(false)
			end

			local var_27_34 = 2
			local var_27_35 = 1.05

			if var_27_34 < arg_24_1.time_ and arg_24_1.time_ <= var_27_34 + arg_27_0 then
				arg_24_1.talkMaxDuration = 0

				arg_24_1.dialog_:SetActive(true)

				local var_27_36 = LeanTween.value(arg_24_1.dialog_, 0, 1, 0.3)

				var_27_36:setOnUpdate(LuaHelper.FloatAction(function(arg_30_0)
					arg_24_1.dialogCg_.alpha = arg_30_0
				end))
				var_27_36:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_24_1.dialog_)
					var_27_36:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_24_1.duration_ = arg_24_1.duration_ + 0.3

				SetActive(arg_24_1.leftNameGo_, false)

				arg_24_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_24_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_24_1:RecordName(arg_24_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_24_1.iconTrs_.gameObject, false)
				arg_24_1.callingController_:SetSelectedState("normal")

				local var_27_37 = arg_24_1:GetWordFromCfg(317021006)
				local var_27_38 = arg_24_1:FormatText(var_27_37.content)

				arg_24_1.text_.text = var_27_38

				LuaForUtil.ClearLinePrefixSymbol(arg_24_1.text_)

				local var_27_39 = 42
				local var_27_40 = utf8.len(var_27_38)
				local var_27_41 = var_27_39 <= 0 and var_27_35 or var_27_35 * (var_27_40 / var_27_39)

				if var_27_41 > 0 and var_27_35 < var_27_41 then
					arg_24_1.talkMaxDuration = var_27_41
					var_27_34 = var_27_34 + 0.3

					if var_27_41 + var_27_34 > arg_24_1.duration_ then
						arg_24_1.duration_ = var_27_41 + var_27_34
					end
				end

				arg_24_1.text_.text = var_27_38
				arg_24_1.typewritter.percent = 0

				arg_24_1.typewritter:SetDirty()
				arg_24_1:ShowNextGo(false)
				arg_24_1:RecordContent(arg_24_1.text_.text)
			end

			local var_27_42 = var_27_34 + 0.3
			local var_27_43 = math.max(var_27_35, arg_24_1.talkMaxDuration)

			if var_27_42 <= arg_24_1.time_ and arg_24_1.time_ < var_27_42 + var_27_43 then
				arg_24_1.typewritter.percent = (arg_24_1.time_ - var_27_42) / var_27_43

				arg_24_1.typewritter:SetDirty()
			end

			if arg_24_1.time_ >= var_27_42 + var_27_43 and arg_24_1.time_ < var_27_42 + var_27_43 + arg_27_0 then
				arg_24_1.typewritter.percent = 1

				arg_24_1.typewritter:SetDirty()
				arg_24_1:ShowNextGo(true)
			end
		end
	end,
	Play317021007 = function(arg_32_0, arg_32_1)
		arg_32_1.time_ = 0
		arg_32_1.frameCnt_ = 0
		arg_32_1.state_ = "playing"
		arg_32_1.curTalkId_ = 317021007
		arg_32_1.duration_ = 6.2

		local var_32_0 = {
			zh = 4.233,
			ja = 6.2
		}
		local var_32_1 = manager.audio:GetLocalizationFlag()

		if var_32_0[var_32_1] ~= nil then
			arg_32_1.duration_ = var_32_0[var_32_1]
		end

		SetActive(arg_32_1.tipsGo_, false)

		function arg_32_1.onSingleLineFinish_()
			arg_32_1.onSingleLineUpdate_ = nil
			arg_32_1.onSingleLineFinish_ = nil
			arg_32_1.state_ = "waiting"
		end

		function arg_32_1.playNext_(arg_34_0)
			if arg_34_0 == 1 then
				arg_32_0:Play317021008(arg_32_1)
			end
		end

		function arg_32_1.onSingleLineUpdate_(arg_35_0)
			local var_35_0 = "1093ui_story"

			if arg_32_1.actors_[var_35_0] == nil then
				local var_35_1 = Asset.Load("Char/" .. "1093ui_story")

				if not isNil(var_35_1) then
					local var_35_2 = Object.Instantiate(Asset.Load("Char/" .. "1093ui_story"), arg_32_1.stage_.transform)

					var_35_2.name = var_35_0
					var_35_2.transform.localPosition = Vector3.New(0, 100, 0)
					arg_32_1.actors_[var_35_0] = var_35_2

					local var_35_3 = var_35_2:GetComponentInChildren(typeof(CharacterEffect))

					var_35_3.enabled = true

					local var_35_4 = GameObjectTools.GetOrAddComponent(var_35_2, typeof(DynamicBoneHelper))

					if var_35_4 then
						var_35_4:EnableDynamicBone(false)
					end

					arg_32_1:ShowWeapon(var_35_3.transform, false)

					arg_32_1.var_[var_35_0 .. "Animator"] = var_35_3.gameObject:GetComponent(typeof(UnityEngine.Animator))
					arg_32_1.var_[var_35_0 .. "Animator"].applyRootMotion = true
					arg_32_1.var_[var_35_0 .. "LipSync"] = var_35_3.gameObject:GetComponentInChildren(typeof(RogoDigital.Lipsync.LipSync))
				end
			end

			local var_35_5 = arg_32_1.actors_["1093ui_story"].transform
			local var_35_6 = 0

			if var_35_6 < arg_32_1.time_ and arg_32_1.time_ <= var_35_6 + arg_35_0 then
				arg_32_1.var_.moveOldPos1093ui_story = var_35_5.localPosition
			end

			local var_35_7 = 0.001

			if var_35_6 <= arg_32_1.time_ and arg_32_1.time_ < var_35_6 + var_35_7 then
				local var_35_8 = (arg_32_1.time_ - var_35_6) / var_35_7
				local var_35_9 = Vector3.New(-0.7, -1.11, -5.88)

				var_35_5.localPosition = Vector3.Lerp(arg_32_1.var_.moveOldPos1093ui_story, var_35_9, var_35_8)

				local var_35_10 = manager.ui.mainCamera.transform.position - var_35_5.position

				var_35_5.forward = Vector3.New(var_35_10.x, var_35_10.y, var_35_10.z)

				local var_35_11 = var_35_5.localEulerAngles

				var_35_11.z = 0
				var_35_11.x = 0
				var_35_5.localEulerAngles = var_35_11
			end

			if arg_32_1.time_ >= var_35_6 + var_35_7 and arg_32_1.time_ < var_35_6 + var_35_7 + arg_35_0 then
				var_35_5.localPosition = Vector3.New(-0.7, -1.11, -5.88)

				local var_35_12 = manager.ui.mainCamera.transform.position - var_35_5.position

				var_35_5.forward = Vector3.New(var_35_12.x, var_35_12.y, var_35_12.z)

				local var_35_13 = var_35_5.localEulerAngles

				var_35_13.z = 0
				var_35_13.x = 0
				var_35_5.localEulerAngles = var_35_13
			end

			local var_35_14 = arg_32_1.actors_["1093ui_story"]
			local var_35_15 = 0

			if var_35_15 < arg_32_1.time_ and arg_32_1.time_ <= var_35_15 + arg_35_0 and not isNil(var_35_14) and arg_32_1.var_.characterEffect1093ui_story == nil then
				arg_32_1.var_.characterEffect1093ui_story = var_35_14:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_35_16 = 0.200000002980232

			if var_35_15 <= arg_32_1.time_ and arg_32_1.time_ < var_35_15 + var_35_16 and not isNil(var_35_14) then
				local var_35_17 = (arg_32_1.time_ - var_35_15) / var_35_16

				if arg_32_1.var_.characterEffect1093ui_story and not isNil(var_35_14) then
					arg_32_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_32_1.time_ >= var_35_15 + var_35_16 and arg_32_1.time_ < var_35_15 + var_35_16 + arg_35_0 and not isNil(var_35_14) and arg_32_1.var_.characterEffect1093ui_story then
				arg_32_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_35_18 = 0

			if var_35_18 < arg_32_1.time_ and arg_32_1.time_ <= var_35_18 + arg_35_0 then
				arg_32_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action6_1")
			end

			local var_35_19 = 0

			if var_35_19 < arg_32_1.time_ and arg_32_1.time_ <= var_35_19 + arg_35_0 then
				arg_32_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_35_20 = "1050ui_story"

			if arg_32_1.actors_[var_35_20] == nil then
				local var_35_21 = Asset.Load("Char/" .. "1050ui_story")

				if not isNil(var_35_21) then
					local var_35_22 = Object.Instantiate(Asset.Load("Char/" .. "1050ui_story"), arg_32_1.stage_.transform)

					var_35_22.name = var_35_20
					var_35_22.transform.localPosition = Vector3.New(0, 100, 0)
					arg_32_1.actors_[var_35_20] = var_35_22

					local var_35_23 = var_35_22:GetComponentInChildren(typeof(CharacterEffect))

					var_35_23.enabled = true

					local var_35_24 = GameObjectTools.GetOrAddComponent(var_35_22, typeof(DynamicBoneHelper))

					if var_35_24 then
						var_35_24:EnableDynamicBone(false)
					end

					arg_32_1:ShowWeapon(var_35_23.transform, false)

					arg_32_1.var_[var_35_20 .. "Animator"] = var_35_23.gameObject:GetComponent(typeof(UnityEngine.Animator))
					arg_32_1.var_[var_35_20 .. "Animator"].applyRootMotion = true
					arg_32_1.var_[var_35_20 .. "LipSync"] = var_35_23.gameObject:GetComponentInChildren(typeof(RogoDigital.Lipsync.LipSync))
				end
			end

			local var_35_25 = arg_32_1.actors_["1050ui_story"].transform
			local var_35_26 = 0

			if var_35_26 < arg_32_1.time_ and arg_32_1.time_ <= var_35_26 + arg_35_0 then
				arg_32_1.var_.moveOldPos1050ui_story = var_35_25.localPosition
			end

			local var_35_27 = 0.001

			if var_35_26 <= arg_32_1.time_ and arg_32_1.time_ < var_35_26 + var_35_27 then
				local var_35_28 = (arg_32_1.time_ - var_35_26) / var_35_27
				local var_35_29 = Vector3.New(0.7, -1, -6.1)

				var_35_25.localPosition = Vector3.Lerp(arg_32_1.var_.moveOldPos1050ui_story, var_35_29, var_35_28)

				local var_35_30 = manager.ui.mainCamera.transform.position - var_35_25.position

				var_35_25.forward = Vector3.New(var_35_30.x, var_35_30.y, var_35_30.z)

				local var_35_31 = var_35_25.localEulerAngles

				var_35_31.z = 0
				var_35_31.x = 0
				var_35_25.localEulerAngles = var_35_31
			end

			if arg_32_1.time_ >= var_35_26 + var_35_27 and arg_32_1.time_ < var_35_26 + var_35_27 + arg_35_0 then
				var_35_25.localPosition = Vector3.New(0.7, -1, -6.1)

				local var_35_32 = manager.ui.mainCamera.transform.position - var_35_25.position

				var_35_25.forward = Vector3.New(var_35_32.x, var_35_32.y, var_35_32.z)

				local var_35_33 = var_35_25.localEulerAngles

				var_35_33.z = 0
				var_35_33.x = 0
				var_35_25.localEulerAngles = var_35_33
			end

			local var_35_34 = arg_32_1.actors_["1050ui_story"]
			local var_35_35 = 0

			if var_35_35 < arg_32_1.time_ and arg_32_1.time_ <= var_35_35 + arg_35_0 and not isNil(var_35_34) and arg_32_1.var_.characterEffect1050ui_story == nil then
				arg_32_1.var_.characterEffect1050ui_story = var_35_34:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_35_36 = 0.200000002980232

			if var_35_35 <= arg_32_1.time_ and arg_32_1.time_ < var_35_35 + var_35_36 and not isNil(var_35_34) then
				local var_35_37 = (arg_32_1.time_ - var_35_35) / var_35_36

				if arg_32_1.var_.characterEffect1050ui_story and not isNil(var_35_34) then
					local var_35_38 = Mathf.Lerp(0, 0.5, var_35_37)

					arg_32_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_32_1.var_.characterEffect1050ui_story.fillRatio = var_35_38
				end
			end

			if arg_32_1.time_ >= var_35_35 + var_35_36 and arg_32_1.time_ < var_35_35 + var_35_36 + arg_35_0 and not isNil(var_35_34) and arg_32_1.var_.characterEffect1050ui_story then
				local var_35_39 = 0.5

				arg_32_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_32_1.var_.characterEffect1050ui_story.fillRatio = var_35_39
			end

			local var_35_40 = 0

			if var_35_40 < arg_32_1.time_ and arg_32_1.time_ <= var_35_40 + arg_35_0 then
				arg_32_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/1050/1050action/1050action1_1")
			end

			local var_35_41 = 0
			local var_35_42 = 0.375

			if var_35_41 < arg_32_1.time_ and arg_32_1.time_ <= var_35_41 + arg_35_0 then
				arg_32_1.talkMaxDuration = 0
				arg_32_1.dialogCg_.alpha = 1

				arg_32_1.dialog_:SetActive(true)
				SetActive(arg_32_1.leftNameGo_, true)

				local var_35_43 = arg_32_1:FormatText(StoryNameCfg[73].name)

				arg_32_1.leftNameTxt_.text = var_35_43

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_32_1.leftNameTxt_.transform)

				arg_32_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_32_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_32_1:RecordName(arg_32_1.leftNameTxt_.text)
				SetActive(arg_32_1.iconTrs_.gameObject, false)
				arg_32_1.callingController_:SetSelectedState("normal")

				local var_35_44 = arg_32_1:GetWordFromCfg(317021007)
				local var_35_45 = arg_32_1:FormatText(var_35_44.content)

				arg_32_1.text_.text = var_35_45

				LuaForUtil.ClearLinePrefixSymbol(arg_32_1.text_)

				local var_35_46 = 15
				local var_35_47 = utf8.len(var_35_45)
				local var_35_48 = var_35_46 <= 0 and var_35_42 or var_35_42 * (var_35_47 / var_35_46)

				if var_35_48 > 0 and var_35_42 < var_35_48 then
					arg_32_1.talkMaxDuration = var_35_48

					if var_35_48 + var_35_41 > arg_32_1.duration_ then
						arg_32_1.duration_ = var_35_48 + var_35_41
					end
				end

				arg_32_1.text_.text = var_35_45
				arg_32_1.typewritter.percent = 0

				arg_32_1.typewritter:SetDirty()
				arg_32_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021007", "story_v_out_317021.awb") ~= 0 then
					local var_35_49 = manager.audio:GetVoiceLength("story_v_out_317021", "317021007", "story_v_out_317021.awb") / 1000

					if var_35_49 + var_35_41 > arg_32_1.duration_ then
						arg_32_1.duration_ = var_35_49 + var_35_41
					end

					if var_35_44.prefab_name ~= "" and arg_32_1.actors_[var_35_44.prefab_name] ~= nil then
						local var_35_50 = LuaForUtil.PlayVoiceWithCriLipsync(arg_32_1.actors_[var_35_44.prefab_name].transform, "story_v_out_317021", "317021007", "story_v_out_317021.awb")

						arg_32_1:RecordAudio("317021007", var_35_50)
						arg_32_1:RecordAudio("317021007", var_35_50)
					else
						arg_32_1:AudioAction("play", "voice", "story_v_out_317021", "317021007", "story_v_out_317021.awb")
					end

					arg_32_1:RecordHistoryTalkVoice("story_v_out_317021", "317021007", "story_v_out_317021.awb")
				end

				arg_32_1:RecordContent(arg_32_1.text_.text)
			end

			local var_35_51 = math.max(var_35_42, arg_32_1.talkMaxDuration)

			if var_35_41 <= arg_32_1.time_ and arg_32_1.time_ < var_35_41 + var_35_51 then
				arg_32_1.typewritter.percent = (arg_32_1.time_ - var_35_41) / var_35_51

				arg_32_1.typewritter:SetDirty()
			end

			if arg_32_1.time_ >= var_35_41 + var_35_51 and arg_32_1.time_ < var_35_41 + var_35_51 + arg_35_0 then
				arg_32_1.typewritter.percent = 1

				arg_32_1.typewritter:SetDirty()
				arg_32_1:ShowNextGo(true)
			end
		end
	end,
	Play317021008 = function(arg_36_0, arg_36_1)
		arg_36_1.time_ = 0
		arg_36_1.frameCnt_ = 0
		arg_36_1.state_ = "playing"
		arg_36_1.curTalkId_ = 317021008
		arg_36_1.duration_ = 14.03

		local var_36_0 = {
			zh = 14.033,
			ja = 8.966
		}
		local var_36_1 = manager.audio:GetLocalizationFlag()

		if var_36_0[var_36_1] ~= nil then
			arg_36_1.duration_ = var_36_0[var_36_1]
		end

		SetActive(arg_36_1.tipsGo_, false)

		function arg_36_1.onSingleLineFinish_()
			arg_36_1.onSingleLineUpdate_ = nil
			arg_36_1.onSingleLineFinish_ = nil
			arg_36_1.state_ = "waiting"
		end

		function arg_36_1.playNext_(arg_38_0)
			if arg_38_0 == 1 then
				arg_36_0:Play317021009(arg_36_1)
			end
		end

		function arg_36_1.onSingleLineUpdate_(arg_39_0)
			local var_39_0 = arg_36_1.actors_["1093ui_story"].transform
			local var_39_1 = 0

			if var_39_1 < arg_36_1.time_ and arg_36_1.time_ <= var_39_1 + arg_39_0 then
				arg_36_1.var_.moveOldPos1093ui_story = var_39_0.localPosition
			end

			local var_39_2 = 0.001

			if var_39_1 <= arg_36_1.time_ and arg_36_1.time_ < var_39_1 + var_39_2 then
				local var_39_3 = (arg_36_1.time_ - var_39_1) / var_39_2
				local var_39_4 = Vector3.New(-0.7, -1.11, -5.88)

				var_39_0.localPosition = Vector3.Lerp(arg_36_1.var_.moveOldPos1093ui_story, var_39_4, var_39_3)

				local var_39_5 = manager.ui.mainCamera.transform.position - var_39_0.position

				var_39_0.forward = Vector3.New(var_39_5.x, var_39_5.y, var_39_5.z)

				local var_39_6 = var_39_0.localEulerAngles

				var_39_6.z = 0
				var_39_6.x = 0
				var_39_0.localEulerAngles = var_39_6
			end

			if arg_36_1.time_ >= var_39_1 + var_39_2 and arg_36_1.time_ < var_39_1 + var_39_2 + arg_39_0 then
				var_39_0.localPosition = Vector3.New(-0.7, -1.11, -5.88)

				local var_39_7 = manager.ui.mainCamera.transform.position - var_39_0.position

				var_39_0.forward = Vector3.New(var_39_7.x, var_39_7.y, var_39_7.z)

				local var_39_8 = var_39_0.localEulerAngles

				var_39_8.z = 0
				var_39_8.x = 0
				var_39_0.localEulerAngles = var_39_8
			end

			local var_39_9 = arg_36_1.actors_["1093ui_story"]
			local var_39_10 = 0

			if var_39_10 < arg_36_1.time_ and arg_36_1.time_ <= var_39_10 + arg_39_0 and not isNil(var_39_9) and arg_36_1.var_.characterEffect1093ui_story == nil then
				arg_36_1.var_.characterEffect1093ui_story = var_39_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_39_11 = 0.200000002980232

			if var_39_10 <= arg_36_1.time_ and arg_36_1.time_ < var_39_10 + var_39_11 and not isNil(var_39_9) then
				local var_39_12 = (arg_36_1.time_ - var_39_10) / var_39_11

				if arg_36_1.var_.characterEffect1093ui_story and not isNil(var_39_9) then
					local var_39_13 = Mathf.Lerp(0, 0.5, var_39_12)

					arg_36_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_36_1.var_.characterEffect1093ui_story.fillRatio = var_39_13
				end
			end

			if arg_36_1.time_ >= var_39_10 + var_39_11 and arg_36_1.time_ < var_39_10 + var_39_11 + arg_39_0 and not isNil(var_39_9) and arg_36_1.var_.characterEffect1093ui_story then
				local var_39_14 = 0.5

				arg_36_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_36_1.var_.characterEffect1093ui_story.fillRatio = var_39_14
			end

			local var_39_15 = arg_36_1.actors_["1050ui_story"].transform
			local var_39_16 = 0

			if var_39_16 < arg_36_1.time_ and arg_36_1.time_ <= var_39_16 + arg_39_0 then
				arg_36_1.var_.moveOldPos1050ui_story = var_39_15.localPosition
			end

			local var_39_17 = 0.001

			if var_39_16 <= arg_36_1.time_ and arg_36_1.time_ < var_39_16 + var_39_17 then
				local var_39_18 = (arg_36_1.time_ - var_39_16) / var_39_17
				local var_39_19 = Vector3.New(0.7, -1, -6.1)

				var_39_15.localPosition = Vector3.Lerp(arg_36_1.var_.moveOldPos1050ui_story, var_39_19, var_39_18)

				local var_39_20 = manager.ui.mainCamera.transform.position - var_39_15.position

				var_39_15.forward = Vector3.New(var_39_20.x, var_39_20.y, var_39_20.z)

				local var_39_21 = var_39_15.localEulerAngles

				var_39_21.z = 0
				var_39_21.x = 0
				var_39_15.localEulerAngles = var_39_21
			end

			if arg_36_1.time_ >= var_39_16 + var_39_17 and arg_36_1.time_ < var_39_16 + var_39_17 + arg_39_0 then
				var_39_15.localPosition = Vector3.New(0.7, -1, -6.1)

				local var_39_22 = manager.ui.mainCamera.transform.position - var_39_15.position

				var_39_15.forward = Vector3.New(var_39_22.x, var_39_22.y, var_39_22.z)

				local var_39_23 = var_39_15.localEulerAngles

				var_39_23.z = 0
				var_39_23.x = 0
				var_39_15.localEulerAngles = var_39_23
			end

			local var_39_24 = arg_36_1.actors_["1050ui_story"]
			local var_39_25 = 0

			if var_39_25 < arg_36_1.time_ and arg_36_1.time_ <= var_39_25 + arg_39_0 and not isNil(var_39_24) and arg_36_1.var_.characterEffect1050ui_story == nil then
				arg_36_1.var_.characterEffect1050ui_story = var_39_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_39_26 = 0.200000002980232

			if var_39_25 <= arg_36_1.time_ and arg_36_1.time_ < var_39_25 + var_39_26 and not isNil(var_39_24) then
				local var_39_27 = (arg_36_1.time_ - var_39_25) / var_39_26

				if arg_36_1.var_.characterEffect1050ui_story and not isNil(var_39_24) then
					arg_36_1.var_.characterEffect1050ui_story.fillFlat = false
				end
			end

			if arg_36_1.time_ >= var_39_25 + var_39_26 and arg_36_1.time_ < var_39_25 + var_39_26 + arg_39_0 and not isNil(var_39_24) and arg_36_1.var_.characterEffect1050ui_story then
				arg_36_1.var_.characterEffect1050ui_story.fillFlat = false
			end

			local var_39_28 = 0

			if var_39_28 < arg_36_1.time_ and arg_36_1.time_ <= var_39_28 + arg_39_0 then
				arg_36_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_39_29 = 0
			local var_39_30 = 1.875

			if var_39_29 < arg_36_1.time_ and arg_36_1.time_ <= var_39_29 + arg_39_0 then
				arg_36_1.talkMaxDuration = 0
				arg_36_1.dialogCg_.alpha = 1

				arg_36_1.dialog_:SetActive(true)
				SetActive(arg_36_1.leftNameGo_, true)

				local var_39_31 = arg_36_1:FormatText(StoryNameCfg[74].name)

				arg_36_1.leftNameTxt_.text = var_39_31

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_36_1.leftNameTxt_.transform)

				arg_36_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_36_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_36_1:RecordName(arg_36_1.leftNameTxt_.text)
				SetActive(arg_36_1.iconTrs_.gameObject, false)
				arg_36_1.callingController_:SetSelectedState("normal")

				local var_39_32 = arg_36_1:GetWordFromCfg(317021008)
				local var_39_33 = arg_36_1:FormatText(var_39_32.content)

				arg_36_1.text_.text = var_39_33

				LuaForUtil.ClearLinePrefixSymbol(arg_36_1.text_)

				local var_39_34 = 75
				local var_39_35 = utf8.len(var_39_33)
				local var_39_36 = var_39_34 <= 0 and var_39_30 or var_39_30 * (var_39_35 / var_39_34)

				if var_39_36 > 0 and var_39_30 < var_39_36 then
					arg_36_1.talkMaxDuration = var_39_36

					if var_39_36 + var_39_29 > arg_36_1.duration_ then
						arg_36_1.duration_ = var_39_36 + var_39_29
					end
				end

				arg_36_1.text_.text = var_39_33
				arg_36_1.typewritter.percent = 0

				arg_36_1.typewritter:SetDirty()
				arg_36_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021008", "story_v_out_317021.awb") ~= 0 then
					local var_39_37 = manager.audio:GetVoiceLength("story_v_out_317021", "317021008", "story_v_out_317021.awb") / 1000

					if var_39_37 + var_39_29 > arg_36_1.duration_ then
						arg_36_1.duration_ = var_39_37 + var_39_29
					end

					if var_39_32.prefab_name ~= "" and arg_36_1.actors_[var_39_32.prefab_name] ~= nil then
						local var_39_38 = LuaForUtil.PlayVoiceWithCriLipsync(arg_36_1.actors_[var_39_32.prefab_name].transform, "story_v_out_317021", "317021008", "story_v_out_317021.awb")

						arg_36_1:RecordAudio("317021008", var_39_38)
						arg_36_1:RecordAudio("317021008", var_39_38)
					else
						arg_36_1:AudioAction("play", "voice", "story_v_out_317021", "317021008", "story_v_out_317021.awb")
					end

					arg_36_1:RecordHistoryTalkVoice("story_v_out_317021", "317021008", "story_v_out_317021.awb")
				end

				arg_36_1:RecordContent(arg_36_1.text_.text)
			end

			local var_39_39 = math.max(var_39_30, arg_36_1.talkMaxDuration)

			if var_39_29 <= arg_36_1.time_ and arg_36_1.time_ < var_39_29 + var_39_39 then
				arg_36_1.typewritter.percent = (arg_36_1.time_ - var_39_29) / var_39_39

				arg_36_1.typewritter:SetDirty()
			end

			if arg_36_1.time_ >= var_39_29 + var_39_39 and arg_36_1.time_ < var_39_29 + var_39_39 + arg_39_0 then
				arg_36_1.typewritter.percent = 1

				arg_36_1.typewritter:SetDirty()
				arg_36_1:ShowNextGo(true)
			end
		end
	end,
	Play317021009 = function(arg_40_0, arg_40_1)
		arg_40_1.time_ = 0
		arg_40_1.frameCnt_ = 0
		arg_40_1.state_ = "playing"
		arg_40_1.curTalkId_ = 317021009
		arg_40_1.duration_ = 6.07

		local var_40_0 = {
			zh = 4.5,
			ja = 6.066
		}
		local var_40_1 = manager.audio:GetLocalizationFlag()

		if var_40_0[var_40_1] ~= nil then
			arg_40_1.duration_ = var_40_0[var_40_1]
		end

		SetActive(arg_40_1.tipsGo_, false)

		function arg_40_1.onSingleLineFinish_()
			arg_40_1.onSingleLineUpdate_ = nil
			arg_40_1.onSingleLineFinish_ = nil
			arg_40_1.state_ = "waiting"
		end

		function arg_40_1.playNext_(arg_42_0)
			if arg_42_0 == 1 then
				arg_40_0:Play317021010(arg_40_1)
			end
		end

		function arg_40_1.onSingleLineUpdate_(arg_43_0)
			local var_43_0 = arg_40_1.actors_["1093ui_story"].transform
			local var_43_1 = 0

			if var_43_1 < arg_40_1.time_ and arg_40_1.time_ <= var_43_1 + arg_43_0 then
				arg_40_1.var_.moveOldPos1093ui_story = var_43_0.localPosition
			end

			local var_43_2 = 0.001

			if var_43_1 <= arg_40_1.time_ and arg_40_1.time_ < var_43_1 + var_43_2 then
				local var_43_3 = (arg_40_1.time_ - var_43_1) / var_43_2
				local var_43_4 = Vector3.New(-0.7, -1.11, -5.88)

				var_43_0.localPosition = Vector3.Lerp(arg_40_1.var_.moveOldPos1093ui_story, var_43_4, var_43_3)

				local var_43_5 = manager.ui.mainCamera.transform.position - var_43_0.position

				var_43_0.forward = Vector3.New(var_43_5.x, var_43_5.y, var_43_5.z)

				local var_43_6 = var_43_0.localEulerAngles

				var_43_6.z = 0
				var_43_6.x = 0
				var_43_0.localEulerAngles = var_43_6
			end

			if arg_40_1.time_ >= var_43_1 + var_43_2 and arg_40_1.time_ < var_43_1 + var_43_2 + arg_43_0 then
				var_43_0.localPosition = Vector3.New(-0.7, -1.11, -5.88)

				local var_43_7 = manager.ui.mainCamera.transform.position - var_43_0.position

				var_43_0.forward = Vector3.New(var_43_7.x, var_43_7.y, var_43_7.z)

				local var_43_8 = var_43_0.localEulerAngles

				var_43_8.z = 0
				var_43_8.x = 0
				var_43_0.localEulerAngles = var_43_8
			end

			local var_43_9 = arg_40_1.actors_["1093ui_story"]
			local var_43_10 = 0

			if var_43_10 < arg_40_1.time_ and arg_40_1.time_ <= var_43_10 + arg_43_0 and not isNil(var_43_9) and arg_40_1.var_.characterEffect1093ui_story == nil then
				arg_40_1.var_.characterEffect1093ui_story = var_43_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_43_11 = 0.200000002980232

			if var_43_10 <= arg_40_1.time_ and arg_40_1.time_ < var_43_10 + var_43_11 and not isNil(var_43_9) then
				local var_43_12 = (arg_40_1.time_ - var_43_10) / var_43_11

				if arg_40_1.var_.characterEffect1093ui_story and not isNil(var_43_9) then
					arg_40_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_40_1.time_ >= var_43_10 + var_43_11 and arg_40_1.time_ < var_43_10 + var_43_11 + arg_43_0 and not isNil(var_43_9) and arg_40_1.var_.characterEffect1093ui_story then
				arg_40_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_43_13 = 0

			if var_43_13 < arg_40_1.time_ and arg_40_1.time_ <= var_43_13 + arg_43_0 then
				arg_40_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093actionlink/1093action467")
			end

			local var_43_14 = 0

			if var_43_14 < arg_40_1.time_ and arg_40_1.time_ <= var_43_14 + arg_43_0 then
				arg_40_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0202cva")
			end

			local var_43_15 = arg_40_1.actors_["1050ui_story"].transform
			local var_43_16 = 0

			if var_43_16 < arg_40_1.time_ and arg_40_1.time_ <= var_43_16 + arg_43_0 then
				arg_40_1.var_.moveOldPos1050ui_story = var_43_15.localPosition
			end

			local var_43_17 = 0.001

			if var_43_16 <= arg_40_1.time_ and arg_40_1.time_ < var_43_16 + var_43_17 then
				local var_43_18 = (arg_40_1.time_ - var_43_16) / var_43_17
				local var_43_19 = Vector3.New(0.7, -1, -6.1)

				var_43_15.localPosition = Vector3.Lerp(arg_40_1.var_.moveOldPos1050ui_story, var_43_19, var_43_18)

				local var_43_20 = manager.ui.mainCamera.transform.position - var_43_15.position

				var_43_15.forward = Vector3.New(var_43_20.x, var_43_20.y, var_43_20.z)

				local var_43_21 = var_43_15.localEulerAngles

				var_43_21.z = 0
				var_43_21.x = 0
				var_43_15.localEulerAngles = var_43_21
			end

			if arg_40_1.time_ >= var_43_16 + var_43_17 and arg_40_1.time_ < var_43_16 + var_43_17 + arg_43_0 then
				var_43_15.localPosition = Vector3.New(0.7, -1, -6.1)

				local var_43_22 = manager.ui.mainCamera.transform.position - var_43_15.position

				var_43_15.forward = Vector3.New(var_43_22.x, var_43_22.y, var_43_22.z)

				local var_43_23 = var_43_15.localEulerAngles

				var_43_23.z = 0
				var_43_23.x = 0
				var_43_15.localEulerAngles = var_43_23
			end

			local var_43_24 = arg_40_1.actors_["1050ui_story"]
			local var_43_25 = 0

			if var_43_25 < arg_40_1.time_ and arg_40_1.time_ <= var_43_25 + arg_43_0 and not isNil(var_43_24) and arg_40_1.var_.characterEffect1050ui_story == nil then
				arg_40_1.var_.characterEffect1050ui_story = var_43_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_43_26 = 0.200000002980232

			if var_43_25 <= arg_40_1.time_ and arg_40_1.time_ < var_43_25 + var_43_26 and not isNil(var_43_24) then
				local var_43_27 = (arg_40_1.time_ - var_43_25) / var_43_26

				if arg_40_1.var_.characterEffect1050ui_story and not isNil(var_43_24) then
					local var_43_28 = Mathf.Lerp(0, 0.5, var_43_27)

					arg_40_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_40_1.var_.characterEffect1050ui_story.fillRatio = var_43_28
				end
			end

			if arg_40_1.time_ >= var_43_25 + var_43_26 and arg_40_1.time_ < var_43_25 + var_43_26 + arg_43_0 and not isNil(var_43_24) and arg_40_1.var_.characterEffect1050ui_story then
				local var_43_29 = 0.5

				arg_40_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_40_1.var_.characterEffect1050ui_story.fillRatio = var_43_29
			end

			local var_43_30 = 0
			local var_43_31 = 0.375

			if var_43_30 < arg_40_1.time_ and arg_40_1.time_ <= var_43_30 + arg_43_0 then
				arg_40_1.talkMaxDuration = 0
				arg_40_1.dialogCg_.alpha = 1

				arg_40_1.dialog_:SetActive(true)
				SetActive(arg_40_1.leftNameGo_, true)

				local var_43_32 = arg_40_1:FormatText(StoryNameCfg[73].name)

				arg_40_1.leftNameTxt_.text = var_43_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_40_1.leftNameTxt_.transform)

				arg_40_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_40_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_40_1:RecordName(arg_40_1.leftNameTxt_.text)
				SetActive(arg_40_1.iconTrs_.gameObject, false)
				arg_40_1.callingController_:SetSelectedState("normal")

				local var_43_33 = arg_40_1:GetWordFromCfg(317021009)
				local var_43_34 = arg_40_1:FormatText(var_43_33.content)

				arg_40_1.text_.text = var_43_34

				LuaForUtil.ClearLinePrefixSymbol(arg_40_1.text_)

				local var_43_35 = 15
				local var_43_36 = utf8.len(var_43_34)
				local var_43_37 = var_43_35 <= 0 and var_43_31 or var_43_31 * (var_43_36 / var_43_35)

				if var_43_37 > 0 and var_43_31 < var_43_37 then
					arg_40_1.talkMaxDuration = var_43_37

					if var_43_37 + var_43_30 > arg_40_1.duration_ then
						arg_40_1.duration_ = var_43_37 + var_43_30
					end
				end

				arg_40_1.text_.text = var_43_34
				arg_40_1.typewritter.percent = 0

				arg_40_1.typewritter:SetDirty()
				arg_40_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021009", "story_v_out_317021.awb") ~= 0 then
					local var_43_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021009", "story_v_out_317021.awb") / 1000

					if var_43_38 + var_43_30 > arg_40_1.duration_ then
						arg_40_1.duration_ = var_43_38 + var_43_30
					end

					if var_43_33.prefab_name ~= "" and arg_40_1.actors_[var_43_33.prefab_name] ~= nil then
						local var_43_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_40_1.actors_[var_43_33.prefab_name].transform, "story_v_out_317021", "317021009", "story_v_out_317021.awb")

						arg_40_1:RecordAudio("317021009", var_43_39)
						arg_40_1:RecordAudio("317021009", var_43_39)
					else
						arg_40_1:AudioAction("play", "voice", "story_v_out_317021", "317021009", "story_v_out_317021.awb")
					end

					arg_40_1:RecordHistoryTalkVoice("story_v_out_317021", "317021009", "story_v_out_317021.awb")
				end

				arg_40_1:RecordContent(arg_40_1.text_.text)
			end

			local var_43_40 = math.max(var_43_31, arg_40_1.talkMaxDuration)

			if var_43_30 <= arg_40_1.time_ and arg_40_1.time_ < var_43_30 + var_43_40 then
				arg_40_1.typewritter.percent = (arg_40_1.time_ - var_43_30) / var_43_40

				arg_40_1.typewritter:SetDirty()
			end

			if arg_40_1.time_ >= var_43_30 + var_43_40 and arg_40_1.time_ < var_43_30 + var_43_40 + arg_43_0 then
				arg_40_1.typewritter.percent = 1

				arg_40_1.typewritter:SetDirty()
				arg_40_1:ShowNextGo(true)
			end
		end
	end,
	Play317021010 = function(arg_44_0, arg_44_1)
		arg_44_1.time_ = 0
		arg_44_1.frameCnt_ = 0
		arg_44_1.state_ = "playing"
		arg_44_1.curTalkId_ = 317021010
		arg_44_1.duration_ = 6.63

		local var_44_0 = {
			zh = 4.6,
			ja = 6.633
		}
		local var_44_1 = manager.audio:GetLocalizationFlag()

		if var_44_0[var_44_1] ~= nil then
			arg_44_1.duration_ = var_44_0[var_44_1]
		end

		SetActive(arg_44_1.tipsGo_, false)

		function arg_44_1.onSingleLineFinish_()
			arg_44_1.onSingleLineUpdate_ = nil
			arg_44_1.onSingleLineFinish_ = nil
			arg_44_1.state_ = "waiting"
		end

		function arg_44_1.playNext_(arg_46_0)
			if arg_46_0 == 1 then
				arg_44_0:Play317021011(arg_44_1)
			end
		end

		function arg_44_1.onSingleLineUpdate_(arg_47_0)
			local var_47_0 = arg_44_1.actors_["1093ui_story"].transform
			local var_47_1 = 0

			if var_47_1 < arg_44_1.time_ and arg_44_1.time_ <= var_47_1 + arg_47_0 then
				arg_44_1.var_.moveOldPos1093ui_story = var_47_0.localPosition
			end

			local var_47_2 = 0.001

			if var_47_1 <= arg_44_1.time_ and arg_44_1.time_ < var_47_1 + var_47_2 then
				local var_47_3 = (arg_44_1.time_ - var_47_1) / var_47_2
				local var_47_4 = Vector3.New(-0.7, -1.11, -5.88)

				var_47_0.localPosition = Vector3.Lerp(arg_44_1.var_.moveOldPos1093ui_story, var_47_4, var_47_3)

				local var_47_5 = manager.ui.mainCamera.transform.position - var_47_0.position

				var_47_0.forward = Vector3.New(var_47_5.x, var_47_5.y, var_47_5.z)

				local var_47_6 = var_47_0.localEulerAngles

				var_47_6.z = 0
				var_47_6.x = 0
				var_47_0.localEulerAngles = var_47_6
			end

			if arg_44_1.time_ >= var_47_1 + var_47_2 and arg_44_1.time_ < var_47_1 + var_47_2 + arg_47_0 then
				var_47_0.localPosition = Vector3.New(-0.7, -1.11, -5.88)

				local var_47_7 = manager.ui.mainCamera.transform.position - var_47_0.position

				var_47_0.forward = Vector3.New(var_47_7.x, var_47_7.y, var_47_7.z)

				local var_47_8 = var_47_0.localEulerAngles

				var_47_8.z = 0
				var_47_8.x = 0
				var_47_0.localEulerAngles = var_47_8
			end

			local var_47_9 = arg_44_1.actors_["1093ui_story"]
			local var_47_10 = 0

			if var_47_10 < arg_44_1.time_ and arg_44_1.time_ <= var_47_10 + arg_47_0 and not isNil(var_47_9) and arg_44_1.var_.characterEffect1093ui_story == nil then
				arg_44_1.var_.characterEffect1093ui_story = var_47_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_47_11 = 0.200000002980232

			if var_47_10 <= arg_44_1.time_ and arg_44_1.time_ < var_47_10 + var_47_11 and not isNil(var_47_9) then
				local var_47_12 = (arg_44_1.time_ - var_47_10) / var_47_11

				if arg_44_1.var_.characterEffect1093ui_story and not isNil(var_47_9) then
					local var_47_13 = Mathf.Lerp(0, 0.5, var_47_12)

					arg_44_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_44_1.var_.characterEffect1093ui_story.fillRatio = var_47_13
				end
			end

			if arg_44_1.time_ >= var_47_10 + var_47_11 and arg_44_1.time_ < var_47_10 + var_47_11 + arg_47_0 and not isNil(var_47_9) and arg_44_1.var_.characterEffect1093ui_story then
				local var_47_14 = 0.5

				arg_44_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_44_1.var_.characterEffect1093ui_story.fillRatio = var_47_14
			end

			local var_47_15 = arg_44_1.actors_["1050ui_story"].transform
			local var_47_16 = 0

			if var_47_16 < arg_44_1.time_ and arg_44_1.time_ <= var_47_16 + arg_47_0 then
				arg_44_1.var_.moveOldPos1050ui_story = var_47_15.localPosition
			end

			local var_47_17 = 0.001

			if var_47_16 <= arg_44_1.time_ and arg_44_1.time_ < var_47_16 + var_47_17 then
				local var_47_18 = (arg_44_1.time_ - var_47_16) / var_47_17
				local var_47_19 = Vector3.New(0.7, -1, -6.1)

				var_47_15.localPosition = Vector3.Lerp(arg_44_1.var_.moveOldPos1050ui_story, var_47_19, var_47_18)

				local var_47_20 = manager.ui.mainCamera.transform.position - var_47_15.position

				var_47_15.forward = Vector3.New(var_47_20.x, var_47_20.y, var_47_20.z)

				local var_47_21 = var_47_15.localEulerAngles

				var_47_21.z = 0
				var_47_21.x = 0
				var_47_15.localEulerAngles = var_47_21
			end

			if arg_44_1.time_ >= var_47_16 + var_47_17 and arg_44_1.time_ < var_47_16 + var_47_17 + arg_47_0 then
				var_47_15.localPosition = Vector3.New(0.7, -1, -6.1)

				local var_47_22 = manager.ui.mainCamera.transform.position - var_47_15.position

				var_47_15.forward = Vector3.New(var_47_22.x, var_47_22.y, var_47_22.z)

				local var_47_23 = var_47_15.localEulerAngles

				var_47_23.z = 0
				var_47_23.x = 0
				var_47_15.localEulerAngles = var_47_23
			end

			local var_47_24 = arg_44_1.actors_["1050ui_story"]
			local var_47_25 = 0

			if var_47_25 < arg_44_1.time_ and arg_44_1.time_ <= var_47_25 + arg_47_0 and not isNil(var_47_24) and arg_44_1.var_.characterEffect1050ui_story == nil then
				arg_44_1.var_.characterEffect1050ui_story = var_47_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_47_26 = 0.200000002980232

			if var_47_25 <= arg_44_1.time_ and arg_44_1.time_ < var_47_25 + var_47_26 and not isNil(var_47_24) then
				local var_47_27 = (arg_44_1.time_ - var_47_25) / var_47_26

				if arg_44_1.var_.characterEffect1050ui_story and not isNil(var_47_24) then
					arg_44_1.var_.characterEffect1050ui_story.fillFlat = false
				end
			end

			if arg_44_1.time_ >= var_47_25 + var_47_26 and arg_44_1.time_ < var_47_25 + var_47_26 + arg_47_0 and not isNil(var_47_24) and arg_44_1.var_.characterEffect1050ui_story then
				arg_44_1.var_.characterEffect1050ui_story.fillFlat = false
			end

			local var_47_28 = 0

			if var_47_28 < arg_44_1.time_ and arg_44_1.time_ <= var_47_28 + arg_47_0 then
				arg_44_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/1050/1050action/1050action1_1")
			end

			local var_47_29 = 0

			if var_47_29 < arg_44_1.time_ and arg_44_1.time_ <= var_47_29 + arg_47_0 then
				arg_44_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_47_30 = 0
			local var_47_31 = 0.625

			if var_47_30 < arg_44_1.time_ and arg_44_1.time_ <= var_47_30 + arg_47_0 then
				arg_44_1.talkMaxDuration = 0
				arg_44_1.dialogCg_.alpha = 1

				arg_44_1.dialog_:SetActive(true)
				SetActive(arg_44_1.leftNameGo_, true)

				local var_47_32 = arg_44_1:FormatText(StoryNameCfg[74].name)

				arg_44_1.leftNameTxt_.text = var_47_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_44_1.leftNameTxt_.transform)

				arg_44_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_44_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_44_1:RecordName(arg_44_1.leftNameTxt_.text)
				SetActive(arg_44_1.iconTrs_.gameObject, false)
				arg_44_1.callingController_:SetSelectedState("normal")

				local var_47_33 = arg_44_1:GetWordFromCfg(317021010)
				local var_47_34 = arg_44_1:FormatText(var_47_33.content)

				arg_44_1.text_.text = var_47_34

				LuaForUtil.ClearLinePrefixSymbol(arg_44_1.text_)

				local var_47_35 = 25
				local var_47_36 = utf8.len(var_47_34)
				local var_47_37 = var_47_35 <= 0 and var_47_31 or var_47_31 * (var_47_36 / var_47_35)

				if var_47_37 > 0 and var_47_31 < var_47_37 then
					arg_44_1.talkMaxDuration = var_47_37

					if var_47_37 + var_47_30 > arg_44_1.duration_ then
						arg_44_1.duration_ = var_47_37 + var_47_30
					end
				end

				arg_44_1.text_.text = var_47_34
				arg_44_1.typewritter.percent = 0

				arg_44_1.typewritter:SetDirty()
				arg_44_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021010", "story_v_out_317021.awb") ~= 0 then
					local var_47_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021010", "story_v_out_317021.awb") / 1000

					if var_47_38 + var_47_30 > arg_44_1.duration_ then
						arg_44_1.duration_ = var_47_38 + var_47_30
					end

					if var_47_33.prefab_name ~= "" and arg_44_1.actors_[var_47_33.prefab_name] ~= nil then
						local var_47_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_44_1.actors_[var_47_33.prefab_name].transform, "story_v_out_317021", "317021010", "story_v_out_317021.awb")

						arg_44_1:RecordAudio("317021010", var_47_39)
						arg_44_1:RecordAudio("317021010", var_47_39)
					else
						arg_44_1:AudioAction("play", "voice", "story_v_out_317021", "317021010", "story_v_out_317021.awb")
					end

					arg_44_1:RecordHistoryTalkVoice("story_v_out_317021", "317021010", "story_v_out_317021.awb")
				end

				arg_44_1:RecordContent(arg_44_1.text_.text)
			end

			local var_47_40 = math.max(var_47_31, arg_44_1.talkMaxDuration)

			if var_47_30 <= arg_44_1.time_ and arg_44_1.time_ < var_47_30 + var_47_40 then
				arg_44_1.typewritter.percent = (arg_44_1.time_ - var_47_30) / var_47_40

				arg_44_1.typewritter:SetDirty()
			end

			if arg_44_1.time_ >= var_47_30 + var_47_40 and arg_44_1.time_ < var_47_30 + var_47_40 + arg_47_0 then
				arg_44_1.typewritter.percent = 1

				arg_44_1.typewritter:SetDirty()
				arg_44_1:ShowNextGo(true)
			end
		end
	end,
	Play317021011 = function(arg_48_0, arg_48_1)
		arg_48_1.time_ = 0
		arg_48_1.frameCnt_ = 0
		arg_48_1.state_ = "playing"
		arg_48_1.curTalkId_ = 317021011
		arg_48_1.duration_ = 10.43

		local var_48_0 = {
			zh = 10.433,
			ja = 8.5
		}
		local var_48_1 = manager.audio:GetLocalizationFlag()

		if var_48_0[var_48_1] ~= nil then
			arg_48_1.duration_ = var_48_0[var_48_1]
		end

		SetActive(arg_48_1.tipsGo_, false)

		function arg_48_1.onSingleLineFinish_()
			arg_48_1.onSingleLineUpdate_ = nil
			arg_48_1.onSingleLineFinish_ = nil
			arg_48_1.state_ = "waiting"
		end

		function arg_48_1.playNext_(arg_50_0)
			if arg_50_0 == 1 then
				arg_48_0:Play317021012(arg_48_1)
			end
		end

		function arg_48_1.onSingleLineUpdate_(arg_51_0)
			local var_51_0 = arg_48_1.actors_["1093ui_story"].transform
			local var_51_1 = 0

			if var_51_1 < arg_48_1.time_ and arg_48_1.time_ <= var_51_1 + arg_51_0 then
				arg_48_1.var_.moveOldPos1093ui_story = var_51_0.localPosition
			end

			local var_51_2 = 0.001

			if var_51_1 <= arg_48_1.time_ and arg_48_1.time_ < var_51_1 + var_51_2 then
				local var_51_3 = (arg_48_1.time_ - var_51_1) / var_51_2
				local var_51_4 = Vector3.New(-0.7, -1.11, -5.88)

				var_51_0.localPosition = Vector3.Lerp(arg_48_1.var_.moveOldPos1093ui_story, var_51_4, var_51_3)

				local var_51_5 = manager.ui.mainCamera.transform.position - var_51_0.position

				var_51_0.forward = Vector3.New(var_51_5.x, var_51_5.y, var_51_5.z)

				local var_51_6 = var_51_0.localEulerAngles

				var_51_6.z = 0
				var_51_6.x = 0
				var_51_0.localEulerAngles = var_51_6
			end

			if arg_48_1.time_ >= var_51_1 + var_51_2 and arg_48_1.time_ < var_51_1 + var_51_2 + arg_51_0 then
				var_51_0.localPosition = Vector3.New(-0.7, -1.11, -5.88)

				local var_51_7 = manager.ui.mainCamera.transform.position - var_51_0.position

				var_51_0.forward = Vector3.New(var_51_7.x, var_51_7.y, var_51_7.z)

				local var_51_8 = var_51_0.localEulerAngles

				var_51_8.z = 0
				var_51_8.x = 0
				var_51_0.localEulerAngles = var_51_8
			end

			local var_51_9 = arg_48_1.actors_["1093ui_story"]
			local var_51_10 = 0

			if var_51_10 < arg_48_1.time_ and arg_48_1.time_ <= var_51_10 + arg_51_0 and not isNil(var_51_9) and arg_48_1.var_.characterEffect1093ui_story == nil then
				arg_48_1.var_.characterEffect1093ui_story = var_51_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_51_11 = 0.200000002980232

			if var_51_10 <= arg_48_1.time_ and arg_48_1.time_ < var_51_10 + var_51_11 and not isNil(var_51_9) then
				local var_51_12 = (arg_48_1.time_ - var_51_10) / var_51_11

				if arg_48_1.var_.characterEffect1093ui_story and not isNil(var_51_9) then
					arg_48_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_48_1.time_ >= var_51_10 + var_51_11 and arg_48_1.time_ < var_51_10 + var_51_11 + arg_51_0 and not isNil(var_51_9) and arg_48_1.var_.characterEffect1093ui_story then
				arg_48_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_51_13 = 0

			if var_51_13 < arg_48_1.time_ and arg_48_1.time_ <= var_51_13 + arg_51_0 then
				arg_48_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action7_2")
			end

			local var_51_14 = 0

			if var_51_14 < arg_48_1.time_ and arg_48_1.time_ <= var_51_14 + arg_51_0 then
				arg_48_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_51_15 = arg_48_1.actors_["1050ui_story"].transform
			local var_51_16 = 0

			if var_51_16 < arg_48_1.time_ and arg_48_1.time_ <= var_51_16 + arg_51_0 then
				arg_48_1.var_.moveOldPos1050ui_story = var_51_15.localPosition
			end

			local var_51_17 = 0.001

			if var_51_16 <= arg_48_1.time_ and arg_48_1.time_ < var_51_16 + var_51_17 then
				local var_51_18 = (arg_48_1.time_ - var_51_16) / var_51_17
				local var_51_19 = Vector3.New(0.7, -1, -6.1)

				var_51_15.localPosition = Vector3.Lerp(arg_48_1.var_.moveOldPos1050ui_story, var_51_19, var_51_18)

				local var_51_20 = manager.ui.mainCamera.transform.position - var_51_15.position

				var_51_15.forward = Vector3.New(var_51_20.x, var_51_20.y, var_51_20.z)

				local var_51_21 = var_51_15.localEulerAngles

				var_51_21.z = 0
				var_51_21.x = 0
				var_51_15.localEulerAngles = var_51_21
			end

			if arg_48_1.time_ >= var_51_16 + var_51_17 and arg_48_1.time_ < var_51_16 + var_51_17 + arg_51_0 then
				var_51_15.localPosition = Vector3.New(0.7, -1, -6.1)

				local var_51_22 = manager.ui.mainCamera.transform.position - var_51_15.position

				var_51_15.forward = Vector3.New(var_51_22.x, var_51_22.y, var_51_22.z)

				local var_51_23 = var_51_15.localEulerAngles

				var_51_23.z = 0
				var_51_23.x = 0
				var_51_15.localEulerAngles = var_51_23
			end

			local var_51_24 = arg_48_1.actors_["1050ui_story"]
			local var_51_25 = 0

			if var_51_25 < arg_48_1.time_ and arg_48_1.time_ <= var_51_25 + arg_51_0 and not isNil(var_51_24) and arg_48_1.var_.characterEffect1050ui_story == nil then
				arg_48_1.var_.characterEffect1050ui_story = var_51_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_51_26 = 0.200000002980232

			if var_51_25 <= arg_48_1.time_ and arg_48_1.time_ < var_51_25 + var_51_26 and not isNil(var_51_24) then
				local var_51_27 = (arg_48_1.time_ - var_51_25) / var_51_26

				if arg_48_1.var_.characterEffect1050ui_story and not isNil(var_51_24) then
					local var_51_28 = Mathf.Lerp(0, 0.5, var_51_27)

					arg_48_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_48_1.var_.characterEffect1050ui_story.fillRatio = var_51_28
				end
			end

			if arg_48_1.time_ >= var_51_25 + var_51_26 and arg_48_1.time_ < var_51_25 + var_51_26 + arg_51_0 and not isNil(var_51_24) and arg_48_1.var_.characterEffect1050ui_story then
				local var_51_29 = 0.5

				arg_48_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_48_1.var_.characterEffect1050ui_story.fillRatio = var_51_29
			end

			local var_51_30 = 0
			local var_51_31 = 0.975

			if var_51_30 < arg_48_1.time_ and arg_48_1.time_ <= var_51_30 + arg_51_0 then
				arg_48_1.talkMaxDuration = 0
				arg_48_1.dialogCg_.alpha = 1

				arg_48_1.dialog_:SetActive(true)
				SetActive(arg_48_1.leftNameGo_, true)

				local var_51_32 = arg_48_1:FormatText(StoryNameCfg[73].name)

				arg_48_1.leftNameTxt_.text = var_51_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_48_1.leftNameTxt_.transform)

				arg_48_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_48_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_48_1:RecordName(arg_48_1.leftNameTxt_.text)
				SetActive(arg_48_1.iconTrs_.gameObject, false)
				arg_48_1.callingController_:SetSelectedState("normal")

				local var_51_33 = arg_48_1:GetWordFromCfg(317021011)
				local var_51_34 = arg_48_1:FormatText(var_51_33.content)

				arg_48_1.text_.text = var_51_34

				LuaForUtil.ClearLinePrefixSymbol(arg_48_1.text_)

				local var_51_35 = 39
				local var_51_36 = utf8.len(var_51_34)
				local var_51_37 = var_51_35 <= 0 and var_51_31 or var_51_31 * (var_51_36 / var_51_35)

				if var_51_37 > 0 and var_51_31 < var_51_37 then
					arg_48_1.talkMaxDuration = var_51_37

					if var_51_37 + var_51_30 > arg_48_1.duration_ then
						arg_48_1.duration_ = var_51_37 + var_51_30
					end
				end

				arg_48_1.text_.text = var_51_34
				arg_48_1.typewritter.percent = 0

				arg_48_1.typewritter:SetDirty()
				arg_48_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021011", "story_v_out_317021.awb") ~= 0 then
					local var_51_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021011", "story_v_out_317021.awb") / 1000

					if var_51_38 + var_51_30 > arg_48_1.duration_ then
						arg_48_1.duration_ = var_51_38 + var_51_30
					end

					if var_51_33.prefab_name ~= "" and arg_48_1.actors_[var_51_33.prefab_name] ~= nil then
						local var_51_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_48_1.actors_[var_51_33.prefab_name].transform, "story_v_out_317021", "317021011", "story_v_out_317021.awb")

						arg_48_1:RecordAudio("317021011", var_51_39)
						arg_48_1:RecordAudio("317021011", var_51_39)
					else
						arg_48_1:AudioAction("play", "voice", "story_v_out_317021", "317021011", "story_v_out_317021.awb")
					end

					arg_48_1:RecordHistoryTalkVoice("story_v_out_317021", "317021011", "story_v_out_317021.awb")
				end

				arg_48_1:RecordContent(arg_48_1.text_.text)
			end

			local var_51_40 = math.max(var_51_31, arg_48_1.talkMaxDuration)

			if var_51_30 <= arg_48_1.time_ and arg_48_1.time_ < var_51_30 + var_51_40 then
				arg_48_1.typewritter.percent = (arg_48_1.time_ - var_51_30) / var_51_40

				arg_48_1.typewritter:SetDirty()
			end

			if arg_48_1.time_ >= var_51_30 + var_51_40 and arg_48_1.time_ < var_51_30 + var_51_40 + arg_51_0 then
				arg_48_1.typewritter.percent = 1

				arg_48_1.typewritter:SetDirty()
				arg_48_1:ShowNextGo(true)
			end
		end
	end,
	Play317021012 = function(arg_52_0, arg_52_1)
		arg_52_1.time_ = 0
		arg_52_1.frameCnt_ = 0
		arg_52_1.state_ = "playing"
		arg_52_1.curTalkId_ = 317021012
		arg_52_1.duration_ = 5

		SetActive(arg_52_1.tipsGo_, false)

		function arg_52_1.onSingleLineFinish_()
			arg_52_1.onSingleLineUpdate_ = nil
			arg_52_1.onSingleLineFinish_ = nil
			arg_52_1.state_ = "waiting"
		end

		function arg_52_1.playNext_(arg_54_0)
			if arg_54_0 == 1 then
				arg_52_0:Play317021013(arg_52_1)
			end
		end

		function arg_52_1.onSingleLineUpdate_(arg_55_0)
			local var_55_0 = arg_52_1.actors_["1093ui_story"].transform
			local var_55_1 = 0

			if var_55_1 < arg_52_1.time_ and arg_52_1.time_ <= var_55_1 + arg_55_0 then
				arg_52_1.var_.moveOldPos1093ui_story = var_55_0.localPosition
			end

			local var_55_2 = 0.001

			if var_55_1 <= arg_52_1.time_ and arg_52_1.time_ < var_55_1 + var_55_2 then
				local var_55_3 = (arg_52_1.time_ - var_55_1) / var_55_2
				local var_55_4 = Vector3.New(0, 100, 0)

				var_55_0.localPosition = Vector3.Lerp(arg_52_1.var_.moveOldPos1093ui_story, var_55_4, var_55_3)

				local var_55_5 = manager.ui.mainCamera.transform.position - var_55_0.position

				var_55_0.forward = Vector3.New(var_55_5.x, var_55_5.y, var_55_5.z)

				local var_55_6 = var_55_0.localEulerAngles

				var_55_6.z = 0
				var_55_6.x = 0
				var_55_0.localEulerAngles = var_55_6
			end

			if arg_52_1.time_ >= var_55_1 + var_55_2 and arg_52_1.time_ < var_55_1 + var_55_2 + arg_55_0 then
				var_55_0.localPosition = Vector3.New(0, 100, 0)

				local var_55_7 = manager.ui.mainCamera.transform.position - var_55_0.position

				var_55_0.forward = Vector3.New(var_55_7.x, var_55_7.y, var_55_7.z)

				local var_55_8 = var_55_0.localEulerAngles

				var_55_8.z = 0
				var_55_8.x = 0
				var_55_0.localEulerAngles = var_55_8
			end

			local var_55_9 = arg_52_1.actors_["1093ui_story"]
			local var_55_10 = 0

			if var_55_10 < arg_52_1.time_ and arg_52_1.time_ <= var_55_10 + arg_55_0 and not isNil(var_55_9) and arg_52_1.var_.characterEffect1093ui_story == nil then
				arg_52_1.var_.characterEffect1093ui_story = var_55_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_55_11 = 0.200000002980232

			if var_55_10 <= arg_52_1.time_ and arg_52_1.time_ < var_55_10 + var_55_11 and not isNil(var_55_9) then
				local var_55_12 = (arg_52_1.time_ - var_55_10) / var_55_11

				if arg_52_1.var_.characterEffect1093ui_story and not isNil(var_55_9) then
					local var_55_13 = Mathf.Lerp(0, 0.5, var_55_12)

					arg_52_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_52_1.var_.characterEffect1093ui_story.fillRatio = var_55_13
				end
			end

			if arg_52_1.time_ >= var_55_10 + var_55_11 and arg_52_1.time_ < var_55_10 + var_55_11 + arg_55_0 and not isNil(var_55_9) and arg_52_1.var_.characterEffect1093ui_story then
				local var_55_14 = 0.5

				arg_52_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_52_1.var_.characterEffect1093ui_story.fillRatio = var_55_14
			end

			local var_55_15 = arg_52_1.actors_["1050ui_story"].transform
			local var_55_16 = 0

			if var_55_16 < arg_52_1.time_ and arg_52_1.time_ <= var_55_16 + arg_55_0 then
				arg_52_1.var_.moveOldPos1050ui_story = var_55_15.localPosition
			end

			local var_55_17 = 0.001

			if var_55_16 <= arg_52_1.time_ and arg_52_1.time_ < var_55_16 + var_55_17 then
				local var_55_18 = (arg_52_1.time_ - var_55_16) / var_55_17
				local var_55_19 = Vector3.New(0, 100, 0)

				var_55_15.localPosition = Vector3.Lerp(arg_52_1.var_.moveOldPos1050ui_story, var_55_19, var_55_18)

				local var_55_20 = manager.ui.mainCamera.transform.position - var_55_15.position

				var_55_15.forward = Vector3.New(var_55_20.x, var_55_20.y, var_55_20.z)

				local var_55_21 = var_55_15.localEulerAngles

				var_55_21.z = 0
				var_55_21.x = 0
				var_55_15.localEulerAngles = var_55_21
			end

			if arg_52_1.time_ >= var_55_16 + var_55_17 and arg_52_1.time_ < var_55_16 + var_55_17 + arg_55_0 then
				var_55_15.localPosition = Vector3.New(0, 100, 0)

				local var_55_22 = manager.ui.mainCamera.transform.position - var_55_15.position

				var_55_15.forward = Vector3.New(var_55_22.x, var_55_22.y, var_55_22.z)

				local var_55_23 = var_55_15.localEulerAngles

				var_55_23.z = 0
				var_55_23.x = 0
				var_55_15.localEulerAngles = var_55_23
			end

			local var_55_24 = arg_52_1.actors_["1050ui_story"]
			local var_55_25 = 0

			if var_55_25 < arg_52_1.time_ and arg_52_1.time_ <= var_55_25 + arg_55_0 and not isNil(var_55_24) and arg_52_1.var_.characterEffect1050ui_story == nil then
				arg_52_1.var_.characterEffect1050ui_story = var_55_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_55_26 = 0.200000002980232

			if var_55_25 <= arg_52_1.time_ and arg_52_1.time_ < var_55_25 + var_55_26 and not isNil(var_55_24) then
				local var_55_27 = (arg_52_1.time_ - var_55_25) / var_55_26

				if arg_52_1.var_.characterEffect1050ui_story and not isNil(var_55_24) then
					local var_55_28 = Mathf.Lerp(0, 0.5, var_55_27)

					arg_52_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_52_1.var_.characterEffect1050ui_story.fillRatio = var_55_28
				end
			end

			if arg_52_1.time_ >= var_55_25 + var_55_26 and arg_52_1.time_ < var_55_25 + var_55_26 + arg_55_0 and not isNil(var_55_24) and arg_52_1.var_.characterEffect1050ui_story then
				local var_55_29 = 0.5

				arg_52_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_52_1.var_.characterEffect1050ui_story.fillRatio = var_55_29
			end

			local var_55_30 = 0
			local var_55_31 = 0.4

			if var_55_30 < arg_52_1.time_ and arg_52_1.time_ <= var_55_30 + arg_55_0 then
				arg_52_1.talkMaxDuration = 0
				arg_52_1.dialogCg_.alpha = 1

				arg_52_1.dialog_:SetActive(true)
				SetActive(arg_52_1.leftNameGo_, false)

				arg_52_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_52_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_52_1:RecordName(arg_52_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_52_1.iconTrs_.gameObject, false)
				arg_52_1.callingController_:SetSelectedState("normal")

				local var_55_32 = arg_52_1:GetWordFromCfg(317021012)
				local var_55_33 = arg_52_1:FormatText(var_55_32.content)

				arg_52_1.text_.text = var_55_33

				LuaForUtil.ClearLinePrefixSymbol(arg_52_1.text_)

				local var_55_34 = 16
				local var_55_35 = utf8.len(var_55_33)
				local var_55_36 = var_55_34 <= 0 and var_55_31 or var_55_31 * (var_55_35 / var_55_34)

				if var_55_36 > 0 and var_55_31 < var_55_36 then
					arg_52_1.talkMaxDuration = var_55_36

					if var_55_36 + var_55_30 > arg_52_1.duration_ then
						arg_52_1.duration_ = var_55_36 + var_55_30
					end
				end

				arg_52_1.text_.text = var_55_33
				arg_52_1.typewritter.percent = 0

				arg_52_1.typewritter:SetDirty()
				arg_52_1:ShowNextGo(false)
				arg_52_1:RecordContent(arg_52_1.text_.text)
			end

			local var_55_37 = math.max(var_55_31, arg_52_1.talkMaxDuration)

			if var_55_30 <= arg_52_1.time_ and arg_52_1.time_ < var_55_30 + var_55_37 then
				arg_52_1.typewritter.percent = (arg_52_1.time_ - var_55_30) / var_55_37

				arg_52_1.typewritter:SetDirty()
			end

			if arg_52_1.time_ >= var_55_30 + var_55_37 and arg_52_1.time_ < var_55_30 + var_55_37 + arg_55_0 then
				arg_52_1.typewritter.percent = 1

				arg_52_1.typewritter:SetDirty()
				arg_52_1:ShowNextGo(true)
			end
		end
	end,
	Play317021013 = function(arg_56_0, arg_56_1)
		arg_56_1.time_ = 0
		arg_56_1.frameCnt_ = 0
		arg_56_1.state_ = "playing"
		arg_56_1.curTalkId_ = 317021013
		arg_56_1.duration_ = 5

		SetActive(arg_56_1.tipsGo_, false)

		function arg_56_1.onSingleLineFinish_()
			arg_56_1.onSingleLineUpdate_ = nil
			arg_56_1.onSingleLineFinish_ = nil
			arg_56_1.state_ = "waiting"
		end

		function arg_56_1.playNext_(arg_58_0)
			if arg_58_0 == 1 then
				arg_56_0:Play317021014(arg_56_1)
			end
		end

		function arg_56_1.onSingleLineUpdate_(arg_59_0)
			local var_59_0 = 0
			local var_59_1 = 0.35

			if var_59_0 < arg_56_1.time_ and arg_56_1.time_ <= var_59_0 + arg_59_0 then
				arg_56_1.talkMaxDuration = 0
				arg_56_1.dialogCg_.alpha = 1

				arg_56_1.dialog_:SetActive(true)
				SetActive(arg_56_1.leftNameGo_, true)

				local var_59_2 = arg_56_1:FormatText(StoryNameCfg[7].name)

				arg_56_1.leftNameTxt_.text = var_59_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_56_1.leftNameTxt_.transform)

				arg_56_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_56_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_56_1:RecordName(arg_56_1.leftNameTxt_.text)
				SetActive(arg_56_1.iconTrs_.gameObject, false)
				arg_56_1.callingController_:SetSelectedState("normal")

				local var_59_3 = arg_56_1:GetWordFromCfg(317021013)
				local var_59_4 = arg_56_1:FormatText(var_59_3.content)

				arg_56_1.text_.text = var_59_4

				LuaForUtil.ClearLinePrefixSymbol(arg_56_1.text_)

				local var_59_5 = 14
				local var_59_6 = utf8.len(var_59_4)
				local var_59_7 = var_59_5 <= 0 and var_59_1 or var_59_1 * (var_59_6 / var_59_5)

				if var_59_7 > 0 and var_59_1 < var_59_7 then
					arg_56_1.talkMaxDuration = var_59_7

					if var_59_7 + var_59_0 > arg_56_1.duration_ then
						arg_56_1.duration_ = var_59_7 + var_59_0
					end
				end

				arg_56_1.text_.text = var_59_4
				arg_56_1.typewritter.percent = 0

				arg_56_1.typewritter:SetDirty()
				arg_56_1:ShowNextGo(false)
				arg_56_1:RecordContent(arg_56_1.text_.text)
			end

			local var_59_8 = math.max(var_59_1, arg_56_1.talkMaxDuration)

			if var_59_0 <= arg_56_1.time_ and arg_56_1.time_ < var_59_0 + var_59_8 then
				arg_56_1.typewritter.percent = (arg_56_1.time_ - var_59_0) / var_59_8

				arg_56_1.typewritter:SetDirty()
			end

			if arg_56_1.time_ >= var_59_0 + var_59_8 and arg_56_1.time_ < var_59_0 + var_59_8 + arg_59_0 then
				arg_56_1.typewritter.percent = 1

				arg_56_1.typewritter:SetDirty()
				arg_56_1:ShowNextGo(true)
			end
		end
	end,
	Play317021014 = function(arg_60_0, arg_60_1)
		arg_60_1.time_ = 0
		arg_60_1.frameCnt_ = 0
		arg_60_1.state_ = "playing"
		arg_60_1.curTalkId_ = 317021014
		arg_60_1.duration_ = 3

		local var_60_0 = {
			zh = 1.733,
			ja = 3
		}
		local var_60_1 = manager.audio:GetLocalizationFlag()

		if var_60_0[var_60_1] ~= nil then
			arg_60_1.duration_ = var_60_0[var_60_1]
		end

		SetActive(arg_60_1.tipsGo_, false)

		function arg_60_1.onSingleLineFinish_()
			arg_60_1.onSingleLineUpdate_ = nil
			arg_60_1.onSingleLineFinish_ = nil
			arg_60_1.state_ = "waiting"
		end

		function arg_60_1.playNext_(arg_62_0)
			if arg_62_0 == 1 then
				arg_60_0:Play317021015(arg_60_1)
			end
		end

		function arg_60_1.onSingleLineUpdate_(arg_63_0)
			local var_63_0 = arg_60_1.actors_["1093ui_story"].transform
			local var_63_1 = 0

			if var_63_1 < arg_60_1.time_ and arg_60_1.time_ <= var_63_1 + arg_63_0 then
				arg_60_1.var_.moveOldPos1093ui_story = var_63_0.localPosition
			end

			local var_63_2 = 0.001

			if var_63_1 <= arg_60_1.time_ and arg_60_1.time_ < var_63_1 + var_63_2 then
				local var_63_3 = (arg_60_1.time_ - var_63_1) / var_63_2
				local var_63_4 = Vector3.New(0, -1.11, -5.88)

				var_63_0.localPosition = Vector3.Lerp(arg_60_1.var_.moveOldPos1093ui_story, var_63_4, var_63_3)

				local var_63_5 = manager.ui.mainCamera.transform.position - var_63_0.position

				var_63_0.forward = Vector3.New(var_63_5.x, var_63_5.y, var_63_5.z)

				local var_63_6 = var_63_0.localEulerAngles

				var_63_6.z = 0
				var_63_6.x = 0
				var_63_0.localEulerAngles = var_63_6
			end

			if arg_60_1.time_ >= var_63_1 + var_63_2 and arg_60_1.time_ < var_63_1 + var_63_2 + arg_63_0 then
				var_63_0.localPosition = Vector3.New(0, -1.11, -5.88)

				local var_63_7 = manager.ui.mainCamera.transform.position - var_63_0.position

				var_63_0.forward = Vector3.New(var_63_7.x, var_63_7.y, var_63_7.z)

				local var_63_8 = var_63_0.localEulerAngles

				var_63_8.z = 0
				var_63_8.x = 0
				var_63_0.localEulerAngles = var_63_8
			end

			local var_63_9 = arg_60_1.actors_["1093ui_story"]
			local var_63_10 = 0

			if var_63_10 < arg_60_1.time_ and arg_60_1.time_ <= var_63_10 + arg_63_0 and not isNil(var_63_9) and arg_60_1.var_.characterEffect1093ui_story == nil then
				arg_60_1.var_.characterEffect1093ui_story = var_63_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_63_11 = 0.200000002980232

			if var_63_10 <= arg_60_1.time_ and arg_60_1.time_ < var_63_10 + var_63_11 and not isNil(var_63_9) then
				local var_63_12 = (arg_60_1.time_ - var_63_10) / var_63_11

				if arg_60_1.var_.characterEffect1093ui_story and not isNil(var_63_9) then
					arg_60_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_60_1.time_ >= var_63_10 + var_63_11 and arg_60_1.time_ < var_63_10 + var_63_11 + arg_63_0 and not isNil(var_63_9) and arg_60_1.var_.characterEffect1093ui_story then
				arg_60_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_63_13 = 0

			if var_63_13 < arg_60_1.time_ and arg_60_1.time_ <= var_63_13 + arg_63_0 then
				arg_60_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action1_1")
			end

			local var_63_14 = 0

			if var_63_14 < arg_60_1.time_ and arg_60_1.time_ <= var_63_14 + arg_63_0 then
				arg_60_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_63_15 = 0
			local var_63_16 = 0.2

			if var_63_15 < arg_60_1.time_ and arg_60_1.time_ <= var_63_15 + arg_63_0 then
				arg_60_1.talkMaxDuration = 0
				arg_60_1.dialogCg_.alpha = 1

				arg_60_1.dialog_:SetActive(true)
				SetActive(arg_60_1.leftNameGo_, true)

				local var_63_17 = arg_60_1:FormatText(StoryNameCfg[73].name)

				arg_60_1.leftNameTxt_.text = var_63_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_60_1.leftNameTxt_.transform)

				arg_60_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_60_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_60_1:RecordName(arg_60_1.leftNameTxt_.text)
				SetActive(arg_60_1.iconTrs_.gameObject, false)
				arg_60_1.callingController_:SetSelectedState("normal")

				local var_63_18 = arg_60_1:GetWordFromCfg(317021014)
				local var_63_19 = arg_60_1:FormatText(var_63_18.content)

				arg_60_1.text_.text = var_63_19

				LuaForUtil.ClearLinePrefixSymbol(arg_60_1.text_)

				local var_63_20 = 8
				local var_63_21 = utf8.len(var_63_19)
				local var_63_22 = var_63_20 <= 0 and var_63_16 or var_63_16 * (var_63_21 / var_63_20)

				if var_63_22 > 0 and var_63_16 < var_63_22 then
					arg_60_1.talkMaxDuration = var_63_22

					if var_63_22 + var_63_15 > arg_60_1.duration_ then
						arg_60_1.duration_ = var_63_22 + var_63_15
					end
				end

				arg_60_1.text_.text = var_63_19
				arg_60_1.typewritter.percent = 0

				arg_60_1.typewritter:SetDirty()
				arg_60_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021014", "story_v_out_317021.awb") ~= 0 then
					local var_63_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021014", "story_v_out_317021.awb") / 1000

					if var_63_23 + var_63_15 > arg_60_1.duration_ then
						arg_60_1.duration_ = var_63_23 + var_63_15
					end

					if var_63_18.prefab_name ~= "" and arg_60_1.actors_[var_63_18.prefab_name] ~= nil then
						local var_63_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_60_1.actors_[var_63_18.prefab_name].transform, "story_v_out_317021", "317021014", "story_v_out_317021.awb")

						arg_60_1:RecordAudio("317021014", var_63_24)
						arg_60_1:RecordAudio("317021014", var_63_24)
					else
						arg_60_1:AudioAction("play", "voice", "story_v_out_317021", "317021014", "story_v_out_317021.awb")
					end

					arg_60_1:RecordHistoryTalkVoice("story_v_out_317021", "317021014", "story_v_out_317021.awb")
				end

				arg_60_1:RecordContent(arg_60_1.text_.text)
			end

			local var_63_25 = math.max(var_63_16, arg_60_1.talkMaxDuration)

			if var_63_15 <= arg_60_1.time_ and arg_60_1.time_ < var_63_15 + var_63_25 then
				arg_60_1.typewritter.percent = (arg_60_1.time_ - var_63_15) / var_63_25

				arg_60_1.typewritter:SetDirty()
			end

			if arg_60_1.time_ >= var_63_15 + var_63_25 and arg_60_1.time_ < var_63_15 + var_63_25 + arg_63_0 then
				arg_60_1.typewritter.percent = 1

				arg_60_1.typewritter:SetDirty()
				arg_60_1:ShowNextGo(true)
			end
		end
	end,
	Play317021015 = function(arg_64_0, arg_64_1)
		arg_64_1.time_ = 0
		arg_64_1.frameCnt_ = 0
		arg_64_1.state_ = "playing"
		arg_64_1.curTalkId_ = 317021015
		arg_64_1.duration_ = 5

		SetActive(arg_64_1.tipsGo_, false)

		function arg_64_1.onSingleLineFinish_()
			arg_64_1.onSingleLineUpdate_ = nil
			arg_64_1.onSingleLineFinish_ = nil
			arg_64_1.state_ = "waiting"
		end

		function arg_64_1.playNext_(arg_66_0)
			if arg_66_0 == 1 then
				arg_64_0:Play317021016(arg_64_1)
			end
		end

		function arg_64_1.onSingleLineUpdate_(arg_67_0)
			local var_67_0 = arg_64_1.actors_["1093ui_story"]
			local var_67_1 = 0

			if var_67_1 < arg_64_1.time_ and arg_64_1.time_ <= var_67_1 + arg_67_0 and not isNil(var_67_0) and arg_64_1.var_.characterEffect1093ui_story == nil then
				arg_64_1.var_.characterEffect1093ui_story = var_67_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_67_2 = 0.200000002980232

			if var_67_1 <= arg_64_1.time_ and arg_64_1.time_ < var_67_1 + var_67_2 and not isNil(var_67_0) then
				local var_67_3 = (arg_64_1.time_ - var_67_1) / var_67_2

				if arg_64_1.var_.characterEffect1093ui_story and not isNil(var_67_0) then
					local var_67_4 = Mathf.Lerp(0, 0.5, var_67_3)

					arg_64_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_64_1.var_.characterEffect1093ui_story.fillRatio = var_67_4
				end
			end

			if arg_64_1.time_ >= var_67_1 + var_67_2 and arg_64_1.time_ < var_67_1 + var_67_2 + arg_67_0 and not isNil(var_67_0) and arg_64_1.var_.characterEffect1093ui_story then
				local var_67_5 = 0.5

				arg_64_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_64_1.var_.characterEffect1093ui_story.fillRatio = var_67_5
			end

			local var_67_6 = 0
			local var_67_7 = 0.35

			if var_67_6 < arg_64_1.time_ and arg_64_1.time_ <= var_67_6 + arg_67_0 then
				arg_64_1.talkMaxDuration = 0
				arg_64_1.dialogCg_.alpha = 1

				arg_64_1.dialog_:SetActive(true)
				SetActive(arg_64_1.leftNameGo_, true)

				local var_67_8 = arg_64_1:FormatText(StoryNameCfg[7].name)

				arg_64_1.leftNameTxt_.text = var_67_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_64_1.leftNameTxt_.transform)

				arg_64_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_64_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_64_1:RecordName(arg_64_1.leftNameTxt_.text)
				SetActive(arg_64_1.iconTrs_.gameObject, false)
				arg_64_1.callingController_:SetSelectedState("normal")

				local var_67_9 = arg_64_1:GetWordFromCfg(317021015)
				local var_67_10 = arg_64_1:FormatText(var_67_9.content)

				arg_64_1.text_.text = var_67_10

				LuaForUtil.ClearLinePrefixSymbol(arg_64_1.text_)

				local var_67_11 = 14
				local var_67_12 = utf8.len(var_67_10)
				local var_67_13 = var_67_11 <= 0 and var_67_7 or var_67_7 * (var_67_12 / var_67_11)

				if var_67_13 > 0 and var_67_7 < var_67_13 then
					arg_64_1.talkMaxDuration = var_67_13

					if var_67_13 + var_67_6 > arg_64_1.duration_ then
						arg_64_1.duration_ = var_67_13 + var_67_6
					end
				end

				arg_64_1.text_.text = var_67_10
				arg_64_1.typewritter.percent = 0

				arg_64_1.typewritter:SetDirty()
				arg_64_1:ShowNextGo(false)
				arg_64_1:RecordContent(arg_64_1.text_.text)
			end

			local var_67_14 = math.max(var_67_7, arg_64_1.talkMaxDuration)

			if var_67_6 <= arg_64_1.time_ and arg_64_1.time_ < var_67_6 + var_67_14 then
				arg_64_1.typewritter.percent = (arg_64_1.time_ - var_67_6) / var_67_14

				arg_64_1.typewritter:SetDirty()
			end

			if arg_64_1.time_ >= var_67_6 + var_67_14 and arg_64_1.time_ < var_67_6 + var_67_14 + arg_67_0 then
				arg_64_1.typewritter.percent = 1

				arg_64_1.typewritter:SetDirty()
				arg_64_1:ShowNextGo(true)
			end
		end
	end,
	Play317021016 = function(arg_68_0, arg_68_1)
		arg_68_1.time_ = 0
		arg_68_1.frameCnt_ = 0
		arg_68_1.state_ = "playing"
		arg_68_1.curTalkId_ = 317021016
		arg_68_1.duration_ = 5

		SetActive(arg_68_1.tipsGo_, false)

		function arg_68_1.onSingleLineFinish_()
			arg_68_1.onSingleLineUpdate_ = nil
			arg_68_1.onSingleLineFinish_ = nil
			arg_68_1.state_ = "waiting"
		end

		function arg_68_1.playNext_(arg_70_0)
			if arg_70_0 == 1 then
				arg_68_0:Play317021017(arg_68_1)
			end
		end

		function arg_68_1.onSingleLineUpdate_(arg_71_0)
			local var_71_0 = 0
			local var_71_1 = 0.875

			if var_71_0 < arg_68_1.time_ and arg_68_1.time_ <= var_71_0 + arg_71_0 then
				arg_68_1.talkMaxDuration = 0
				arg_68_1.dialogCg_.alpha = 1

				arg_68_1.dialog_:SetActive(true)
				SetActive(arg_68_1.leftNameGo_, true)

				local var_71_2 = arg_68_1:FormatText(StoryNameCfg[7].name)

				arg_68_1.leftNameTxt_.text = var_71_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_68_1.leftNameTxt_.transform)

				arg_68_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_68_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_68_1:RecordName(arg_68_1.leftNameTxt_.text)
				SetActive(arg_68_1.iconTrs_.gameObject, false)
				arg_68_1.callingController_:SetSelectedState("normal")

				local var_71_3 = arg_68_1:GetWordFromCfg(317021016)
				local var_71_4 = arg_68_1:FormatText(var_71_3.content)

				arg_68_1.text_.text = var_71_4

				LuaForUtil.ClearLinePrefixSymbol(arg_68_1.text_)

				local var_71_5 = 35
				local var_71_6 = utf8.len(var_71_4)
				local var_71_7 = var_71_5 <= 0 and var_71_1 or var_71_1 * (var_71_6 / var_71_5)

				if var_71_7 > 0 and var_71_1 < var_71_7 then
					arg_68_1.talkMaxDuration = var_71_7

					if var_71_7 + var_71_0 > arg_68_1.duration_ then
						arg_68_1.duration_ = var_71_7 + var_71_0
					end
				end

				arg_68_1.text_.text = var_71_4
				arg_68_1.typewritter.percent = 0

				arg_68_1.typewritter:SetDirty()
				arg_68_1:ShowNextGo(false)
				arg_68_1:RecordContent(arg_68_1.text_.text)
			end

			local var_71_8 = math.max(var_71_1, arg_68_1.talkMaxDuration)

			if var_71_0 <= arg_68_1.time_ and arg_68_1.time_ < var_71_0 + var_71_8 then
				arg_68_1.typewritter.percent = (arg_68_1.time_ - var_71_0) / var_71_8

				arg_68_1.typewritter:SetDirty()
			end

			if arg_68_1.time_ >= var_71_0 + var_71_8 and arg_68_1.time_ < var_71_0 + var_71_8 + arg_71_0 then
				arg_68_1.typewritter.percent = 1

				arg_68_1.typewritter:SetDirty()
				arg_68_1:ShowNextGo(true)
			end
		end
	end,
	Play317021017 = function(arg_72_0, arg_72_1)
		arg_72_1.time_ = 0
		arg_72_1.frameCnt_ = 0
		arg_72_1.state_ = "playing"
		arg_72_1.curTalkId_ = 317021017
		arg_72_1.duration_ = 7

		local var_72_0 = {
			zh = 7,
			ja = 6.266
		}
		local var_72_1 = manager.audio:GetLocalizationFlag()

		if var_72_0[var_72_1] ~= nil then
			arg_72_1.duration_ = var_72_0[var_72_1]
		end

		SetActive(arg_72_1.tipsGo_, false)

		function arg_72_1.onSingleLineFinish_()
			arg_72_1.onSingleLineUpdate_ = nil
			arg_72_1.onSingleLineFinish_ = nil
			arg_72_1.state_ = "waiting"
		end

		function arg_72_1.playNext_(arg_74_0)
			if arg_74_0 == 1 then
				arg_72_0:Play317021018(arg_72_1)
			end
		end

		function arg_72_1.onSingleLineUpdate_(arg_75_0)
			local var_75_0 = arg_72_1.actors_["1093ui_story"].transform
			local var_75_1 = 0

			if var_75_1 < arg_72_1.time_ and arg_72_1.time_ <= var_75_1 + arg_75_0 then
				arg_72_1.var_.moveOldPos1093ui_story = var_75_0.localPosition
			end

			local var_75_2 = 0.001

			if var_75_1 <= arg_72_1.time_ and arg_72_1.time_ < var_75_1 + var_75_2 then
				local var_75_3 = (arg_72_1.time_ - var_75_1) / var_75_2
				local var_75_4 = Vector3.New(0, -1.11, -5.88)

				var_75_0.localPosition = Vector3.Lerp(arg_72_1.var_.moveOldPos1093ui_story, var_75_4, var_75_3)

				local var_75_5 = manager.ui.mainCamera.transform.position - var_75_0.position

				var_75_0.forward = Vector3.New(var_75_5.x, var_75_5.y, var_75_5.z)

				local var_75_6 = var_75_0.localEulerAngles

				var_75_6.z = 0
				var_75_6.x = 0
				var_75_0.localEulerAngles = var_75_6
			end

			if arg_72_1.time_ >= var_75_1 + var_75_2 and arg_72_1.time_ < var_75_1 + var_75_2 + arg_75_0 then
				var_75_0.localPosition = Vector3.New(0, -1.11, -5.88)

				local var_75_7 = manager.ui.mainCamera.transform.position - var_75_0.position

				var_75_0.forward = Vector3.New(var_75_7.x, var_75_7.y, var_75_7.z)

				local var_75_8 = var_75_0.localEulerAngles

				var_75_8.z = 0
				var_75_8.x = 0
				var_75_0.localEulerAngles = var_75_8
			end

			local var_75_9 = arg_72_1.actors_["1093ui_story"]
			local var_75_10 = 0

			if var_75_10 < arg_72_1.time_ and arg_72_1.time_ <= var_75_10 + arg_75_0 and not isNil(var_75_9) and arg_72_1.var_.characterEffect1093ui_story == nil then
				arg_72_1.var_.characterEffect1093ui_story = var_75_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_75_11 = 0.200000002980232

			if var_75_10 <= arg_72_1.time_ and arg_72_1.time_ < var_75_10 + var_75_11 and not isNil(var_75_9) then
				local var_75_12 = (arg_72_1.time_ - var_75_10) / var_75_11

				if arg_72_1.var_.characterEffect1093ui_story and not isNil(var_75_9) then
					arg_72_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_72_1.time_ >= var_75_10 + var_75_11 and arg_72_1.time_ < var_75_10 + var_75_11 + arg_75_0 and not isNil(var_75_9) and arg_72_1.var_.characterEffect1093ui_story then
				arg_72_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_75_13 = 0

			if var_75_13 < arg_72_1.time_ and arg_72_1.time_ <= var_75_13 + arg_75_0 then
				arg_72_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action8_1")
			end

			local var_75_14 = 0

			if var_75_14 < arg_72_1.time_ and arg_72_1.time_ <= var_75_14 + arg_75_0 then
				arg_72_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_75_15 = 0
			local var_75_16 = 0.875

			if var_75_15 < arg_72_1.time_ and arg_72_1.time_ <= var_75_15 + arg_75_0 then
				arg_72_1.talkMaxDuration = 0
				arg_72_1.dialogCg_.alpha = 1

				arg_72_1.dialog_:SetActive(true)
				SetActive(arg_72_1.leftNameGo_, true)

				local var_75_17 = arg_72_1:FormatText(StoryNameCfg[73].name)

				arg_72_1.leftNameTxt_.text = var_75_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_72_1.leftNameTxt_.transform)

				arg_72_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_72_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_72_1:RecordName(arg_72_1.leftNameTxt_.text)
				SetActive(arg_72_1.iconTrs_.gameObject, false)
				arg_72_1.callingController_:SetSelectedState("normal")

				local var_75_18 = arg_72_1:GetWordFromCfg(317021017)
				local var_75_19 = arg_72_1:FormatText(var_75_18.content)

				arg_72_1.text_.text = var_75_19

				LuaForUtil.ClearLinePrefixSymbol(arg_72_1.text_)

				local var_75_20 = 35
				local var_75_21 = utf8.len(var_75_19)
				local var_75_22 = var_75_20 <= 0 and var_75_16 or var_75_16 * (var_75_21 / var_75_20)

				if var_75_22 > 0 and var_75_16 < var_75_22 then
					arg_72_1.talkMaxDuration = var_75_22

					if var_75_22 + var_75_15 > arg_72_1.duration_ then
						arg_72_1.duration_ = var_75_22 + var_75_15
					end
				end

				arg_72_1.text_.text = var_75_19
				arg_72_1.typewritter.percent = 0

				arg_72_1.typewritter:SetDirty()
				arg_72_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021017", "story_v_out_317021.awb") ~= 0 then
					local var_75_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021017", "story_v_out_317021.awb") / 1000

					if var_75_23 + var_75_15 > arg_72_1.duration_ then
						arg_72_1.duration_ = var_75_23 + var_75_15
					end

					if var_75_18.prefab_name ~= "" and arg_72_1.actors_[var_75_18.prefab_name] ~= nil then
						local var_75_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_72_1.actors_[var_75_18.prefab_name].transform, "story_v_out_317021", "317021017", "story_v_out_317021.awb")

						arg_72_1:RecordAudio("317021017", var_75_24)
						arg_72_1:RecordAudio("317021017", var_75_24)
					else
						arg_72_1:AudioAction("play", "voice", "story_v_out_317021", "317021017", "story_v_out_317021.awb")
					end

					arg_72_1:RecordHistoryTalkVoice("story_v_out_317021", "317021017", "story_v_out_317021.awb")
				end

				arg_72_1:RecordContent(arg_72_1.text_.text)
			end

			local var_75_25 = math.max(var_75_16, arg_72_1.talkMaxDuration)

			if var_75_15 <= arg_72_1.time_ and arg_72_1.time_ < var_75_15 + var_75_25 then
				arg_72_1.typewritter.percent = (arg_72_1.time_ - var_75_15) / var_75_25

				arg_72_1.typewritter:SetDirty()
			end

			if arg_72_1.time_ >= var_75_15 + var_75_25 and arg_72_1.time_ < var_75_15 + var_75_25 + arg_75_0 then
				arg_72_1.typewritter.percent = 1

				arg_72_1.typewritter:SetDirty()
				arg_72_1:ShowNextGo(true)
			end
		end
	end,
	Play317021018 = function(arg_76_0, arg_76_1)
		arg_76_1.time_ = 0
		arg_76_1.frameCnt_ = 0
		arg_76_1.state_ = "playing"
		arg_76_1.curTalkId_ = 317021018
		arg_76_1.duration_ = 7.17

		local var_76_0 = {
			zh = 7.166,
			ja = 6.366
		}
		local var_76_1 = manager.audio:GetLocalizationFlag()

		if var_76_0[var_76_1] ~= nil then
			arg_76_1.duration_ = var_76_0[var_76_1]
		end

		SetActive(arg_76_1.tipsGo_, false)

		function arg_76_1.onSingleLineFinish_()
			arg_76_1.onSingleLineUpdate_ = nil
			arg_76_1.onSingleLineFinish_ = nil
			arg_76_1.state_ = "waiting"
		end

		function arg_76_1.playNext_(arg_78_0)
			if arg_78_0 == 1 then
				arg_76_0:Play317021019(arg_76_1)
			end
		end

		function arg_76_1.onSingleLineUpdate_(arg_79_0)
			local var_79_0 = arg_76_1.actors_["1093ui_story"].transform
			local var_79_1 = 0

			if var_79_1 < arg_76_1.time_ and arg_76_1.time_ <= var_79_1 + arg_79_0 then
				arg_76_1.var_.moveOldPos1093ui_story = var_79_0.localPosition
			end

			local var_79_2 = 0.001

			if var_79_1 <= arg_76_1.time_ and arg_76_1.time_ < var_79_1 + var_79_2 then
				local var_79_3 = (arg_76_1.time_ - var_79_1) / var_79_2
				local var_79_4 = Vector3.New(0, -1.11, -5.88)

				var_79_0.localPosition = Vector3.Lerp(arg_76_1.var_.moveOldPos1093ui_story, var_79_4, var_79_3)

				local var_79_5 = manager.ui.mainCamera.transform.position - var_79_0.position

				var_79_0.forward = Vector3.New(var_79_5.x, var_79_5.y, var_79_5.z)

				local var_79_6 = var_79_0.localEulerAngles

				var_79_6.z = 0
				var_79_6.x = 0
				var_79_0.localEulerAngles = var_79_6
			end

			if arg_76_1.time_ >= var_79_1 + var_79_2 and arg_76_1.time_ < var_79_1 + var_79_2 + arg_79_0 then
				var_79_0.localPosition = Vector3.New(0, -1.11, -5.88)

				local var_79_7 = manager.ui.mainCamera.transform.position - var_79_0.position

				var_79_0.forward = Vector3.New(var_79_7.x, var_79_7.y, var_79_7.z)

				local var_79_8 = var_79_0.localEulerAngles

				var_79_8.z = 0
				var_79_8.x = 0
				var_79_0.localEulerAngles = var_79_8
			end

			local var_79_9 = arg_76_1.actors_["1093ui_story"]
			local var_79_10 = 0

			if var_79_10 < arg_76_1.time_ and arg_76_1.time_ <= var_79_10 + arg_79_0 and not isNil(var_79_9) and arg_76_1.var_.characterEffect1093ui_story == nil then
				arg_76_1.var_.characterEffect1093ui_story = var_79_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_79_11 = 0.200000002980232

			if var_79_10 <= arg_76_1.time_ and arg_76_1.time_ < var_79_10 + var_79_11 and not isNil(var_79_9) then
				local var_79_12 = (arg_76_1.time_ - var_79_10) / var_79_11

				if arg_76_1.var_.characterEffect1093ui_story and not isNil(var_79_9) then
					arg_76_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_76_1.time_ >= var_79_10 + var_79_11 and arg_76_1.time_ < var_79_10 + var_79_11 + arg_79_0 and not isNil(var_79_9) and arg_76_1.var_.characterEffect1093ui_story then
				arg_76_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_79_13 = 0

			if var_79_13 < arg_76_1.time_ and arg_76_1.time_ <= var_79_13 + arg_79_0 then
				arg_76_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_79_14 = 0
			local var_79_15 = 0.975

			if var_79_14 < arg_76_1.time_ and arg_76_1.time_ <= var_79_14 + arg_79_0 then
				arg_76_1.talkMaxDuration = 0
				arg_76_1.dialogCg_.alpha = 1

				arg_76_1.dialog_:SetActive(true)
				SetActive(arg_76_1.leftNameGo_, true)

				local var_79_16 = arg_76_1:FormatText(StoryNameCfg[73].name)

				arg_76_1.leftNameTxt_.text = var_79_16

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_76_1.leftNameTxt_.transform)

				arg_76_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_76_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_76_1:RecordName(arg_76_1.leftNameTxt_.text)
				SetActive(arg_76_1.iconTrs_.gameObject, false)
				arg_76_1.callingController_:SetSelectedState("normal")

				local var_79_17 = arg_76_1:GetWordFromCfg(317021018)
				local var_79_18 = arg_76_1:FormatText(var_79_17.content)

				arg_76_1.text_.text = var_79_18

				LuaForUtil.ClearLinePrefixSymbol(arg_76_1.text_)

				local var_79_19 = 39
				local var_79_20 = utf8.len(var_79_18)
				local var_79_21 = var_79_19 <= 0 and var_79_15 or var_79_15 * (var_79_20 / var_79_19)

				if var_79_21 > 0 and var_79_15 < var_79_21 then
					arg_76_1.talkMaxDuration = var_79_21

					if var_79_21 + var_79_14 > arg_76_1.duration_ then
						arg_76_1.duration_ = var_79_21 + var_79_14
					end
				end

				arg_76_1.text_.text = var_79_18
				arg_76_1.typewritter.percent = 0

				arg_76_1.typewritter:SetDirty()
				arg_76_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021018", "story_v_out_317021.awb") ~= 0 then
					local var_79_22 = manager.audio:GetVoiceLength("story_v_out_317021", "317021018", "story_v_out_317021.awb") / 1000

					if var_79_22 + var_79_14 > arg_76_1.duration_ then
						arg_76_1.duration_ = var_79_22 + var_79_14
					end

					if var_79_17.prefab_name ~= "" and arg_76_1.actors_[var_79_17.prefab_name] ~= nil then
						local var_79_23 = LuaForUtil.PlayVoiceWithCriLipsync(arg_76_1.actors_[var_79_17.prefab_name].transform, "story_v_out_317021", "317021018", "story_v_out_317021.awb")

						arg_76_1:RecordAudio("317021018", var_79_23)
						arg_76_1:RecordAudio("317021018", var_79_23)
					else
						arg_76_1:AudioAction("play", "voice", "story_v_out_317021", "317021018", "story_v_out_317021.awb")
					end

					arg_76_1:RecordHistoryTalkVoice("story_v_out_317021", "317021018", "story_v_out_317021.awb")
				end

				arg_76_1:RecordContent(arg_76_1.text_.text)
			end

			local var_79_24 = math.max(var_79_15, arg_76_1.talkMaxDuration)

			if var_79_14 <= arg_76_1.time_ and arg_76_1.time_ < var_79_14 + var_79_24 then
				arg_76_1.typewritter.percent = (arg_76_1.time_ - var_79_14) / var_79_24

				arg_76_1.typewritter:SetDirty()
			end

			if arg_76_1.time_ >= var_79_14 + var_79_24 and arg_76_1.time_ < var_79_14 + var_79_24 + arg_79_0 then
				arg_76_1.typewritter.percent = 1

				arg_76_1.typewritter:SetDirty()
				arg_76_1:ShowNextGo(true)
			end
		end
	end,
	Play317021019 = function(arg_80_0, arg_80_1)
		arg_80_1.time_ = 0
		arg_80_1.frameCnt_ = 0
		arg_80_1.state_ = "playing"
		arg_80_1.curTalkId_ = 317021019
		arg_80_1.duration_ = 5

		SetActive(arg_80_1.tipsGo_, false)

		function arg_80_1.onSingleLineFinish_()
			arg_80_1.onSingleLineUpdate_ = nil
			arg_80_1.onSingleLineFinish_ = nil
			arg_80_1.state_ = "waiting"
		end

		function arg_80_1.playNext_(arg_82_0)
			if arg_82_0 == 1 then
				arg_80_0:Play317021020(arg_80_1)
			end
		end

		function arg_80_1.onSingleLineUpdate_(arg_83_0)
			local var_83_0 = arg_80_1.actors_["1093ui_story"]
			local var_83_1 = 0

			if var_83_1 < arg_80_1.time_ and arg_80_1.time_ <= var_83_1 + arg_83_0 and not isNil(var_83_0) and arg_80_1.var_.characterEffect1093ui_story == nil then
				arg_80_1.var_.characterEffect1093ui_story = var_83_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_83_2 = 0.200000002980232

			if var_83_1 <= arg_80_1.time_ and arg_80_1.time_ < var_83_1 + var_83_2 and not isNil(var_83_0) then
				local var_83_3 = (arg_80_1.time_ - var_83_1) / var_83_2

				if arg_80_1.var_.characterEffect1093ui_story and not isNil(var_83_0) then
					local var_83_4 = Mathf.Lerp(0, 0.5, var_83_3)

					arg_80_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_80_1.var_.characterEffect1093ui_story.fillRatio = var_83_4
				end
			end

			if arg_80_1.time_ >= var_83_1 + var_83_2 and arg_80_1.time_ < var_83_1 + var_83_2 + arg_83_0 and not isNil(var_83_0) and arg_80_1.var_.characterEffect1093ui_story then
				local var_83_5 = 0.5

				arg_80_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_80_1.var_.characterEffect1093ui_story.fillRatio = var_83_5
			end

			local var_83_6 = 0
			local var_83_7 = 0.525

			if var_83_6 < arg_80_1.time_ and arg_80_1.time_ <= var_83_6 + arg_83_0 then
				arg_80_1.talkMaxDuration = 0
				arg_80_1.dialogCg_.alpha = 1

				arg_80_1.dialog_:SetActive(true)
				SetActive(arg_80_1.leftNameGo_, true)

				local var_83_8 = arg_80_1:FormatText(StoryNameCfg[7].name)

				arg_80_1.leftNameTxt_.text = var_83_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_80_1.leftNameTxt_.transform)

				arg_80_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_80_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_80_1:RecordName(arg_80_1.leftNameTxt_.text)
				SetActive(arg_80_1.iconTrs_.gameObject, false)
				arg_80_1.callingController_:SetSelectedState("normal")

				local var_83_9 = arg_80_1:GetWordFromCfg(317021019)
				local var_83_10 = arg_80_1:FormatText(var_83_9.content)

				arg_80_1.text_.text = var_83_10

				LuaForUtil.ClearLinePrefixSymbol(arg_80_1.text_)

				local var_83_11 = 21
				local var_83_12 = utf8.len(var_83_10)
				local var_83_13 = var_83_11 <= 0 and var_83_7 or var_83_7 * (var_83_12 / var_83_11)

				if var_83_13 > 0 and var_83_7 < var_83_13 then
					arg_80_1.talkMaxDuration = var_83_13

					if var_83_13 + var_83_6 > arg_80_1.duration_ then
						arg_80_1.duration_ = var_83_13 + var_83_6
					end
				end

				arg_80_1.text_.text = var_83_10
				arg_80_1.typewritter.percent = 0

				arg_80_1.typewritter:SetDirty()
				arg_80_1:ShowNextGo(false)
				arg_80_1:RecordContent(arg_80_1.text_.text)
			end

			local var_83_14 = math.max(var_83_7, arg_80_1.talkMaxDuration)

			if var_83_6 <= arg_80_1.time_ and arg_80_1.time_ < var_83_6 + var_83_14 then
				arg_80_1.typewritter.percent = (arg_80_1.time_ - var_83_6) / var_83_14

				arg_80_1.typewritter:SetDirty()
			end

			if arg_80_1.time_ >= var_83_6 + var_83_14 and arg_80_1.time_ < var_83_6 + var_83_14 + arg_83_0 then
				arg_80_1.typewritter.percent = 1

				arg_80_1.typewritter:SetDirty()
				arg_80_1:ShowNextGo(true)
			end
		end
	end,
	Play317021020 = function(arg_84_0, arg_84_1)
		arg_84_1.time_ = 0
		arg_84_1.frameCnt_ = 0
		arg_84_1.state_ = "playing"
		arg_84_1.curTalkId_ = 317021020
		arg_84_1.duration_ = 5.93

		local var_84_0 = {
			zh = 5.933,
			ja = 5.366
		}
		local var_84_1 = manager.audio:GetLocalizationFlag()

		if var_84_0[var_84_1] ~= nil then
			arg_84_1.duration_ = var_84_0[var_84_1]
		end

		SetActive(arg_84_1.tipsGo_, false)

		function arg_84_1.onSingleLineFinish_()
			arg_84_1.onSingleLineUpdate_ = nil
			arg_84_1.onSingleLineFinish_ = nil
			arg_84_1.state_ = "waiting"
		end

		function arg_84_1.playNext_(arg_86_0)
			if arg_86_0 == 1 then
				arg_84_0:Play317021021(arg_84_1)
			end
		end

		function arg_84_1.onSingleLineUpdate_(arg_87_0)
			local var_87_0 = arg_84_1.actors_["1093ui_story"].transform
			local var_87_1 = 0

			if var_87_1 < arg_84_1.time_ and arg_84_1.time_ <= var_87_1 + arg_87_0 then
				arg_84_1.var_.moveOldPos1093ui_story = var_87_0.localPosition
			end

			local var_87_2 = 0.001

			if var_87_1 <= arg_84_1.time_ and arg_84_1.time_ < var_87_1 + var_87_2 then
				local var_87_3 = (arg_84_1.time_ - var_87_1) / var_87_2
				local var_87_4 = Vector3.New(0, -1.11, -5.88)

				var_87_0.localPosition = Vector3.Lerp(arg_84_1.var_.moveOldPos1093ui_story, var_87_4, var_87_3)

				local var_87_5 = manager.ui.mainCamera.transform.position - var_87_0.position

				var_87_0.forward = Vector3.New(var_87_5.x, var_87_5.y, var_87_5.z)

				local var_87_6 = var_87_0.localEulerAngles

				var_87_6.z = 0
				var_87_6.x = 0
				var_87_0.localEulerAngles = var_87_6
			end

			if arg_84_1.time_ >= var_87_1 + var_87_2 and arg_84_1.time_ < var_87_1 + var_87_2 + arg_87_0 then
				var_87_0.localPosition = Vector3.New(0, -1.11, -5.88)

				local var_87_7 = manager.ui.mainCamera.transform.position - var_87_0.position

				var_87_0.forward = Vector3.New(var_87_7.x, var_87_7.y, var_87_7.z)

				local var_87_8 = var_87_0.localEulerAngles

				var_87_8.z = 0
				var_87_8.x = 0
				var_87_0.localEulerAngles = var_87_8
			end

			local var_87_9 = arg_84_1.actors_["1093ui_story"]
			local var_87_10 = 0

			if var_87_10 < arg_84_1.time_ and arg_84_1.time_ <= var_87_10 + arg_87_0 and not isNil(var_87_9) and arg_84_1.var_.characterEffect1093ui_story == nil then
				arg_84_1.var_.characterEffect1093ui_story = var_87_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_87_11 = 0.200000002980232

			if var_87_10 <= arg_84_1.time_ and arg_84_1.time_ < var_87_10 + var_87_11 and not isNil(var_87_9) then
				local var_87_12 = (arg_84_1.time_ - var_87_10) / var_87_11

				if arg_84_1.var_.characterEffect1093ui_story and not isNil(var_87_9) then
					arg_84_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_84_1.time_ >= var_87_10 + var_87_11 and arg_84_1.time_ < var_87_10 + var_87_11 + arg_87_0 and not isNil(var_87_9) and arg_84_1.var_.characterEffect1093ui_story then
				arg_84_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_87_13 = 0

			if var_87_13 < arg_84_1.time_ and arg_84_1.time_ <= var_87_13 + arg_87_0 then
				arg_84_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0202cva")
			end

			local var_87_14 = 0
			local var_87_15 = 0.375

			if var_87_14 < arg_84_1.time_ and arg_84_1.time_ <= var_87_14 + arg_87_0 then
				arg_84_1.talkMaxDuration = 0
				arg_84_1.dialogCg_.alpha = 1

				arg_84_1.dialog_:SetActive(true)
				SetActive(arg_84_1.leftNameGo_, true)

				local var_87_16 = arg_84_1:FormatText(StoryNameCfg[73].name)

				arg_84_1.leftNameTxt_.text = var_87_16

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_84_1.leftNameTxt_.transform)

				arg_84_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_84_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_84_1:RecordName(arg_84_1.leftNameTxt_.text)
				SetActive(arg_84_1.iconTrs_.gameObject, false)
				arg_84_1.callingController_:SetSelectedState("normal")

				local var_87_17 = arg_84_1:GetWordFromCfg(317021020)
				local var_87_18 = arg_84_1:FormatText(var_87_17.content)

				arg_84_1.text_.text = var_87_18

				LuaForUtil.ClearLinePrefixSymbol(arg_84_1.text_)

				local var_87_19 = 15
				local var_87_20 = utf8.len(var_87_18)
				local var_87_21 = var_87_19 <= 0 and var_87_15 or var_87_15 * (var_87_20 / var_87_19)

				if var_87_21 > 0 and var_87_15 < var_87_21 then
					arg_84_1.talkMaxDuration = var_87_21

					if var_87_21 + var_87_14 > arg_84_1.duration_ then
						arg_84_1.duration_ = var_87_21 + var_87_14
					end
				end

				arg_84_1.text_.text = var_87_18
				arg_84_1.typewritter.percent = 0

				arg_84_1.typewritter:SetDirty()
				arg_84_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021020", "story_v_out_317021.awb") ~= 0 then
					local var_87_22 = manager.audio:GetVoiceLength("story_v_out_317021", "317021020", "story_v_out_317021.awb") / 1000

					if var_87_22 + var_87_14 > arg_84_1.duration_ then
						arg_84_1.duration_ = var_87_22 + var_87_14
					end

					if var_87_17.prefab_name ~= "" and arg_84_1.actors_[var_87_17.prefab_name] ~= nil then
						local var_87_23 = LuaForUtil.PlayVoiceWithCriLipsync(arg_84_1.actors_[var_87_17.prefab_name].transform, "story_v_out_317021", "317021020", "story_v_out_317021.awb")

						arg_84_1:RecordAudio("317021020", var_87_23)
						arg_84_1:RecordAudio("317021020", var_87_23)
					else
						arg_84_1:AudioAction("play", "voice", "story_v_out_317021", "317021020", "story_v_out_317021.awb")
					end

					arg_84_1:RecordHistoryTalkVoice("story_v_out_317021", "317021020", "story_v_out_317021.awb")
				end

				arg_84_1:RecordContent(arg_84_1.text_.text)
			end

			local var_87_24 = math.max(var_87_15, arg_84_1.talkMaxDuration)

			if var_87_14 <= arg_84_1.time_ and arg_84_1.time_ < var_87_14 + var_87_24 then
				arg_84_1.typewritter.percent = (arg_84_1.time_ - var_87_14) / var_87_24

				arg_84_1.typewritter:SetDirty()
			end

			if arg_84_1.time_ >= var_87_14 + var_87_24 and arg_84_1.time_ < var_87_14 + var_87_24 + arg_87_0 then
				arg_84_1.typewritter.percent = 1

				arg_84_1.typewritter:SetDirty()
				arg_84_1:ShowNextGo(true)
			end
		end
	end,
	Play317021021 = function(arg_88_0, arg_88_1)
		arg_88_1.time_ = 0
		arg_88_1.frameCnt_ = 0
		arg_88_1.state_ = "playing"
		arg_88_1.curTalkId_ = 317021021
		arg_88_1.duration_ = 5

		SetActive(arg_88_1.tipsGo_, false)

		function arg_88_1.onSingleLineFinish_()
			arg_88_1.onSingleLineUpdate_ = nil
			arg_88_1.onSingleLineFinish_ = nil
			arg_88_1.state_ = "waiting"
		end

		function arg_88_1.playNext_(arg_90_0)
			if arg_90_0 == 1 then
				arg_88_0:Play317021022(arg_88_1)
			end
		end

		function arg_88_1.onSingleLineUpdate_(arg_91_0)
			local var_91_0 = arg_88_1.actors_["1093ui_story"]
			local var_91_1 = 0

			if var_91_1 < arg_88_1.time_ and arg_88_1.time_ <= var_91_1 + arg_91_0 and not isNil(var_91_0) and arg_88_1.var_.characterEffect1093ui_story == nil then
				arg_88_1.var_.characterEffect1093ui_story = var_91_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_91_2 = 0.200000002980232

			if var_91_1 <= arg_88_1.time_ and arg_88_1.time_ < var_91_1 + var_91_2 and not isNil(var_91_0) then
				local var_91_3 = (arg_88_1.time_ - var_91_1) / var_91_2

				if arg_88_1.var_.characterEffect1093ui_story and not isNil(var_91_0) then
					local var_91_4 = Mathf.Lerp(0, 0.5, var_91_3)

					arg_88_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_88_1.var_.characterEffect1093ui_story.fillRatio = var_91_4
				end
			end

			if arg_88_1.time_ >= var_91_1 + var_91_2 and arg_88_1.time_ < var_91_1 + var_91_2 + arg_91_0 and not isNil(var_91_0) and arg_88_1.var_.characterEffect1093ui_story then
				local var_91_5 = 0.5

				arg_88_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_88_1.var_.characterEffect1093ui_story.fillRatio = var_91_5
			end

			local var_91_6 = 0
			local var_91_7 = 0.45

			if var_91_6 < arg_88_1.time_ and arg_88_1.time_ <= var_91_6 + arg_91_0 then
				arg_88_1.talkMaxDuration = 0
				arg_88_1.dialogCg_.alpha = 1

				arg_88_1.dialog_:SetActive(true)
				SetActive(arg_88_1.leftNameGo_, false)

				arg_88_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_88_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_88_1:RecordName(arg_88_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_88_1.iconTrs_.gameObject, false)
				arg_88_1.callingController_:SetSelectedState("normal")

				local var_91_8 = arg_88_1:GetWordFromCfg(317021021)
				local var_91_9 = arg_88_1:FormatText(var_91_8.content)

				arg_88_1.text_.text = var_91_9

				LuaForUtil.ClearLinePrefixSymbol(arg_88_1.text_)

				local var_91_10 = 18
				local var_91_11 = utf8.len(var_91_9)
				local var_91_12 = var_91_10 <= 0 and var_91_7 or var_91_7 * (var_91_11 / var_91_10)

				if var_91_12 > 0 and var_91_7 < var_91_12 then
					arg_88_1.talkMaxDuration = var_91_12

					if var_91_12 + var_91_6 > arg_88_1.duration_ then
						arg_88_1.duration_ = var_91_12 + var_91_6
					end
				end

				arg_88_1.text_.text = var_91_9
				arg_88_1.typewritter.percent = 0

				arg_88_1.typewritter:SetDirty()
				arg_88_1:ShowNextGo(false)
				arg_88_1:RecordContent(arg_88_1.text_.text)
			end

			local var_91_13 = math.max(var_91_7, arg_88_1.talkMaxDuration)

			if var_91_6 <= arg_88_1.time_ and arg_88_1.time_ < var_91_6 + var_91_13 then
				arg_88_1.typewritter.percent = (arg_88_1.time_ - var_91_6) / var_91_13

				arg_88_1.typewritter:SetDirty()
			end

			if arg_88_1.time_ >= var_91_6 + var_91_13 and arg_88_1.time_ < var_91_6 + var_91_13 + arg_91_0 then
				arg_88_1.typewritter.percent = 1

				arg_88_1.typewritter:SetDirty()
				arg_88_1:ShowNextGo(true)
			end
		end
	end,
	Play317021022 = function(arg_92_0, arg_92_1)
		arg_92_1.time_ = 0
		arg_92_1.frameCnt_ = 0
		arg_92_1.state_ = "playing"
		arg_92_1.curTalkId_ = 317021022
		arg_92_1.duration_ = 5

		SetActive(arg_92_1.tipsGo_, false)

		function arg_92_1.onSingleLineFinish_()
			arg_92_1.onSingleLineUpdate_ = nil
			arg_92_1.onSingleLineFinish_ = nil
			arg_92_1.state_ = "waiting"
		end

		function arg_92_1.playNext_(arg_94_0)
			if arg_94_0 == 1 then
				arg_92_0:Play317021023(arg_92_1)
			end
		end

		function arg_92_1.onSingleLineUpdate_(arg_95_0)
			local var_95_0 = 0

			if var_95_0 < arg_92_1.time_ and arg_92_1.time_ <= var_95_0 + arg_95_0 then
				arg_92_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_95_1 = 0
			local var_95_2 = 1.45

			if var_95_1 < arg_92_1.time_ and arg_92_1.time_ <= var_95_1 + arg_95_0 then
				arg_92_1.talkMaxDuration = 0
				arg_92_1.dialogCg_.alpha = 1

				arg_92_1.dialog_:SetActive(true)
				SetActive(arg_92_1.leftNameGo_, true)

				local var_95_3 = arg_92_1:FormatText(StoryNameCfg[7].name)

				arg_92_1.leftNameTxt_.text = var_95_3

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_92_1.leftNameTxt_.transform)

				arg_92_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_92_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_92_1:RecordName(arg_92_1.leftNameTxt_.text)
				SetActive(arg_92_1.iconTrs_.gameObject, false)
				arg_92_1.callingController_:SetSelectedState("normal")

				local var_95_4 = arg_92_1:GetWordFromCfg(317021022)
				local var_95_5 = arg_92_1:FormatText(var_95_4.content)

				arg_92_1.text_.text = var_95_5

				LuaForUtil.ClearLinePrefixSymbol(arg_92_1.text_)

				local var_95_6 = 58
				local var_95_7 = utf8.len(var_95_5)
				local var_95_8 = var_95_6 <= 0 and var_95_2 or var_95_2 * (var_95_7 / var_95_6)

				if var_95_8 > 0 and var_95_2 < var_95_8 then
					arg_92_1.talkMaxDuration = var_95_8

					if var_95_8 + var_95_1 > arg_92_1.duration_ then
						arg_92_1.duration_ = var_95_8 + var_95_1
					end
				end

				arg_92_1.text_.text = var_95_5
				arg_92_1.typewritter.percent = 0

				arg_92_1.typewritter:SetDirty()
				arg_92_1:ShowNextGo(false)
				arg_92_1:RecordContent(arg_92_1.text_.text)
			end

			local var_95_9 = math.max(var_95_2, arg_92_1.talkMaxDuration)

			if var_95_1 <= arg_92_1.time_ and arg_92_1.time_ < var_95_1 + var_95_9 then
				arg_92_1.typewritter.percent = (arg_92_1.time_ - var_95_1) / var_95_9

				arg_92_1.typewritter:SetDirty()
			end

			if arg_92_1.time_ >= var_95_1 + var_95_9 and arg_92_1.time_ < var_95_1 + var_95_9 + arg_95_0 then
				arg_92_1.typewritter.percent = 1

				arg_92_1.typewritter:SetDirty()
				arg_92_1:ShowNextGo(true)
			end
		end
	end,
	Play317021023 = function(arg_96_0, arg_96_1)
		arg_96_1.time_ = 0
		arg_96_1.frameCnt_ = 0
		arg_96_1.state_ = "playing"
		arg_96_1.curTalkId_ = 317021023
		arg_96_1.duration_ = 5

		SetActive(arg_96_1.tipsGo_, false)

		function arg_96_1.onSingleLineFinish_()
			arg_96_1.onSingleLineUpdate_ = nil
			arg_96_1.onSingleLineFinish_ = nil
			arg_96_1.state_ = "waiting"
		end

		function arg_96_1.playNext_(arg_98_0)
			if arg_98_0 == 1 then
				arg_96_0:Play317021024(arg_96_1)
			end
		end

		function arg_96_1.onSingleLineUpdate_(arg_99_0)
			local var_99_0 = 0
			local var_99_1 = 0.575

			if var_99_0 < arg_96_1.time_ and arg_96_1.time_ <= var_99_0 + arg_99_0 then
				arg_96_1.talkMaxDuration = 0
				arg_96_1.dialogCg_.alpha = 1

				arg_96_1.dialog_:SetActive(true)
				SetActive(arg_96_1.leftNameGo_, true)

				local var_99_2 = arg_96_1:FormatText(StoryNameCfg[7].name)

				arg_96_1.leftNameTxt_.text = var_99_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_96_1.leftNameTxt_.transform)

				arg_96_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_96_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_96_1:RecordName(arg_96_1.leftNameTxt_.text)
				SetActive(arg_96_1.iconTrs_.gameObject, false)
				arg_96_1.callingController_:SetSelectedState("normal")

				local var_99_3 = arg_96_1:GetWordFromCfg(317021023)
				local var_99_4 = arg_96_1:FormatText(var_99_3.content)

				arg_96_1.text_.text = var_99_4

				LuaForUtil.ClearLinePrefixSymbol(arg_96_1.text_)

				local var_99_5 = 23
				local var_99_6 = utf8.len(var_99_4)
				local var_99_7 = var_99_5 <= 0 and var_99_1 or var_99_1 * (var_99_6 / var_99_5)

				if var_99_7 > 0 and var_99_1 < var_99_7 then
					arg_96_1.talkMaxDuration = var_99_7

					if var_99_7 + var_99_0 > arg_96_1.duration_ then
						arg_96_1.duration_ = var_99_7 + var_99_0
					end
				end

				arg_96_1.text_.text = var_99_4
				arg_96_1.typewritter.percent = 0

				arg_96_1.typewritter:SetDirty()
				arg_96_1:ShowNextGo(false)
				arg_96_1:RecordContent(arg_96_1.text_.text)
			end

			local var_99_8 = math.max(var_99_1, arg_96_1.talkMaxDuration)

			if var_99_0 <= arg_96_1.time_ and arg_96_1.time_ < var_99_0 + var_99_8 then
				arg_96_1.typewritter.percent = (arg_96_1.time_ - var_99_0) / var_99_8

				arg_96_1.typewritter:SetDirty()
			end

			if arg_96_1.time_ >= var_99_0 + var_99_8 and arg_96_1.time_ < var_99_0 + var_99_8 + arg_99_0 then
				arg_96_1.typewritter.percent = 1

				arg_96_1.typewritter:SetDirty()
				arg_96_1:ShowNextGo(true)
			end
		end
	end,
	Play317021024 = function(arg_100_0, arg_100_1)
		arg_100_1.time_ = 0
		arg_100_1.frameCnt_ = 0
		arg_100_1.state_ = "playing"
		arg_100_1.curTalkId_ = 317021024
		arg_100_1.duration_ = 5

		SetActive(arg_100_1.tipsGo_, false)

		function arg_100_1.onSingleLineFinish_()
			arg_100_1.onSingleLineUpdate_ = nil
			arg_100_1.onSingleLineFinish_ = nil
			arg_100_1.state_ = "waiting"
		end

		function arg_100_1.playNext_(arg_102_0)
			if arg_102_0 == 1 then
				arg_100_0:Play317021025(arg_100_1)
			end
		end

		function arg_100_1.onSingleLineUpdate_(arg_103_0)
			local var_103_0 = 0
			local var_103_1 = 0.4

			if var_103_0 < arg_100_1.time_ and arg_100_1.time_ <= var_103_0 + arg_103_0 then
				arg_100_1.talkMaxDuration = 0
				arg_100_1.dialogCg_.alpha = 1

				arg_100_1.dialog_:SetActive(true)
				SetActive(arg_100_1.leftNameGo_, false)

				arg_100_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_100_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_100_1:RecordName(arg_100_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_100_1.iconTrs_.gameObject, false)
				arg_100_1.callingController_:SetSelectedState("normal")

				local var_103_2 = arg_100_1:GetWordFromCfg(317021024)
				local var_103_3 = arg_100_1:FormatText(var_103_2.content)

				arg_100_1.text_.text = var_103_3

				LuaForUtil.ClearLinePrefixSymbol(arg_100_1.text_)

				local var_103_4 = 16
				local var_103_5 = utf8.len(var_103_3)
				local var_103_6 = var_103_4 <= 0 and var_103_1 or var_103_1 * (var_103_5 / var_103_4)

				if var_103_6 > 0 and var_103_1 < var_103_6 then
					arg_100_1.talkMaxDuration = var_103_6

					if var_103_6 + var_103_0 > arg_100_1.duration_ then
						arg_100_1.duration_ = var_103_6 + var_103_0
					end
				end

				arg_100_1.text_.text = var_103_3
				arg_100_1.typewritter.percent = 0

				arg_100_1.typewritter:SetDirty()
				arg_100_1:ShowNextGo(false)
				arg_100_1:RecordContent(arg_100_1.text_.text)
			end

			local var_103_7 = math.max(var_103_1, arg_100_1.talkMaxDuration)

			if var_103_0 <= arg_100_1.time_ and arg_100_1.time_ < var_103_0 + var_103_7 then
				arg_100_1.typewritter.percent = (arg_100_1.time_ - var_103_0) / var_103_7

				arg_100_1.typewritter:SetDirty()
			end

			if arg_100_1.time_ >= var_103_0 + var_103_7 and arg_100_1.time_ < var_103_0 + var_103_7 + arg_103_0 then
				arg_100_1.typewritter.percent = 1

				arg_100_1.typewritter:SetDirty()
				arg_100_1:ShowNextGo(true)
			end
		end
	end,
	Play317021025 = function(arg_104_0, arg_104_1)
		arg_104_1.time_ = 0
		arg_104_1.frameCnt_ = 0
		arg_104_1.state_ = "playing"
		arg_104_1.curTalkId_ = 317021025
		arg_104_1.duration_ = 11.67

		local var_104_0 = {
			zh = 10.266,
			ja = 11.666
		}
		local var_104_1 = manager.audio:GetLocalizationFlag()

		if var_104_0[var_104_1] ~= nil then
			arg_104_1.duration_ = var_104_0[var_104_1]
		end

		SetActive(arg_104_1.tipsGo_, false)

		function arg_104_1.onSingleLineFinish_()
			arg_104_1.onSingleLineUpdate_ = nil
			arg_104_1.onSingleLineFinish_ = nil
			arg_104_1.state_ = "waiting"
		end

		function arg_104_1.playNext_(arg_106_0)
			if arg_106_0 == 1 then
				arg_104_0:Play317021026(arg_104_1)
			end
		end

		function arg_104_1.onSingleLineUpdate_(arg_107_0)
			local var_107_0 = arg_104_1.actors_["1093ui_story"].transform
			local var_107_1 = 0

			if var_107_1 < arg_104_1.time_ and arg_104_1.time_ <= var_107_1 + arg_107_0 then
				arg_104_1.var_.moveOldPos1093ui_story = var_107_0.localPosition
			end

			local var_107_2 = 0.001

			if var_107_1 <= arg_104_1.time_ and arg_104_1.time_ < var_107_1 + var_107_2 then
				local var_107_3 = (arg_104_1.time_ - var_107_1) / var_107_2
				local var_107_4 = Vector3.New(-0.7, -1.11, -5.88)

				var_107_0.localPosition = Vector3.Lerp(arg_104_1.var_.moveOldPos1093ui_story, var_107_4, var_107_3)

				local var_107_5 = manager.ui.mainCamera.transform.position - var_107_0.position

				var_107_0.forward = Vector3.New(var_107_5.x, var_107_5.y, var_107_5.z)

				local var_107_6 = var_107_0.localEulerAngles

				var_107_6.z = 0
				var_107_6.x = 0
				var_107_0.localEulerAngles = var_107_6
			end

			if arg_104_1.time_ >= var_107_1 + var_107_2 and arg_104_1.time_ < var_107_1 + var_107_2 + arg_107_0 then
				var_107_0.localPosition = Vector3.New(-0.7, -1.11, -5.88)

				local var_107_7 = manager.ui.mainCamera.transform.position - var_107_0.position

				var_107_0.forward = Vector3.New(var_107_7.x, var_107_7.y, var_107_7.z)

				local var_107_8 = var_107_0.localEulerAngles

				var_107_8.z = 0
				var_107_8.x = 0
				var_107_0.localEulerAngles = var_107_8
			end

			local var_107_9 = arg_104_1.actors_["1093ui_story"]
			local var_107_10 = 0

			if var_107_10 < arg_104_1.time_ and arg_104_1.time_ <= var_107_10 + arg_107_0 and not isNil(var_107_9) and arg_104_1.var_.characterEffect1093ui_story == nil then
				arg_104_1.var_.characterEffect1093ui_story = var_107_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_107_11 = 0.200000002980232

			if var_107_10 <= arg_104_1.time_ and arg_104_1.time_ < var_107_10 + var_107_11 and not isNil(var_107_9) then
				local var_107_12 = (arg_104_1.time_ - var_107_10) / var_107_11

				if arg_104_1.var_.characterEffect1093ui_story and not isNil(var_107_9) then
					local var_107_13 = Mathf.Lerp(0, 0.5, var_107_12)

					arg_104_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_104_1.var_.characterEffect1093ui_story.fillRatio = var_107_13
				end
			end

			if arg_104_1.time_ >= var_107_10 + var_107_11 and arg_104_1.time_ < var_107_10 + var_107_11 + arg_107_0 and not isNil(var_107_9) and arg_104_1.var_.characterEffect1093ui_story then
				local var_107_14 = 0.5

				arg_104_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_104_1.var_.characterEffect1093ui_story.fillRatio = var_107_14
			end

			local var_107_15 = arg_104_1.actors_["1050ui_story"].transform
			local var_107_16 = 0

			if var_107_16 < arg_104_1.time_ and arg_104_1.time_ <= var_107_16 + arg_107_0 then
				arg_104_1.var_.moveOldPos1050ui_story = var_107_15.localPosition
			end

			local var_107_17 = 0.001

			if var_107_16 <= arg_104_1.time_ and arg_104_1.time_ < var_107_16 + var_107_17 then
				local var_107_18 = (arg_104_1.time_ - var_107_16) / var_107_17
				local var_107_19 = Vector3.New(0.7, -1, -6.1)

				var_107_15.localPosition = Vector3.Lerp(arg_104_1.var_.moveOldPos1050ui_story, var_107_19, var_107_18)

				local var_107_20 = manager.ui.mainCamera.transform.position - var_107_15.position

				var_107_15.forward = Vector3.New(var_107_20.x, var_107_20.y, var_107_20.z)

				local var_107_21 = var_107_15.localEulerAngles

				var_107_21.z = 0
				var_107_21.x = 0
				var_107_15.localEulerAngles = var_107_21
			end

			if arg_104_1.time_ >= var_107_16 + var_107_17 and arg_104_1.time_ < var_107_16 + var_107_17 + arg_107_0 then
				var_107_15.localPosition = Vector3.New(0.7, -1, -6.1)

				local var_107_22 = manager.ui.mainCamera.transform.position - var_107_15.position

				var_107_15.forward = Vector3.New(var_107_22.x, var_107_22.y, var_107_22.z)

				local var_107_23 = var_107_15.localEulerAngles

				var_107_23.z = 0
				var_107_23.x = 0
				var_107_15.localEulerAngles = var_107_23
			end

			local var_107_24 = arg_104_1.actors_["1050ui_story"]
			local var_107_25 = 0

			if var_107_25 < arg_104_1.time_ and arg_104_1.time_ <= var_107_25 + arg_107_0 and not isNil(var_107_24) and arg_104_1.var_.characterEffect1050ui_story == nil then
				arg_104_1.var_.characterEffect1050ui_story = var_107_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_107_26 = 0.200000002980232

			if var_107_25 <= arg_104_1.time_ and arg_104_1.time_ < var_107_25 + var_107_26 and not isNil(var_107_24) then
				local var_107_27 = (arg_104_1.time_ - var_107_25) / var_107_26

				if arg_104_1.var_.characterEffect1050ui_story and not isNil(var_107_24) then
					arg_104_1.var_.characterEffect1050ui_story.fillFlat = false
				end
			end

			if arg_104_1.time_ >= var_107_25 + var_107_26 and arg_104_1.time_ < var_107_25 + var_107_26 + arg_107_0 and not isNil(var_107_24) and arg_104_1.var_.characterEffect1050ui_story then
				arg_104_1.var_.characterEffect1050ui_story.fillFlat = false
			end

			local var_107_28 = 0

			if var_107_28 < arg_104_1.time_ and arg_104_1.time_ <= var_107_28 + arg_107_0 then
				arg_104_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/1050/1050action/1050action2_1")
			end

			local var_107_29 = 0

			if var_107_29 < arg_104_1.time_ and arg_104_1.time_ <= var_107_29 + arg_107_0 then
				arg_104_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_107_30 = 0
			local var_107_31 = 1.325

			if var_107_30 < arg_104_1.time_ and arg_104_1.time_ <= var_107_30 + arg_107_0 then
				arg_104_1.talkMaxDuration = 0
				arg_104_1.dialogCg_.alpha = 1

				arg_104_1.dialog_:SetActive(true)
				SetActive(arg_104_1.leftNameGo_, true)

				local var_107_32 = arg_104_1:FormatText(StoryNameCfg[74].name)

				arg_104_1.leftNameTxt_.text = var_107_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_104_1.leftNameTxt_.transform)

				arg_104_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_104_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_104_1:RecordName(arg_104_1.leftNameTxt_.text)
				SetActive(arg_104_1.iconTrs_.gameObject, false)
				arg_104_1.callingController_:SetSelectedState("normal")

				local var_107_33 = arg_104_1:GetWordFromCfg(317021025)
				local var_107_34 = arg_104_1:FormatText(var_107_33.content)

				arg_104_1.text_.text = var_107_34

				LuaForUtil.ClearLinePrefixSymbol(arg_104_1.text_)

				local var_107_35 = 53
				local var_107_36 = utf8.len(var_107_34)
				local var_107_37 = var_107_35 <= 0 and var_107_31 or var_107_31 * (var_107_36 / var_107_35)

				if var_107_37 > 0 and var_107_31 < var_107_37 then
					arg_104_1.talkMaxDuration = var_107_37

					if var_107_37 + var_107_30 > arg_104_1.duration_ then
						arg_104_1.duration_ = var_107_37 + var_107_30
					end
				end

				arg_104_1.text_.text = var_107_34
				arg_104_1.typewritter.percent = 0

				arg_104_1.typewritter:SetDirty()
				arg_104_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021025", "story_v_out_317021.awb") ~= 0 then
					local var_107_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021025", "story_v_out_317021.awb") / 1000

					if var_107_38 + var_107_30 > arg_104_1.duration_ then
						arg_104_1.duration_ = var_107_38 + var_107_30
					end

					if var_107_33.prefab_name ~= "" and arg_104_1.actors_[var_107_33.prefab_name] ~= nil then
						local var_107_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_104_1.actors_[var_107_33.prefab_name].transform, "story_v_out_317021", "317021025", "story_v_out_317021.awb")

						arg_104_1:RecordAudio("317021025", var_107_39)
						arg_104_1:RecordAudio("317021025", var_107_39)
					else
						arg_104_1:AudioAction("play", "voice", "story_v_out_317021", "317021025", "story_v_out_317021.awb")
					end

					arg_104_1:RecordHistoryTalkVoice("story_v_out_317021", "317021025", "story_v_out_317021.awb")
				end

				arg_104_1:RecordContent(arg_104_1.text_.text)
			end

			local var_107_40 = math.max(var_107_31, arg_104_1.talkMaxDuration)

			if var_107_30 <= arg_104_1.time_ and arg_104_1.time_ < var_107_30 + var_107_40 then
				arg_104_1.typewritter.percent = (arg_104_1.time_ - var_107_30) / var_107_40

				arg_104_1.typewritter:SetDirty()
			end

			if arg_104_1.time_ >= var_107_30 + var_107_40 and arg_104_1.time_ < var_107_30 + var_107_40 + arg_107_0 then
				arg_104_1.typewritter.percent = 1

				arg_104_1.typewritter:SetDirty()
				arg_104_1:ShowNextGo(true)
			end
		end
	end,
	Play317021026 = function(arg_108_0, arg_108_1)
		arg_108_1.time_ = 0
		arg_108_1.frameCnt_ = 0
		arg_108_1.state_ = "playing"
		arg_108_1.curTalkId_ = 317021026
		arg_108_1.duration_ = 8

		local var_108_0 = {
			zh = 8,
			ja = 7.4
		}
		local var_108_1 = manager.audio:GetLocalizationFlag()

		if var_108_0[var_108_1] ~= nil then
			arg_108_1.duration_ = var_108_0[var_108_1]
		end

		SetActive(arg_108_1.tipsGo_, false)

		function arg_108_1.onSingleLineFinish_()
			arg_108_1.onSingleLineUpdate_ = nil
			arg_108_1.onSingleLineFinish_ = nil
			arg_108_1.state_ = "waiting"
		end

		function arg_108_1.playNext_(arg_110_0)
			if arg_110_0 == 1 then
				arg_108_0:Play317021027(arg_108_1)
			end
		end

		function arg_108_1.onSingleLineUpdate_(arg_111_0)
			local var_111_0 = arg_108_1.actors_["1093ui_story"].transform
			local var_111_1 = 0

			if var_111_1 < arg_108_1.time_ and arg_108_1.time_ <= var_111_1 + arg_111_0 then
				arg_108_1.var_.moveOldPos1093ui_story = var_111_0.localPosition
			end

			local var_111_2 = 0.001

			if var_111_1 <= arg_108_1.time_ and arg_108_1.time_ < var_111_1 + var_111_2 then
				local var_111_3 = (arg_108_1.time_ - var_111_1) / var_111_2
				local var_111_4 = Vector3.New(-0.7, -1.11, -5.88)

				var_111_0.localPosition = Vector3.Lerp(arg_108_1.var_.moveOldPos1093ui_story, var_111_4, var_111_3)

				local var_111_5 = manager.ui.mainCamera.transform.position - var_111_0.position

				var_111_0.forward = Vector3.New(var_111_5.x, var_111_5.y, var_111_5.z)

				local var_111_6 = var_111_0.localEulerAngles

				var_111_6.z = 0
				var_111_6.x = 0
				var_111_0.localEulerAngles = var_111_6
			end

			if arg_108_1.time_ >= var_111_1 + var_111_2 and arg_108_1.time_ < var_111_1 + var_111_2 + arg_111_0 then
				var_111_0.localPosition = Vector3.New(-0.7, -1.11, -5.88)

				local var_111_7 = manager.ui.mainCamera.transform.position - var_111_0.position

				var_111_0.forward = Vector3.New(var_111_7.x, var_111_7.y, var_111_7.z)

				local var_111_8 = var_111_0.localEulerAngles

				var_111_8.z = 0
				var_111_8.x = 0
				var_111_0.localEulerAngles = var_111_8
			end

			local var_111_9 = arg_108_1.actors_["1093ui_story"]
			local var_111_10 = 0

			if var_111_10 < arg_108_1.time_ and arg_108_1.time_ <= var_111_10 + arg_111_0 and not isNil(var_111_9) and arg_108_1.var_.characterEffect1093ui_story == nil then
				arg_108_1.var_.characterEffect1093ui_story = var_111_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_111_11 = 0.200000002980232

			if var_111_10 <= arg_108_1.time_ and arg_108_1.time_ < var_111_10 + var_111_11 and not isNil(var_111_9) then
				local var_111_12 = (arg_108_1.time_ - var_111_10) / var_111_11

				if arg_108_1.var_.characterEffect1093ui_story and not isNil(var_111_9) then
					arg_108_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_108_1.time_ >= var_111_10 + var_111_11 and arg_108_1.time_ < var_111_10 + var_111_11 + arg_111_0 and not isNil(var_111_9) and arg_108_1.var_.characterEffect1093ui_story then
				arg_108_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_111_13 = 0

			if var_111_13 < arg_108_1.time_ and arg_108_1.time_ <= var_111_13 + arg_111_0 then
				arg_108_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093actionlink/1093action487")
			end

			local var_111_14 = 0

			if var_111_14 < arg_108_1.time_ and arg_108_1.time_ <= var_111_14 + arg_111_0 then
				arg_108_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_111_15 = arg_108_1.actors_["1050ui_story"].transform
			local var_111_16 = 0

			if var_111_16 < arg_108_1.time_ and arg_108_1.time_ <= var_111_16 + arg_111_0 then
				arg_108_1.var_.moveOldPos1050ui_story = var_111_15.localPosition
			end

			local var_111_17 = 0.001

			if var_111_16 <= arg_108_1.time_ and arg_108_1.time_ < var_111_16 + var_111_17 then
				local var_111_18 = (arg_108_1.time_ - var_111_16) / var_111_17
				local var_111_19 = Vector3.New(0.7, -1, -6.1)

				var_111_15.localPosition = Vector3.Lerp(arg_108_1.var_.moveOldPos1050ui_story, var_111_19, var_111_18)

				local var_111_20 = manager.ui.mainCamera.transform.position - var_111_15.position

				var_111_15.forward = Vector3.New(var_111_20.x, var_111_20.y, var_111_20.z)

				local var_111_21 = var_111_15.localEulerAngles

				var_111_21.z = 0
				var_111_21.x = 0
				var_111_15.localEulerAngles = var_111_21
			end

			if arg_108_1.time_ >= var_111_16 + var_111_17 and arg_108_1.time_ < var_111_16 + var_111_17 + arg_111_0 then
				var_111_15.localPosition = Vector3.New(0.7, -1, -6.1)

				local var_111_22 = manager.ui.mainCamera.transform.position - var_111_15.position

				var_111_15.forward = Vector3.New(var_111_22.x, var_111_22.y, var_111_22.z)

				local var_111_23 = var_111_15.localEulerAngles

				var_111_23.z = 0
				var_111_23.x = 0
				var_111_15.localEulerAngles = var_111_23
			end

			local var_111_24 = arg_108_1.actors_["1050ui_story"]
			local var_111_25 = 0

			if var_111_25 < arg_108_1.time_ and arg_108_1.time_ <= var_111_25 + arg_111_0 and not isNil(var_111_24) and arg_108_1.var_.characterEffect1050ui_story == nil then
				arg_108_1.var_.characterEffect1050ui_story = var_111_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_111_26 = 0.200000002980232

			if var_111_25 <= arg_108_1.time_ and arg_108_1.time_ < var_111_25 + var_111_26 and not isNil(var_111_24) then
				local var_111_27 = (arg_108_1.time_ - var_111_25) / var_111_26

				if arg_108_1.var_.characterEffect1050ui_story and not isNil(var_111_24) then
					local var_111_28 = Mathf.Lerp(0, 0.5, var_111_27)

					arg_108_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_108_1.var_.characterEffect1050ui_story.fillRatio = var_111_28
				end
			end

			if arg_108_1.time_ >= var_111_25 + var_111_26 and arg_108_1.time_ < var_111_25 + var_111_26 + arg_111_0 and not isNil(var_111_24) and arg_108_1.var_.characterEffect1050ui_story then
				local var_111_29 = 0.5

				arg_108_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_108_1.var_.characterEffect1050ui_story.fillRatio = var_111_29
			end

			local var_111_30 = 0
			local var_111_31 = 0.8

			if var_111_30 < arg_108_1.time_ and arg_108_1.time_ <= var_111_30 + arg_111_0 then
				arg_108_1.talkMaxDuration = 0
				arg_108_1.dialogCg_.alpha = 1

				arg_108_1.dialog_:SetActive(true)
				SetActive(arg_108_1.leftNameGo_, true)

				local var_111_32 = arg_108_1:FormatText(StoryNameCfg[73].name)

				arg_108_1.leftNameTxt_.text = var_111_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_108_1.leftNameTxt_.transform)

				arg_108_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_108_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_108_1:RecordName(arg_108_1.leftNameTxt_.text)
				SetActive(arg_108_1.iconTrs_.gameObject, false)
				arg_108_1.callingController_:SetSelectedState("normal")

				local var_111_33 = arg_108_1:GetWordFromCfg(317021026)
				local var_111_34 = arg_108_1:FormatText(var_111_33.content)

				arg_108_1.text_.text = var_111_34

				LuaForUtil.ClearLinePrefixSymbol(arg_108_1.text_)

				local var_111_35 = 32
				local var_111_36 = utf8.len(var_111_34)
				local var_111_37 = var_111_35 <= 0 and var_111_31 or var_111_31 * (var_111_36 / var_111_35)

				if var_111_37 > 0 and var_111_31 < var_111_37 then
					arg_108_1.talkMaxDuration = var_111_37

					if var_111_37 + var_111_30 > arg_108_1.duration_ then
						arg_108_1.duration_ = var_111_37 + var_111_30
					end
				end

				arg_108_1.text_.text = var_111_34
				arg_108_1.typewritter.percent = 0

				arg_108_1.typewritter:SetDirty()
				arg_108_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021026", "story_v_out_317021.awb") ~= 0 then
					local var_111_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021026", "story_v_out_317021.awb") / 1000

					if var_111_38 + var_111_30 > arg_108_1.duration_ then
						arg_108_1.duration_ = var_111_38 + var_111_30
					end

					if var_111_33.prefab_name ~= "" and arg_108_1.actors_[var_111_33.prefab_name] ~= nil then
						local var_111_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_108_1.actors_[var_111_33.prefab_name].transform, "story_v_out_317021", "317021026", "story_v_out_317021.awb")

						arg_108_1:RecordAudio("317021026", var_111_39)
						arg_108_1:RecordAudio("317021026", var_111_39)
					else
						arg_108_1:AudioAction("play", "voice", "story_v_out_317021", "317021026", "story_v_out_317021.awb")
					end

					arg_108_1:RecordHistoryTalkVoice("story_v_out_317021", "317021026", "story_v_out_317021.awb")
				end

				arg_108_1:RecordContent(arg_108_1.text_.text)
			end

			local var_111_40 = math.max(var_111_31, arg_108_1.talkMaxDuration)

			if var_111_30 <= arg_108_1.time_ and arg_108_1.time_ < var_111_30 + var_111_40 then
				arg_108_1.typewritter.percent = (arg_108_1.time_ - var_111_30) / var_111_40

				arg_108_1.typewritter:SetDirty()
			end

			if arg_108_1.time_ >= var_111_30 + var_111_40 and arg_108_1.time_ < var_111_30 + var_111_40 + arg_111_0 then
				arg_108_1.typewritter.percent = 1

				arg_108_1.typewritter:SetDirty()
				arg_108_1:ShowNextGo(true)
			end
		end
	end,
	Play317021027 = function(arg_112_0, arg_112_1)
		arg_112_1.time_ = 0
		arg_112_1.frameCnt_ = 0
		arg_112_1.state_ = "playing"
		arg_112_1.curTalkId_ = 317021027
		arg_112_1.duration_ = 9.03

		local var_112_0 = {
			zh = 5.466,
			ja = 9.033
		}
		local var_112_1 = manager.audio:GetLocalizationFlag()

		if var_112_0[var_112_1] ~= nil then
			arg_112_1.duration_ = var_112_0[var_112_1]
		end

		SetActive(arg_112_1.tipsGo_, false)

		function arg_112_1.onSingleLineFinish_()
			arg_112_1.onSingleLineUpdate_ = nil
			arg_112_1.onSingleLineFinish_ = nil
			arg_112_1.state_ = "waiting"
		end

		function arg_112_1.playNext_(arg_114_0)
			if arg_114_0 == 1 then
				arg_112_0:Play317021028(arg_112_1)
			end
		end

		function arg_112_1.onSingleLineUpdate_(arg_115_0)
			local var_115_0 = "1055ui_story"

			if arg_112_1.actors_[var_115_0] == nil then
				local var_115_1 = Asset.Load("Char/" .. "1055ui_story")

				if not isNil(var_115_1) then
					local var_115_2 = Object.Instantiate(Asset.Load("Char/" .. "1055ui_story"), arg_112_1.stage_.transform)

					var_115_2.name = var_115_0
					var_115_2.transform.localPosition = Vector3.New(0, 100, 0)
					arg_112_1.actors_[var_115_0] = var_115_2

					local var_115_3 = var_115_2:GetComponentInChildren(typeof(CharacterEffect))

					var_115_3.enabled = true

					local var_115_4 = GameObjectTools.GetOrAddComponent(var_115_2, typeof(DynamicBoneHelper))

					if var_115_4 then
						var_115_4:EnableDynamicBone(false)
					end

					arg_112_1:ShowWeapon(var_115_3.transform, false)

					arg_112_1.var_[var_115_0 .. "Animator"] = var_115_3.gameObject:GetComponent(typeof(UnityEngine.Animator))
					arg_112_1.var_[var_115_0 .. "Animator"].applyRootMotion = true
					arg_112_1.var_[var_115_0 .. "LipSync"] = var_115_3.gameObject:GetComponentInChildren(typeof(RogoDigital.Lipsync.LipSync))
				end
			end

			local var_115_5 = arg_112_1.actors_["1055ui_story"].transform
			local var_115_6 = 0

			if var_115_6 < arg_112_1.time_ and arg_112_1.time_ <= var_115_6 + arg_115_0 then
				arg_112_1.var_.moveOldPos1055ui_story = var_115_5.localPosition
			end

			local var_115_7 = 0.001

			if var_115_6 <= arg_112_1.time_ and arg_112_1.time_ < var_115_6 + var_115_7 then
				local var_115_8 = (arg_112_1.time_ - var_115_6) / var_115_7
				local var_115_9 = Vector3.New(-0.7, -0.965, -6.2)

				var_115_5.localPosition = Vector3.Lerp(arg_112_1.var_.moveOldPos1055ui_story, var_115_9, var_115_8)

				local var_115_10 = manager.ui.mainCamera.transform.position - var_115_5.position

				var_115_5.forward = Vector3.New(var_115_10.x, var_115_10.y, var_115_10.z)

				local var_115_11 = var_115_5.localEulerAngles

				var_115_11.z = 0
				var_115_11.x = 0
				var_115_5.localEulerAngles = var_115_11
			end

			if arg_112_1.time_ >= var_115_6 + var_115_7 and arg_112_1.time_ < var_115_6 + var_115_7 + arg_115_0 then
				var_115_5.localPosition = Vector3.New(-0.7, -0.965, -6.2)

				local var_115_12 = manager.ui.mainCamera.transform.position - var_115_5.position

				var_115_5.forward = Vector3.New(var_115_12.x, var_115_12.y, var_115_12.z)

				local var_115_13 = var_115_5.localEulerAngles

				var_115_13.z = 0
				var_115_13.x = 0
				var_115_5.localEulerAngles = var_115_13
			end

			local var_115_14 = arg_112_1.actors_["1055ui_story"]
			local var_115_15 = 0

			if var_115_15 < arg_112_1.time_ and arg_112_1.time_ <= var_115_15 + arg_115_0 and not isNil(var_115_14) and arg_112_1.var_.characterEffect1055ui_story == nil then
				arg_112_1.var_.characterEffect1055ui_story = var_115_14:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_115_16 = 0.200000002980232

			if var_115_15 <= arg_112_1.time_ and arg_112_1.time_ < var_115_15 + var_115_16 and not isNil(var_115_14) then
				local var_115_17 = (arg_112_1.time_ - var_115_15) / var_115_16

				if arg_112_1.var_.characterEffect1055ui_story and not isNil(var_115_14) then
					arg_112_1.var_.characterEffect1055ui_story.fillFlat = false
				end
			end

			if arg_112_1.time_ >= var_115_15 + var_115_16 and arg_112_1.time_ < var_115_15 + var_115_16 + arg_115_0 and not isNil(var_115_14) and arg_112_1.var_.characterEffect1055ui_story then
				arg_112_1.var_.characterEffect1055ui_story.fillFlat = false
			end

			local var_115_18 = 0

			if var_115_18 < arg_112_1.time_ and arg_112_1.time_ <= var_115_18 + arg_115_0 then
				arg_112_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/story1055/story1055action/1055action5_1")
			end

			local var_115_19 = 0

			if var_115_19 < arg_112_1.time_ and arg_112_1.time_ <= var_115_19 + arg_115_0 then
				arg_112_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_115_20 = arg_112_1.actors_["1093ui_story"].transform
			local var_115_21 = 0

			if var_115_21 < arg_112_1.time_ and arg_112_1.time_ <= var_115_21 + arg_115_0 then
				arg_112_1.var_.moveOldPos1093ui_story = var_115_20.localPosition
			end

			local var_115_22 = 0.001

			if var_115_21 <= arg_112_1.time_ and arg_112_1.time_ < var_115_21 + var_115_22 then
				local var_115_23 = (arg_112_1.time_ - var_115_21) / var_115_22
				local var_115_24 = Vector3.New(0.7, -1.11, -5.88)

				var_115_20.localPosition = Vector3.Lerp(arg_112_1.var_.moveOldPos1093ui_story, var_115_24, var_115_23)

				local var_115_25 = manager.ui.mainCamera.transform.position - var_115_20.position

				var_115_20.forward = Vector3.New(var_115_25.x, var_115_25.y, var_115_25.z)

				local var_115_26 = var_115_20.localEulerAngles

				var_115_26.z = 0
				var_115_26.x = 0
				var_115_20.localEulerAngles = var_115_26
			end

			if arg_112_1.time_ >= var_115_21 + var_115_22 and arg_112_1.time_ < var_115_21 + var_115_22 + arg_115_0 then
				var_115_20.localPosition = Vector3.New(0.7, -1.11, -5.88)

				local var_115_27 = manager.ui.mainCamera.transform.position - var_115_20.position

				var_115_20.forward = Vector3.New(var_115_27.x, var_115_27.y, var_115_27.z)

				local var_115_28 = var_115_20.localEulerAngles

				var_115_28.z = 0
				var_115_28.x = 0
				var_115_20.localEulerAngles = var_115_28
			end

			local var_115_29 = arg_112_1.actors_["1093ui_story"]
			local var_115_30 = 0

			if var_115_30 < arg_112_1.time_ and arg_112_1.time_ <= var_115_30 + arg_115_0 and not isNil(var_115_29) and arg_112_1.var_.characterEffect1093ui_story == nil then
				arg_112_1.var_.characterEffect1093ui_story = var_115_29:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_115_31 = 0.200000002980232

			if var_115_30 <= arg_112_1.time_ and arg_112_1.time_ < var_115_30 + var_115_31 and not isNil(var_115_29) then
				local var_115_32 = (arg_112_1.time_ - var_115_30) / var_115_31

				if arg_112_1.var_.characterEffect1093ui_story and not isNil(var_115_29) then
					local var_115_33 = Mathf.Lerp(0, 0.5, var_115_32)

					arg_112_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_112_1.var_.characterEffect1093ui_story.fillRatio = var_115_33
				end
			end

			if arg_112_1.time_ >= var_115_30 + var_115_31 and arg_112_1.time_ < var_115_30 + var_115_31 + arg_115_0 and not isNil(var_115_29) and arg_112_1.var_.characterEffect1093ui_story then
				local var_115_34 = 0.5

				arg_112_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_112_1.var_.characterEffect1093ui_story.fillRatio = var_115_34
			end

			local var_115_35 = arg_112_1.actors_["1050ui_story"].transform
			local var_115_36 = 0

			if var_115_36 < arg_112_1.time_ and arg_112_1.time_ <= var_115_36 + arg_115_0 then
				arg_112_1.var_.moveOldPos1050ui_story = var_115_35.localPosition
			end

			local var_115_37 = 0.001

			if var_115_36 <= arg_112_1.time_ and arg_112_1.time_ < var_115_36 + var_115_37 then
				local var_115_38 = (arg_112_1.time_ - var_115_36) / var_115_37
				local var_115_39 = Vector3.New(0, 100, 0)

				var_115_35.localPosition = Vector3.Lerp(arg_112_1.var_.moveOldPos1050ui_story, var_115_39, var_115_38)

				local var_115_40 = manager.ui.mainCamera.transform.position - var_115_35.position

				var_115_35.forward = Vector3.New(var_115_40.x, var_115_40.y, var_115_40.z)

				local var_115_41 = var_115_35.localEulerAngles

				var_115_41.z = 0
				var_115_41.x = 0
				var_115_35.localEulerAngles = var_115_41
			end

			if arg_112_1.time_ >= var_115_36 + var_115_37 and arg_112_1.time_ < var_115_36 + var_115_37 + arg_115_0 then
				var_115_35.localPosition = Vector3.New(0, 100, 0)

				local var_115_42 = manager.ui.mainCamera.transform.position - var_115_35.position

				var_115_35.forward = Vector3.New(var_115_42.x, var_115_42.y, var_115_42.z)

				local var_115_43 = var_115_35.localEulerAngles

				var_115_43.z = 0
				var_115_43.x = 0
				var_115_35.localEulerAngles = var_115_43
			end

			local var_115_44 = arg_112_1.actors_["1050ui_story"]
			local var_115_45 = 0

			if var_115_45 < arg_112_1.time_ and arg_112_1.time_ <= var_115_45 + arg_115_0 and not isNil(var_115_44) and arg_112_1.var_.characterEffect1050ui_story == nil then
				arg_112_1.var_.characterEffect1050ui_story = var_115_44:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_115_46 = 0.200000002980232

			if var_115_45 <= arg_112_1.time_ and arg_112_1.time_ < var_115_45 + var_115_46 and not isNil(var_115_44) then
				local var_115_47 = (arg_112_1.time_ - var_115_45) / var_115_46

				if arg_112_1.var_.characterEffect1050ui_story and not isNil(var_115_44) then
					local var_115_48 = Mathf.Lerp(0, 0.5, var_115_47)

					arg_112_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_112_1.var_.characterEffect1050ui_story.fillRatio = var_115_48
				end
			end

			if arg_112_1.time_ >= var_115_45 + var_115_46 and arg_112_1.time_ < var_115_45 + var_115_46 + arg_115_0 and not isNil(var_115_44) and arg_112_1.var_.characterEffect1050ui_story then
				local var_115_49 = 0.5

				arg_112_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_112_1.var_.characterEffect1050ui_story.fillRatio = var_115_49
			end

			local var_115_50 = 0
			local var_115_51 = 0.7

			if var_115_50 < arg_112_1.time_ and arg_112_1.time_ <= var_115_50 + arg_115_0 then
				arg_112_1.talkMaxDuration = 0
				arg_112_1.dialogCg_.alpha = 1

				arg_112_1.dialog_:SetActive(true)
				SetActive(arg_112_1.leftNameGo_, true)

				local var_115_52 = arg_112_1:FormatText(StoryNameCfg[481].name)

				arg_112_1.leftNameTxt_.text = var_115_52

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_112_1.leftNameTxt_.transform)

				arg_112_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_112_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_112_1:RecordName(arg_112_1.leftNameTxt_.text)
				SetActive(arg_112_1.iconTrs_.gameObject, false)
				arg_112_1.callingController_:SetSelectedState("normal")

				local var_115_53 = arg_112_1:GetWordFromCfg(317021027)
				local var_115_54 = arg_112_1:FormatText(var_115_53.content)

				arg_112_1.text_.text = var_115_54

				LuaForUtil.ClearLinePrefixSymbol(arg_112_1.text_)

				local var_115_55 = 28
				local var_115_56 = utf8.len(var_115_54)
				local var_115_57 = var_115_55 <= 0 and var_115_51 or var_115_51 * (var_115_56 / var_115_55)

				if var_115_57 > 0 and var_115_51 < var_115_57 then
					arg_112_1.talkMaxDuration = var_115_57

					if var_115_57 + var_115_50 > arg_112_1.duration_ then
						arg_112_1.duration_ = var_115_57 + var_115_50
					end
				end

				arg_112_1.text_.text = var_115_54
				arg_112_1.typewritter.percent = 0

				arg_112_1.typewritter:SetDirty()
				arg_112_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021027", "story_v_out_317021.awb") ~= 0 then
					local var_115_58 = manager.audio:GetVoiceLength("story_v_out_317021", "317021027", "story_v_out_317021.awb") / 1000

					if var_115_58 + var_115_50 > arg_112_1.duration_ then
						arg_112_1.duration_ = var_115_58 + var_115_50
					end

					if var_115_53.prefab_name ~= "" and arg_112_1.actors_[var_115_53.prefab_name] ~= nil then
						local var_115_59 = LuaForUtil.PlayVoiceWithCriLipsync(arg_112_1.actors_[var_115_53.prefab_name].transform, "story_v_out_317021", "317021027", "story_v_out_317021.awb")

						arg_112_1:RecordAudio("317021027", var_115_59)
						arg_112_1:RecordAudio("317021027", var_115_59)
					else
						arg_112_1:AudioAction("play", "voice", "story_v_out_317021", "317021027", "story_v_out_317021.awb")
					end

					arg_112_1:RecordHistoryTalkVoice("story_v_out_317021", "317021027", "story_v_out_317021.awb")
				end

				arg_112_1:RecordContent(arg_112_1.text_.text)
			end

			local var_115_60 = math.max(var_115_51, arg_112_1.talkMaxDuration)

			if var_115_50 <= arg_112_1.time_ and arg_112_1.time_ < var_115_50 + var_115_60 then
				arg_112_1.typewritter.percent = (arg_112_1.time_ - var_115_50) / var_115_60

				arg_112_1.typewritter:SetDirty()
			end

			if arg_112_1.time_ >= var_115_50 + var_115_60 and arg_112_1.time_ < var_115_50 + var_115_60 + arg_115_0 then
				arg_112_1.typewritter.percent = 1

				arg_112_1.typewritter:SetDirty()
				arg_112_1:ShowNextGo(true)
			end
		end
	end,
	Play317021028 = function(arg_116_0, arg_116_1)
		arg_116_1.time_ = 0
		arg_116_1.frameCnt_ = 0
		arg_116_1.state_ = "playing"
		arg_116_1.curTalkId_ = 317021028
		arg_116_1.duration_ = 5

		SetActive(arg_116_1.tipsGo_, false)

		function arg_116_1.onSingleLineFinish_()
			arg_116_1.onSingleLineUpdate_ = nil
			arg_116_1.onSingleLineFinish_ = nil
			arg_116_1.state_ = "waiting"
		end

		function arg_116_1.playNext_(arg_118_0)
			if arg_118_0 == 1 then
				arg_116_0:Play317021029(arg_116_1)
			end
		end

		function arg_116_1.onSingleLineUpdate_(arg_119_0)
			local var_119_0 = arg_116_1.actors_["1055ui_story"]
			local var_119_1 = 0

			if var_119_1 < arg_116_1.time_ and arg_116_1.time_ <= var_119_1 + arg_119_0 and not isNil(var_119_0) and arg_116_1.var_.characterEffect1055ui_story == nil then
				arg_116_1.var_.characterEffect1055ui_story = var_119_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_119_2 = 0.200000002980232

			if var_119_1 <= arg_116_1.time_ and arg_116_1.time_ < var_119_1 + var_119_2 and not isNil(var_119_0) then
				local var_119_3 = (arg_116_1.time_ - var_119_1) / var_119_2

				if arg_116_1.var_.characterEffect1055ui_story and not isNil(var_119_0) then
					local var_119_4 = Mathf.Lerp(0, 0.5, var_119_3)

					arg_116_1.var_.characterEffect1055ui_story.fillFlat = true
					arg_116_1.var_.characterEffect1055ui_story.fillRatio = var_119_4
				end
			end

			if arg_116_1.time_ >= var_119_1 + var_119_2 and arg_116_1.time_ < var_119_1 + var_119_2 + arg_119_0 and not isNil(var_119_0) and arg_116_1.var_.characterEffect1055ui_story then
				local var_119_5 = 0.5

				arg_116_1.var_.characterEffect1055ui_story.fillFlat = true
				arg_116_1.var_.characterEffect1055ui_story.fillRatio = var_119_5
			end

			local var_119_6 = 0
			local var_119_7 = 0.875

			if var_119_6 < arg_116_1.time_ and arg_116_1.time_ <= var_119_6 + arg_119_0 then
				arg_116_1.talkMaxDuration = 0
				arg_116_1.dialogCg_.alpha = 1

				arg_116_1.dialog_:SetActive(true)
				SetActive(arg_116_1.leftNameGo_, false)

				arg_116_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_116_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_116_1:RecordName(arg_116_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_116_1.iconTrs_.gameObject, false)
				arg_116_1.callingController_:SetSelectedState("normal")

				local var_119_8 = arg_116_1:GetWordFromCfg(317021028)
				local var_119_9 = arg_116_1:FormatText(var_119_8.content)

				arg_116_1.text_.text = var_119_9

				LuaForUtil.ClearLinePrefixSymbol(arg_116_1.text_)

				local var_119_10 = 35
				local var_119_11 = utf8.len(var_119_9)
				local var_119_12 = var_119_10 <= 0 and var_119_7 or var_119_7 * (var_119_11 / var_119_10)

				if var_119_12 > 0 and var_119_7 < var_119_12 then
					arg_116_1.talkMaxDuration = var_119_12

					if var_119_12 + var_119_6 > arg_116_1.duration_ then
						arg_116_1.duration_ = var_119_12 + var_119_6
					end
				end

				arg_116_1.text_.text = var_119_9
				arg_116_1.typewritter.percent = 0

				arg_116_1.typewritter:SetDirty()
				arg_116_1:ShowNextGo(false)
				arg_116_1:RecordContent(arg_116_1.text_.text)
			end

			local var_119_13 = math.max(var_119_7, arg_116_1.talkMaxDuration)

			if var_119_6 <= arg_116_1.time_ and arg_116_1.time_ < var_119_6 + var_119_13 then
				arg_116_1.typewritter.percent = (arg_116_1.time_ - var_119_6) / var_119_13

				arg_116_1.typewritter:SetDirty()
			end

			if arg_116_1.time_ >= var_119_6 + var_119_13 and arg_116_1.time_ < var_119_6 + var_119_13 + arg_119_0 then
				arg_116_1.typewritter.percent = 1

				arg_116_1.typewritter:SetDirty()
				arg_116_1:ShowNextGo(true)
			end
		end
	end,
	Play317021029 = function(arg_120_0, arg_120_1)
		arg_120_1.time_ = 0
		arg_120_1.frameCnt_ = 0
		arg_120_1.state_ = "playing"
		arg_120_1.curTalkId_ = 317021029
		arg_120_1.duration_ = 4.03

		local var_120_0 = {
			zh = 1.999999999999,
			ja = 4.033
		}
		local var_120_1 = manager.audio:GetLocalizationFlag()

		if var_120_0[var_120_1] ~= nil then
			arg_120_1.duration_ = var_120_0[var_120_1]
		end

		SetActive(arg_120_1.tipsGo_, false)

		function arg_120_1.onSingleLineFinish_()
			arg_120_1.onSingleLineUpdate_ = nil
			arg_120_1.onSingleLineFinish_ = nil
			arg_120_1.state_ = "waiting"
		end

		function arg_120_1.playNext_(arg_122_0)
			if arg_122_0 == 1 then
				arg_120_0:Play317021030(arg_120_1)
			end
		end

		function arg_120_1.onSingleLineUpdate_(arg_123_0)
			local var_123_0 = arg_120_1.actors_["1055ui_story"].transform
			local var_123_1 = 0

			if var_123_1 < arg_120_1.time_ and arg_120_1.time_ <= var_123_1 + arg_123_0 then
				arg_120_1.var_.moveOldPos1055ui_story = var_123_0.localPosition
			end

			local var_123_2 = 0.001

			if var_123_1 <= arg_120_1.time_ and arg_120_1.time_ < var_123_1 + var_123_2 then
				local var_123_3 = (arg_120_1.time_ - var_123_1) / var_123_2
				local var_123_4 = Vector3.New(-0.7, -0.965, -6.2)

				var_123_0.localPosition = Vector3.Lerp(arg_120_1.var_.moveOldPos1055ui_story, var_123_4, var_123_3)

				local var_123_5 = manager.ui.mainCamera.transform.position - var_123_0.position

				var_123_0.forward = Vector3.New(var_123_5.x, var_123_5.y, var_123_5.z)

				local var_123_6 = var_123_0.localEulerAngles

				var_123_6.z = 0
				var_123_6.x = 0
				var_123_0.localEulerAngles = var_123_6
			end

			if arg_120_1.time_ >= var_123_1 + var_123_2 and arg_120_1.time_ < var_123_1 + var_123_2 + arg_123_0 then
				var_123_0.localPosition = Vector3.New(-0.7, -0.965, -6.2)

				local var_123_7 = manager.ui.mainCamera.transform.position - var_123_0.position

				var_123_0.forward = Vector3.New(var_123_7.x, var_123_7.y, var_123_7.z)

				local var_123_8 = var_123_0.localEulerAngles

				var_123_8.z = 0
				var_123_8.x = 0
				var_123_0.localEulerAngles = var_123_8
			end

			local var_123_9 = arg_120_1.actors_["1055ui_story"]
			local var_123_10 = 0

			if var_123_10 < arg_120_1.time_ and arg_120_1.time_ <= var_123_10 + arg_123_0 and not isNil(var_123_9) and arg_120_1.var_.characterEffect1055ui_story == nil then
				arg_120_1.var_.characterEffect1055ui_story = var_123_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_123_11 = 0.200000002980232

			if var_123_10 <= arg_120_1.time_ and arg_120_1.time_ < var_123_10 + var_123_11 and not isNil(var_123_9) then
				local var_123_12 = (arg_120_1.time_ - var_123_10) / var_123_11

				if arg_120_1.var_.characterEffect1055ui_story and not isNil(var_123_9) then
					local var_123_13 = Mathf.Lerp(0, 0.5, var_123_12)

					arg_120_1.var_.characterEffect1055ui_story.fillFlat = true
					arg_120_1.var_.characterEffect1055ui_story.fillRatio = var_123_13
				end
			end

			if arg_120_1.time_ >= var_123_10 + var_123_11 and arg_120_1.time_ < var_123_10 + var_123_11 + arg_123_0 and not isNil(var_123_9) and arg_120_1.var_.characterEffect1055ui_story then
				local var_123_14 = 0.5

				arg_120_1.var_.characterEffect1055ui_story.fillFlat = true
				arg_120_1.var_.characterEffect1055ui_story.fillRatio = var_123_14
			end

			local var_123_15 = arg_120_1.actors_["1093ui_story"].transform
			local var_123_16 = 0

			if var_123_16 < arg_120_1.time_ and arg_120_1.time_ <= var_123_16 + arg_123_0 then
				arg_120_1.var_.moveOldPos1093ui_story = var_123_15.localPosition
			end

			local var_123_17 = 0.001

			if var_123_16 <= arg_120_1.time_ and arg_120_1.time_ < var_123_16 + var_123_17 then
				local var_123_18 = (arg_120_1.time_ - var_123_16) / var_123_17
				local var_123_19 = Vector3.New(0.7, -1.11, -5.88)

				var_123_15.localPosition = Vector3.Lerp(arg_120_1.var_.moveOldPos1093ui_story, var_123_19, var_123_18)

				local var_123_20 = manager.ui.mainCamera.transform.position - var_123_15.position

				var_123_15.forward = Vector3.New(var_123_20.x, var_123_20.y, var_123_20.z)

				local var_123_21 = var_123_15.localEulerAngles

				var_123_21.z = 0
				var_123_21.x = 0
				var_123_15.localEulerAngles = var_123_21
			end

			if arg_120_1.time_ >= var_123_16 + var_123_17 and arg_120_1.time_ < var_123_16 + var_123_17 + arg_123_0 then
				var_123_15.localPosition = Vector3.New(0.7, -1.11, -5.88)

				local var_123_22 = manager.ui.mainCamera.transform.position - var_123_15.position

				var_123_15.forward = Vector3.New(var_123_22.x, var_123_22.y, var_123_22.z)

				local var_123_23 = var_123_15.localEulerAngles

				var_123_23.z = 0
				var_123_23.x = 0
				var_123_15.localEulerAngles = var_123_23
			end

			local var_123_24 = arg_120_1.actors_["1093ui_story"]
			local var_123_25 = 0

			if var_123_25 < arg_120_1.time_ and arg_120_1.time_ <= var_123_25 + arg_123_0 and not isNil(var_123_24) and arg_120_1.var_.characterEffect1093ui_story == nil then
				arg_120_1.var_.characterEffect1093ui_story = var_123_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_123_26 = 0.200000002980232

			if var_123_25 <= arg_120_1.time_ and arg_120_1.time_ < var_123_25 + var_123_26 and not isNil(var_123_24) then
				local var_123_27 = (arg_120_1.time_ - var_123_25) / var_123_26

				if arg_120_1.var_.characterEffect1093ui_story and not isNil(var_123_24) then
					arg_120_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_120_1.time_ >= var_123_25 + var_123_26 and arg_120_1.time_ < var_123_25 + var_123_26 + arg_123_0 and not isNil(var_123_24) and arg_120_1.var_.characterEffect1093ui_story then
				arg_120_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_123_28 = 0

			if var_123_28 < arg_120_1.time_ and arg_120_1.time_ <= var_123_28 + arg_123_0 then
				arg_120_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action7_2")
			end

			local var_123_29 = 0

			if var_123_29 < arg_120_1.time_ and arg_120_1.time_ <= var_123_29 + arg_123_0 then
				arg_120_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_123_30 = 0
			local var_123_31 = 0.2

			if var_123_30 < arg_120_1.time_ and arg_120_1.time_ <= var_123_30 + arg_123_0 then
				arg_120_1.talkMaxDuration = 0
				arg_120_1.dialogCg_.alpha = 1

				arg_120_1.dialog_:SetActive(true)
				SetActive(arg_120_1.leftNameGo_, true)

				local var_123_32 = arg_120_1:FormatText(StoryNameCfg[73].name)

				arg_120_1.leftNameTxt_.text = var_123_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_120_1.leftNameTxt_.transform)

				arg_120_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_120_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_120_1:RecordName(arg_120_1.leftNameTxt_.text)
				SetActive(arg_120_1.iconTrs_.gameObject, false)
				arg_120_1.callingController_:SetSelectedState("normal")

				local var_123_33 = arg_120_1:GetWordFromCfg(317021029)
				local var_123_34 = arg_120_1:FormatText(var_123_33.content)

				arg_120_1.text_.text = var_123_34

				LuaForUtil.ClearLinePrefixSymbol(arg_120_1.text_)

				local var_123_35 = 8
				local var_123_36 = utf8.len(var_123_34)
				local var_123_37 = var_123_35 <= 0 and var_123_31 or var_123_31 * (var_123_36 / var_123_35)

				if var_123_37 > 0 and var_123_31 < var_123_37 then
					arg_120_1.talkMaxDuration = var_123_37

					if var_123_37 + var_123_30 > arg_120_1.duration_ then
						arg_120_1.duration_ = var_123_37 + var_123_30
					end
				end

				arg_120_1.text_.text = var_123_34
				arg_120_1.typewritter.percent = 0

				arg_120_1.typewritter:SetDirty()
				arg_120_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021029", "story_v_out_317021.awb") ~= 0 then
					local var_123_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021029", "story_v_out_317021.awb") / 1000

					if var_123_38 + var_123_30 > arg_120_1.duration_ then
						arg_120_1.duration_ = var_123_38 + var_123_30
					end

					if var_123_33.prefab_name ~= "" and arg_120_1.actors_[var_123_33.prefab_name] ~= nil then
						local var_123_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_120_1.actors_[var_123_33.prefab_name].transform, "story_v_out_317021", "317021029", "story_v_out_317021.awb")

						arg_120_1:RecordAudio("317021029", var_123_39)
						arg_120_1:RecordAudio("317021029", var_123_39)
					else
						arg_120_1:AudioAction("play", "voice", "story_v_out_317021", "317021029", "story_v_out_317021.awb")
					end

					arg_120_1:RecordHistoryTalkVoice("story_v_out_317021", "317021029", "story_v_out_317021.awb")
				end

				arg_120_1:RecordContent(arg_120_1.text_.text)
			end

			local var_123_40 = math.max(var_123_31, arg_120_1.talkMaxDuration)

			if var_123_30 <= arg_120_1.time_ and arg_120_1.time_ < var_123_30 + var_123_40 then
				arg_120_1.typewritter.percent = (arg_120_1.time_ - var_123_30) / var_123_40

				arg_120_1.typewritter:SetDirty()
			end

			if arg_120_1.time_ >= var_123_30 + var_123_40 and arg_120_1.time_ < var_123_30 + var_123_40 + arg_123_0 then
				arg_120_1.typewritter.percent = 1

				arg_120_1.typewritter:SetDirty()
				arg_120_1:ShowNextGo(true)
			end
		end
	end,
	Play317021030 = function(arg_124_0, arg_124_1)
		arg_124_1.time_ = 0
		arg_124_1.frameCnt_ = 0
		arg_124_1.state_ = "playing"
		arg_124_1.curTalkId_ = 317021030
		arg_124_1.duration_ = 5.43

		local var_124_0 = {
			zh = 4.666,
			ja = 5.433
		}
		local var_124_1 = manager.audio:GetLocalizationFlag()

		if var_124_0[var_124_1] ~= nil then
			arg_124_1.duration_ = var_124_0[var_124_1]
		end

		SetActive(arg_124_1.tipsGo_, false)

		function arg_124_1.onSingleLineFinish_()
			arg_124_1.onSingleLineUpdate_ = nil
			arg_124_1.onSingleLineFinish_ = nil
			arg_124_1.state_ = "waiting"
		end

		function arg_124_1.playNext_(arg_126_0)
			if arg_126_0 == 1 then
				arg_124_0:Play317021031(arg_124_1)
			end
		end

		function arg_124_1.onSingleLineUpdate_(arg_127_0)
			local var_127_0 = arg_124_1.actors_["1055ui_story"].transform
			local var_127_1 = 0

			if var_127_1 < arg_124_1.time_ and arg_124_1.time_ <= var_127_1 + arg_127_0 then
				arg_124_1.var_.moveOldPos1055ui_story = var_127_0.localPosition
			end

			local var_127_2 = 0.001

			if var_127_1 <= arg_124_1.time_ and arg_124_1.time_ < var_127_1 + var_127_2 then
				local var_127_3 = (arg_124_1.time_ - var_127_1) / var_127_2
				local var_127_4 = Vector3.New(-0.7, -0.965, -6.2)

				var_127_0.localPosition = Vector3.Lerp(arg_124_1.var_.moveOldPos1055ui_story, var_127_4, var_127_3)

				local var_127_5 = manager.ui.mainCamera.transform.position - var_127_0.position

				var_127_0.forward = Vector3.New(var_127_5.x, var_127_5.y, var_127_5.z)

				local var_127_6 = var_127_0.localEulerAngles

				var_127_6.z = 0
				var_127_6.x = 0
				var_127_0.localEulerAngles = var_127_6
			end

			if arg_124_1.time_ >= var_127_1 + var_127_2 and arg_124_1.time_ < var_127_1 + var_127_2 + arg_127_0 then
				var_127_0.localPosition = Vector3.New(-0.7, -0.965, -6.2)

				local var_127_7 = manager.ui.mainCamera.transform.position - var_127_0.position

				var_127_0.forward = Vector3.New(var_127_7.x, var_127_7.y, var_127_7.z)

				local var_127_8 = var_127_0.localEulerAngles

				var_127_8.z = 0
				var_127_8.x = 0
				var_127_0.localEulerAngles = var_127_8
			end

			local var_127_9 = arg_124_1.actors_["1055ui_story"]
			local var_127_10 = 0

			if var_127_10 < arg_124_1.time_ and arg_124_1.time_ <= var_127_10 + arg_127_0 and not isNil(var_127_9) and arg_124_1.var_.characterEffect1055ui_story == nil then
				arg_124_1.var_.characterEffect1055ui_story = var_127_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_127_11 = 0.200000002980232

			if var_127_10 <= arg_124_1.time_ and arg_124_1.time_ < var_127_10 + var_127_11 and not isNil(var_127_9) then
				local var_127_12 = (arg_124_1.time_ - var_127_10) / var_127_11

				if arg_124_1.var_.characterEffect1055ui_story and not isNil(var_127_9) then
					arg_124_1.var_.characterEffect1055ui_story.fillFlat = false
				end
			end

			if arg_124_1.time_ >= var_127_10 + var_127_11 and arg_124_1.time_ < var_127_10 + var_127_11 + arg_127_0 and not isNil(var_127_9) and arg_124_1.var_.characterEffect1055ui_story then
				arg_124_1.var_.characterEffect1055ui_story.fillFlat = false
			end

			local var_127_13 = 0

			if var_127_13 < arg_124_1.time_ and arg_124_1.time_ <= var_127_13 + arg_127_0 then
				arg_124_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface1102cva")
			end

			local var_127_14 = arg_124_1.actors_["1093ui_story"].transform
			local var_127_15 = 0

			if var_127_15 < arg_124_1.time_ and arg_124_1.time_ <= var_127_15 + arg_127_0 then
				arg_124_1.var_.moveOldPos1093ui_story = var_127_14.localPosition
			end

			local var_127_16 = 0.001

			if var_127_15 <= arg_124_1.time_ and arg_124_1.time_ < var_127_15 + var_127_16 then
				local var_127_17 = (arg_124_1.time_ - var_127_15) / var_127_16
				local var_127_18 = Vector3.New(0.7, -1.11, -5.88)

				var_127_14.localPosition = Vector3.Lerp(arg_124_1.var_.moveOldPos1093ui_story, var_127_18, var_127_17)

				local var_127_19 = manager.ui.mainCamera.transform.position - var_127_14.position

				var_127_14.forward = Vector3.New(var_127_19.x, var_127_19.y, var_127_19.z)

				local var_127_20 = var_127_14.localEulerAngles

				var_127_20.z = 0
				var_127_20.x = 0
				var_127_14.localEulerAngles = var_127_20
			end

			if arg_124_1.time_ >= var_127_15 + var_127_16 and arg_124_1.time_ < var_127_15 + var_127_16 + arg_127_0 then
				var_127_14.localPosition = Vector3.New(0.7, -1.11, -5.88)

				local var_127_21 = manager.ui.mainCamera.transform.position - var_127_14.position

				var_127_14.forward = Vector3.New(var_127_21.x, var_127_21.y, var_127_21.z)

				local var_127_22 = var_127_14.localEulerAngles

				var_127_22.z = 0
				var_127_22.x = 0
				var_127_14.localEulerAngles = var_127_22
			end

			local var_127_23 = arg_124_1.actors_["1093ui_story"]
			local var_127_24 = 0

			if var_127_24 < arg_124_1.time_ and arg_124_1.time_ <= var_127_24 + arg_127_0 and not isNil(var_127_23) and arg_124_1.var_.characterEffect1093ui_story == nil then
				arg_124_1.var_.characterEffect1093ui_story = var_127_23:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_127_25 = 0.200000002980232

			if var_127_24 <= arg_124_1.time_ and arg_124_1.time_ < var_127_24 + var_127_25 and not isNil(var_127_23) then
				local var_127_26 = (arg_124_1.time_ - var_127_24) / var_127_25

				if arg_124_1.var_.characterEffect1093ui_story and not isNil(var_127_23) then
					local var_127_27 = Mathf.Lerp(0, 0.5, var_127_26)

					arg_124_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_124_1.var_.characterEffect1093ui_story.fillRatio = var_127_27
				end
			end

			if arg_124_1.time_ >= var_127_24 + var_127_25 and arg_124_1.time_ < var_127_24 + var_127_25 + arg_127_0 and not isNil(var_127_23) and arg_124_1.var_.characterEffect1093ui_story then
				local var_127_28 = 0.5

				arg_124_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_124_1.var_.characterEffect1093ui_story.fillRatio = var_127_28
			end

			local var_127_29 = 0
			local var_127_30 = 0.45

			if var_127_29 < arg_124_1.time_ and arg_124_1.time_ <= var_127_29 + arg_127_0 then
				arg_124_1.talkMaxDuration = 0
				arg_124_1.dialogCg_.alpha = 1

				arg_124_1.dialog_:SetActive(true)
				SetActive(arg_124_1.leftNameGo_, true)

				local var_127_31 = arg_124_1:FormatText(StoryNameCfg[481].name)

				arg_124_1.leftNameTxt_.text = var_127_31

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_124_1.leftNameTxt_.transform)

				arg_124_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_124_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_124_1:RecordName(arg_124_1.leftNameTxt_.text)
				SetActive(arg_124_1.iconTrs_.gameObject, false)
				arg_124_1.callingController_:SetSelectedState("normal")

				local var_127_32 = arg_124_1:GetWordFromCfg(317021030)
				local var_127_33 = arg_124_1:FormatText(var_127_32.content)

				arg_124_1.text_.text = var_127_33

				LuaForUtil.ClearLinePrefixSymbol(arg_124_1.text_)

				local var_127_34 = 18
				local var_127_35 = utf8.len(var_127_33)
				local var_127_36 = var_127_34 <= 0 and var_127_30 or var_127_30 * (var_127_35 / var_127_34)

				if var_127_36 > 0 and var_127_30 < var_127_36 then
					arg_124_1.talkMaxDuration = var_127_36

					if var_127_36 + var_127_29 > arg_124_1.duration_ then
						arg_124_1.duration_ = var_127_36 + var_127_29
					end
				end

				arg_124_1.text_.text = var_127_33
				arg_124_1.typewritter.percent = 0

				arg_124_1.typewritter:SetDirty()
				arg_124_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021030", "story_v_out_317021.awb") ~= 0 then
					local var_127_37 = manager.audio:GetVoiceLength("story_v_out_317021", "317021030", "story_v_out_317021.awb") / 1000

					if var_127_37 + var_127_29 > arg_124_1.duration_ then
						arg_124_1.duration_ = var_127_37 + var_127_29
					end

					if var_127_32.prefab_name ~= "" and arg_124_1.actors_[var_127_32.prefab_name] ~= nil then
						local var_127_38 = LuaForUtil.PlayVoiceWithCriLipsync(arg_124_1.actors_[var_127_32.prefab_name].transform, "story_v_out_317021", "317021030", "story_v_out_317021.awb")

						arg_124_1:RecordAudio("317021030", var_127_38)
						arg_124_1:RecordAudio("317021030", var_127_38)
					else
						arg_124_1:AudioAction("play", "voice", "story_v_out_317021", "317021030", "story_v_out_317021.awb")
					end

					arg_124_1:RecordHistoryTalkVoice("story_v_out_317021", "317021030", "story_v_out_317021.awb")
				end

				arg_124_1:RecordContent(arg_124_1.text_.text)
			end

			local var_127_39 = math.max(var_127_30, arg_124_1.talkMaxDuration)

			if var_127_29 <= arg_124_1.time_ and arg_124_1.time_ < var_127_29 + var_127_39 then
				arg_124_1.typewritter.percent = (arg_124_1.time_ - var_127_29) / var_127_39

				arg_124_1.typewritter:SetDirty()
			end

			if arg_124_1.time_ >= var_127_29 + var_127_39 and arg_124_1.time_ < var_127_29 + var_127_39 + arg_127_0 then
				arg_124_1.typewritter.percent = 1

				arg_124_1.typewritter:SetDirty()
				arg_124_1:ShowNextGo(true)
			end
		end
	end,
	Play317021031 = function(arg_128_0, arg_128_1)
		arg_128_1.time_ = 0
		arg_128_1.frameCnt_ = 0
		arg_128_1.state_ = "playing"
		arg_128_1.curTalkId_ = 317021031
		arg_128_1.duration_ = 5

		SetActive(arg_128_1.tipsGo_, false)

		function arg_128_1.onSingleLineFinish_()
			arg_128_1.onSingleLineUpdate_ = nil
			arg_128_1.onSingleLineFinish_ = nil
			arg_128_1.state_ = "waiting"
		end

		function arg_128_1.playNext_(arg_130_0)
			if arg_130_0 == 1 then
				arg_128_0:Play317021032(arg_128_1)
			end
		end

		function arg_128_1.onSingleLineUpdate_(arg_131_0)
			local var_131_0 = arg_128_1.actors_["1055ui_story"]
			local var_131_1 = 0

			if var_131_1 < arg_128_1.time_ and arg_128_1.time_ <= var_131_1 + arg_131_0 and not isNil(var_131_0) and arg_128_1.var_.characterEffect1055ui_story == nil then
				arg_128_1.var_.characterEffect1055ui_story = var_131_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_131_2 = 0.200000002980232

			if var_131_1 <= arg_128_1.time_ and arg_128_1.time_ < var_131_1 + var_131_2 and not isNil(var_131_0) then
				local var_131_3 = (arg_128_1.time_ - var_131_1) / var_131_2

				if arg_128_1.var_.characterEffect1055ui_story and not isNil(var_131_0) then
					local var_131_4 = Mathf.Lerp(0, 0.5, var_131_3)

					arg_128_1.var_.characterEffect1055ui_story.fillFlat = true
					arg_128_1.var_.characterEffect1055ui_story.fillRatio = var_131_4
				end
			end

			if arg_128_1.time_ >= var_131_1 + var_131_2 and arg_128_1.time_ < var_131_1 + var_131_2 + arg_131_0 and not isNil(var_131_0) and arg_128_1.var_.characterEffect1055ui_story then
				local var_131_5 = 0.5

				arg_128_1.var_.characterEffect1055ui_story.fillFlat = true
				arg_128_1.var_.characterEffect1055ui_story.fillRatio = var_131_5
			end

			local var_131_6 = 0
			local var_131_7 = 0.375

			if var_131_6 < arg_128_1.time_ and arg_128_1.time_ <= var_131_6 + arg_131_0 then
				arg_128_1.talkMaxDuration = 0
				arg_128_1.dialogCg_.alpha = 1

				arg_128_1.dialog_:SetActive(true)
				SetActive(arg_128_1.leftNameGo_, true)

				local var_131_8 = arg_128_1:FormatText(StoryNameCfg[7].name)

				arg_128_1.leftNameTxt_.text = var_131_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_128_1.leftNameTxt_.transform)

				arg_128_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_128_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_128_1:RecordName(arg_128_1.leftNameTxt_.text)
				SetActive(arg_128_1.iconTrs_.gameObject, false)
				arg_128_1.callingController_:SetSelectedState("normal")

				local var_131_9 = arg_128_1:GetWordFromCfg(317021031)
				local var_131_10 = arg_128_1:FormatText(var_131_9.content)

				arg_128_1.text_.text = var_131_10

				LuaForUtil.ClearLinePrefixSymbol(arg_128_1.text_)

				local var_131_11 = 15
				local var_131_12 = utf8.len(var_131_10)
				local var_131_13 = var_131_11 <= 0 and var_131_7 or var_131_7 * (var_131_12 / var_131_11)

				if var_131_13 > 0 and var_131_7 < var_131_13 then
					arg_128_1.talkMaxDuration = var_131_13

					if var_131_13 + var_131_6 > arg_128_1.duration_ then
						arg_128_1.duration_ = var_131_13 + var_131_6
					end
				end

				arg_128_1.text_.text = var_131_10
				arg_128_1.typewritter.percent = 0

				arg_128_1.typewritter:SetDirty()
				arg_128_1:ShowNextGo(false)
				arg_128_1:RecordContent(arg_128_1.text_.text)
			end

			local var_131_14 = math.max(var_131_7, arg_128_1.talkMaxDuration)

			if var_131_6 <= arg_128_1.time_ and arg_128_1.time_ < var_131_6 + var_131_14 then
				arg_128_1.typewritter.percent = (arg_128_1.time_ - var_131_6) / var_131_14

				arg_128_1.typewritter:SetDirty()
			end

			if arg_128_1.time_ >= var_131_6 + var_131_14 and arg_128_1.time_ < var_131_6 + var_131_14 + arg_131_0 then
				arg_128_1.typewritter.percent = 1

				arg_128_1.typewritter:SetDirty()
				arg_128_1:ShowNextGo(true)
			end
		end
	end,
	Play317021032 = function(arg_132_0, arg_132_1)
		arg_132_1.time_ = 0
		arg_132_1.frameCnt_ = 0
		arg_132_1.state_ = "playing"
		arg_132_1.curTalkId_ = 317021032
		arg_132_1.duration_ = 16.9

		local var_132_0 = {
			zh = 10.766,
			ja = 16.9
		}
		local var_132_1 = manager.audio:GetLocalizationFlag()

		if var_132_0[var_132_1] ~= nil then
			arg_132_1.duration_ = var_132_0[var_132_1]
		end

		SetActive(arg_132_1.tipsGo_, false)

		function arg_132_1.onSingleLineFinish_()
			arg_132_1.onSingleLineUpdate_ = nil
			arg_132_1.onSingleLineFinish_ = nil
			arg_132_1.state_ = "waiting"
		end

		function arg_132_1.playNext_(arg_134_0)
			if arg_134_0 == 1 then
				arg_132_0:Play317021033(arg_132_1)
			end
		end

		function arg_132_1.onSingleLineUpdate_(arg_135_0)
			local var_135_0 = arg_132_1.actors_["1055ui_story"].transform
			local var_135_1 = 0

			if var_135_1 < arg_132_1.time_ and arg_132_1.time_ <= var_135_1 + arg_135_0 then
				arg_132_1.var_.moveOldPos1055ui_story = var_135_0.localPosition
			end

			local var_135_2 = 0.001

			if var_135_1 <= arg_132_1.time_ and arg_132_1.time_ < var_135_1 + var_135_2 then
				local var_135_3 = (arg_132_1.time_ - var_135_1) / var_135_2
				local var_135_4 = Vector3.New(-0.7, -0.965, -6.2)

				var_135_0.localPosition = Vector3.Lerp(arg_132_1.var_.moveOldPos1055ui_story, var_135_4, var_135_3)

				local var_135_5 = manager.ui.mainCamera.transform.position - var_135_0.position

				var_135_0.forward = Vector3.New(var_135_5.x, var_135_5.y, var_135_5.z)

				local var_135_6 = var_135_0.localEulerAngles

				var_135_6.z = 0
				var_135_6.x = 0
				var_135_0.localEulerAngles = var_135_6
			end

			if arg_132_1.time_ >= var_135_1 + var_135_2 and arg_132_1.time_ < var_135_1 + var_135_2 + arg_135_0 then
				var_135_0.localPosition = Vector3.New(-0.7, -0.965, -6.2)

				local var_135_7 = manager.ui.mainCamera.transform.position - var_135_0.position

				var_135_0.forward = Vector3.New(var_135_7.x, var_135_7.y, var_135_7.z)

				local var_135_8 = var_135_0.localEulerAngles

				var_135_8.z = 0
				var_135_8.x = 0
				var_135_0.localEulerAngles = var_135_8
			end

			local var_135_9 = arg_132_1.actors_["1055ui_story"]
			local var_135_10 = 0

			if var_135_10 < arg_132_1.time_ and arg_132_1.time_ <= var_135_10 + arg_135_0 and not isNil(var_135_9) and arg_132_1.var_.characterEffect1055ui_story == nil then
				arg_132_1.var_.characterEffect1055ui_story = var_135_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_135_11 = 0.200000002980232

			if var_135_10 <= arg_132_1.time_ and arg_132_1.time_ < var_135_10 + var_135_11 and not isNil(var_135_9) then
				local var_135_12 = (arg_132_1.time_ - var_135_10) / var_135_11

				if arg_132_1.var_.characterEffect1055ui_story and not isNil(var_135_9) then
					arg_132_1.var_.characterEffect1055ui_story.fillFlat = false
				end
			end

			if arg_132_1.time_ >= var_135_10 + var_135_11 and arg_132_1.time_ < var_135_10 + var_135_11 + arg_135_0 and not isNil(var_135_9) and arg_132_1.var_.characterEffect1055ui_story then
				arg_132_1.var_.characterEffect1055ui_story.fillFlat = false
			end

			local var_135_13 = 0

			if var_135_13 < arg_132_1.time_ and arg_132_1.time_ <= var_135_13 + arg_135_0 then
				arg_132_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/story1055/story1055action/1055action5_2")
			end

			local var_135_14 = 0

			if var_135_14 < arg_132_1.time_ and arg_132_1.time_ <= var_135_14 + arg_135_0 then
				arg_132_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_135_15 = arg_132_1.actors_["1093ui_story"].transform
			local var_135_16 = 0

			if var_135_16 < arg_132_1.time_ and arg_132_1.time_ <= var_135_16 + arg_135_0 then
				arg_132_1.var_.moveOldPos1093ui_story = var_135_15.localPosition
			end

			local var_135_17 = 0.001

			if var_135_16 <= arg_132_1.time_ and arg_132_1.time_ < var_135_16 + var_135_17 then
				local var_135_18 = (arg_132_1.time_ - var_135_16) / var_135_17
				local var_135_19 = Vector3.New(0.7, -1.11, -5.88)

				var_135_15.localPosition = Vector3.Lerp(arg_132_1.var_.moveOldPos1093ui_story, var_135_19, var_135_18)

				local var_135_20 = manager.ui.mainCamera.transform.position - var_135_15.position

				var_135_15.forward = Vector3.New(var_135_20.x, var_135_20.y, var_135_20.z)

				local var_135_21 = var_135_15.localEulerAngles

				var_135_21.z = 0
				var_135_21.x = 0
				var_135_15.localEulerAngles = var_135_21
			end

			if arg_132_1.time_ >= var_135_16 + var_135_17 and arg_132_1.time_ < var_135_16 + var_135_17 + arg_135_0 then
				var_135_15.localPosition = Vector3.New(0.7, -1.11, -5.88)

				local var_135_22 = manager.ui.mainCamera.transform.position - var_135_15.position

				var_135_15.forward = Vector3.New(var_135_22.x, var_135_22.y, var_135_22.z)

				local var_135_23 = var_135_15.localEulerAngles

				var_135_23.z = 0
				var_135_23.x = 0
				var_135_15.localEulerAngles = var_135_23
			end

			local var_135_24 = arg_132_1.actors_["1093ui_story"]
			local var_135_25 = 0

			if var_135_25 < arg_132_1.time_ and arg_132_1.time_ <= var_135_25 + arg_135_0 and not isNil(var_135_24) and arg_132_1.var_.characterEffect1093ui_story == nil then
				arg_132_1.var_.characterEffect1093ui_story = var_135_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_135_26 = 0.200000002980232

			if var_135_25 <= arg_132_1.time_ and arg_132_1.time_ < var_135_25 + var_135_26 and not isNil(var_135_24) then
				local var_135_27 = (arg_132_1.time_ - var_135_25) / var_135_26

				if arg_132_1.var_.characterEffect1093ui_story and not isNil(var_135_24) then
					local var_135_28 = Mathf.Lerp(0, 0.5, var_135_27)

					arg_132_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_132_1.var_.characterEffect1093ui_story.fillRatio = var_135_28
				end
			end

			if arg_132_1.time_ >= var_135_25 + var_135_26 and arg_132_1.time_ < var_135_25 + var_135_26 + arg_135_0 and not isNil(var_135_24) and arg_132_1.var_.characterEffect1093ui_story then
				local var_135_29 = 0.5

				arg_132_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_132_1.var_.characterEffect1093ui_story.fillRatio = var_135_29
			end

			local var_135_30 = 0
			local var_135_31 = 1.05

			if var_135_30 < arg_132_1.time_ and arg_132_1.time_ <= var_135_30 + arg_135_0 then
				arg_132_1.talkMaxDuration = 0
				arg_132_1.dialogCg_.alpha = 1

				arg_132_1.dialog_:SetActive(true)
				SetActive(arg_132_1.leftNameGo_, true)

				local var_135_32 = arg_132_1:FormatText(StoryNameCfg[481].name)

				arg_132_1.leftNameTxt_.text = var_135_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_132_1.leftNameTxt_.transform)

				arg_132_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_132_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_132_1:RecordName(arg_132_1.leftNameTxt_.text)
				SetActive(arg_132_1.iconTrs_.gameObject, false)
				arg_132_1.callingController_:SetSelectedState("normal")

				local var_135_33 = arg_132_1:GetWordFromCfg(317021032)
				local var_135_34 = arg_132_1:FormatText(var_135_33.content)

				arg_132_1.text_.text = var_135_34

				LuaForUtil.ClearLinePrefixSymbol(arg_132_1.text_)

				local var_135_35 = 42
				local var_135_36 = utf8.len(var_135_34)
				local var_135_37 = var_135_35 <= 0 and var_135_31 or var_135_31 * (var_135_36 / var_135_35)

				if var_135_37 > 0 and var_135_31 < var_135_37 then
					arg_132_1.talkMaxDuration = var_135_37

					if var_135_37 + var_135_30 > arg_132_1.duration_ then
						arg_132_1.duration_ = var_135_37 + var_135_30
					end
				end

				arg_132_1.text_.text = var_135_34
				arg_132_1.typewritter.percent = 0

				arg_132_1.typewritter:SetDirty()
				arg_132_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021032", "story_v_out_317021.awb") ~= 0 then
					local var_135_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021032", "story_v_out_317021.awb") / 1000

					if var_135_38 + var_135_30 > arg_132_1.duration_ then
						arg_132_1.duration_ = var_135_38 + var_135_30
					end

					if var_135_33.prefab_name ~= "" and arg_132_1.actors_[var_135_33.prefab_name] ~= nil then
						local var_135_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_132_1.actors_[var_135_33.prefab_name].transform, "story_v_out_317021", "317021032", "story_v_out_317021.awb")

						arg_132_1:RecordAudio("317021032", var_135_39)
						arg_132_1:RecordAudio("317021032", var_135_39)
					else
						arg_132_1:AudioAction("play", "voice", "story_v_out_317021", "317021032", "story_v_out_317021.awb")
					end

					arg_132_1:RecordHistoryTalkVoice("story_v_out_317021", "317021032", "story_v_out_317021.awb")
				end

				arg_132_1:RecordContent(arg_132_1.text_.text)
			end

			local var_135_40 = math.max(var_135_31, arg_132_1.talkMaxDuration)

			if var_135_30 <= arg_132_1.time_ and arg_132_1.time_ < var_135_30 + var_135_40 then
				arg_132_1.typewritter.percent = (arg_132_1.time_ - var_135_30) / var_135_40

				arg_132_1.typewritter:SetDirty()
			end

			if arg_132_1.time_ >= var_135_30 + var_135_40 and arg_132_1.time_ < var_135_30 + var_135_40 + arg_135_0 then
				arg_132_1.typewritter.percent = 1

				arg_132_1.typewritter:SetDirty()
				arg_132_1:ShowNextGo(true)
			end
		end
	end,
	Play317021033 = function(arg_136_0, arg_136_1)
		arg_136_1.time_ = 0
		arg_136_1.frameCnt_ = 0
		arg_136_1.state_ = "playing"
		arg_136_1.curTalkId_ = 317021033
		arg_136_1.duration_ = 8.9

		local var_136_0 = {
			zh = 8.9,
			ja = 7.633
		}
		local var_136_1 = manager.audio:GetLocalizationFlag()

		if var_136_0[var_136_1] ~= nil then
			arg_136_1.duration_ = var_136_0[var_136_1]
		end

		SetActive(arg_136_1.tipsGo_, false)

		function arg_136_1.onSingleLineFinish_()
			arg_136_1.onSingleLineUpdate_ = nil
			arg_136_1.onSingleLineFinish_ = nil
			arg_136_1.state_ = "waiting"
		end

		function arg_136_1.playNext_(arg_138_0)
			if arg_138_0 == 1 then
				arg_136_0:Play317021034(arg_136_1)
			end
		end

		function arg_136_1.onSingleLineUpdate_(arg_139_0)
			local var_139_0 = arg_136_1.actors_["1055ui_story"].transform
			local var_139_1 = 0

			if var_139_1 < arg_136_1.time_ and arg_136_1.time_ <= var_139_1 + arg_139_0 then
				arg_136_1.var_.moveOldPos1055ui_story = var_139_0.localPosition
			end

			local var_139_2 = 0.001

			if var_139_1 <= arg_136_1.time_ and arg_136_1.time_ < var_139_1 + var_139_2 then
				local var_139_3 = (arg_136_1.time_ - var_139_1) / var_139_2
				local var_139_4 = Vector3.New(-0.7, -0.965, -6.2)

				var_139_0.localPosition = Vector3.Lerp(arg_136_1.var_.moveOldPos1055ui_story, var_139_4, var_139_3)

				local var_139_5 = manager.ui.mainCamera.transform.position - var_139_0.position

				var_139_0.forward = Vector3.New(var_139_5.x, var_139_5.y, var_139_5.z)

				local var_139_6 = var_139_0.localEulerAngles

				var_139_6.z = 0
				var_139_6.x = 0
				var_139_0.localEulerAngles = var_139_6
			end

			if arg_136_1.time_ >= var_139_1 + var_139_2 and arg_136_1.time_ < var_139_1 + var_139_2 + arg_139_0 then
				var_139_0.localPosition = Vector3.New(-0.7, -0.965, -6.2)

				local var_139_7 = manager.ui.mainCamera.transform.position - var_139_0.position

				var_139_0.forward = Vector3.New(var_139_7.x, var_139_7.y, var_139_7.z)

				local var_139_8 = var_139_0.localEulerAngles

				var_139_8.z = 0
				var_139_8.x = 0
				var_139_0.localEulerAngles = var_139_8
			end

			local var_139_9 = arg_136_1.actors_["1055ui_story"]
			local var_139_10 = 0

			if var_139_10 < arg_136_1.time_ and arg_136_1.time_ <= var_139_10 + arg_139_0 and not isNil(var_139_9) and arg_136_1.var_.characterEffect1055ui_story == nil then
				arg_136_1.var_.characterEffect1055ui_story = var_139_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_139_11 = 0.200000002980232

			if var_139_10 <= arg_136_1.time_ and arg_136_1.time_ < var_139_10 + var_139_11 and not isNil(var_139_9) then
				local var_139_12 = (arg_136_1.time_ - var_139_10) / var_139_11

				if arg_136_1.var_.characterEffect1055ui_story and not isNil(var_139_9) then
					local var_139_13 = Mathf.Lerp(0, 0.5, var_139_12)

					arg_136_1.var_.characterEffect1055ui_story.fillFlat = true
					arg_136_1.var_.characterEffect1055ui_story.fillRatio = var_139_13
				end
			end

			if arg_136_1.time_ >= var_139_10 + var_139_11 and arg_136_1.time_ < var_139_10 + var_139_11 + arg_139_0 and not isNil(var_139_9) and arg_136_1.var_.characterEffect1055ui_story then
				local var_139_14 = 0.5

				arg_136_1.var_.characterEffect1055ui_story.fillFlat = true
				arg_136_1.var_.characterEffect1055ui_story.fillRatio = var_139_14
			end

			local var_139_15 = arg_136_1.actors_["1093ui_story"].transform
			local var_139_16 = 0

			if var_139_16 < arg_136_1.time_ and arg_136_1.time_ <= var_139_16 + arg_139_0 then
				arg_136_1.var_.moveOldPos1093ui_story = var_139_15.localPosition
			end

			local var_139_17 = 0.001

			if var_139_16 <= arg_136_1.time_ and arg_136_1.time_ < var_139_16 + var_139_17 then
				local var_139_18 = (arg_136_1.time_ - var_139_16) / var_139_17
				local var_139_19 = Vector3.New(0.7, -1.11, -5.88)

				var_139_15.localPosition = Vector3.Lerp(arg_136_1.var_.moveOldPos1093ui_story, var_139_19, var_139_18)

				local var_139_20 = manager.ui.mainCamera.transform.position - var_139_15.position

				var_139_15.forward = Vector3.New(var_139_20.x, var_139_20.y, var_139_20.z)

				local var_139_21 = var_139_15.localEulerAngles

				var_139_21.z = 0
				var_139_21.x = 0
				var_139_15.localEulerAngles = var_139_21
			end

			if arg_136_1.time_ >= var_139_16 + var_139_17 and arg_136_1.time_ < var_139_16 + var_139_17 + arg_139_0 then
				var_139_15.localPosition = Vector3.New(0.7, -1.11, -5.88)

				local var_139_22 = manager.ui.mainCamera.transform.position - var_139_15.position

				var_139_15.forward = Vector3.New(var_139_22.x, var_139_22.y, var_139_22.z)

				local var_139_23 = var_139_15.localEulerAngles

				var_139_23.z = 0
				var_139_23.x = 0
				var_139_15.localEulerAngles = var_139_23
			end

			local var_139_24 = arg_136_1.actors_["1093ui_story"]
			local var_139_25 = 0

			if var_139_25 < arg_136_1.time_ and arg_136_1.time_ <= var_139_25 + arg_139_0 and not isNil(var_139_24) and arg_136_1.var_.characterEffect1093ui_story == nil then
				arg_136_1.var_.characterEffect1093ui_story = var_139_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_139_26 = 0.200000002980232

			if var_139_25 <= arg_136_1.time_ and arg_136_1.time_ < var_139_25 + var_139_26 and not isNil(var_139_24) then
				local var_139_27 = (arg_136_1.time_ - var_139_25) / var_139_26

				if arg_136_1.var_.characterEffect1093ui_story and not isNil(var_139_24) then
					arg_136_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_136_1.time_ >= var_139_25 + var_139_26 and arg_136_1.time_ < var_139_25 + var_139_26 + arg_139_0 and not isNil(var_139_24) and arg_136_1.var_.characterEffect1093ui_story then
				arg_136_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_139_28 = 0

			if var_139_28 < arg_136_1.time_ and arg_136_1.time_ <= var_139_28 + arg_139_0 then
				arg_136_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action7_1")
			end

			local var_139_29 = 0

			if var_139_29 < arg_136_1.time_ and arg_136_1.time_ <= var_139_29 + arg_139_0 then
				arg_136_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_139_30 = 0
			local var_139_31 = 0.775

			if var_139_30 < arg_136_1.time_ and arg_136_1.time_ <= var_139_30 + arg_139_0 then
				arg_136_1.talkMaxDuration = 0
				arg_136_1.dialogCg_.alpha = 1

				arg_136_1.dialog_:SetActive(true)
				SetActive(arg_136_1.leftNameGo_, true)

				local var_139_32 = arg_136_1:FormatText(StoryNameCfg[73].name)

				arg_136_1.leftNameTxt_.text = var_139_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_136_1.leftNameTxt_.transform)

				arg_136_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_136_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_136_1:RecordName(arg_136_1.leftNameTxt_.text)
				SetActive(arg_136_1.iconTrs_.gameObject, false)
				arg_136_1.callingController_:SetSelectedState("normal")

				local var_139_33 = arg_136_1:GetWordFromCfg(317021033)
				local var_139_34 = arg_136_1:FormatText(var_139_33.content)

				arg_136_1.text_.text = var_139_34

				LuaForUtil.ClearLinePrefixSymbol(arg_136_1.text_)

				local var_139_35 = 31
				local var_139_36 = utf8.len(var_139_34)
				local var_139_37 = var_139_35 <= 0 and var_139_31 or var_139_31 * (var_139_36 / var_139_35)

				if var_139_37 > 0 and var_139_31 < var_139_37 then
					arg_136_1.talkMaxDuration = var_139_37

					if var_139_37 + var_139_30 > arg_136_1.duration_ then
						arg_136_1.duration_ = var_139_37 + var_139_30
					end
				end

				arg_136_1.text_.text = var_139_34
				arg_136_1.typewritter.percent = 0

				arg_136_1.typewritter:SetDirty()
				arg_136_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021033", "story_v_out_317021.awb") ~= 0 then
					local var_139_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021033", "story_v_out_317021.awb") / 1000

					if var_139_38 + var_139_30 > arg_136_1.duration_ then
						arg_136_1.duration_ = var_139_38 + var_139_30
					end

					if var_139_33.prefab_name ~= "" and arg_136_1.actors_[var_139_33.prefab_name] ~= nil then
						local var_139_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_136_1.actors_[var_139_33.prefab_name].transform, "story_v_out_317021", "317021033", "story_v_out_317021.awb")

						arg_136_1:RecordAudio("317021033", var_139_39)
						arg_136_1:RecordAudio("317021033", var_139_39)
					else
						arg_136_1:AudioAction("play", "voice", "story_v_out_317021", "317021033", "story_v_out_317021.awb")
					end

					arg_136_1:RecordHistoryTalkVoice("story_v_out_317021", "317021033", "story_v_out_317021.awb")
				end

				arg_136_1:RecordContent(arg_136_1.text_.text)
			end

			local var_139_40 = math.max(var_139_31, arg_136_1.talkMaxDuration)

			if var_139_30 <= arg_136_1.time_ and arg_136_1.time_ < var_139_30 + var_139_40 then
				arg_136_1.typewritter.percent = (arg_136_1.time_ - var_139_30) / var_139_40

				arg_136_1.typewritter:SetDirty()
			end

			if arg_136_1.time_ >= var_139_30 + var_139_40 and arg_136_1.time_ < var_139_30 + var_139_40 + arg_139_0 then
				arg_136_1.typewritter.percent = 1

				arg_136_1.typewritter:SetDirty()
				arg_136_1:ShowNextGo(true)
			end
		end
	end,
	Play317021034 = function(arg_140_0, arg_140_1)
		arg_140_1.time_ = 0
		arg_140_1.frameCnt_ = 0
		arg_140_1.state_ = "playing"
		arg_140_1.curTalkId_ = 317021034
		arg_140_1.duration_ = 6.63

		local var_140_0 = {
			zh = 3.6,
			ja = 6.633
		}
		local var_140_1 = manager.audio:GetLocalizationFlag()

		if var_140_0[var_140_1] ~= nil then
			arg_140_1.duration_ = var_140_0[var_140_1]
		end

		SetActive(arg_140_1.tipsGo_, false)

		function arg_140_1.onSingleLineFinish_()
			arg_140_1.onSingleLineUpdate_ = nil
			arg_140_1.onSingleLineFinish_ = nil
			arg_140_1.state_ = "waiting"
		end

		function arg_140_1.playNext_(arg_142_0)
			if arg_142_0 == 1 then
				arg_140_0:Play317021035(arg_140_1)
			end
		end

		function arg_140_1.onSingleLineUpdate_(arg_143_0)
			local var_143_0 = arg_140_1.actors_["1055ui_story"].transform
			local var_143_1 = 0

			if var_143_1 < arg_140_1.time_ and arg_140_1.time_ <= var_143_1 + arg_143_0 then
				arg_140_1.var_.moveOldPos1055ui_story = var_143_0.localPosition
			end

			local var_143_2 = 0.001

			if var_143_1 <= arg_140_1.time_ and arg_140_1.time_ < var_143_1 + var_143_2 then
				local var_143_3 = (arg_140_1.time_ - var_143_1) / var_143_2
				local var_143_4 = Vector3.New(-0.7, -0.965, -6.2)

				var_143_0.localPosition = Vector3.Lerp(arg_140_1.var_.moveOldPos1055ui_story, var_143_4, var_143_3)

				local var_143_5 = manager.ui.mainCamera.transform.position - var_143_0.position

				var_143_0.forward = Vector3.New(var_143_5.x, var_143_5.y, var_143_5.z)

				local var_143_6 = var_143_0.localEulerAngles

				var_143_6.z = 0
				var_143_6.x = 0
				var_143_0.localEulerAngles = var_143_6
			end

			if arg_140_1.time_ >= var_143_1 + var_143_2 and arg_140_1.time_ < var_143_1 + var_143_2 + arg_143_0 then
				var_143_0.localPosition = Vector3.New(-0.7, -0.965, -6.2)

				local var_143_7 = manager.ui.mainCamera.transform.position - var_143_0.position

				var_143_0.forward = Vector3.New(var_143_7.x, var_143_7.y, var_143_7.z)

				local var_143_8 = var_143_0.localEulerAngles

				var_143_8.z = 0
				var_143_8.x = 0
				var_143_0.localEulerAngles = var_143_8
			end

			local var_143_9 = arg_140_1.actors_["1055ui_story"]
			local var_143_10 = 0

			if var_143_10 < arg_140_1.time_ and arg_140_1.time_ <= var_143_10 + arg_143_0 and not isNil(var_143_9) and arg_140_1.var_.characterEffect1055ui_story == nil then
				arg_140_1.var_.characterEffect1055ui_story = var_143_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_143_11 = 0.200000002980232

			if var_143_10 <= arg_140_1.time_ and arg_140_1.time_ < var_143_10 + var_143_11 and not isNil(var_143_9) then
				local var_143_12 = (arg_140_1.time_ - var_143_10) / var_143_11

				if arg_140_1.var_.characterEffect1055ui_story and not isNil(var_143_9) then
					arg_140_1.var_.characterEffect1055ui_story.fillFlat = false
				end
			end

			if arg_140_1.time_ >= var_143_10 + var_143_11 and arg_140_1.time_ < var_143_10 + var_143_11 + arg_143_0 and not isNil(var_143_9) and arg_140_1.var_.characterEffect1055ui_story then
				arg_140_1.var_.characterEffect1055ui_story.fillFlat = false
			end

			local var_143_13 = 0

			if var_143_13 < arg_140_1.time_ and arg_140_1.time_ <= var_143_13 + arg_143_0 then
				arg_140_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/story1055/story1055action/1055action3_1")
			end

			local var_143_14 = 0

			if var_143_14 < arg_140_1.time_ and arg_140_1.time_ <= var_143_14 + arg_143_0 then
				arg_140_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface1102cva")
			end

			local var_143_15 = arg_140_1.actors_["1093ui_story"].transform
			local var_143_16 = 0

			if var_143_16 < arg_140_1.time_ and arg_140_1.time_ <= var_143_16 + arg_143_0 then
				arg_140_1.var_.moveOldPos1093ui_story = var_143_15.localPosition
			end

			local var_143_17 = 0.001

			if var_143_16 <= arg_140_1.time_ and arg_140_1.time_ < var_143_16 + var_143_17 then
				local var_143_18 = (arg_140_1.time_ - var_143_16) / var_143_17
				local var_143_19 = Vector3.New(0.7, -1.11, -5.88)

				var_143_15.localPosition = Vector3.Lerp(arg_140_1.var_.moveOldPos1093ui_story, var_143_19, var_143_18)

				local var_143_20 = manager.ui.mainCamera.transform.position - var_143_15.position

				var_143_15.forward = Vector3.New(var_143_20.x, var_143_20.y, var_143_20.z)

				local var_143_21 = var_143_15.localEulerAngles

				var_143_21.z = 0
				var_143_21.x = 0
				var_143_15.localEulerAngles = var_143_21
			end

			if arg_140_1.time_ >= var_143_16 + var_143_17 and arg_140_1.time_ < var_143_16 + var_143_17 + arg_143_0 then
				var_143_15.localPosition = Vector3.New(0.7, -1.11, -5.88)

				local var_143_22 = manager.ui.mainCamera.transform.position - var_143_15.position

				var_143_15.forward = Vector3.New(var_143_22.x, var_143_22.y, var_143_22.z)

				local var_143_23 = var_143_15.localEulerAngles

				var_143_23.z = 0
				var_143_23.x = 0
				var_143_15.localEulerAngles = var_143_23
			end

			local var_143_24 = arg_140_1.actors_["1093ui_story"]
			local var_143_25 = 0

			if var_143_25 < arg_140_1.time_ and arg_140_1.time_ <= var_143_25 + arg_143_0 and not isNil(var_143_24) and arg_140_1.var_.characterEffect1093ui_story == nil then
				arg_140_1.var_.characterEffect1093ui_story = var_143_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_143_26 = 0.200000002980232

			if var_143_25 <= arg_140_1.time_ and arg_140_1.time_ < var_143_25 + var_143_26 and not isNil(var_143_24) then
				local var_143_27 = (arg_140_1.time_ - var_143_25) / var_143_26

				if arg_140_1.var_.characterEffect1093ui_story and not isNil(var_143_24) then
					local var_143_28 = Mathf.Lerp(0, 0.5, var_143_27)

					arg_140_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_140_1.var_.characterEffect1093ui_story.fillRatio = var_143_28
				end
			end

			if arg_140_1.time_ >= var_143_25 + var_143_26 and arg_140_1.time_ < var_143_25 + var_143_26 + arg_143_0 and not isNil(var_143_24) and arg_140_1.var_.characterEffect1093ui_story then
				local var_143_29 = 0.5

				arg_140_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_140_1.var_.characterEffect1093ui_story.fillRatio = var_143_29
			end

			local var_143_30 = 0
			local var_143_31 = 0.325

			if var_143_30 < arg_140_1.time_ and arg_140_1.time_ <= var_143_30 + arg_143_0 then
				arg_140_1.talkMaxDuration = 0
				arg_140_1.dialogCg_.alpha = 1

				arg_140_1.dialog_:SetActive(true)
				SetActive(arg_140_1.leftNameGo_, true)

				local var_143_32 = arg_140_1:FormatText(StoryNameCfg[481].name)

				arg_140_1.leftNameTxt_.text = var_143_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_140_1.leftNameTxt_.transform)

				arg_140_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_140_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_140_1:RecordName(arg_140_1.leftNameTxt_.text)
				SetActive(arg_140_1.iconTrs_.gameObject, false)
				arg_140_1.callingController_:SetSelectedState("normal")

				local var_143_33 = arg_140_1:GetWordFromCfg(317021034)
				local var_143_34 = arg_140_1:FormatText(var_143_33.content)

				arg_140_1.text_.text = var_143_34

				LuaForUtil.ClearLinePrefixSymbol(arg_140_1.text_)

				local var_143_35 = 13
				local var_143_36 = utf8.len(var_143_34)
				local var_143_37 = var_143_35 <= 0 and var_143_31 or var_143_31 * (var_143_36 / var_143_35)

				if var_143_37 > 0 and var_143_31 < var_143_37 then
					arg_140_1.talkMaxDuration = var_143_37

					if var_143_37 + var_143_30 > arg_140_1.duration_ then
						arg_140_1.duration_ = var_143_37 + var_143_30
					end
				end

				arg_140_1.text_.text = var_143_34
				arg_140_1.typewritter.percent = 0

				arg_140_1.typewritter:SetDirty()
				arg_140_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021034", "story_v_out_317021.awb") ~= 0 then
					local var_143_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021034", "story_v_out_317021.awb") / 1000

					if var_143_38 + var_143_30 > arg_140_1.duration_ then
						arg_140_1.duration_ = var_143_38 + var_143_30
					end

					if var_143_33.prefab_name ~= "" and arg_140_1.actors_[var_143_33.prefab_name] ~= nil then
						local var_143_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_140_1.actors_[var_143_33.prefab_name].transform, "story_v_out_317021", "317021034", "story_v_out_317021.awb")

						arg_140_1:RecordAudio("317021034", var_143_39)
						arg_140_1:RecordAudio("317021034", var_143_39)
					else
						arg_140_1:AudioAction("play", "voice", "story_v_out_317021", "317021034", "story_v_out_317021.awb")
					end

					arg_140_1:RecordHistoryTalkVoice("story_v_out_317021", "317021034", "story_v_out_317021.awb")
				end

				arg_140_1:RecordContent(arg_140_1.text_.text)
			end

			local var_143_40 = math.max(var_143_31, arg_140_1.talkMaxDuration)

			if var_143_30 <= arg_140_1.time_ and arg_140_1.time_ < var_143_30 + var_143_40 then
				arg_140_1.typewritter.percent = (arg_140_1.time_ - var_143_30) / var_143_40

				arg_140_1.typewritter:SetDirty()
			end

			if arg_140_1.time_ >= var_143_30 + var_143_40 and arg_140_1.time_ < var_143_30 + var_143_40 + arg_143_0 then
				arg_140_1.typewritter.percent = 1

				arg_140_1.typewritter:SetDirty()
				arg_140_1:ShowNextGo(true)
			end
		end
	end,
	Play317021035 = function(arg_144_0, arg_144_1)
		arg_144_1.time_ = 0
		arg_144_1.frameCnt_ = 0
		arg_144_1.state_ = "playing"
		arg_144_1.curTalkId_ = 317021035
		arg_144_1.duration_ = 3.1

		local var_144_0 = {
			zh = 2.766,
			ja = 3.1
		}
		local var_144_1 = manager.audio:GetLocalizationFlag()

		if var_144_0[var_144_1] ~= nil then
			arg_144_1.duration_ = var_144_0[var_144_1]
		end

		SetActive(arg_144_1.tipsGo_, false)

		function arg_144_1.onSingleLineFinish_()
			arg_144_1.onSingleLineUpdate_ = nil
			arg_144_1.onSingleLineFinish_ = nil
			arg_144_1.state_ = "waiting"
		end

		function arg_144_1.playNext_(arg_146_0)
			if arg_146_0 == 1 then
				arg_144_0:Play317021036(arg_144_1)
			end
		end

		function arg_144_1.onSingleLineUpdate_(arg_147_0)
			local var_147_0 = arg_144_1.actors_["1055ui_story"].transform
			local var_147_1 = 0

			if var_147_1 < arg_144_1.time_ and arg_144_1.time_ <= var_147_1 + arg_147_0 then
				arg_144_1.var_.moveOldPos1055ui_story = var_147_0.localPosition
			end

			local var_147_2 = 0.001

			if var_147_1 <= arg_144_1.time_ and arg_144_1.time_ < var_147_1 + var_147_2 then
				local var_147_3 = (arg_144_1.time_ - var_147_1) / var_147_2
				local var_147_4 = Vector3.New(-0.7, -0.965, -6.2)

				var_147_0.localPosition = Vector3.Lerp(arg_144_1.var_.moveOldPos1055ui_story, var_147_4, var_147_3)

				local var_147_5 = manager.ui.mainCamera.transform.position - var_147_0.position

				var_147_0.forward = Vector3.New(var_147_5.x, var_147_5.y, var_147_5.z)

				local var_147_6 = var_147_0.localEulerAngles

				var_147_6.z = 0
				var_147_6.x = 0
				var_147_0.localEulerAngles = var_147_6
			end

			if arg_144_1.time_ >= var_147_1 + var_147_2 and arg_144_1.time_ < var_147_1 + var_147_2 + arg_147_0 then
				var_147_0.localPosition = Vector3.New(-0.7, -0.965, -6.2)

				local var_147_7 = manager.ui.mainCamera.transform.position - var_147_0.position

				var_147_0.forward = Vector3.New(var_147_7.x, var_147_7.y, var_147_7.z)

				local var_147_8 = var_147_0.localEulerAngles

				var_147_8.z = 0
				var_147_8.x = 0
				var_147_0.localEulerAngles = var_147_8
			end

			local var_147_9 = arg_144_1.actors_["1055ui_story"]
			local var_147_10 = 0

			if var_147_10 < arg_144_1.time_ and arg_144_1.time_ <= var_147_10 + arg_147_0 and not isNil(var_147_9) and arg_144_1.var_.characterEffect1055ui_story == nil then
				arg_144_1.var_.characterEffect1055ui_story = var_147_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_147_11 = 0.200000002980232

			if var_147_10 <= arg_144_1.time_ and arg_144_1.time_ < var_147_10 + var_147_11 and not isNil(var_147_9) then
				local var_147_12 = (arg_144_1.time_ - var_147_10) / var_147_11

				if arg_144_1.var_.characterEffect1055ui_story and not isNil(var_147_9) then
					local var_147_13 = Mathf.Lerp(0, 0.5, var_147_12)

					arg_144_1.var_.characterEffect1055ui_story.fillFlat = true
					arg_144_1.var_.characterEffect1055ui_story.fillRatio = var_147_13
				end
			end

			if arg_144_1.time_ >= var_147_10 + var_147_11 and arg_144_1.time_ < var_147_10 + var_147_11 + arg_147_0 and not isNil(var_147_9) and arg_144_1.var_.characterEffect1055ui_story then
				local var_147_14 = 0.5

				arg_144_1.var_.characterEffect1055ui_story.fillFlat = true
				arg_144_1.var_.characterEffect1055ui_story.fillRatio = var_147_14
			end

			local var_147_15 = arg_144_1.actors_["1093ui_story"].transform
			local var_147_16 = 0

			if var_147_16 < arg_144_1.time_ and arg_144_1.time_ <= var_147_16 + arg_147_0 then
				arg_144_1.var_.moveOldPos1093ui_story = var_147_15.localPosition
			end

			local var_147_17 = 0.001

			if var_147_16 <= arg_144_1.time_ and arg_144_1.time_ < var_147_16 + var_147_17 then
				local var_147_18 = (arg_144_1.time_ - var_147_16) / var_147_17
				local var_147_19 = Vector3.New(0.7, -1.11, -5.88)

				var_147_15.localPosition = Vector3.Lerp(arg_144_1.var_.moveOldPos1093ui_story, var_147_19, var_147_18)

				local var_147_20 = manager.ui.mainCamera.transform.position - var_147_15.position

				var_147_15.forward = Vector3.New(var_147_20.x, var_147_20.y, var_147_20.z)

				local var_147_21 = var_147_15.localEulerAngles

				var_147_21.z = 0
				var_147_21.x = 0
				var_147_15.localEulerAngles = var_147_21
			end

			if arg_144_1.time_ >= var_147_16 + var_147_17 and arg_144_1.time_ < var_147_16 + var_147_17 + arg_147_0 then
				var_147_15.localPosition = Vector3.New(0.7, -1.11, -5.88)

				local var_147_22 = manager.ui.mainCamera.transform.position - var_147_15.position

				var_147_15.forward = Vector3.New(var_147_22.x, var_147_22.y, var_147_22.z)

				local var_147_23 = var_147_15.localEulerAngles

				var_147_23.z = 0
				var_147_23.x = 0
				var_147_15.localEulerAngles = var_147_23
			end

			local var_147_24 = arg_144_1.actors_["1093ui_story"]
			local var_147_25 = 0

			if var_147_25 < arg_144_1.time_ and arg_144_1.time_ <= var_147_25 + arg_147_0 and not isNil(var_147_24) and arg_144_1.var_.characterEffect1093ui_story == nil then
				arg_144_1.var_.characterEffect1093ui_story = var_147_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_147_26 = 0.200000002980232

			if var_147_25 <= arg_144_1.time_ and arg_144_1.time_ < var_147_25 + var_147_26 and not isNil(var_147_24) then
				local var_147_27 = (arg_144_1.time_ - var_147_25) / var_147_26

				if arg_144_1.var_.characterEffect1093ui_story and not isNil(var_147_24) then
					arg_144_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_144_1.time_ >= var_147_25 + var_147_26 and arg_144_1.time_ < var_147_25 + var_147_26 + arg_147_0 and not isNil(var_147_24) and arg_144_1.var_.characterEffect1093ui_story then
				arg_144_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_147_28 = 0

			if var_147_28 < arg_144_1.time_ and arg_144_1.time_ <= var_147_28 + arg_147_0 then
				arg_144_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action7_2")
			end

			local var_147_29 = 0

			if var_147_29 < arg_144_1.time_ and arg_144_1.time_ <= var_147_29 + arg_147_0 then
				arg_144_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface2102cva")
			end

			local var_147_30 = 0
			local var_147_31 = 0.325

			if var_147_30 < arg_144_1.time_ and arg_144_1.time_ <= var_147_30 + arg_147_0 then
				arg_144_1.talkMaxDuration = 0
				arg_144_1.dialogCg_.alpha = 1

				arg_144_1.dialog_:SetActive(true)
				SetActive(arg_144_1.leftNameGo_, true)

				local var_147_32 = arg_144_1:FormatText(StoryNameCfg[73].name)

				arg_144_1.leftNameTxt_.text = var_147_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_144_1.leftNameTxt_.transform)

				arg_144_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_144_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_144_1:RecordName(arg_144_1.leftNameTxt_.text)
				SetActive(arg_144_1.iconTrs_.gameObject, false)
				arg_144_1.callingController_:SetSelectedState("normal")

				local var_147_33 = arg_144_1:GetWordFromCfg(317021035)
				local var_147_34 = arg_144_1:FormatText(var_147_33.content)

				arg_144_1.text_.text = var_147_34

				LuaForUtil.ClearLinePrefixSymbol(arg_144_1.text_)

				local var_147_35 = 13
				local var_147_36 = utf8.len(var_147_34)
				local var_147_37 = var_147_35 <= 0 and var_147_31 or var_147_31 * (var_147_36 / var_147_35)

				if var_147_37 > 0 and var_147_31 < var_147_37 then
					arg_144_1.talkMaxDuration = var_147_37

					if var_147_37 + var_147_30 > arg_144_1.duration_ then
						arg_144_1.duration_ = var_147_37 + var_147_30
					end
				end

				arg_144_1.text_.text = var_147_34
				arg_144_1.typewritter.percent = 0

				arg_144_1.typewritter:SetDirty()
				arg_144_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021035", "story_v_out_317021.awb") ~= 0 then
					local var_147_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021035", "story_v_out_317021.awb") / 1000

					if var_147_38 + var_147_30 > arg_144_1.duration_ then
						arg_144_1.duration_ = var_147_38 + var_147_30
					end

					if var_147_33.prefab_name ~= "" and arg_144_1.actors_[var_147_33.prefab_name] ~= nil then
						local var_147_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_144_1.actors_[var_147_33.prefab_name].transform, "story_v_out_317021", "317021035", "story_v_out_317021.awb")

						arg_144_1:RecordAudio("317021035", var_147_39)
						arg_144_1:RecordAudio("317021035", var_147_39)
					else
						arg_144_1:AudioAction("play", "voice", "story_v_out_317021", "317021035", "story_v_out_317021.awb")
					end

					arg_144_1:RecordHistoryTalkVoice("story_v_out_317021", "317021035", "story_v_out_317021.awb")
				end

				arg_144_1:RecordContent(arg_144_1.text_.text)
			end

			local var_147_40 = math.max(var_147_31, arg_144_1.talkMaxDuration)

			if var_147_30 <= arg_144_1.time_ and arg_144_1.time_ < var_147_30 + var_147_40 then
				arg_144_1.typewritter.percent = (arg_144_1.time_ - var_147_30) / var_147_40

				arg_144_1.typewritter:SetDirty()
			end

			if arg_144_1.time_ >= var_147_30 + var_147_40 and arg_144_1.time_ < var_147_30 + var_147_40 + arg_147_0 then
				arg_144_1.typewritter.percent = 1

				arg_144_1.typewritter:SetDirty()
				arg_144_1:ShowNextGo(true)
			end
		end
	end,
	Play317021036 = function(arg_148_0, arg_148_1)
		arg_148_1.time_ = 0
		arg_148_1.frameCnt_ = 0
		arg_148_1.state_ = "playing"
		arg_148_1.curTalkId_ = 317021036
		arg_148_1.duration_ = 7.63

		local var_148_0 = {
			zh = 4.133,
			ja = 7.633
		}
		local var_148_1 = manager.audio:GetLocalizationFlag()

		if var_148_0[var_148_1] ~= nil then
			arg_148_1.duration_ = var_148_0[var_148_1]
		end

		SetActive(arg_148_1.tipsGo_, false)

		function arg_148_1.onSingleLineFinish_()
			arg_148_1.onSingleLineUpdate_ = nil
			arg_148_1.onSingleLineFinish_ = nil
			arg_148_1.state_ = "waiting"
		end

		function arg_148_1.playNext_(arg_150_0)
			if arg_150_0 == 1 then
				arg_148_0:Play317021037(arg_148_1)
			end
		end

		function arg_148_1.onSingleLineUpdate_(arg_151_0)
			local var_151_0 = arg_148_1.actors_["1055ui_story"].transform
			local var_151_1 = 0

			if var_151_1 < arg_148_1.time_ and arg_148_1.time_ <= var_151_1 + arg_151_0 then
				arg_148_1.var_.moveOldPos1055ui_story = var_151_0.localPosition
			end

			local var_151_2 = 0.001

			if var_151_1 <= arg_148_1.time_ and arg_148_1.time_ < var_151_1 + var_151_2 then
				local var_151_3 = (arg_148_1.time_ - var_151_1) / var_151_2
				local var_151_4 = Vector3.New(-0.7, -0.965, -6.2)

				var_151_0.localPosition = Vector3.Lerp(arg_148_1.var_.moveOldPos1055ui_story, var_151_4, var_151_3)

				local var_151_5 = manager.ui.mainCamera.transform.position - var_151_0.position

				var_151_0.forward = Vector3.New(var_151_5.x, var_151_5.y, var_151_5.z)

				local var_151_6 = var_151_0.localEulerAngles

				var_151_6.z = 0
				var_151_6.x = 0
				var_151_0.localEulerAngles = var_151_6
			end

			if arg_148_1.time_ >= var_151_1 + var_151_2 and arg_148_1.time_ < var_151_1 + var_151_2 + arg_151_0 then
				var_151_0.localPosition = Vector3.New(-0.7, -0.965, -6.2)

				local var_151_7 = manager.ui.mainCamera.transform.position - var_151_0.position

				var_151_0.forward = Vector3.New(var_151_7.x, var_151_7.y, var_151_7.z)

				local var_151_8 = var_151_0.localEulerAngles

				var_151_8.z = 0
				var_151_8.x = 0
				var_151_0.localEulerAngles = var_151_8
			end

			local var_151_9 = arg_148_1.actors_["1055ui_story"]
			local var_151_10 = 0

			if var_151_10 < arg_148_1.time_ and arg_148_1.time_ <= var_151_10 + arg_151_0 and not isNil(var_151_9) and arg_148_1.var_.characterEffect1055ui_story == nil then
				arg_148_1.var_.characterEffect1055ui_story = var_151_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_151_11 = 0.200000002980232

			if var_151_10 <= arg_148_1.time_ and arg_148_1.time_ < var_151_10 + var_151_11 and not isNil(var_151_9) then
				local var_151_12 = (arg_148_1.time_ - var_151_10) / var_151_11

				if arg_148_1.var_.characterEffect1055ui_story and not isNil(var_151_9) then
					arg_148_1.var_.characterEffect1055ui_story.fillFlat = false
				end
			end

			if arg_148_1.time_ >= var_151_10 + var_151_11 and arg_148_1.time_ < var_151_10 + var_151_11 + arg_151_0 and not isNil(var_151_9) and arg_148_1.var_.characterEffect1055ui_story then
				arg_148_1.var_.characterEffect1055ui_story.fillFlat = false
			end

			local var_151_13 = 0

			if var_151_13 < arg_148_1.time_ and arg_148_1.time_ <= var_151_13 + arg_151_0 then
				arg_148_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/story1055/story1055action/1055action3_2")
			end

			local var_151_14 = 0

			if var_151_14 < arg_148_1.time_ and arg_148_1.time_ <= var_151_14 + arg_151_0 then
				arg_148_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface1202cva")
			end

			local var_151_15 = arg_148_1.actors_["1093ui_story"].transform
			local var_151_16 = 0

			if var_151_16 < arg_148_1.time_ and arg_148_1.time_ <= var_151_16 + arg_151_0 then
				arg_148_1.var_.moveOldPos1093ui_story = var_151_15.localPosition
			end

			local var_151_17 = 0.001

			if var_151_16 <= arg_148_1.time_ and arg_148_1.time_ < var_151_16 + var_151_17 then
				local var_151_18 = (arg_148_1.time_ - var_151_16) / var_151_17
				local var_151_19 = Vector3.New(0.7, -1.11, -5.88)

				var_151_15.localPosition = Vector3.Lerp(arg_148_1.var_.moveOldPos1093ui_story, var_151_19, var_151_18)

				local var_151_20 = manager.ui.mainCamera.transform.position - var_151_15.position

				var_151_15.forward = Vector3.New(var_151_20.x, var_151_20.y, var_151_20.z)

				local var_151_21 = var_151_15.localEulerAngles

				var_151_21.z = 0
				var_151_21.x = 0
				var_151_15.localEulerAngles = var_151_21
			end

			if arg_148_1.time_ >= var_151_16 + var_151_17 and arg_148_1.time_ < var_151_16 + var_151_17 + arg_151_0 then
				var_151_15.localPosition = Vector3.New(0.7, -1.11, -5.88)

				local var_151_22 = manager.ui.mainCamera.transform.position - var_151_15.position

				var_151_15.forward = Vector3.New(var_151_22.x, var_151_22.y, var_151_22.z)

				local var_151_23 = var_151_15.localEulerAngles

				var_151_23.z = 0
				var_151_23.x = 0
				var_151_15.localEulerAngles = var_151_23
			end

			local var_151_24 = arg_148_1.actors_["1093ui_story"]
			local var_151_25 = 0

			if var_151_25 < arg_148_1.time_ and arg_148_1.time_ <= var_151_25 + arg_151_0 and not isNil(var_151_24) and arg_148_1.var_.characterEffect1093ui_story == nil then
				arg_148_1.var_.characterEffect1093ui_story = var_151_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_151_26 = 0.200000002980232

			if var_151_25 <= arg_148_1.time_ and arg_148_1.time_ < var_151_25 + var_151_26 and not isNil(var_151_24) then
				local var_151_27 = (arg_148_1.time_ - var_151_25) / var_151_26

				if arg_148_1.var_.characterEffect1093ui_story and not isNil(var_151_24) then
					local var_151_28 = Mathf.Lerp(0, 0.5, var_151_27)

					arg_148_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_148_1.var_.characterEffect1093ui_story.fillRatio = var_151_28
				end
			end

			if arg_148_1.time_ >= var_151_25 + var_151_26 and arg_148_1.time_ < var_151_25 + var_151_26 + arg_151_0 and not isNil(var_151_24) and arg_148_1.var_.characterEffect1093ui_story then
				local var_151_29 = 0.5

				arg_148_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_148_1.var_.characterEffect1093ui_story.fillRatio = var_151_29
			end

			local var_151_30 = 0
			local var_151_31 = 0.45

			if var_151_30 < arg_148_1.time_ and arg_148_1.time_ <= var_151_30 + arg_151_0 then
				arg_148_1.talkMaxDuration = 0
				arg_148_1.dialogCg_.alpha = 1

				arg_148_1.dialog_:SetActive(true)
				SetActive(arg_148_1.leftNameGo_, true)

				local var_151_32 = arg_148_1:FormatText(StoryNameCfg[481].name)

				arg_148_1.leftNameTxt_.text = var_151_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_148_1.leftNameTxt_.transform)

				arg_148_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_148_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_148_1:RecordName(arg_148_1.leftNameTxt_.text)
				SetActive(arg_148_1.iconTrs_.gameObject, false)
				arg_148_1.callingController_:SetSelectedState("normal")

				local var_151_33 = arg_148_1:GetWordFromCfg(317021036)
				local var_151_34 = arg_148_1:FormatText(var_151_33.content)

				arg_148_1.text_.text = var_151_34

				LuaForUtil.ClearLinePrefixSymbol(arg_148_1.text_)

				local var_151_35 = 18
				local var_151_36 = utf8.len(var_151_34)
				local var_151_37 = var_151_35 <= 0 and var_151_31 or var_151_31 * (var_151_36 / var_151_35)

				if var_151_37 > 0 and var_151_31 < var_151_37 then
					arg_148_1.talkMaxDuration = var_151_37

					if var_151_37 + var_151_30 > arg_148_1.duration_ then
						arg_148_1.duration_ = var_151_37 + var_151_30
					end
				end

				arg_148_1.text_.text = var_151_34
				arg_148_1.typewritter.percent = 0

				arg_148_1.typewritter:SetDirty()
				arg_148_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021036", "story_v_out_317021.awb") ~= 0 then
					local var_151_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021036", "story_v_out_317021.awb") / 1000

					if var_151_38 + var_151_30 > arg_148_1.duration_ then
						arg_148_1.duration_ = var_151_38 + var_151_30
					end

					if var_151_33.prefab_name ~= "" and arg_148_1.actors_[var_151_33.prefab_name] ~= nil then
						local var_151_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_148_1.actors_[var_151_33.prefab_name].transform, "story_v_out_317021", "317021036", "story_v_out_317021.awb")

						arg_148_1:RecordAudio("317021036", var_151_39)
						arg_148_1:RecordAudio("317021036", var_151_39)
					else
						arg_148_1:AudioAction("play", "voice", "story_v_out_317021", "317021036", "story_v_out_317021.awb")
					end

					arg_148_1:RecordHistoryTalkVoice("story_v_out_317021", "317021036", "story_v_out_317021.awb")
				end

				arg_148_1:RecordContent(arg_148_1.text_.text)
			end

			local var_151_40 = math.max(var_151_31, arg_148_1.talkMaxDuration)

			if var_151_30 <= arg_148_1.time_ and arg_148_1.time_ < var_151_30 + var_151_40 then
				arg_148_1.typewritter.percent = (arg_148_1.time_ - var_151_30) / var_151_40

				arg_148_1.typewritter:SetDirty()
			end

			if arg_148_1.time_ >= var_151_30 + var_151_40 and arg_148_1.time_ < var_151_30 + var_151_40 + arg_151_0 then
				arg_148_1.typewritter.percent = 1

				arg_148_1.typewritter:SetDirty()
				arg_148_1:ShowNextGo(true)
			end
		end
	end,
	Play317021037 = function(arg_152_0, arg_152_1)
		arg_152_1.time_ = 0
		arg_152_1.frameCnt_ = 0
		arg_152_1.state_ = "playing"
		arg_152_1.curTalkId_ = 317021037
		arg_152_1.duration_ = 5

		SetActive(arg_152_1.tipsGo_, false)

		function arg_152_1.onSingleLineFinish_()
			arg_152_1.onSingleLineUpdate_ = nil
			arg_152_1.onSingleLineFinish_ = nil
			arg_152_1.state_ = "waiting"
		end

		function arg_152_1.playNext_(arg_154_0)
			if arg_154_0 == 1 then
				arg_152_0:Play317021038(arg_152_1)
			end
		end

		function arg_152_1.onSingleLineUpdate_(arg_155_0)
			local var_155_0 = arg_152_1.actors_["1055ui_story"].transform
			local var_155_1 = 0

			if var_155_1 < arg_152_1.time_ and arg_152_1.time_ <= var_155_1 + arg_155_0 then
				arg_152_1.var_.moveOldPos1055ui_story = var_155_0.localPosition
			end

			local var_155_2 = 0.001

			if var_155_1 <= arg_152_1.time_ and arg_152_1.time_ < var_155_1 + var_155_2 then
				local var_155_3 = (arg_152_1.time_ - var_155_1) / var_155_2
				local var_155_4 = Vector3.New(0, -0.965, -6.2)

				var_155_0.localPosition = Vector3.Lerp(arg_152_1.var_.moveOldPos1055ui_story, var_155_4, var_155_3)

				local var_155_5 = manager.ui.mainCamera.transform.position - var_155_0.position

				var_155_0.forward = Vector3.New(var_155_5.x, var_155_5.y, var_155_5.z)

				local var_155_6 = var_155_0.localEulerAngles

				var_155_6.z = 0
				var_155_6.x = 0
				var_155_0.localEulerAngles = var_155_6
			end

			if arg_152_1.time_ >= var_155_1 + var_155_2 and arg_152_1.time_ < var_155_1 + var_155_2 + arg_155_0 then
				var_155_0.localPosition = Vector3.New(0, -0.965, -6.2)

				local var_155_7 = manager.ui.mainCamera.transform.position - var_155_0.position

				var_155_0.forward = Vector3.New(var_155_7.x, var_155_7.y, var_155_7.z)

				local var_155_8 = var_155_0.localEulerAngles

				var_155_8.z = 0
				var_155_8.x = 0
				var_155_0.localEulerAngles = var_155_8
			end

			local var_155_9 = arg_152_1.actors_["1055ui_story"]
			local var_155_10 = 0

			if var_155_10 < arg_152_1.time_ and arg_152_1.time_ <= var_155_10 + arg_155_0 and not isNil(var_155_9) and arg_152_1.var_.characterEffect1055ui_story == nil then
				arg_152_1.var_.characterEffect1055ui_story = var_155_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_155_11 = 0.200000002980232

			if var_155_10 <= arg_152_1.time_ and arg_152_1.time_ < var_155_10 + var_155_11 and not isNil(var_155_9) then
				local var_155_12 = (arg_152_1.time_ - var_155_10) / var_155_11

				if arg_152_1.var_.characterEffect1055ui_story and not isNil(var_155_9) then
					local var_155_13 = Mathf.Lerp(0, 0.5, var_155_12)

					arg_152_1.var_.characterEffect1055ui_story.fillFlat = true
					arg_152_1.var_.characterEffect1055ui_story.fillRatio = var_155_13
				end
			end

			if arg_152_1.time_ >= var_155_10 + var_155_11 and arg_152_1.time_ < var_155_10 + var_155_11 + arg_155_0 and not isNil(var_155_9) and arg_152_1.var_.characterEffect1055ui_story then
				local var_155_14 = 0.5

				arg_152_1.var_.characterEffect1055ui_story.fillFlat = true
				arg_152_1.var_.characterEffect1055ui_story.fillRatio = var_155_14
			end

			local var_155_15 = arg_152_1.actors_["1093ui_story"].transform
			local var_155_16 = 0

			if var_155_16 < arg_152_1.time_ and arg_152_1.time_ <= var_155_16 + arg_155_0 then
				arg_152_1.var_.moveOldPos1093ui_story = var_155_15.localPosition
			end

			local var_155_17 = 0.001

			if var_155_16 <= arg_152_1.time_ and arg_152_1.time_ < var_155_16 + var_155_17 then
				local var_155_18 = (arg_152_1.time_ - var_155_16) / var_155_17
				local var_155_19 = Vector3.New(0, 100, 0)

				var_155_15.localPosition = Vector3.Lerp(arg_152_1.var_.moveOldPos1093ui_story, var_155_19, var_155_18)

				local var_155_20 = manager.ui.mainCamera.transform.position - var_155_15.position

				var_155_15.forward = Vector3.New(var_155_20.x, var_155_20.y, var_155_20.z)

				local var_155_21 = var_155_15.localEulerAngles

				var_155_21.z = 0
				var_155_21.x = 0
				var_155_15.localEulerAngles = var_155_21
			end

			if arg_152_1.time_ >= var_155_16 + var_155_17 and arg_152_1.time_ < var_155_16 + var_155_17 + arg_155_0 then
				var_155_15.localPosition = Vector3.New(0, 100, 0)

				local var_155_22 = manager.ui.mainCamera.transform.position - var_155_15.position

				var_155_15.forward = Vector3.New(var_155_22.x, var_155_22.y, var_155_22.z)

				local var_155_23 = var_155_15.localEulerAngles

				var_155_23.z = 0
				var_155_23.x = 0
				var_155_15.localEulerAngles = var_155_23
			end

			local var_155_24 = arg_152_1.actors_["1093ui_story"]
			local var_155_25 = 0

			if var_155_25 < arg_152_1.time_ and arg_152_1.time_ <= var_155_25 + arg_155_0 and not isNil(var_155_24) and arg_152_1.var_.characterEffect1093ui_story == nil then
				arg_152_1.var_.characterEffect1093ui_story = var_155_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_155_26 = 0.200000002980232

			if var_155_25 <= arg_152_1.time_ and arg_152_1.time_ < var_155_25 + var_155_26 and not isNil(var_155_24) then
				local var_155_27 = (arg_152_1.time_ - var_155_25) / var_155_26

				if arg_152_1.var_.characterEffect1093ui_story and not isNil(var_155_24) then
					local var_155_28 = Mathf.Lerp(0, 0.5, var_155_27)

					arg_152_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_152_1.var_.characterEffect1093ui_story.fillRatio = var_155_28
				end
			end

			if arg_152_1.time_ >= var_155_25 + var_155_26 and arg_152_1.time_ < var_155_25 + var_155_26 + arg_155_0 and not isNil(var_155_24) and arg_152_1.var_.characterEffect1093ui_story then
				local var_155_29 = 0.5

				arg_152_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_152_1.var_.characterEffect1093ui_story.fillRatio = var_155_29
			end

			local var_155_30 = 0

			if var_155_30 < arg_152_1.time_ and arg_152_1.time_ <= var_155_30 + arg_155_0 then
				arg_152_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_155_31 = 0
			local var_155_32 = 0.85

			if var_155_31 < arg_152_1.time_ and arg_152_1.time_ <= var_155_31 + arg_155_0 then
				arg_152_1.talkMaxDuration = 0
				arg_152_1.dialogCg_.alpha = 1

				arg_152_1.dialog_:SetActive(true)
				SetActive(arg_152_1.leftNameGo_, false)

				arg_152_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_152_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_152_1:RecordName(arg_152_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_152_1.iconTrs_.gameObject, false)
				arg_152_1.callingController_:SetSelectedState("normal")

				local var_155_33 = arg_152_1:GetWordFromCfg(317021037)
				local var_155_34 = arg_152_1:FormatText(var_155_33.content)

				arg_152_1.text_.text = var_155_34

				LuaForUtil.ClearLinePrefixSymbol(arg_152_1.text_)

				local var_155_35 = 34
				local var_155_36 = utf8.len(var_155_34)
				local var_155_37 = var_155_35 <= 0 and var_155_32 or var_155_32 * (var_155_36 / var_155_35)

				if var_155_37 > 0 and var_155_32 < var_155_37 then
					arg_152_1.talkMaxDuration = var_155_37

					if var_155_37 + var_155_31 > arg_152_1.duration_ then
						arg_152_1.duration_ = var_155_37 + var_155_31
					end
				end

				arg_152_1.text_.text = var_155_34
				arg_152_1.typewritter.percent = 0

				arg_152_1.typewritter:SetDirty()
				arg_152_1:ShowNextGo(false)
				arg_152_1:RecordContent(arg_152_1.text_.text)
			end

			local var_155_38 = math.max(var_155_32, arg_152_1.talkMaxDuration)

			if var_155_31 <= arg_152_1.time_ and arg_152_1.time_ < var_155_31 + var_155_38 then
				arg_152_1.typewritter.percent = (arg_152_1.time_ - var_155_31) / var_155_38

				arg_152_1.typewritter:SetDirty()
			end

			if arg_152_1.time_ >= var_155_31 + var_155_38 and arg_152_1.time_ < var_155_31 + var_155_38 + arg_155_0 then
				arg_152_1.typewritter.percent = 1

				arg_152_1.typewritter:SetDirty()
				arg_152_1:ShowNextGo(true)
			end
		end
	end,
	Play317021038 = function(arg_156_0, arg_156_1)
		arg_156_1.time_ = 0
		arg_156_1.frameCnt_ = 0
		arg_156_1.state_ = "playing"
		arg_156_1.curTalkId_ = 317021038
		arg_156_1.duration_ = 1

		SetActive(arg_156_1.tipsGo_, false)

		function arg_156_1.onSingleLineFinish_()
			arg_156_1.onSingleLineUpdate_ = nil
			arg_156_1.onSingleLineFinish_ = nil
			arg_156_1.state_ = "waiting"

			SetActive(arg_156_1.choicesGo_, true)

			for iter_157_0, iter_157_1 in ipairs(arg_156_1.choices_) do
				local var_157_0 = iter_157_0 <= 1

				SetActive(iter_157_1.go, var_157_0)
			end

			arg_156_1.choices_[1].txt.text = arg_156_1:FormatText(StoryChoiceCfg[519].name)
		end

		function arg_156_1.playNext_(arg_158_0)
			if arg_158_0 == 1 then
				arg_156_0:Play317021039(arg_156_1)
			end

			arg_156_1:RecordChoiceLog(317021038, 317021039)
		end

		function arg_156_1.onSingleLineUpdate_(arg_159_0)
			local var_159_0 = 0

			if var_159_0 < arg_156_1.time_ and arg_156_1.time_ <= var_159_0 + arg_159_0 then
				arg_156_1.allBtn_.enabled = false
			end

			local var_159_1 = 0.5

			if arg_156_1.time_ >= var_159_0 + var_159_1 and arg_156_1.time_ < var_159_0 + var_159_1 + arg_159_0 then
				arg_156_1.allBtn_.enabled = true
			end
		end
	end,
	Play317021039 = function(arg_160_0, arg_160_1)
		arg_160_1.time_ = 0
		arg_160_1.frameCnt_ = 0
		arg_160_1.state_ = "playing"
		arg_160_1.curTalkId_ = 317021039
		arg_160_1.duration_ = 7.3

		local var_160_0 = {
			zh = 3.766,
			ja = 7.3
		}
		local var_160_1 = manager.audio:GetLocalizationFlag()

		if var_160_0[var_160_1] ~= nil then
			arg_160_1.duration_ = var_160_0[var_160_1]
		end

		SetActive(arg_160_1.tipsGo_, false)

		function arg_160_1.onSingleLineFinish_()
			arg_160_1.onSingleLineUpdate_ = nil
			arg_160_1.onSingleLineFinish_ = nil
			arg_160_1.state_ = "waiting"
		end

		function arg_160_1.playNext_(arg_162_0)
			if arg_162_0 == 1 then
				arg_160_0:Play317021040(arg_160_1)
			end
		end

		function arg_160_1.onSingleLineUpdate_(arg_163_0)
			local var_163_0 = arg_160_1.actors_["1055ui_story"].transform
			local var_163_1 = 0

			if var_163_1 < arg_160_1.time_ and arg_160_1.time_ <= var_163_1 + arg_163_0 then
				arg_160_1.var_.moveOldPos1055ui_story = var_163_0.localPosition
			end

			local var_163_2 = 0.001

			if var_163_1 <= arg_160_1.time_ and arg_160_1.time_ < var_163_1 + var_163_2 then
				local var_163_3 = (arg_160_1.time_ - var_163_1) / var_163_2
				local var_163_4 = Vector3.New(0, 100, 0)

				var_163_0.localPosition = Vector3.Lerp(arg_160_1.var_.moveOldPos1055ui_story, var_163_4, var_163_3)

				local var_163_5 = manager.ui.mainCamera.transform.position - var_163_0.position

				var_163_0.forward = Vector3.New(var_163_5.x, var_163_5.y, var_163_5.z)

				local var_163_6 = var_163_0.localEulerAngles

				var_163_6.z = 0
				var_163_6.x = 0
				var_163_0.localEulerAngles = var_163_6
			end

			if arg_160_1.time_ >= var_163_1 + var_163_2 and arg_160_1.time_ < var_163_1 + var_163_2 + arg_163_0 then
				var_163_0.localPosition = Vector3.New(0, 100, 0)

				local var_163_7 = manager.ui.mainCamera.transform.position - var_163_0.position

				var_163_0.forward = Vector3.New(var_163_7.x, var_163_7.y, var_163_7.z)

				local var_163_8 = var_163_0.localEulerAngles

				var_163_8.z = 0
				var_163_8.x = 0
				var_163_0.localEulerAngles = var_163_8
			end

			local var_163_9 = arg_160_1.actors_["1055ui_story"]
			local var_163_10 = 0

			if var_163_10 < arg_160_1.time_ and arg_160_1.time_ <= var_163_10 + arg_163_0 and not isNil(var_163_9) and arg_160_1.var_.characterEffect1055ui_story == nil then
				arg_160_1.var_.characterEffect1055ui_story = var_163_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_163_11 = 0.200000002980232

			if var_163_10 <= arg_160_1.time_ and arg_160_1.time_ < var_163_10 + var_163_11 and not isNil(var_163_9) then
				local var_163_12 = (arg_160_1.time_ - var_163_10) / var_163_11

				if arg_160_1.var_.characterEffect1055ui_story and not isNil(var_163_9) then
					local var_163_13 = Mathf.Lerp(0, 0.5, var_163_12)

					arg_160_1.var_.characterEffect1055ui_story.fillFlat = true
					arg_160_1.var_.characterEffect1055ui_story.fillRatio = var_163_13
				end
			end

			if arg_160_1.time_ >= var_163_10 + var_163_11 and arg_160_1.time_ < var_163_10 + var_163_11 + arg_163_0 and not isNil(var_163_9) and arg_160_1.var_.characterEffect1055ui_story then
				local var_163_14 = 0.5

				arg_160_1.var_.characterEffect1055ui_story.fillFlat = true
				arg_160_1.var_.characterEffect1055ui_story.fillRatio = var_163_14
			end

			local var_163_15 = arg_160_1.actors_["1093ui_story"].transform
			local var_163_16 = 0

			if var_163_16 < arg_160_1.time_ and arg_160_1.time_ <= var_163_16 + arg_163_0 then
				arg_160_1.var_.moveOldPos1093ui_story = var_163_15.localPosition
			end

			local var_163_17 = 0.001

			if var_163_16 <= arg_160_1.time_ and arg_160_1.time_ < var_163_16 + var_163_17 then
				local var_163_18 = (arg_160_1.time_ - var_163_16) / var_163_17
				local var_163_19 = Vector3.New(-0.7, -1.11, -5.88)

				var_163_15.localPosition = Vector3.Lerp(arg_160_1.var_.moveOldPos1093ui_story, var_163_19, var_163_18)

				local var_163_20 = manager.ui.mainCamera.transform.position - var_163_15.position

				var_163_15.forward = Vector3.New(var_163_20.x, var_163_20.y, var_163_20.z)

				local var_163_21 = var_163_15.localEulerAngles

				var_163_21.z = 0
				var_163_21.x = 0
				var_163_15.localEulerAngles = var_163_21
			end

			if arg_160_1.time_ >= var_163_16 + var_163_17 and arg_160_1.time_ < var_163_16 + var_163_17 + arg_163_0 then
				var_163_15.localPosition = Vector3.New(-0.7, -1.11, -5.88)

				local var_163_22 = manager.ui.mainCamera.transform.position - var_163_15.position

				var_163_15.forward = Vector3.New(var_163_22.x, var_163_22.y, var_163_22.z)

				local var_163_23 = var_163_15.localEulerAngles

				var_163_23.z = 0
				var_163_23.x = 0
				var_163_15.localEulerAngles = var_163_23
			end

			local var_163_24 = arg_160_1.actors_["1093ui_story"]
			local var_163_25 = 0

			if var_163_25 < arg_160_1.time_ and arg_160_1.time_ <= var_163_25 + arg_163_0 and not isNil(var_163_24) and arg_160_1.var_.characterEffect1093ui_story == nil then
				arg_160_1.var_.characterEffect1093ui_story = var_163_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_163_26 = 0.200000002980232

			if var_163_25 <= arg_160_1.time_ and arg_160_1.time_ < var_163_25 + var_163_26 and not isNil(var_163_24) then
				local var_163_27 = (arg_160_1.time_ - var_163_25) / var_163_26

				if arg_160_1.var_.characterEffect1093ui_story and not isNil(var_163_24) then
					arg_160_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_160_1.time_ >= var_163_25 + var_163_26 and arg_160_1.time_ < var_163_25 + var_163_26 + arg_163_0 and not isNil(var_163_24) and arg_160_1.var_.characterEffect1093ui_story then
				arg_160_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_163_28 = 0

			if var_163_28 < arg_160_1.time_ and arg_160_1.time_ <= var_163_28 + arg_163_0 then
				arg_160_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action2_1")
			end

			local var_163_29 = 0

			if var_163_29 < arg_160_1.time_ and arg_160_1.time_ <= var_163_29 + arg_163_0 then
				arg_160_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_163_30 = arg_160_1.actors_["1050ui_story"].transform
			local var_163_31 = 0

			if var_163_31 < arg_160_1.time_ and arg_160_1.time_ <= var_163_31 + arg_163_0 then
				arg_160_1.var_.moveOldPos1050ui_story = var_163_30.localPosition
			end

			local var_163_32 = 0.001

			if var_163_31 <= arg_160_1.time_ and arg_160_1.time_ < var_163_31 + var_163_32 then
				local var_163_33 = (arg_160_1.time_ - var_163_31) / var_163_32
				local var_163_34 = Vector3.New(0.7, -1, -6.1)

				var_163_30.localPosition = Vector3.Lerp(arg_160_1.var_.moveOldPos1050ui_story, var_163_34, var_163_33)

				local var_163_35 = manager.ui.mainCamera.transform.position - var_163_30.position

				var_163_30.forward = Vector3.New(var_163_35.x, var_163_35.y, var_163_35.z)

				local var_163_36 = var_163_30.localEulerAngles

				var_163_36.z = 0
				var_163_36.x = 0
				var_163_30.localEulerAngles = var_163_36
			end

			if arg_160_1.time_ >= var_163_31 + var_163_32 and arg_160_1.time_ < var_163_31 + var_163_32 + arg_163_0 then
				var_163_30.localPosition = Vector3.New(0.7, -1, -6.1)

				local var_163_37 = manager.ui.mainCamera.transform.position - var_163_30.position

				var_163_30.forward = Vector3.New(var_163_37.x, var_163_37.y, var_163_37.z)

				local var_163_38 = var_163_30.localEulerAngles

				var_163_38.z = 0
				var_163_38.x = 0
				var_163_30.localEulerAngles = var_163_38
			end

			local var_163_39 = arg_160_1.actors_["1050ui_story"]
			local var_163_40 = 0

			if var_163_40 < arg_160_1.time_ and arg_160_1.time_ <= var_163_40 + arg_163_0 and not isNil(var_163_39) and arg_160_1.var_.characterEffect1050ui_story == nil then
				arg_160_1.var_.characterEffect1050ui_story = var_163_39:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_163_41 = 0.200000002980232

			if var_163_40 <= arg_160_1.time_ and arg_160_1.time_ < var_163_40 + var_163_41 and not isNil(var_163_39) then
				local var_163_42 = (arg_160_1.time_ - var_163_40) / var_163_41

				if arg_160_1.var_.characterEffect1050ui_story and not isNil(var_163_39) then
					local var_163_43 = Mathf.Lerp(0, 0.5, var_163_42)

					arg_160_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_160_1.var_.characterEffect1050ui_story.fillRatio = var_163_43
				end
			end

			if arg_160_1.time_ >= var_163_40 + var_163_41 and arg_160_1.time_ < var_163_40 + var_163_41 + arg_163_0 and not isNil(var_163_39) and arg_160_1.var_.characterEffect1050ui_story then
				local var_163_44 = 0.5

				arg_160_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_160_1.var_.characterEffect1050ui_story.fillRatio = var_163_44
			end

			local var_163_45 = 0

			if var_163_45 < arg_160_1.time_ and arg_160_1.time_ <= var_163_45 + arg_163_0 then
				arg_160_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/1050/1050action/1050action1_1")
			end

			local var_163_46 = 0
			local var_163_47 = 0.4

			if var_163_46 < arg_160_1.time_ and arg_160_1.time_ <= var_163_46 + arg_163_0 then
				arg_160_1.talkMaxDuration = 0
				arg_160_1.dialogCg_.alpha = 1

				arg_160_1.dialog_:SetActive(true)
				SetActive(arg_160_1.leftNameGo_, true)

				local var_163_48 = arg_160_1:FormatText(StoryNameCfg[73].name)

				arg_160_1.leftNameTxt_.text = var_163_48

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_160_1.leftNameTxt_.transform)

				arg_160_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_160_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_160_1:RecordName(arg_160_1.leftNameTxt_.text)
				SetActive(arg_160_1.iconTrs_.gameObject, false)
				arg_160_1.callingController_:SetSelectedState("normal")

				local var_163_49 = arg_160_1:GetWordFromCfg(317021039)
				local var_163_50 = arg_160_1:FormatText(var_163_49.content)

				arg_160_1.text_.text = var_163_50

				LuaForUtil.ClearLinePrefixSymbol(arg_160_1.text_)

				local var_163_51 = 16
				local var_163_52 = utf8.len(var_163_50)
				local var_163_53 = var_163_51 <= 0 and var_163_47 or var_163_47 * (var_163_52 / var_163_51)

				if var_163_53 > 0 and var_163_47 < var_163_53 then
					arg_160_1.talkMaxDuration = var_163_53

					if var_163_53 + var_163_46 > arg_160_1.duration_ then
						arg_160_1.duration_ = var_163_53 + var_163_46
					end
				end

				arg_160_1.text_.text = var_163_50
				arg_160_1.typewritter.percent = 0

				arg_160_1.typewritter:SetDirty()
				arg_160_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021039", "story_v_out_317021.awb") ~= 0 then
					local var_163_54 = manager.audio:GetVoiceLength("story_v_out_317021", "317021039", "story_v_out_317021.awb") / 1000

					if var_163_54 + var_163_46 > arg_160_1.duration_ then
						arg_160_1.duration_ = var_163_54 + var_163_46
					end

					if var_163_49.prefab_name ~= "" and arg_160_1.actors_[var_163_49.prefab_name] ~= nil then
						local var_163_55 = LuaForUtil.PlayVoiceWithCriLipsync(arg_160_1.actors_[var_163_49.prefab_name].transform, "story_v_out_317021", "317021039", "story_v_out_317021.awb")

						arg_160_1:RecordAudio("317021039", var_163_55)
						arg_160_1:RecordAudio("317021039", var_163_55)
					else
						arg_160_1:AudioAction("play", "voice", "story_v_out_317021", "317021039", "story_v_out_317021.awb")
					end

					arg_160_1:RecordHistoryTalkVoice("story_v_out_317021", "317021039", "story_v_out_317021.awb")
				end

				arg_160_1:RecordContent(arg_160_1.text_.text)
			end

			local var_163_56 = math.max(var_163_47, arg_160_1.talkMaxDuration)

			if var_163_46 <= arg_160_1.time_ and arg_160_1.time_ < var_163_46 + var_163_56 then
				arg_160_1.typewritter.percent = (arg_160_1.time_ - var_163_46) / var_163_56

				arg_160_1.typewritter:SetDirty()
			end

			if arg_160_1.time_ >= var_163_46 + var_163_56 and arg_160_1.time_ < var_163_46 + var_163_56 + arg_163_0 then
				arg_160_1.typewritter.percent = 1

				arg_160_1.typewritter:SetDirty()
				arg_160_1:ShowNextGo(true)
			end
		end
	end,
	Play317021040 = function(arg_164_0, arg_164_1)
		arg_164_1.time_ = 0
		arg_164_1.frameCnt_ = 0
		arg_164_1.state_ = "playing"
		arg_164_1.curTalkId_ = 317021040
		arg_164_1.duration_ = 2.63

		local var_164_0 = {
			zh = 1.999999999999,
			ja = 2.633
		}
		local var_164_1 = manager.audio:GetLocalizationFlag()

		if var_164_0[var_164_1] ~= nil then
			arg_164_1.duration_ = var_164_0[var_164_1]
		end

		SetActive(arg_164_1.tipsGo_, false)

		function arg_164_1.onSingleLineFinish_()
			arg_164_1.onSingleLineUpdate_ = nil
			arg_164_1.onSingleLineFinish_ = nil
			arg_164_1.state_ = "waiting"
		end

		function arg_164_1.playNext_(arg_166_0)
			if arg_166_0 == 1 then
				arg_164_0:Play317021041(arg_164_1)
			end
		end

		function arg_164_1.onSingleLineUpdate_(arg_167_0)
			local var_167_0 = arg_164_1.actors_["1093ui_story"].transform
			local var_167_1 = 0

			if var_167_1 < arg_164_1.time_ and arg_164_1.time_ <= var_167_1 + arg_167_0 then
				arg_164_1.var_.moveOldPos1093ui_story = var_167_0.localPosition
			end

			local var_167_2 = 0.001

			if var_167_1 <= arg_164_1.time_ and arg_164_1.time_ < var_167_1 + var_167_2 then
				local var_167_3 = (arg_164_1.time_ - var_167_1) / var_167_2
				local var_167_4 = Vector3.New(-0.7, -1.11, -5.88)

				var_167_0.localPosition = Vector3.Lerp(arg_164_1.var_.moveOldPos1093ui_story, var_167_4, var_167_3)

				local var_167_5 = manager.ui.mainCamera.transform.position - var_167_0.position

				var_167_0.forward = Vector3.New(var_167_5.x, var_167_5.y, var_167_5.z)

				local var_167_6 = var_167_0.localEulerAngles

				var_167_6.z = 0
				var_167_6.x = 0
				var_167_0.localEulerAngles = var_167_6
			end

			if arg_164_1.time_ >= var_167_1 + var_167_2 and arg_164_1.time_ < var_167_1 + var_167_2 + arg_167_0 then
				var_167_0.localPosition = Vector3.New(-0.7, -1.11, -5.88)

				local var_167_7 = manager.ui.mainCamera.transform.position - var_167_0.position

				var_167_0.forward = Vector3.New(var_167_7.x, var_167_7.y, var_167_7.z)

				local var_167_8 = var_167_0.localEulerAngles

				var_167_8.z = 0
				var_167_8.x = 0
				var_167_0.localEulerAngles = var_167_8
			end

			local var_167_9 = arg_164_1.actors_["1093ui_story"]
			local var_167_10 = 0

			if var_167_10 < arg_164_1.time_ and arg_164_1.time_ <= var_167_10 + arg_167_0 and not isNil(var_167_9) and arg_164_1.var_.characterEffect1093ui_story == nil then
				arg_164_1.var_.characterEffect1093ui_story = var_167_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_167_11 = 0.200000002980232

			if var_167_10 <= arg_164_1.time_ and arg_164_1.time_ < var_167_10 + var_167_11 and not isNil(var_167_9) then
				local var_167_12 = (arg_164_1.time_ - var_167_10) / var_167_11

				if arg_164_1.var_.characterEffect1093ui_story and not isNil(var_167_9) then
					local var_167_13 = Mathf.Lerp(0, 0.5, var_167_12)

					arg_164_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_164_1.var_.characterEffect1093ui_story.fillRatio = var_167_13
				end
			end

			if arg_164_1.time_ >= var_167_10 + var_167_11 and arg_164_1.time_ < var_167_10 + var_167_11 + arg_167_0 and not isNil(var_167_9) and arg_164_1.var_.characterEffect1093ui_story then
				local var_167_14 = 0.5

				arg_164_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_164_1.var_.characterEffect1093ui_story.fillRatio = var_167_14
			end

			local var_167_15 = arg_164_1.actors_["1050ui_story"].transform
			local var_167_16 = 0

			if var_167_16 < arg_164_1.time_ and arg_164_1.time_ <= var_167_16 + arg_167_0 then
				arg_164_1.var_.moveOldPos1050ui_story = var_167_15.localPosition
			end

			local var_167_17 = 0.001

			if var_167_16 <= arg_164_1.time_ and arg_164_1.time_ < var_167_16 + var_167_17 then
				local var_167_18 = (arg_164_1.time_ - var_167_16) / var_167_17
				local var_167_19 = Vector3.New(0.7, -1, -6.1)

				var_167_15.localPosition = Vector3.Lerp(arg_164_1.var_.moveOldPos1050ui_story, var_167_19, var_167_18)

				local var_167_20 = manager.ui.mainCamera.transform.position - var_167_15.position

				var_167_15.forward = Vector3.New(var_167_20.x, var_167_20.y, var_167_20.z)

				local var_167_21 = var_167_15.localEulerAngles

				var_167_21.z = 0
				var_167_21.x = 0
				var_167_15.localEulerAngles = var_167_21
			end

			if arg_164_1.time_ >= var_167_16 + var_167_17 and arg_164_1.time_ < var_167_16 + var_167_17 + arg_167_0 then
				var_167_15.localPosition = Vector3.New(0.7, -1, -6.1)

				local var_167_22 = manager.ui.mainCamera.transform.position - var_167_15.position

				var_167_15.forward = Vector3.New(var_167_22.x, var_167_22.y, var_167_22.z)

				local var_167_23 = var_167_15.localEulerAngles

				var_167_23.z = 0
				var_167_23.x = 0
				var_167_15.localEulerAngles = var_167_23
			end

			local var_167_24 = arg_164_1.actors_["1050ui_story"]
			local var_167_25 = 0

			if var_167_25 < arg_164_1.time_ and arg_164_1.time_ <= var_167_25 + arg_167_0 and not isNil(var_167_24) and arg_164_1.var_.characterEffect1050ui_story == nil then
				arg_164_1.var_.characterEffect1050ui_story = var_167_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_167_26 = 0.200000002980232

			if var_167_25 <= arg_164_1.time_ and arg_164_1.time_ < var_167_25 + var_167_26 and not isNil(var_167_24) then
				local var_167_27 = (arg_164_1.time_ - var_167_25) / var_167_26

				if arg_164_1.var_.characterEffect1050ui_story and not isNil(var_167_24) then
					arg_164_1.var_.characterEffect1050ui_story.fillFlat = false
				end
			end

			if arg_164_1.time_ >= var_167_25 + var_167_26 and arg_164_1.time_ < var_167_25 + var_167_26 + arg_167_0 and not isNil(var_167_24) and arg_164_1.var_.characterEffect1050ui_story then
				arg_164_1.var_.characterEffect1050ui_story.fillFlat = false
			end

			local var_167_28 = 0

			if var_167_28 < arg_164_1.time_ and arg_164_1.time_ <= var_167_28 + arg_167_0 then
				arg_164_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_167_29 = 0
			local var_167_30 = 0.125

			if var_167_29 < arg_164_1.time_ and arg_164_1.time_ <= var_167_29 + arg_167_0 then
				arg_164_1.talkMaxDuration = 0
				arg_164_1.dialogCg_.alpha = 1

				arg_164_1.dialog_:SetActive(true)
				SetActive(arg_164_1.leftNameGo_, true)

				local var_167_31 = arg_164_1:FormatText(StoryNameCfg[74].name)

				arg_164_1.leftNameTxt_.text = var_167_31

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_164_1.leftNameTxt_.transform)

				arg_164_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_164_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_164_1:RecordName(arg_164_1.leftNameTxt_.text)
				SetActive(arg_164_1.iconTrs_.gameObject, false)
				arg_164_1.callingController_:SetSelectedState("normal")

				local var_167_32 = arg_164_1:GetWordFromCfg(317021040)
				local var_167_33 = arg_164_1:FormatText(var_167_32.content)

				arg_164_1.text_.text = var_167_33

				LuaForUtil.ClearLinePrefixSymbol(arg_164_1.text_)

				local var_167_34 = 5
				local var_167_35 = utf8.len(var_167_33)
				local var_167_36 = var_167_34 <= 0 and var_167_30 or var_167_30 * (var_167_35 / var_167_34)

				if var_167_36 > 0 and var_167_30 < var_167_36 then
					arg_164_1.talkMaxDuration = var_167_36

					if var_167_36 + var_167_29 > arg_164_1.duration_ then
						arg_164_1.duration_ = var_167_36 + var_167_29
					end
				end

				arg_164_1.text_.text = var_167_33
				arg_164_1.typewritter.percent = 0

				arg_164_1.typewritter:SetDirty()
				arg_164_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021040", "story_v_out_317021.awb") ~= 0 then
					local var_167_37 = manager.audio:GetVoiceLength("story_v_out_317021", "317021040", "story_v_out_317021.awb") / 1000

					if var_167_37 + var_167_29 > arg_164_1.duration_ then
						arg_164_1.duration_ = var_167_37 + var_167_29
					end

					if var_167_32.prefab_name ~= "" and arg_164_1.actors_[var_167_32.prefab_name] ~= nil then
						local var_167_38 = LuaForUtil.PlayVoiceWithCriLipsync(arg_164_1.actors_[var_167_32.prefab_name].transform, "story_v_out_317021", "317021040", "story_v_out_317021.awb")

						arg_164_1:RecordAudio("317021040", var_167_38)
						arg_164_1:RecordAudio("317021040", var_167_38)
					else
						arg_164_1:AudioAction("play", "voice", "story_v_out_317021", "317021040", "story_v_out_317021.awb")
					end

					arg_164_1:RecordHistoryTalkVoice("story_v_out_317021", "317021040", "story_v_out_317021.awb")
				end

				arg_164_1:RecordContent(arg_164_1.text_.text)
			end

			local var_167_39 = math.max(var_167_30, arg_164_1.talkMaxDuration)

			if var_167_29 <= arg_164_1.time_ and arg_164_1.time_ < var_167_29 + var_167_39 then
				arg_164_1.typewritter.percent = (arg_164_1.time_ - var_167_29) / var_167_39

				arg_164_1.typewritter:SetDirty()
			end

			if arg_164_1.time_ >= var_167_29 + var_167_39 and arg_164_1.time_ < var_167_29 + var_167_39 + arg_167_0 then
				arg_164_1.typewritter.percent = 1

				arg_164_1.typewritter:SetDirty()
				arg_164_1:ShowNextGo(true)
			end
		end
	end,
	Play317021041 = function(arg_168_0, arg_168_1)
		arg_168_1.time_ = 0
		arg_168_1.frameCnt_ = 0
		arg_168_1.state_ = "playing"
		arg_168_1.curTalkId_ = 317021041
		arg_168_1.duration_ = 3.8

		local var_168_0 = {
			zh = 1.9,
			ja = 3.8
		}
		local var_168_1 = manager.audio:GetLocalizationFlag()

		if var_168_0[var_168_1] ~= nil then
			arg_168_1.duration_ = var_168_0[var_168_1]
		end

		SetActive(arg_168_1.tipsGo_, false)

		function arg_168_1.onSingleLineFinish_()
			arg_168_1.onSingleLineUpdate_ = nil
			arg_168_1.onSingleLineFinish_ = nil
			arg_168_1.state_ = "waiting"
		end

		function arg_168_1.playNext_(arg_170_0)
			if arg_170_0 == 1 then
				arg_168_0:Play317021042(arg_168_1)
			end
		end

		function arg_168_1.onSingleLineUpdate_(arg_171_0)
			local var_171_0 = arg_168_1.actors_["1050ui_story"]
			local var_171_1 = 0

			if var_171_1 < arg_168_1.time_ and arg_168_1.time_ <= var_171_1 + arg_171_0 and not isNil(var_171_0) and arg_168_1.var_.characterEffect1050ui_story == nil then
				arg_168_1.var_.characterEffect1050ui_story = var_171_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_171_2 = 0.200000002980232

			if var_171_1 <= arg_168_1.time_ and arg_168_1.time_ < var_171_1 + var_171_2 and not isNil(var_171_0) then
				local var_171_3 = (arg_168_1.time_ - var_171_1) / var_171_2

				if arg_168_1.var_.characterEffect1050ui_story and not isNil(var_171_0) then
					local var_171_4 = Mathf.Lerp(0, 0.5, var_171_3)

					arg_168_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_168_1.var_.characterEffect1050ui_story.fillRatio = var_171_4
				end
			end

			if arg_168_1.time_ >= var_171_1 + var_171_2 and arg_168_1.time_ < var_171_1 + var_171_2 + arg_171_0 and not isNil(var_171_0) and arg_168_1.var_.characterEffect1050ui_story then
				local var_171_5 = 0.5

				arg_168_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_168_1.var_.characterEffect1050ui_story.fillRatio = var_171_5
			end

			local var_171_6 = 0
			local var_171_7 = 0.433333333333333

			if var_171_6 < arg_168_1.time_ and arg_168_1.time_ <= var_171_6 + arg_171_0 then
				local var_171_8 = "play"
				local var_171_9 = "effect"

				arg_168_1:AudioAction(var_171_8, var_171_9, "se_story", "se_story_communication", "")
			end

			local var_171_10 = 0
			local var_171_11 = 0.25

			if var_171_10 < arg_168_1.time_ and arg_168_1.time_ <= var_171_10 + arg_171_0 then
				arg_168_1.talkMaxDuration = 0
				arg_168_1.dialogCg_.alpha = 1

				arg_168_1.dialog_:SetActive(true)
				SetActive(arg_168_1.leftNameGo_, true)

				local var_171_12 = arg_168_1:FormatText(StoryNameCfg[10].name)

				arg_168_1.leftNameTxt_.text = var_171_12

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_168_1.leftNameTxt_.transform)

				arg_168_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_168_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_168_1:RecordName(arg_168_1.leftNameTxt_.text)
				SetActive(arg_168_1.iconTrs_.gameObject, true)
				arg_168_1.iconController_:SetSelectedState("hero")

				arg_168_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_mmr")

				arg_168_1.callingController_:SetSelectedState("normal")

				arg_168_1.keyicon_.color = Color.New(1, 1, 1)
				arg_168_1.icon_.color = Color.New(1, 1, 1)

				local var_171_13 = arg_168_1:GetWordFromCfg(317021041)
				local var_171_14 = arg_168_1:FormatText(var_171_13.content)

				arg_168_1.text_.text = var_171_14

				LuaForUtil.ClearLinePrefixSymbol(arg_168_1.text_)

				local var_171_15 = 10
				local var_171_16 = utf8.len(var_171_14)
				local var_171_17 = var_171_15 <= 0 and var_171_11 or var_171_11 * (var_171_16 / var_171_15)

				if var_171_17 > 0 and var_171_11 < var_171_17 then
					arg_168_1.talkMaxDuration = var_171_17

					if var_171_17 + var_171_10 > arg_168_1.duration_ then
						arg_168_1.duration_ = var_171_17 + var_171_10
					end
				end

				arg_168_1.text_.text = var_171_14
				arg_168_1.typewritter.percent = 0

				arg_168_1.typewritter:SetDirty()
				arg_168_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021041", "story_v_out_317021.awb") ~= 0 then
					local var_171_18 = manager.audio:GetVoiceLength("story_v_out_317021", "317021041", "story_v_out_317021.awb") / 1000

					if var_171_18 + var_171_10 > arg_168_1.duration_ then
						arg_168_1.duration_ = var_171_18 + var_171_10
					end

					if var_171_13.prefab_name ~= "" and arg_168_1.actors_[var_171_13.prefab_name] ~= nil then
						local var_171_19 = LuaForUtil.PlayVoiceWithCriLipsync(arg_168_1.actors_[var_171_13.prefab_name].transform, "story_v_out_317021", "317021041", "story_v_out_317021.awb")

						arg_168_1:RecordAudio("317021041", var_171_19)
						arg_168_1:RecordAudio("317021041", var_171_19)
					else
						arg_168_1:AudioAction("play", "voice", "story_v_out_317021", "317021041", "story_v_out_317021.awb")
					end

					arg_168_1:RecordHistoryTalkVoice("story_v_out_317021", "317021041", "story_v_out_317021.awb")
				end

				arg_168_1:RecordContent(arg_168_1.text_.text)
			end

			local var_171_20 = math.max(var_171_11, arg_168_1.talkMaxDuration)

			if var_171_10 <= arg_168_1.time_ and arg_168_1.time_ < var_171_10 + var_171_20 then
				arg_168_1.typewritter.percent = (arg_168_1.time_ - var_171_10) / var_171_20

				arg_168_1.typewritter:SetDirty()
			end

			if arg_168_1.time_ >= var_171_10 + var_171_20 and arg_168_1.time_ < var_171_10 + var_171_20 + arg_171_0 then
				arg_168_1.typewritter.percent = 1

				arg_168_1.typewritter:SetDirty()
				arg_168_1:ShowNextGo(true)
			end
		end
	end,
	Play317021042 = function(arg_172_0, arg_172_1)
		arg_172_1.time_ = 0
		arg_172_1.frameCnt_ = 0
		arg_172_1.state_ = "playing"
		arg_172_1.curTalkId_ = 317021042
		arg_172_1.duration_ = 5

		SetActive(arg_172_1.tipsGo_, false)

		function arg_172_1.onSingleLineFinish_()
			arg_172_1.onSingleLineUpdate_ = nil
			arg_172_1.onSingleLineFinish_ = nil
			arg_172_1.state_ = "waiting"
		end

		function arg_172_1.playNext_(arg_174_0)
			if arg_174_0 == 1 then
				arg_172_0:Play317021043(arg_172_1)
			end
		end

		function arg_172_1.onSingleLineUpdate_(arg_175_0)
			local var_175_0 = arg_172_1.actors_["1093ui_story"].transform
			local var_175_1 = 0

			if var_175_1 < arg_172_1.time_ and arg_172_1.time_ <= var_175_1 + arg_175_0 then
				arg_172_1.var_.moveOldPos1093ui_story = var_175_0.localPosition
			end

			local var_175_2 = 0.001

			if var_175_1 <= arg_172_1.time_ and arg_172_1.time_ < var_175_1 + var_175_2 then
				local var_175_3 = (arg_172_1.time_ - var_175_1) / var_175_2
				local var_175_4 = Vector3.New(0, 100, 0)

				var_175_0.localPosition = Vector3.Lerp(arg_172_1.var_.moveOldPos1093ui_story, var_175_4, var_175_3)

				local var_175_5 = manager.ui.mainCamera.transform.position - var_175_0.position

				var_175_0.forward = Vector3.New(var_175_5.x, var_175_5.y, var_175_5.z)

				local var_175_6 = var_175_0.localEulerAngles

				var_175_6.z = 0
				var_175_6.x = 0
				var_175_0.localEulerAngles = var_175_6
			end

			if arg_172_1.time_ >= var_175_1 + var_175_2 and arg_172_1.time_ < var_175_1 + var_175_2 + arg_175_0 then
				var_175_0.localPosition = Vector3.New(0, 100, 0)

				local var_175_7 = manager.ui.mainCamera.transform.position - var_175_0.position

				var_175_0.forward = Vector3.New(var_175_7.x, var_175_7.y, var_175_7.z)

				local var_175_8 = var_175_0.localEulerAngles

				var_175_8.z = 0
				var_175_8.x = 0
				var_175_0.localEulerAngles = var_175_8
			end

			local var_175_9 = arg_172_1.actors_["1093ui_story"]
			local var_175_10 = 0

			if var_175_10 < arg_172_1.time_ and arg_172_1.time_ <= var_175_10 + arg_175_0 and not isNil(var_175_9) and arg_172_1.var_.characterEffect1093ui_story == nil then
				arg_172_1.var_.characterEffect1093ui_story = var_175_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_175_11 = 0.200000002980232

			if var_175_10 <= arg_172_1.time_ and arg_172_1.time_ < var_175_10 + var_175_11 and not isNil(var_175_9) then
				local var_175_12 = (arg_172_1.time_ - var_175_10) / var_175_11

				if arg_172_1.var_.characterEffect1093ui_story and not isNil(var_175_9) then
					local var_175_13 = Mathf.Lerp(0, 0.5, var_175_12)

					arg_172_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_172_1.var_.characterEffect1093ui_story.fillRatio = var_175_13
				end
			end

			if arg_172_1.time_ >= var_175_10 + var_175_11 and arg_172_1.time_ < var_175_10 + var_175_11 + arg_175_0 and not isNil(var_175_9) and arg_172_1.var_.characterEffect1093ui_story then
				local var_175_14 = 0.5

				arg_172_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_172_1.var_.characterEffect1093ui_story.fillRatio = var_175_14
			end

			local var_175_15 = arg_172_1.actors_["1050ui_story"].transform
			local var_175_16 = 0

			if var_175_16 < arg_172_1.time_ and arg_172_1.time_ <= var_175_16 + arg_175_0 then
				arg_172_1.var_.moveOldPos1050ui_story = var_175_15.localPosition
			end

			local var_175_17 = 0.001

			if var_175_16 <= arg_172_1.time_ and arg_172_1.time_ < var_175_16 + var_175_17 then
				local var_175_18 = (arg_172_1.time_ - var_175_16) / var_175_17
				local var_175_19 = Vector3.New(0, 100, 0)

				var_175_15.localPosition = Vector3.Lerp(arg_172_1.var_.moveOldPos1050ui_story, var_175_19, var_175_18)

				local var_175_20 = manager.ui.mainCamera.transform.position - var_175_15.position

				var_175_15.forward = Vector3.New(var_175_20.x, var_175_20.y, var_175_20.z)

				local var_175_21 = var_175_15.localEulerAngles

				var_175_21.z = 0
				var_175_21.x = 0
				var_175_15.localEulerAngles = var_175_21
			end

			if arg_172_1.time_ >= var_175_16 + var_175_17 and arg_172_1.time_ < var_175_16 + var_175_17 + arg_175_0 then
				var_175_15.localPosition = Vector3.New(0, 100, 0)

				local var_175_22 = manager.ui.mainCamera.transform.position - var_175_15.position

				var_175_15.forward = Vector3.New(var_175_22.x, var_175_22.y, var_175_22.z)

				local var_175_23 = var_175_15.localEulerAngles

				var_175_23.z = 0
				var_175_23.x = 0
				var_175_15.localEulerAngles = var_175_23
			end

			local var_175_24 = arg_172_1.actors_["1050ui_story"]
			local var_175_25 = 0

			if var_175_25 < arg_172_1.time_ and arg_172_1.time_ <= var_175_25 + arg_175_0 and not isNil(var_175_24) and arg_172_1.var_.characterEffect1050ui_story == nil then
				arg_172_1.var_.characterEffect1050ui_story = var_175_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_175_26 = 0.200000002980232

			if var_175_25 <= arg_172_1.time_ and arg_172_1.time_ < var_175_25 + var_175_26 and not isNil(var_175_24) then
				local var_175_27 = (arg_172_1.time_ - var_175_25) / var_175_26

				if arg_172_1.var_.characterEffect1050ui_story and not isNil(var_175_24) then
					local var_175_28 = Mathf.Lerp(0, 0.5, var_175_27)

					arg_172_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_172_1.var_.characterEffect1050ui_story.fillRatio = var_175_28
				end
			end

			if arg_172_1.time_ >= var_175_25 + var_175_26 and arg_172_1.time_ < var_175_25 + var_175_26 + arg_175_0 and not isNil(var_175_24) and arg_172_1.var_.characterEffect1050ui_story then
				local var_175_29 = 0.5

				arg_172_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_172_1.var_.characterEffect1050ui_story.fillRatio = var_175_29
			end

			local var_175_30 = 0
			local var_175_31 = 1.05

			if var_175_30 < arg_172_1.time_ and arg_172_1.time_ <= var_175_30 + arg_175_0 then
				arg_172_1.talkMaxDuration = 0
				arg_172_1.dialogCg_.alpha = 1

				arg_172_1.dialog_:SetActive(true)
				SetActive(arg_172_1.leftNameGo_, false)

				arg_172_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_172_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_172_1:RecordName(arg_172_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_172_1.iconTrs_.gameObject, false)
				arg_172_1.callingController_:SetSelectedState("normal")

				local var_175_32 = arg_172_1:GetWordFromCfg(317021042)
				local var_175_33 = arg_172_1:FormatText(var_175_32.content)

				arg_172_1.text_.text = var_175_33

				LuaForUtil.ClearLinePrefixSymbol(arg_172_1.text_)

				local var_175_34 = 42
				local var_175_35 = utf8.len(var_175_33)
				local var_175_36 = var_175_34 <= 0 and var_175_31 or var_175_31 * (var_175_35 / var_175_34)

				if var_175_36 > 0 and var_175_31 < var_175_36 then
					arg_172_1.talkMaxDuration = var_175_36

					if var_175_36 + var_175_30 > arg_172_1.duration_ then
						arg_172_1.duration_ = var_175_36 + var_175_30
					end
				end

				arg_172_1.text_.text = var_175_33
				arg_172_1.typewritter.percent = 0

				arg_172_1.typewritter:SetDirty()
				arg_172_1:ShowNextGo(false)
				arg_172_1:RecordContent(arg_172_1.text_.text)
			end

			local var_175_37 = math.max(var_175_31, arg_172_1.talkMaxDuration)

			if var_175_30 <= arg_172_1.time_ and arg_172_1.time_ < var_175_30 + var_175_37 then
				arg_172_1.typewritter.percent = (arg_172_1.time_ - var_175_30) / var_175_37

				arg_172_1.typewritter:SetDirty()
			end

			if arg_172_1.time_ >= var_175_30 + var_175_37 and arg_172_1.time_ < var_175_30 + var_175_37 + arg_175_0 then
				arg_172_1.typewritter.percent = 1

				arg_172_1.typewritter:SetDirty()
				arg_172_1:ShowNextGo(true)
			end
		end
	end,
	Play317021043 = function(arg_176_0, arg_176_1)
		arg_176_1.time_ = 0
		arg_176_1.frameCnt_ = 0
		arg_176_1.state_ = "playing"
		arg_176_1.curTalkId_ = 317021043
		arg_176_1.duration_ = 4.87

		local var_176_0 = {
			zh = 2.6,
			ja = 4.866
		}
		local var_176_1 = manager.audio:GetLocalizationFlag()

		if var_176_0[var_176_1] ~= nil then
			arg_176_1.duration_ = var_176_0[var_176_1]
		end

		SetActive(arg_176_1.tipsGo_, false)

		function arg_176_1.onSingleLineFinish_()
			arg_176_1.onSingleLineUpdate_ = nil
			arg_176_1.onSingleLineFinish_ = nil
			arg_176_1.state_ = "waiting"
		end

		function arg_176_1.playNext_(arg_178_0)
			if arg_178_0 == 1 then
				arg_176_0:Play317021044(arg_176_1)
			end
		end

		function arg_176_1.onSingleLineUpdate_(arg_179_0)
			local var_179_0 = 0
			local var_179_1 = 0.325

			if var_179_0 < arg_176_1.time_ and arg_176_1.time_ <= var_179_0 + arg_179_0 then
				arg_176_1.talkMaxDuration = 0
				arg_176_1.dialogCg_.alpha = 1

				arg_176_1.dialog_:SetActive(true)
				SetActive(arg_176_1.leftNameGo_, true)

				local var_179_2 = arg_176_1:FormatText(StoryNameCfg[10].name)

				arg_176_1.leftNameTxt_.text = var_179_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_176_1.leftNameTxt_.transform)

				arg_176_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_176_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_176_1:RecordName(arg_176_1.leftNameTxt_.text)
				SetActive(arg_176_1.iconTrs_.gameObject, true)
				arg_176_1.iconController_:SetSelectedState("hero")

				arg_176_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_mmr")

				arg_176_1.callingController_:SetSelectedState("normal")

				arg_176_1.keyicon_.color = Color.New(1, 1, 1)
				arg_176_1.icon_.color = Color.New(1, 1, 1)

				local var_179_3 = arg_176_1:GetWordFromCfg(317021043)
				local var_179_4 = arg_176_1:FormatText(var_179_3.content)

				arg_176_1.text_.text = var_179_4

				LuaForUtil.ClearLinePrefixSymbol(arg_176_1.text_)

				local var_179_5 = 13
				local var_179_6 = utf8.len(var_179_4)
				local var_179_7 = var_179_5 <= 0 and var_179_1 or var_179_1 * (var_179_6 / var_179_5)

				if var_179_7 > 0 and var_179_1 < var_179_7 then
					arg_176_1.talkMaxDuration = var_179_7

					if var_179_7 + var_179_0 > arg_176_1.duration_ then
						arg_176_1.duration_ = var_179_7 + var_179_0
					end
				end

				arg_176_1.text_.text = var_179_4
				arg_176_1.typewritter.percent = 0

				arg_176_1.typewritter:SetDirty()
				arg_176_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021043", "story_v_out_317021.awb") ~= 0 then
					local var_179_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021043", "story_v_out_317021.awb") / 1000

					if var_179_8 + var_179_0 > arg_176_1.duration_ then
						arg_176_1.duration_ = var_179_8 + var_179_0
					end

					if var_179_3.prefab_name ~= "" and arg_176_1.actors_[var_179_3.prefab_name] ~= nil then
						local var_179_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_176_1.actors_[var_179_3.prefab_name].transform, "story_v_out_317021", "317021043", "story_v_out_317021.awb")

						arg_176_1:RecordAudio("317021043", var_179_9)
						arg_176_1:RecordAudio("317021043", var_179_9)
					else
						arg_176_1:AudioAction("play", "voice", "story_v_out_317021", "317021043", "story_v_out_317021.awb")
					end

					arg_176_1:RecordHistoryTalkVoice("story_v_out_317021", "317021043", "story_v_out_317021.awb")
				end

				arg_176_1:RecordContent(arg_176_1.text_.text)
			end

			local var_179_10 = math.max(var_179_1, arg_176_1.talkMaxDuration)

			if var_179_0 <= arg_176_1.time_ and arg_176_1.time_ < var_179_0 + var_179_10 then
				arg_176_1.typewritter.percent = (arg_176_1.time_ - var_179_0) / var_179_10

				arg_176_1.typewritter:SetDirty()
			end

			if arg_176_1.time_ >= var_179_0 + var_179_10 and arg_176_1.time_ < var_179_0 + var_179_10 + arg_179_0 then
				arg_176_1.typewritter.percent = 1

				arg_176_1.typewritter:SetDirty()
				arg_176_1:ShowNextGo(true)
			end
		end
	end,
	Play317021044 = function(arg_180_0, arg_180_1)
		arg_180_1.time_ = 0
		arg_180_1.frameCnt_ = 0
		arg_180_1.state_ = "playing"
		arg_180_1.curTalkId_ = 317021044
		arg_180_1.duration_ = 5

		SetActive(arg_180_1.tipsGo_, false)

		function arg_180_1.onSingleLineFinish_()
			arg_180_1.onSingleLineUpdate_ = nil
			arg_180_1.onSingleLineFinish_ = nil
			arg_180_1.state_ = "waiting"
		end

		function arg_180_1.playNext_(arg_182_0)
			if arg_182_0 == 1 then
				arg_180_0:Play317021045(arg_180_1)
			end
		end

		function arg_180_1.onSingleLineUpdate_(arg_183_0)
			local var_183_0 = 0
			local var_183_1 = 0.375

			if var_183_0 < arg_180_1.time_ and arg_180_1.time_ <= var_183_0 + arg_183_0 then
				arg_180_1.talkMaxDuration = 0
				arg_180_1.dialogCg_.alpha = 1

				arg_180_1.dialog_:SetActive(true)
				SetActive(arg_180_1.leftNameGo_, true)

				local var_183_2 = arg_180_1:FormatText(StoryNameCfg[7].name)

				arg_180_1.leftNameTxt_.text = var_183_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_180_1.leftNameTxt_.transform)

				arg_180_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_180_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_180_1:RecordName(arg_180_1.leftNameTxt_.text)
				SetActive(arg_180_1.iconTrs_.gameObject, false)
				arg_180_1.callingController_:SetSelectedState("normal")

				local var_183_3 = arg_180_1:GetWordFromCfg(317021044)
				local var_183_4 = arg_180_1:FormatText(var_183_3.content)

				arg_180_1.text_.text = var_183_4

				LuaForUtil.ClearLinePrefixSymbol(arg_180_1.text_)

				local var_183_5 = 15
				local var_183_6 = utf8.len(var_183_4)
				local var_183_7 = var_183_5 <= 0 and var_183_1 or var_183_1 * (var_183_6 / var_183_5)

				if var_183_7 > 0 and var_183_1 < var_183_7 then
					arg_180_1.talkMaxDuration = var_183_7

					if var_183_7 + var_183_0 > arg_180_1.duration_ then
						arg_180_1.duration_ = var_183_7 + var_183_0
					end
				end

				arg_180_1.text_.text = var_183_4
				arg_180_1.typewritter.percent = 0

				arg_180_1.typewritter:SetDirty()
				arg_180_1:ShowNextGo(false)
				arg_180_1:RecordContent(arg_180_1.text_.text)
			end

			local var_183_8 = math.max(var_183_1, arg_180_1.talkMaxDuration)

			if var_183_0 <= arg_180_1.time_ and arg_180_1.time_ < var_183_0 + var_183_8 then
				arg_180_1.typewritter.percent = (arg_180_1.time_ - var_183_0) / var_183_8

				arg_180_1.typewritter:SetDirty()
			end

			if arg_180_1.time_ >= var_183_0 + var_183_8 and arg_180_1.time_ < var_183_0 + var_183_8 + arg_183_0 then
				arg_180_1.typewritter.percent = 1

				arg_180_1.typewritter:SetDirty()
				arg_180_1:ShowNextGo(true)
			end
		end
	end,
	Play317021045 = function(arg_184_0, arg_184_1)
		arg_184_1.time_ = 0
		arg_184_1.frameCnt_ = 0
		arg_184_1.state_ = "playing"
		arg_184_1.curTalkId_ = 317021045
		arg_184_1.duration_ = 5.47

		local var_184_0 = {
			zh = 4.766,
			ja = 5.466
		}
		local var_184_1 = manager.audio:GetLocalizationFlag()

		if var_184_0[var_184_1] ~= nil then
			arg_184_1.duration_ = var_184_0[var_184_1]
		end

		SetActive(arg_184_1.tipsGo_, false)

		function arg_184_1.onSingleLineFinish_()
			arg_184_1.onSingleLineUpdate_ = nil
			arg_184_1.onSingleLineFinish_ = nil
			arg_184_1.state_ = "waiting"
		end

		function arg_184_1.playNext_(arg_186_0)
			if arg_186_0 == 1 then
				arg_184_0:Play317021046(arg_184_1)
			end
		end

		function arg_184_1.onSingleLineUpdate_(arg_187_0)
			local var_187_0 = arg_184_1.actors_["1050ui_story"].transform
			local var_187_1 = 0

			if var_187_1 < arg_184_1.time_ and arg_184_1.time_ <= var_187_1 + arg_187_0 then
				arg_184_1.var_.moveOldPos1050ui_story = var_187_0.localPosition
			end

			local var_187_2 = 0.001

			if var_187_1 <= arg_184_1.time_ and arg_184_1.time_ < var_187_1 + var_187_2 then
				local var_187_3 = (arg_184_1.time_ - var_187_1) / var_187_2
				local var_187_4 = Vector3.New(0, -1, -6.1)

				var_187_0.localPosition = Vector3.Lerp(arg_184_1.var_.moveOldPos1050ui_story, var_187_4, var_187_3)

				local var_187_5 = manager.ui.mainCamera.transform.position - var_187_0.position

				var_187_0.forward = Vector3.New(var_187_5.x, var_187_5.y, var_187_5.z)

				local var_187_6 = var_187_0.localEulerAngles

				var_187_6.z = 0
				var_187_6.x = 0
				var_187_0.localEulerAngles = var_187_6
			end

			if arg_184_1.time_ >= var_187_1 + var_187_2 and arg_184_1.time_ < var_187_1 + var_187_2 + arg_187_0 then
				var_187_0.localPosition = Vector3.New(0, -1, -6.1)

				local var_187_7 = manager.ui.mainCamera.transform.position - var_187_0.position

				var_187_0.forward = Vector3.New(var_187_7.x, var_187_7.y, var_187_7.z)

				local var_187_8 = var_187_0.localEulerAngles

				var_187_8.z = 0
				var_187_8.x = 0
				var_187_0.localEulerAngles = var_187_8
			end

			local var_187_9 = arg_184_1.actors_["1050ui_story"]
			local var_187_10 = 0

			if var_187_10 < arg_184_1.time_ and arg_184_1.time_ <= var_187_10 + arg_187_0 and not isNil(var_187_9) and arg_184_1.var_.characterEffect1050ui_story == nil then
				arg_184_1.var_.characterEffect1050ui_story = var_187_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_187_11 = 0.200000002980232

			if var_187_10 <= arg_184_1.time_ and arg_184_1.time_ < var_187_10 + var_187_11 and not isNil(var_187_9) then
				local var_187_12 = (arg_184_1.time_ - var_187_10) / var_187_11

				if arg_184_1.var_.characterEffect1050ui_story and not isNil(var_187_9) then
					arg_184_1.var_.characterEffect1050ui_story.fillFlat = false
				end
			end

			if arg_184_1.time_ >= var_187_10 + var_187_11 and arg_184_1.time_ < var_187_10 + var_187_11 + arg_187_0 and not isNil(var_187_9) and arg_184_1.var_.characterEffect1050ui_story then
				arg_184_1.var_.characterEffect1050ui_story.fillFlat = false
			end

			local var_187_13 = 0

			if var_187_13 < arg_184_1.time_ and arg_184_1.time_ <= var_187_13 + arg_187_0 then
				arg_184_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/1050/1050action/1050action2_1")
			end

			local var_187_14 = 0

			if var_187_14 < arg_184_1.time_ and arg_184_1.time_ <= var_187_14 + arg_187_0 then
				arg_184_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_187_15 = 0
			local var_187_16 = 0.725

			if var_187_15 < arg_184_1.time_ and arg_184_1.time_ <= var_187_15 + arg_187_0 then
				arg_184_1.talkMaxDuration = 0
				arg_184_1.dialogCg_.alpha = 1

				arg_184_1.dialog_:SetActive(true)
				SetActive(arg_184_1.leftNameGo_, true)

				local var_187_17 = arg_184_1:FormatText(StoryNameCfg[74].name)

				arg_184_1.leftNameTxt_.text = var_187_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_184_1.leftNameTxt_.transform)

				arg_184_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_184_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_184_1:RecordName(arg_184_1.leftNameTxt_.text)
				SetActive(arg_184_1.iconTrs_.gameObject, false)
				arg_184_1.callingController_:SetSelectedState("normal")

				local var_187_18 = arg_184_1:GetWordFromCfg(317021045)
				local var_187_19 = arg_184_1:FormatText(var_187_18.content)

				arg_184_1.text_.text = var_187_19

				LuaForUtil.ClearLinePrefixSymbol(arg_184_1.text_)

				local var_187_20 = 29
				local var_187_21 = utf8.len(var_187_19)
				local var_187_22 = var_187_20 <= 0 and var_187_16 or var_187_16 * (var_187_21 / var_187_20)

				if var_187_22 > 0 and var_187_16 < var_187_22 then
					arg_184_1.talkMaxDuration = var_187_22

					if var_187_22 + var_187_15 > arg_184_1.duration_ then
						arg_184_1.duration_ = var_187_22 + var_187_15
					end
				end

				arg_184_1.text_.text = var_187_19
				arg_184_1.typewritter.percent = 0

				arg_184_1.typewritter:SetDirty()
				arg_184_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021045", "story_v_out_317021.awb") ~= 0 then
					local var_187_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021045", "story_v_out_317021.awb") / 1000

					if var_187_23 + var_187_15 > arg_184_1.duration_ then
						arg_184_1.duration_ = var_187_23 + var_187_15
					end

					if var_187_18.prefab_name ~= "" and arg_184_1.actors_[var_187_18.prefab_name] ~= nil then
						local var_187_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_184_1.actors_[var_187_18.prefab_name].transform, "story_v_out_317021", "317021045", "story_v_out_317021.awb")

						arg_184_1:RecordAudio("317021045", var_187_24)
						arg_184_1:RecordAudio("317021045", var_187_24)
					else
						arg_184_1:AudioAction("play", "voice", "story_v_out_317021", "317021045", "story_v_out_317021.awb")
					end

					arg_184_1:RecordHistoryTalkVoice("story_v_out_317021", "317021045", "story_v_out_317021.awb")
				end

				arg_184_1:RecordContent(arg_184_1.text_.text)
			end

			local var_187_25 = math.max(var_187_16, arg_184_1.talkMaxDuration)

			if var_187_15 <= arg_184_1.time_ and arg_184_1.time_ < var_187_15 + var_187_25 then
				arg_184_1.typewritter.percent = (arg_184_1.time_ - var_187_15) / var_187_25

				arg_184_1.typewritter:SetDirty()
			end

			if arg_184_1.time_ >= var_187_15 + var_187_25 and arg_184_1.time_ < var_187_15 + var_187_25 + arg_187_0 then
				arg_184_1.typewritter.percent = 1

				arg_184_1.typewritter:SetDirty()
				arg_184_1:ShowNextGo(true)
			end
		end
	end,
	Play317021046 = function(arg_188_0, arg_188_1)
		arg_188_1.time_ = 0
		arg_188_1.frameCnt_ = 0
		arg_188_1.state_ = "playing"
		arg_188_1.curTalkId_ = 317021046
		arg_188_1.duration_ = 5.73

		local var_188_0 = {
			zh = 5.1,
			ja = 5.733
		}
		local var_188_1 = manager.audio:GetLocalizationFlag()

		if var_188_0[var_188_1] ~= nil then
			arg_188_1.duration_ = var_188_0[var_188_1]
		end

		SetActive(arg_188_1.tipsGo_, false)

		function arg_188_1.onSingleLineFinish_()
			arg_188_1.onSingleLineUpdate_ = nil
			arg_188_1.onSingleLineFinish_ = nil
			arg_188_1.state_ = "waiting"
		end

		function arg_188_1.playNext_(arg_190_0)
			if arg_190_0 == 1 then
				arg_188_0:Play317021047(arg_188_1)
			end
		end

		function arg_188_1.onSingleLineUpdate_(arg_191_0)
			local var_191_0 = arg_188_1.actors_["1050ui_story"].transform
			local var_191_1 = 0

			if var_191_1 < arg_188_1.time_ and arg_188_1.time_ <= var_191_1 + arg_191_0 then
				arg_188_1.var_.moveOldPos1050ui_story = var_191_0.localPosition
			end

			local var_191_2 = 0.001

			if var_191_1 <= arg_188_1.time_ and arg_188_1.time_ < var_191_1 + var_191_2 then
				local var_191_3 = (arg_188_1.time_ - var_191_1) / var_191_2
				local var_191_4 = Vector3.New(0, 100, 0)

				var_191_0.localPosition = Vector3.Lerp(arg_188_1.var_.moveOldPos1050ui_story, var_191_4, var_191_3)

				local var_191_5 = manager.ui.mainCamera.transform.position - var_191_0.position

				var_191_0.forward = Vector3.New(var_191_5.x, var_191_5.y, var_191_5.z)

				local var_191_6 = var_191_0.localEulerAngles

				var_191_6.z = 0
				var_191_6.x = 0
				var_191_0.localEulerAngles = var_191_6
			end

			if arg_188_1.time_ >= var_191_1 + var_191_2 and arg_188_1.time_ < var_191_1 + var_191_2 + arg_191_0 then
				var_191_0.localPosition = Vector3.New(0, 100, 0)

				local var_191_7 = manager.ui.mainCamera.transform.position - var_191_0.position

				var_191_0.forward = Vector3.New(var_191_7.x, var_191_7.y, var_191_7.z)

				local var_191_8 = var_191_0.localEulerAngles

				var_191_8.z = 0
				var_191_8.x = 0
				var_191_0.localEulerAngles = var_191_8
			end

			local var_191_9 = arg_188_1.actors_["1050ui_story"]
			local var_191_10 = 0

			if var_191_10 < arg_188_1.time_ and arg_188_1.time_ <= var_191_10 + arg_191_0 and not isNil(var_191_9) and arg_188_1.var_.characterEffect1050ui_story == nil then
				arg_188_1.var_.characterEffect1050ui_story = var_191_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_191_11 = 0.200000002980232

			if var_191_10 <= arg_188_1.time_ and arg_188_1.time_ < var_191_10 + var_191_11 and not isNil(var_191_9) then
				local var_191_12 = (arg_188_1.time_ - var_191_10) / var_191_11

				if arg_188_1.var_.characterEffect1050ui_story and not isNil(var_191_9) then
					local var_191_13 = Mathf.Lerp(0, 0.5, var_191_12)

					arg_188_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_188_1.var_.characterEffect1050ui_story.fillRatio = var_191_13
				end
			end

			if arg_188_1.time_ >= var_191_10 + var_191_11 and arg_188_1.time_ < var_191_10 + var_191_11 + arg_191_0 and not isNil(var_191_9) and arg_188_1.var_.characterEffect1050ui_story then
				local var_191_14 = 0.5

				arg_188_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_188_1.var_.characterEffect1050ui_story.fillRatio = var_191_14
			end

			local var_191_15 = arg_188_1.actors_["1055ui_story"].transform
			local var_191_16 = 0

			if var_191_16 < arg_188_1.time_ and arg_188_1.time_ <= var_191_16 + arg_191_0 then
				arg_188_1.var_.moveOldPos1055ui_story = var_191_15.localPosition
			end

			local var_191_17 = 0.001

			if var_191_16 <= arg_188_1.time_ and arg_188_1.time_ < var_191_16 + var_191_17 then
				local var_191_18 = (arg_188_1.time_ - var_191_16) / var_191_17
				local var_191_19 = Vector3.New(0, -0.965, -6.2)

				var_191_15.localPosition = Vector3.Lerp(arg_188_1.var_.moveOldPos1055ui_story, var_191_19, var_191_18)

				local var_191_20 = manager.ui.mainCamera.transform.position - var_191_15.position

				var_191_15.forward = Vector3.New(var_191_20.x, var_191_20.y, var_191_20.z)

				local var_191_21 = var_191_15.localEulerAngles

				var_191_21.z = 0
				var_191_21.x = 0
				var_191_15.localEulerAngles = var_191_21
			end

			if arg_188_1.time_ >= var_191_16 + var_191_17 and arg_188_1.time_ < var_191_16 + var_191_17 + arg_191_0 then
				var_191_15.localPosition = Vector3.New(0, -0.965, -6.2)

				local var_191_22 = manager.ui.mainCamera.transform.position - var_191_15.position

				var_191_15.forward = Vector3.New(var_191_22.x, var_191_22.y, var_191_22.z)

				local var_191_23 = var_191_15.localEulerAngles

				var_191_23.z = 0
				var_191_23.x = 0
				var_191_15.localEulerAngles = var_191_23
			end

			local var_191_24 = arg_188_1.actors_["1055ui_story"]
			local var_191_25 = 0

			if var_191_25 < arg_188_1.time_ and arg_188_1.time_ <= var_191_25 + arg_191_0 and not isNil(var_191_24) and arg_188_1.var_.characterEffect1055ui_story == nil then
				arg_188_1.var_.characterEffect1055ui_story = var_191_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_191_26 = 0.200000002980232

			if var_191_25 <= arg_188_1.time_ and arg_188_1.time_ < var_191_25 + var_191_26 and not isNil(var_191_24) then
				local var_191_27 = (arg_188_1.time_ - var_191_25) / var_191_26

				if arg_188_1.var_.characterEffect1055ui_story and not isNil(var_191_24) then
					arg_188_1.var_.characterEffect1055ui_story.fillFlat = false
				end
			end

			if arg_188_1.time_ >= var_191_25 + var_191_26 and arg_188_1.time_ < var_191_25 + var_191_26 + arg_191_0 and not isNil(var_191_24) and arg_188_1.var_.characterEffect1055ui_story then
				arg_188_1.var_.characterEffect1055ui_story.fillFlat = false
			end

			local var_191_28 = 0

			if var_191_28 < arg_188_1.time_ and arg_188_1.time_ <= var_191_28 + arg_191_0 then
				arg_188_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/story1055/story1055action/1055action4_1")
			end

			local var_191_29 = 0

			if var_191_29 < arg_188_1.time_ and arg_188_1.time_ <= var_191_29 + arg_191_0 then
				arg_188_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_191_30 = 0
			local var_191_31 = 0.5

			if var_191_30 < arg_188_1.time_ and arg_188_1.time_ <= var_191_30 + arg_191_0 then
				arg_188_1.talkMaxDuration = 0
				arg_188_1.dialogCg_.alpha = 1

				arg_188_1.dialog_:SetActive(true)
				SetActive(arg_188_1.leftNameGo_, true)

				local var_191_32 = arg_188_1:FormatText(StoryNameCfg[481].name)

				arg_188_1.leftNameTxt_.text = var_191_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_188_1.leftNameTxt_.transform)

				arg_188_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_188_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_188_1:RecordName(arg_188_1.leftNameTxt_.text)
				SetActive(arg_188_1.iconTrs_.gameObject, false)
				arg_188_1.callingController_:SetSelectedState("normal")

				local var_191_33 = arg_188_1:GetWordFromCfg(317021046)
				local var_191_34 = arg_188_1:FormatText(var_191_33.content)

				arg_188_1.text_.text = var_191_34

				LuaForUtil.ClearLinePrefixSymbol(arg_188_1.text_)

				local var_191_35 = 20
				local var_191_36 = utf8.len(var_191_34)
				local var_191_37 = var_191_35 <= 0 and var_191_31 or var_191_31 * (var_191_36 / var_191_35)

				if var_191_37 > 0 and var_191_31 < var_191_37 then
					arg_188_1.talkMaxDuration = var_191_37

					if var_191_37 + var_191_30 > arg_188_1.duration_ then
						arg_188_1.duration_ = var_191_37 + var_191_30
					end
				end

				arg_188_1.text_.text = var_191_34
				arg_188_1.typewritter.percent = 0

				arg_188_1.typewritter:SetDirty()
				arg_188_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021046", "story_v_out_317021.awb") ~= 0 then
					local var_191_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021046", "story_v_out_317021.awb") / 1000

					if var_191_38 + var_191_30 > arg_188_1.duration_ then
						arg_188_1.duration_ = var_191_38 + var_191_30
					end

					if var_191_33.prefab_name ~= "" and arg_188_1.actors_[var_191_33.prefab_name] ~= nil then
						local var_191_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_188_1.actors_[var_191_33.prefab_name].transform, "story_v_out_317021", "317021046", "story_v_out_317021.awb")

						arg_188_1:RecordAudio("317021046", var_191_39)
						arg_188_1:RecordAudio("317021046", var_191_39)
					else
						arg_188_1:AudioAction("play", "voice", "story_v_out_317021", "317021046", "story_v_out_317021.awb")
					end

					arg_188_1:RecordHistoryTalkVoice("story_v_out_317021", "317021046", "story_v_out_317021.awb")
				end

				arg_188_1:RecordContent(arg_188_1.text_.text)
			end

			local var_191_40 = math.max(var_191_31, arg_188_1.talkMaxDuration)

			if var_191_30 <= arg_188_1.time_ and arg_188_1.time_ < var_191_30 + var_191_40 then
				arg_188_1.typewritter.percent = (arg_188_1.time_ - var_191_30) / var_191_40

				arg_188_1.typewritter:SetDirty()
			end

			if arg_188_1.time_ >= var_191_30 + var_191_40 and arg_188_1.time_ < var_191_30 + var_191_40 + arg_191_0 then
				arg_188_1.typewritter.percent = 1

				arg_188_1.typewritter:SetDirty()
				arg_188_1:ShowNextGo(true)
			end
		end
	end,
	Play317021047 = function(arg_192_0, arg_192_1)
		arg_192_1.time_ = 0
		arg_192_1.frameCnt_ = 0
		arg_192_1.state_ = "playing"
		arg_192_1.curTalkId_ = 317021047
		arg_192_1.duration_ = 11.03

		local var_192_0 = {
			zh = 9.166,
			ja = 11.033
		}
		local var_192_1 = manager.audio:GetLocalizationFlag()

		if var_192_0[var_192_1] ~= nil then
			arg_192_1.duration_ = var_192_0[var_192_1]
		end

		SetActive(arg_192_1.tipsGo_, false)

		function arg_192_1.onSingleLineFinish_()
			arg_192_1.onSingleLineUpdate_ = nil
			arg_192_1.onSingleLineFinish_ = nil
			arg_192_1.state_ = "waiting"
		end

		function arg_192_1.playNext_(arg_194_0)
			if arg_194_0 == 1 then
				arg_192_0:Play317021048(arg_192_1)
			end
		end

		function arg_192_1.onSingleLineUpdate_(arg_195_0)
			local var_195_0 = arg_192_1.actors_["1055ui_story"].transform
			local var_195_1 = 0

			if var_195_1 < arg_192_1.time_ and arg_192_1.time_ <= var_195_1 + arg_195_0 then
				arg_192_1.var_.moveOldPos1055ui_story = var_195_0.localPosition
			end

			local var_195_2 = 0.001

			if var_195_1 <= arg_192_1.time_ and arg_192_1.time_ < var_195_1 + var_195_2 then
				local var_195_3 = (arg_192_1.time_ - var_195_1) / var_195_2
				local var_195_4 = Vector3.New(0, -0.965, -6.2)

				var_195_0.localPosition = Vector3.Lerp(arg_192_1.var_.moveOldPos1055ui_story, var_195_4, var_195_3)

				local var_195_5 = manager.ui.mainCamera.transform.position - var_195_0.position

				var_195_0.forward = Vector3.New(var_195_5.x, var_195_5.y, var_195_5.z)

				local var_195_6 = var_195_0.localEulerAngles

				var_195_6.z = 0
				var_195_6.x = 0
				var_195_0.localEulerAngles = var_195_6
			end

			if arg_192_1.time_ >= var_195_1 + var_195_2 and arg_192_1.time_ < var_195_1 + var_195_2 + arg_195_0 then
				var_195_0.localPosition = Vector3.New(0, -0.965, -6.2)

				local var_195_7 = manager.ui.mainCamera.transform.position - var_195_0.position

				var_195_0.forward = Vector3.New(var_195_7.x, var_195_7.y, var_195_7.z)

				local var_195_8 = var_195_0.localEulerAngles

				var_195_8.z = 0
				var_195_8.x = 0
				var_195_0.localEulerAngles = var_195_8
			end

			local var_195_9 = arg_192_1.actors_["1055ui_story"]
			local var_195_10 = 0

			if var_195_10 < arg_192_1.time_ and arg_192_1.time_ <= var_195_10 + arg_195_0 and not isNil(var_195_9) and arg_192_1.var_.characterEffect1055ui_story == nil then
				arg_192_1.var_.characterEffect1055ui_story = var_195_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_195_11 = 0.200000002980232

			if var_195_10 <= arg_192_1.time_ and arg_192_1.time_ < var_195_10 + var_195_11 and not isNil(var_195_9) then
				local var_195_12 = (arg_192_1.time_ - var_195_10) / var_195_11

				if arg_192_1.var_.characterEffect1055ui_story and not isNil(var_195_9) then
					arg_192_1.var_.characterEffect1055ui_story.fillFlat = false
				end
			end

			if arg_192_1.time_ >= var_195_10 + var_195_11 and arg_192_1.time_ < var_195_10 + var_195_11 + arg_195_0 and not isNil(var_195_9) and arg_192_1.var_.characterEffect1055ui_story then
				arg_192_1.var_.characterEffect1055ui_story.fillFlat = false
			end

			local var_195_13 = 0

			if var_195_13 < arg_192_1.time_ and arg_192_1.time_ <= var_195_13 + arg_195_0 then
				arg_192_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/story1055/story1055action/1055action4_2")
			end

			local var_195_14 = 0

			if var_195_14 < arg_192_1.time_ and arg_192_1.time_ <= var_195_14 + arg_195_0 then
				arg_192_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_195_15 = 0
			local var_195_16 = 1.125

			if var_195_15 < arg_192_1.time_ and arg_192_1.time_ <= var_195_15 + arg_195_0 then
				arg_192_1.talkMaxDuration = 0
				arg_192_1.dialogCg_.alpha = 1

				arg_192_1.dialog_:SetActive(true)
				SetActive(arg_192_1.leftNameGo_, true)

				local var_195_17 = arg_192_1:FormatText(StoryNameCfg[481].name)

				arg_192_1.leftNameTxt_.text = var_195_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_192_1.leftNameTxt_.transform)

				arg_192_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_192_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_192_1:RecordName(arg_192_1.leftNameTxt_.text)
				SetActive(arg_192_1.iconTrs_.gameObject, false)
				arg_192_1.callingController_:SetSelectedState("normal")

				local var_195_18 = arg_192_1:GetWordFromCfg(317021047)
				local var_195_19 = arg_192_1:FormatText(var_195_18.content)

				arg_192_1.text_.text = var_195_19

				LuaForUtil.ClearLinePrefixSymbol(arg_192_1.text_)

				local var_195_20 = 45
				local var_195_21 = utf8.len(var_195_19)
				local var_195_22 = var_195_20 <= 0 and var_195_16 or var_195_16 * (var_195_21 / var_195_20)

				if var_195_22 > 0 and var_195_16 < var_195_22 then
					arg_192_1.talkMaxDuration = var_195_22

					if var_195_22 + var_195_15 > arg_192_1.duration_ then
						arg_192_1.duration_ = var_195_22 + var_195_15
					end
				end

				arg_192_1.text_.text = var_195_19
				arg_192_1.typewritter.percent = 0

				arg_192_1.typewritter:SetDirty()
				arg_192_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021047", "story_v_out_317021.awb") ~= 0 then
					local var_195_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021047", "story_v_out_317021.awb") / 1000

					if var_195_23 + var_195_15 > arg_192_1.duration_ then
						arg_192_1.duration_ = var_195_23 + var_195_15
					end

					if var_195_18.prefab_name ~= "" and arg_192_1.actors_[var_195_18.prefab_name] ~= nil then
						local var_195_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_192_1.actors_[var_195_18.prefab_name].transform, "story_v_out_317021", "317021047", "story_v_out_317021.awb")

						arg_192_1:RecordAudio("317021047", var_195_24)
						arg_192_1:RecordAudio("317021047", var_195_24)
					else
						arg_192_1:AudioAction("play", "voice", "story_v_out_317021", "317021047", "story_v_out_317021.awb")
					end

					arg_192_1:RecordHistoryTalkVoice("story_v_out_317021", "317021047", "story_v_out_317021.awb")
				end

				arg_192_1:RecordContent(arg_192_1.text_.text)
			end

			local var_195_25 = math.max(var_195_16, arg_192_1.talkMaxDuration)

			if var_195_15 <= arg_192_1.time_ and arg_192_1.time_ < var_195_15 + var_195_25 then
				arg_192_1.typewritter.percent = (arg_192_1.time_ - var_195_15) / var_195_25

				arg_192_1.typewritter:SetDirty()
			end

			if arg_192_1.time_ >= var_195_15 + var_195_25 and arg_192_1.time_ < var_195_15 + var_195_25 + arg_195_0 then
				arg_192_1.typewritter.percent = 1

				arg_192_1.typewritter:SetDirty()
				arg_192_1:ShowNextGo(true)
			end
		end
	end,
	Play317021048 = function(arg_196_0, arg_196_1)
		arg_196_1.time_ = 0
		arg_196_1.frameCnt_ = 0
		arg_196_1.state_ = "playing"
		arg_196_1.curTalkId_ = 317021048
		arg_196_1.duration_ = 9

		SetActive(arg_196_1.tipsGo_, false)

		function arg_196_1.onSingleLineFinish_()
			arg_196_1.onSingleLineUpdate_ = nil
			arg_196_1.onSingleLineFinish_ = nil
			arg_196_1.state_ = "waiting"
		end

		function arg_196_1.playNext_(arg_198_0)
			if arg_198_0 == 1 then
				arg_196_0:Play317021049(arg_196_1)
			end
		end

		function arg_196_1.onSingleLineUpdate_(arg_199_0)
			local var_199_0 = "ST06"

			if arg_196_1.bgs_[var_199_0] == nil then
				local var_199_1 = Object.Instantiate(arg_196_1.paintGo_)

				var_199_1:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_199_0)
				var_199_1.name = var_199_0
				var_199_1.transform.parent = arg_196_1.stage_.transform
				var_199_1.transform.localPosition = Vector3.New(0, 100, 0)
				arg_196_1.bgs_[var_199_0] = var_199_1
			end

			local var_199_2 = 2

			if var_199_2 < arg_196_1.time_ and arg_196_1.time_ <= var_199_2 + arg_199_0 then
				local var_199_3 = manager.ui.mainCamera.transform.localPosition
				local var_199_4 = Vector3.New(0, 0, 10) + Vector3.New(var_199_3.x, var_199_3.y, 0)
				local var_199_5 = arg_196_1.bgs_.ST06

				var_199_5.transform.localPosition = var_199_4
				var_199_5.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_199_6 = var_199_5:GetComponent("SpriteRenderer")

				if var_199_6 and var_199_6.sprite then
					local var_199_7 = (var_199_5.transform.localPosition - var_199_3).z
					local var_199_8 = manager.ui.mainCameraCom_
					local var_199_9 = 2 * var_199_7 * Mathf.Tan(var_199_8.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_199_10 = var_199_9 * var_199_8.aspect
					local var_199_11 = var_199_6.sprite.bounds.size.x
					local var_199_12 = var_199_6.sprite.bounds.size.y
					local var_199_13 = var_199_10 / var_199_11
					local var_199_14 = var_199_9 / var_199_12
					local var_199_15 = var_199_14 < var_199_13 and var_199_13 or var_199_14

					var_199_5.transform.localScale = Vector3.New(var_199_15, var_199_15, 0)
				end

				for iter_199_0, iter_199_1 in pairs(arg_196_1.bgs_) do
					if iter_199_0 ~= "ST06" then
						iter_199_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_199_16 = 0

			if var_199_16 < arg_196_1.time_ and arg_196_1.time_ <= var_199_16 + arg_199_0 then
				arg_196_1.mask_.enabled = true
				arg_196_1.mask_.raycastTarget = true

				arg_196_1:SetGaussion(false)
			end

			local var_199_17 = 2

			if var_199_16 <= arg_196_1.time_ and arg_196_1.time_ < var_199_16 + var_199_17 then
				local var_199_18 = (arg_196_1.time_ - var_199_16) / var_199_17
				local var_199_19 = Color.New(0, 0, 0)

				var_199_19.a = Mathf.Lerp(0, 1, var_199_18)
				arg_196_1.mask_.color = var_199_19
			end

			if arg_196_1.time_ >= var_199_16 + var_199_17 and arg_196_1.time_ < var_199_16 + var_199_17 + arg_199_0 then
				local var_199_20 = Color.New(0, 0, 0)

				var_199_20.a = 1
				arg_196_1.mask_.color = var_199_20
			end

			local var_199_21 = 2

			if var_199_21 < arg_196_1.time_ and arg_196_1.time_ <= var_199_21 + arg_199_0 then
				arg_196_1.mask_.enabled = true
				arg_196_1.mask_.raycastTarget = true

				arg_196_1:SetGaussion(false)
			end

			local var_199_22 = 2

			if var_199_21 <= arg_196_1.time_ and arg_196_1.time_ < var_199_21 + var_199_22 then
				local var_199_23 = (arg_196_1.time_ - var_199_21) / var_199_22
				local var_199_24 = Color.New(0, 0, 0)

				var_199_24.a = Mathf.Lerp(1, 0, var_199_23)
				arg_196_1.mask_.color = var_199_24
			end

			if arg_196_1.time_ >= var_199_21 + var_199_22 and arg_196_1.time_ < var_199_21 + var_199_22 + arg_199_0 then
				local var_199_25 = Color.New(0, 0, 0)
				local var_199_26 = 0

				arg_196_1.mask_.enabled = false
				var_199_25.a = var_199_26
				arg_196_1.mask_.color = var_199_25
			end

			local var_199_27 = arg_196_1.actors_["1055ui_story"].transform
			local var_199_28 = 2

			if var_199_28 < arg_196_1.time_ and arg_196_1.time_ <= var_199_28 + arg_199_0 then
				arg_196_1.var_.moveOldPos1055ui_story = var_199_27.localPosition
			end

			local var_199_29 = 0.001

			if var_199_28 <= arg_196_1.time_ and arg_196_1.time_ < var_199_28 + var_199_29 then
				local var_199_30 = (arg_196_1.time_ - var_199_28) / var_199_29
				local var_199_31 = Vector3.New(0, 100, 0)

				var_199_27.localPosition = Vector3.Lerp(arg_196_1.var_.moveOldPos1055ui_story, var_199_31, var_199_30)

				local var_199_32 = manager.ui.mainCamera.transform.position - var_199_27.position

				var_199_27.forward = Vector3.New(var_199_32.x, var_199_32.y, var_199_32.z)

				local var_199_33 = var_199_27.localEulerAngles

				var_199_33.z = 0
				var_199_33.x = 0
				var_199_27.localEulerAngles = var_199_33
			end

			if arg_196_1.time_ >= var_199_28 + var_199_29 and arg_196_1.time_ < var_199_28 + var_199_29 + arg_199_0 then
				var_199_27.localPosition = Vector3.New(0, 100, 0)

				local var_199_34 = manager.ui.mainCamera.transform.position - var_199_27.position

				var_199_27.forward = Vector3.New(var_199_34.x, var_199_34.y, var_199_34.z)

				local var_199_35 = var_199_27.localEulerAngles

				var_199_35.z = 0
				var_199_35.x = 0
				var_199_27.localEulerAngles = var_199_35
			end

			local var_199_36 = 0
			local var_199_37 = 1

			if var_199_36 < arg_196_1.time_ and arg_196_1.time_ <= var_199_36 + arg_199_0 then
				local var_199_38 = "play"
				local var_199_39 = "music"

				arg_196_1:AudioAction(var_199_38, var_199_39, "ui_battle", "ui_battle_stopbgm", "")

				local var_199_40 = ""
				local var_199_41 = manager.audio:GetAudioName("ui_battle", "ui_battle_stopbgm")

				if var_199_41 ~= "" then
					if arg_196_1.bgmTxt_.text ~= var_199_41 and arg_196_1.bgmTxt_.text ~= "" then
						if arg_196_1.bgmTxt2_.text ~= "" then
							arg_196_1.bgmTxt_.text = arg_196_1.bgmTxt2_.text
						end

						arg_196_1.bgmTxt2_.text = var_199_41

						arg_196_1.musicChangeAnimator_:Play("music_change", 0, 0)
					else
						arg_196_1.bgmTxt_.text = var_199_41
					end

					if arg_196_1.bgmTimer then
						arg_196_1.bgmTimer:Stop()

						arg_196_1.bgmTimer = nil
					end

					if arg_196_1.settingData.show_music_name == 1 then
						arg_196_1.musicController:SetSelectedState("show")
						arg_196_1.musicAnimator_:Play("open", 0, 0)

						if arg_196_1.settingData.music_time ~= 0 then
							arg_196_1.bgmTimer = TimeTools.StartAfterSeconds(tonumber(arg_196_1.settingData.music_time), function()
								if arg_196_1 == nil or isNil(arg_196_1.bgmTxt_) then
									return
								end

								arg_196_1.musicController:SetSelectedState("hide")
								arg_196_1.musicAnimator_:Play("back", 0, 0)
							end, {})
						end
					end
				end
			end

			if arg_196_1.frameCnt_ <= 1 then
				arg_196_1.dialog_:SetActive(false)
			end

			local var_199_42 = 4
			local var_199_43 = 0.875

			if var_199_42 < arg_196_1.time_ and arg_196_1.time_ <= var_199_42 + arg_199_0 then
				arg_196_1.talkMaxDuration = 0

				arg_196_1.dialog_:SetActive(true)

				local var_199_44 = LeanTween.value(arg_196_1.dialog_, 0, 1, 0.3)

				var_199_44:setOnUpdate(LuaHelper.FloatAction(function(arg_201_0)
					arg_196_1.dialogCg_.alpha = arg_201_0
				end))
				var_199_44:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_196_1.dialog_)
					var_199_44:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_196_1.duration_ = arg_196_1.duration_ + 0.3

				SetActive(arg_196_1.leftNameGo_, false)

				arg_196_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_196_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_196_1:RecordName(arg_196_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_196_1.iconTrs_.gameObject, false)
				arg_196_1.callingController_:SetSelectedState("normal")

				local var_199_45 = arg_196_1:GetWordFromCfg(317021048)
				local var_199_46 = arg_196_1:FormatText(var_199_45.content)

				arg_196_1.text_.text = var_199_46

				LuaForUtil.ClearLinePrefixSymbol(arg_196_1.text_)

				local var_199_47 = 35
				local var_199_48 = utf8.len(var_199_46)
				local var_199_49 = var_199_47 <= 0 and var_199_43 or var_199_43 * (var_199_48 / var_199_47)

				if var_199_49 > 0 and var_199_43 < var_199_49 then
					arg_196_1.talkMaxDuration = var_199_49
					var_199_42 = var_199_42 + 0.3

					if var_199_49 + var_199_42 > arg_196_1.duration_ then
						arg_196_1.duration_ = var_199_49 + var_199_42
					end
				end

				arg_196_1.text_.text = var_199_46
				arg_196_1.typewritter.percent = 0

				arg_196_1.typewritter:SetDirty()
				arg_196_1:ShowNextGo(false)
				arg_196_1:RecordContent(arg_196_1.text_.text)
			end

			local var_199_50 = var_199_42 + 0.3
			local var_199_51 = math.max(var_199_43, arg_196_1.talkMaxDuration)

			if var_199_50 <= arg_196_1.time_ and arg_196_1.time_ < var_199_50 + var_199_51 then
				arg_196_1.typewritter.percent = (arg_196_1.time_ - var_199_50) / var_199_51

				arg_196_1.typewritter:SetDirty()
			end

			if arg_196_1.time_ >= var_199_50 + var_199_51 and arg_196_1.time_ < var_199_50 + var_199_51 + arg_199_0 then
				arg_196_1.typewritter.percent = 1

				arg_196_1.typewritter:SetDirty()
				arg_196_1:ShowNextGo(true)
			end
		end
	end,
	Play317021049 = function(arg_203_0, arg_203_1)
		arg_203_1.time_ = 0
		arg_203_1.frameCnt_ = 0
		arg_203_1.state_ = "playing"
		arg_203_1.curTalkId_ = 317021049
		arg_203_1.duration_ = 5

		SetActive(arg_203_1.tipsGo_, false)

		function arg_203_1.onSingleLineFinish_()
			arg_203_1.onSingleLineUpdate_ = nil
			arg_203_1.onSingleLineFinish_ = nil
			arg_203_1.state_ = "waiting"
		end

		function arg_203_1.playNext_(arg_205_0)
			if arg_205_0 == 1 then
				arg_203_0:Play317021050(arg_203_1)
			end
		end

		function arg_203_1.onSingleLineUpdate_(arg_206_0)
			local var_206_0 = 0
			local var_206_1 = 1.375

			if var_206_0 < arg_203_1.time_ and arg_203_1.time_ <= var_206_0 + arg_206_0 then
				arg_203_1.talkMaxDuration = 0
				arg_203_1.dialogCg_.alpha = 1

				arg_203_1.dialog_:SetActive(true)
				SetActive(arg_203_1.leftNameGo_, false)

				arg_203_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_203_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_203_1:RecordName(arg_203_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_203_1.iconTrs_.gameObject, false)
				arg_203_1.callingController_:SetSelectedState("normal")

				local var_206_2 = arg_203_1:GetWordFromCfg(317021049)
				local var_206_3 = arg_203_1:FormatText(var_206_2.content)

				arg_203_1.text_.text = var_206_3

				LuaForUtil.ClearLinePrefixSymbol(arg_203_1.text_)

				local var_206_4 = 55
				local var_206_5 = utf8.len(var_206_3)
				local var_206_6 = var_206_4 <= 0 and var_206_1 or var_206_1 * (var_206_5 / var_206_4)

				if var_206_6 > 0 and var_206_1 < var_206_6 then
					arg_203_1.talkMaxDuration = var_206_6

					if var_206_6 + var_206_0 > arg_203_1.duration_ then
						arg_203_1.duration_ = var_206_6 + var_206_0
					end
				end

				arg_203_1.text_.text = var_206_3
				arg_203_1.typewritter.percent = 0

				arg_203_1.typewritter:SetDirty()
				arg_203_1:ShowNextGo(false)
				arg_203_1:RecordContent(arg_203_1.text_.text)
			end

			local var_206_7 = math.max(var_206_1, arg_203_1.talkMaxDuration)

			if var_206_0 <= arg_203_1.time_ and arg_203_1.time_ < var_206_0 + var_206_7 then
				arg_203_1.typewritter.percent = (arg_203_1.time_ - var_206_0) / var_206_7

				arg_203_1.typewritter:SetDirty()
			end

			if arg_203_1.time_ >= var_206_0 + var_206_7 and arg_203_1.time_ < var_206_0 + var_206_7 + arg_206_0 then
				arg_203_1.typewritter.percent = 1

				arg_203_1.typewritter:SetDirty()
				arg_203_1:ShowNextGo(true)
			end
		end
	end,
	Play317021050 = function(arg_207_0, arg_207_1)
		arg_207_1.time_ = 0
		arg_207_1.frameCnt_ = 0
		arg_207_1.state_ = "playing"
		arg_207_1.curTalkId_ = 317021050
		arg_207_1.duration_ = 2.8

		SetActive(arg_207_1.tipsGo_, false)

		function arg_207_1.onSingleLineFinish_()
			arg_207_1.onSingleLineUpdate_ = nil
			arg_207_1.onSingleLineFinish_ = nil
			arg_207_1.state_ = "waiting"
		end

		function arg_207_1.playNext_(arg_209_0)
			if arg_209_0 == 1 then
				arg_207_0:Play317021051(arg_207_1)
			end
		end

		function arg_207_1.onSingleLineUpdate_(arg_210_0)
			local var_210_0 = "1019ui_story"

			if arg_207_1.actors_[var_210_0] == nil then
				local var_210_1 = Asset.Load("Char/" .. "1019ui_story")

				if not isNil(var_210_1) then
					local var_210_2 = Object.Instantiate(Asset.Load("Char/" .. "1019ui_story"), arg_207_1.stage_.transform)

					var_210_2.name = var_210_0
					var_210_2.transform.localPosition = Vector3.New(0, 100, 0)
					arg_207_1.actors_[var_210_0] = var_210_2

					local var_210_3 = var_210_2:GetComponentInChildren(typeof(CharacterEffect))

					var_210_3.enabled = true

					local var_210_4 = GameObjectTools.GetOrAddComponent(var_210_2, typeof(DynamicBoneHelper))

					if var_210_4 then
						var_210_4:EnableDynamicBone(false)
					end

					arg_207_1:ShowWeapon(var_210_3.transform, false)

					arg_207_1.var_[var_210_0 .. "Animator"] = var_210_3.gameObject:GetComponent(typeof(UnityEngine.Animator))
					arg_207_1.var_[var_210_0 .. "Animator"].applyRootMotion = true
					arg_207_1.var_[var_210_0 .. "LipSync"] = var_210_3.gameObject:GetComponentInChildren(typeof(RogoDigital.Lipsync.LipSync))
				end
			end

			local var_210_5 = arg_207_1.actors_["1019ui_story"].transform
			local var_210_6 = 0

			if var_210_6 < arg_207_1.time_ and arg_207_1.time_ <= var_210_6 + arg_210_0 then
				arg_207_1.var_.moveOldPos1019ui_story = var_210_5.localPosition
			end

			local var_210_7 = 0.001

			if var_210_6 <= arg_207_1.time_ and arg_207_1.time_ < var_210_6 + var_210_7 then
				local var_210_8 = (arg_207_1.time_ - var_210_6) / var_210_7
				local var_210_9 = Vector3.New(-0.2, -1.08, -5.9)

				var_210_5.localPosition = Vector3.Lerp(arg_207_1.var_.moveOldPos1019ui_story, var_210_9, var_210_8)

				local var_210_10 = manager.ui.mainCamera.transform.position - var_210_5.position

				var_210_5.forward = Vector3.New(var_210_10.x, var_210_10.y, var_210_10.z)

				local var_210_11 = var_210_5.localEulerAngles

				var_210_11.z = 0
				var_210_11.x = 0
				var_210_5.localEulerAngles = var_210_11
			end

			if arg_207_1.time_ >= var_210_6 + var_210_7 and arg_207_1.time_ < var_210_6 + var_210_7 + arg_210_0 then
				var_210_5.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_210_12 = manager.ui.mainCamera.transform.position - var_210_5.position

				var_210_5.forward = Vector3.New(var_210_12.x, var_210_12.y, var_210_12.z)

				local var_210_13 = var_210_5.localEulerAngles

				var_210_13.z = 0
				var_210_13.x = 0
				var_210_5.localEulerAngles = var_210_13
			end

			local var_210_14 = arg_207_1.actors_["1019ui_story"]
			local var_210_15 = 0

			if var_210_15 < arg_207_1.time_ and arg_207_1.time_ <= var_210_15 + arg_210_0 and not isNil(var_210_14) and arg_207_1.var_.characterEffect1019ui_story == nil then
				arg_207_1.var_.characterEffect1019ui_story = var_210_14:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_210_16 = 0.200000002980232

			if var_210_15 <= arg_207_1.time_ and arg_207_1.time_ < var_210_15 + var_210_16 and not isNil(var_210_14) then
				local var_210_17 = (arg_207_1.time_ - var_210_15) / var_210_16

				if arg_207_1.var_.characterEffect1019ui_story and not isNil(var_210_14) then
					arg_207_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_207_1.time_ >= var_210_15 + var_210_16 and arg_207_1.time_ < var_210_15 + var_210_16 + arg_210_0 and not isNil(var_210_14) and arg_207_1.var_.characterEffect1019ui_story then
				arg_207_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_210_18 = 0

			if var_210_18 < arg_207_1.time_ and arg_207_1.time_ <= var_210_18 + arg_210_0 then
				arg_207_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_210_19 = 0

			if var_210_19 < arg_207_1.time_ and arg_207_1.time_ <= var_210_19 + arg_210_0 then
				arg_207_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_210_20 = arg_207_1.actors_["1019ui_story"]
			local var_210_21 = 0

			if var_210_21 < arg_207_1.time_ and arg_207_1.time_ <= var_210_21 + arg_210_0 then
				if arg_207_1.var_.characterEffect1019ui_story == nil then
					arg_207_1.var_.characterEffect1019ui_story = var_210_20:GetComponentInChildren(typeof(CharacterEffect))
				end

				local var_210_22 = arg_207_1.var_.characterEffect1019ui_story

				var_210_22.imageEffect:turnOff()

				var_210_22.interferenceEffect.enabled = true
				var_210_22.interferenceEffect.noise = 0.001
				var_210_22.interferenceEffect.simTimeScale = 1
				var_210_22.interferenceEffect.geometryOutlineColor = Color.New(0.3725, 0.88, 1, 1)
			end

			local var_210_23 = arg_207_1.actors_["1019ui_story"]
			local var_210_24 = 0
			local var_210_25 = 0.034000001847744

			if var_210_24 < arg_207_1.time_ and arg_207_1.time_ <= var_210_24 + arg_210_0 then
				if arg_207_1.var_.characterEffect1019ui_story == nil then
					arg_207_1.var_.characterEffect1019ui_story = var_210_23:GetComponentInChildren(typeof(CharacterEffect))
				end

				arg_207_1.var_.characterEffect1019ui_story.imageEffect:turnOn(false)
			end

			local var_210_26 = 0
			local var_210_27 = 0.200000002980232

			if var_210_26 < arg_207_1.time_ and arg_207_1.time_ <= var_210_26 + arg_210_0 then
				local var_210_28 = "play"
				local var_210_29 = "music"

				arg_207_1:AudioAction(var_210_28, var_210_29, "ui_battle", "ui_battle_stopbgm", "")

				local var_210_30 = ""
				local var_210_31 = manager.audio:GetAudioName("ui_battle", "ui_battle_stopbgm")

				if var_210_31 ~= "" then
					if arg_207_1.bgmTxt_.text ~= var_210_31 and arg_207_1.bgmTxt_.text ~= "" then
						if arg_207_1.bgmTxt2_.text ~= "" then
							arg_207_1.bgmTxt_.text = arg_207_1.bgmTxt2_.text
						end

						arg_207_1.bgmTxt2_.text = var_210_31

						arg_207_1.musicChangeAnimator_:Play("music_change", 0, 0)
					else
						arg_207_1.bgmTxt_.text = var_210_31
					end

					if arg_207_1.bgmTimer then
						arg_207_1.bgmTimer:Stop()

						arg_207_1.bgmTimer = nil
					end

					if arg_207_1.settingData.show_music_name == 1 then
						arg_207_1.musicController:SetSelectedState("show")
						arg_207_1.musicAnimator_:Play("open", 0, 0)

						if arg_207_1.settingData.music_time ~= 0 then
							arg_207_1.bgmTimer = TimeTools.StartAfterSeconds(tonumber(arg_207_1.settingData.music_time), function()
								if arg_207_1 == nil or isNil(arg_207_1.bgmTxt_) then
									return
								end

								arg_207_1.musicController:SetSelectedState("hide")
								arg_207_1.musicAnimator_:Play("back", 0, 0)
							end, {})
						end
					end
				end
			end

			local var_210_32 = 0.3
			local var_210_33 = 1

			if var_210_32 < arg_207_1.time_ and arg_207_1.time_ <= var_210_32 + arg_210_0 then
				local var_210_34 = "play"
				local var_210_35 = "music"

				arg_207_1:AudioAction(var_210_34, var_210_35, "bgm_activity_2_6_story_sasanami_quiet", "bgm_activity_2_6_story_sasanami_quiet", "bgm_activity_2_6_story_sasanami_quiet.awb")

				local var_210_36 = ""
				local var_210_37 = manager.audio:GetAudioName("bgm_activity_2_6_story_sasanami_quiet", "bgm_activity_2_6_story_sasanami_quiet")

				if var_210_37 ~= "" then
					if arg_207_1.bgmTxt_.text ~= var_210_37 and arg_207_1.bgmTxt_.text ~= "" then
						if arg_207_1.bgmTxt2_.text ~= "" then
							arg_207_1.bgmTxt_.text = arg_207_1.bgmTxt2_.text
						end

						arg_207_1.bgmTxt2_.text = var_210_37

						arg_207_1.musicChangeAnimator_:Play("music_change", 0, 0)
					else
						arg_207_1.bgmTxt_.text = var_210_37
					end

					if arg_207_1.bgmTimer then
						arg_207_1.bgmTimer:Stop()

						arg_207_1.bgmTimer = nil
					end

					if arg_207_1.settingData.show_music_name == 1 then
						arg_207_1.musicController:SetSelectedState("show")
						arg_207_1.musicAnimator_:Play("open", 0, 0)

						if arg_207_1.settingData.music_time ~= 0 then
							arg_207_1.bgmTimer = TimeTools.StartAfterSeconds(tonumber(arg_207_1.settingData.music_time), function()
								if arg_207_1 == nil or isNil(arg_207_1.bgmTxt_) then
									return
								end

								arg_207_1.musicController:SetSelectedState("hide")
								arg_207_1.musicAnimator_:Play("back", 0, 0)
							end, {})
						end
					end
				end
			end

			local var_210_38 = 0
			local var_210_39 = 0.4

			if var_210_38 < arg_207_1.time_ and arg_207_1.time_ <= var_210_38 + arg_210_0 then
				arg_207_1.talkMaxDuration = 0
				arg_207_1.dialogCg_.alpha = 1

				arg_207_1.dialog_:SetActive(true)
				SetActive(arg_207_1.leftNameGo_, true)

				local var_210_40 = arg_207_1:FormatText(StoryNameCfg[47].name)

				arg_207_1.leftNameTxt_.text = var_210_40

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_207_1.leftNameTxt_.transform)

				arg_207_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_207_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_207_1:RecordName(arg_207_1.leftNameTxt_.text)
				SetActive(arg_207_1.iconTrs_.gameObject, false)
				arg_207_1.callingController_:SetSelectedState("normal")

				local var_210_41 = arg_207_1:GetWordFromCfg(317021050)
				local var_210_42 = arg_207_1:FormatText(var_210_41.content)

				arg_207_1.text_.text = var_210_42

				LuaForUtil.ClearLinePrefixSymbol(arg_207_1.text_)

				local var_210_43 = 16
				local var_210_44 = utf8.len(var_210_42)
				local var_210_45 = var_210_43 <= 0 and var_210_39 or var_210_39 * (var_210_44 / var_210_43)

				if var_210_45 > 0 and var_210_39 < var_210_45 then
					arg_207_1.talkMaxDuration = var_210_45

					if var_210_45 + var_210_38 > arg_207_1.duration_ then
						arg_207_1.duration_ = var_210_45 + var_210_38
					end
				end

				arg_207_1.text_.text = var_210_42
				arg_207_1.typewritter.percent = 0

				arg_207_1.typewritter:SetDirty()
				arg_207_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021050", "story_v_out_317021.awb") ~= 0 then
					local var_210_46 = manager.audio:GetVoiceLength("story_v_out_317021", "317021050", "story_v_out_317021.awb") / 1000

					if var_210_46 + var_210_38 > arg_207_1.duration_ then
						arg_207_1.duration_ = var_210_46 + var_210_38
					end

					if var_210_41.prefab_name ~= "" and arg_207_1.actors_[var_210_41.prefab_name] ~= nil then
						local var_210_47 = LuaForUtil.PlayVoiceWithCriLipsync(arg_207_1.actors_[var_210_41.prefab_name].transform, "story_v_out_317021", "317021050", "story_v_out_317021.awb")

						arg_207_1:RecordAudio("317021050", var_210_47)
						arg_207_1:RecordAudio("317021050", var_210_47)
					else
						arg_207_1:AudioAction("play", "voice", "story_v_out_317021", "317021050", "story_v_out_317021.awb")
					end

					arg_207_1:RecordHistoryTalkVoice("story_v_out_317021", "317021050", "story_v_out_317021.awb")
				end

				arg_207_1:RecordContent(arg_207_1.text_.text)
			end

			local var_210_48 = math.max(var_210_39, arg_207_1.talkMaxDuration)

			if var_210_38 <= arg_207_1.time_ and arg_207_1.time_ < var_210_38 + var_210_48 then
				arg_207_1.typewritter.percent = (arg_207_1.time_ - var_210_38) / var_210_48

				arg_207_1.typewritter:SetDirty()
			end

			if arg_207_1.time_ >= var_210_38 + var_210_48 and arg_207_1.time_ < var_210_38 + var_210_48 + arg_210_0 then
				arg_207_1.typewritter.percent = 1

				arg_207_1.typewritter:SetDirty()
				arg_207_1:ShowNextGo(true)
			end
		end
	end,
	Play317021051 = function(arg_213_0, arg_213_1)
		arg_213_1.time_ = 0
		arg_213_1.frameCnt_ = 0
		arg_213_1.state_ = "playing"
		arg_213_1.curTalkId_ = 317021051
		arg_213_1.duration_ = 13.27

		local var_213_0 = {
			zh = 6.1,
			ja = 13.266
		}
		local var_213_1 = manager.audio:GetLocalizationFlag()

		if var_213_0[var_213_1] ~= nil then
			arg_213_1.duration_ = var_213_0[var_213_1]
		end

		SetActive(arg_213_1.tipsGo_, false)

		function arg_213_1.onSingleLineFinish_()
			arg_213_1.onSingleLineUpdate_ = nil
			arg_213_1.onSingleLineFinish_ = nil
			arg_213_1.state_ = "waiting"
		end

		function arg_213_1.playNext_(arg_215_0)
			if arg_215_0 == 1 then
				arg_213_0:Play317021052(arg_213_1)
			end
		end

		function arg_213_1.onSingleLineUpdate_(arg_216_0)
			local var_216_0 = 0
			local var_216_1 = 0.75

			if var_216_0 < arg_213_1.time_ and arg_213_1.time_ <= var_216_0 + arg_216_0 then
				arg_213_1.talkMaxDuration = 0
				arg_213_1.dialogCg_.alpha = 1

				arg_213_1.dialog_:SetActive(true)
				SetActive(arg_213_1.leftNameGo_, true)

				local var_216_2 = arg_213_1:FormatText(StoryNameCfg[47].name)

				arg_213_1.leftNameTxt_.text = var_216_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_213_1.leftNameTxt_.transform)

				arg_213_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_213_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_213_1:RecordName(arg_213_1.leftNameTxt_.text)
				SetActive(arg_213_1.iconTrs_.gameObject, false)
				arg_213_1.callingController_:SetSelectedState("normal")

				local var_216_3 = arg_213_1:GetWordFromCfg(317021051)
				local var_216_4 = arg_213_1:FormatText(var_216_3.content)

				arg_213_1.text_.text = var_216_4

				LuaForUtil.ClearLinePrefixSymbol(arg_213_1.text_)

				local var_216_5 = 30
				local var_216_6 = utf8.len(var_216_4)
				local var_216_7 = var_216_5 <= 0 and var_216_1 or var_216_1 * (var_216_6 / var_216_5)

				if var_216_7 > 0 and var_216_1 < var_216_7 then
					arg_213_1.talkMaxDuration = var_216_7

					if var_216_7 + var_216_0 > arg_213_1.duration_ then
						arg_213_1.duration_ = var_216_7 + var_216_0
					end
				end

				arg_213_1.text_.text = var_216_4
				arg_213_1.typewritter.percent = 0

				arg_213_1.typewritter:SetDirty()
				arg_213_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021051", "story_v_out_317021.awb") ~= 0 then
					local var_216_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021051", "story_v_out_317021.awb") / 1000

					if var_216_8 + var_216_0 > arg_213_1.duration_ then
						arg_213_1.duration_ = var_216_8 + var_216_0
					end

					if var_216_3.prefab_name ~= "" and arg_213_1.actors_[var_216_3.prefab_name] ~= nil then
						local var_216_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_213_1.actors_[var_216_3.prefab_name].transform, "story_v_out_317021", "317021051", "story_v_out_317021.awb")

						arg_213_1:RecordAudio("317021051", var_216_9)
						arg_213_1:RecordAudio("317021051", var_216_9)
					else
						arg_213_1:AudioAction("play", "voice", "story_v_out_317021", "317021051", "story_v_out_317021.awb")
					end

					arg_213_1:RecordHistoryTalkVoice("story_v_out_317021", "317021051", "story_v_out_317021.awb")
				end

				arg_213_1:RecordContent(arg_213_1.text_.text)
			end

			local var_216_10 = math.max(var_216_1, arg_213_1.talkMaxDuration)

			if var_216_0 <= arg_213_1.time_ and arg_213_1.time_ < var_216_0 + var_216_10 then
				arg_213_1.typewritter.percent = (arg_213_1.time_ - var_216_0) / var_216_10

				arg_213_1.typewritter:SetDirty()
			end

			if arg_213_1.time_ >= var_216_0 + var_216_10 and arg_213_1.time_ < var_216_0 + var_216_10 + arg_216_0 then
				arg_213_1.typewritter.percent = 1

				arg_213_1.typewritter:SetDirty()
				arg_213_1:ShowNextGo(true)
			end
		end
	end,
	Play317021052 = function(arg_217_0, arg_217_1)
		arg_217_1.time_ = 0
		arg_217_1.frameCnt_ = 0
		arg_217_1.state_ = "playing"
		arg_217_1.curTalkId_ = 317021052
		arg_217_1.duration_ = 5

		SetActive(arg_217_1.tipsGo_, false)

		function arg_217_1.onSingleLineFinish_()
			arg_217_1.onSingleLineUpdate_ = nil
			arg_217_1.onSingleLineFinish_ = nil
			arg_217_1.state_ = "waiting"
		end

		function arg_217_1.playNext_(arg_219_0)
			if arg_219_0 == 1 then
				arg_217_0:Play317021053(arg_217_1)
			end
		end

		function arg_217_1.onSingleLineUpdate_(arg_220_0)
			local var_220_0 = arg_217_1.actors_["1019ui_story"]
			local var_220_1 = 0

			if var_220_1 < arg_217_1.time_ and arg_217_1.time_ <= var_220_1 + arg_220_0 and not isNil(var_220_0) and arg_217_1.var_.characterEffect1019ui_story == nil then
				arg_217_1.var_.characterEffect1019ui_story = var_220_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_220_2 = 0.200000002980232

			if var_220_1 <= arg_217_1.time_ and arg_217_1.time_ < var_220_1 + var_220_2 and not isNil(var_220_0) then
				local var_220_3 = (arg_217_1.time_ - var_220_1) / var_220_2

				if arg_217_1.var_.characterEffect1019ui_story and not isNil(var_220_0) then
					local var_220_4 = Mathf.Lerp(0, 0.5, var_220_3)

					arg_217_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_217_1.var_.characterEffect1019ui_story.fillRatio = var_220_4
				end
			end

			if arg_217_1.time_ >= var_220_1 + var_220_2 and arg_217_1.time_ < var_220_1 + var_220_2 + arg_220_0 and not isNil(var_220_0) and arg_217_1.var_.characterEffect1019ui_story then
				local var_220_5 = 0.5

				arg_217_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_217_1.var_.characterEffect1019ui_story.fillRatio = var_220_5
			end

			local var_220_6 = 0
			local var_220_7 = 0.25

			if var_220_6 < arg_217_1.time_ and arg_217_1.time_ <= var_220_6 + arg_220_0 then
				arg_217_1.talkMaxDuration = 0
				arg_217_1.dialogCg_.alpha = 1

				arg_217_1.dialog_:SetActive(true)
				SetActive(arg_217_1.leftNameGo_, true)

				local var_220_8 = arg_217_1:FormatText(StoryNameCfg[7].name)

				arg_217_1.leftNameTxt_.text = var_220_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_217_1.leftNameTxt_.transform)

				arg_217_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_217_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_217_1:RecordName(arg_217_1.leftNameTxt_.text)
				SetActive(arg_217_1.iconTrs_.gameObject, false)
				arg_217_1.callingController_:SetSelectedState("normal")

				local var_220_9 = arg_217_1:GetWordFromCfg(317021052)
				local var_220_10 = arg_217_1:FormatText(var_220_9.content)

				arg_217_1.text_.text = var_220_10

				LuaForUtil.ClearLinePrefixSymbol(arg_217_1.text_)

				local var_220_11 = 10
				local var_220_12 = utf8.len(var_220_10)
				local var_220_13 = var_220_11 <= 0 and var_220_7 or var_220_7 * (var_220_12 / var_220_11)

				if var_220_13 > 0 and var_220_7 < var_220_13 then
					arg_217_1.talkMaxDuration = var_220_13

					if var_220_13 + var_220_6 > arg_217_1.duration_ then
						arg_217_1.duration_ = var_220_13 + var_220_6
					end
				end

				arg_217_1.text_.text = var_220_10
				arg_217_1.typewritter.percent = 0

				arg_217_1.typewritter:SetDirty()
				arg_217_1:ShowNextGo(false)
				arg_217_1:RecordContent(arg_217_1.text_.text)
			end

			local var_220_14 = math.max(var_220_7, arg_217_1.talkMaxDuration)

			if var_220_6 <= arg_217_1.time_ and arg_217_1.time_ < var_220_6 + var_220_14 then
				arg_217_1.typewritter.percent = (arg_217_1.time_ - var_220_6) / var_220_14

				arg_217_1.typewritter:SetDirty()
			end

			if arg_217_1.time_ >= var_220_6 + var_220_14 and arg_217_1.time_ < var_220_6 + var_220_14 + arg_220_0 then
				arg_217_1.typewritter.percent = 1

				arg_217_1.typewritter:SetDirty()
				arg_217_1:ShowNextGo(true)
			end
		end
	end,
	Play317021053 = function(arg_221_0, arg_221_1)
		arg_221_1.time_ = 0
		arg_221_1.frameCnt_ = 0
		arg_221_1.state_ = "playing"
		arg_221_1.curTalkId_ = 317021053
		arg_221_1.duration_ = 5

		SetActive(arg_221_1.tipsGo_, false)

		function arg_221_1.onSingleLineFinish_()
			arg_221_1.onSingleLineUpdate_ = nil
			arg_221_1.onSingleLineFinish_ = nil
			arg_221_1.state_ = "waiting"
		end

		function arg_221_1.playNext_(arg_223_0)
			if arg_223_0 == 1 then
				arg_221_0:Play317021054(arg_221_1)
			end
		end

		function arg_221_1.onSingleLineUpdate_(arg_224_0)
			local var_224_0 = 0
			local var_224_1 = 0.2

			if var_224_0 < arg_221_1.time_ and arg_221_1.time_ <= var_224_0 + arg_224_0 then
				arg_221_1.talkMaxDuration = 0
				arg_221_1.dialogCg_.alpha = 1

				arg_221_1.dialog_:SetActive(true)
				SetActive(arg_221_1.leftNameGo_, true)

				local var_224_2 = arg_221_1:FormatText(StoryNameCfg[7].name)

				arg_221_1.leftNameTxt_.text = var_224_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_221_1.leftNameTxt_.transform)

				arg_221_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_221_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_221_1:RecordName(arg_221_1.leftNameTxt_.text)
				SetActive(arg_221_1.iconTrs_.gameObject, false)
				arg_221_1.callingController_:SetSelectedState("normal")

				local var_224_3 = arg_221_1:GetWordFromCfg(317021053)
				local var_224_4 = arg_221_1:FormatText(var_224_3.content)

				arg_221_1.text_.text = var_224_4

				LuaForUtil.ClearLinePrefixSymbol(arg_221_1.text_)

				local var_224_5 = 8
				local var_224_6 = utf8.len(var_224_4)
				local var_224_7 = var_224_5 <= 0 and var_224_1 or var_224_1 * (var_224_6 / var_224_5)

				if var_224_7 > 0 and var_224_1 < var_224_7 then
					arg_221_1.talkMaxDuration = var_224_7

					if var_224_7 + var_224_0 > arg_221_1.duration_ then
						arg_221_1.duration_ = var_224_7 + var_224_0
					end
				end

				arg_221_1.text_.text = var_224_4
				arg_221_1.typewritter.percent = 0

				arg_221_1.typewritter:SetDirty()
				arg_221_1:ShowNextGo(false)
				arg_221_1:RecordContent(arg_221_1.text_.text)
			end

			local var_224_8 = math.max(var_224_1, arg_221_1.talkMaxDuration)

			if var_224_0 <= arg_221_1.time_ and arg_221_1.time_ < var_224_0 + var_224_8 then
				arg_221_1.typewritter.percent = (arg_221_1.time_ - var_224_0) / var_224_8

				arg_221_1.typewritter:SetDirty()
			end

			if arg_221_1.time_ >= var_224_0 + var_224_8 and arg_221_1.time_ < var_224_0 + var_224_8 + arg_224_0 then
				arg_221_1.typewritter.percent = 1

				arg_221_1.typewritter:SetDirty()
				arg_221_1:ShowNextGo(true)
			end
		end
	end,
	Play317021054 = function(arg_225_0, arg_225_1)
		arg_225_1.time_ = 0
		arg_225_1.frameCnt_ = 0
		arg_225_1.state_ = "playing"
		arg_225_1.curTalkId_ = 317021054
		arg_225_1.duration_ = 12.5

		local var_225_0 = {
			zh = 12.5,
			ja = 11.8
		}
		local var_225_1 = manager.audio:GetLocalizationFlag()

		if var_225_0[var_225_1] ~= nil then
			arg_225_1.duration_ = var_225_0[var_225_1]
		end

		SetActive(arg_225_1.tipsGo_, false)

		function arg_225_1.onSingleLineFinish_()
			arg_225_1.onSingleLineUpdate_ = nil
			arg_225_1.onSingleLineFinish_ = nil
			arg_225_1.state_ = "waiting"
		end

		function arg_225_1.playNext_(arg_227_0)
			if arg_227_0 == 1 then
				arg_225_0:Play317021055(arg_225_1)
			end
		end

		function arg_225_1.onSingleLineUpdate_(arg_228_0)
			local var_228_0 = arg_225_1.actors_["1019ui_story"].transform
			local var_228_1 = 0

			if var_228_1 < arg_225_1.time_ and arg_225_1.time_ <= var_228_1 + arg_228_0 then
				arg_225_1.var_.moveOldPos1019ui_story = var_228_0.localPosition
			end

			local var_228_2 = 0.001

			if var_228_1 <= arg_225_1.time_ and arg_225_1.time_ < var_228_1 + var_228_2 then
				local var_228_3 = (arg_225_1.time_ - var_228_1) / var_228_2
				local var_228_4 = Vector3.New(0, 100, 0)

				var_228_0.localPosition = Vector3.Lerp(arg_225_1.var_.moveOldPos1019ui_story, var_228_4, var_228_3)

				local var_228_5 = manager.ui.mainCamera.transform.position - var_228_0.position

				var_228_0.forward = Vector3.New(var_228_5.x, var_228_5.y, var_228_5.z)

				local var_228_6 = var_228_0.localEulerAngles

				var_228_6.z = 0
				var_228_6.x = 0
				var_228_0.localEulerAngles = var_228_6
			end

			if arg_225_1.time_ >= var_228_1 + var_228_2 and arg_225_1.time_ < var_228_1 + var_228_2 + arg_228_0 then
				var_228_0.localPosition = Vector3.New(0, 100, 0)

				local var_228_7 = manager.ui.mainCamera.transform.position - var_228_0.position

				var_228_0.forward = Vector3.New(var_228_7.x, var_228_7.y, var_228_7.z)

				local var_228_8 = var_228_0.localEulerAngles

				var_228_8.z = 0
				var_228_8.x = 0
				var_228_0.localEulerAngles = var_228_8
			end

			local var_228_9 = arg_225_1.actors_["1019ui_story"]
			local var_228_10 = 0

			if var_228_10 < arg_225_1.time_ and arg_225_1.time_ <= var_228_10 + arg_228_0 and not isNil(var_228_9) and arg_225_1.var_.characterEffect1019ui_story == nil then
				arg_225_1.var_.characterEffect1019ui_story = var_228_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_228_11 = 0.200000002980232

			if var_228_10 <= arg_225_1.time_ and arg_225_1.time_ < var_228_10 + var_228_11 and not isNil(var_228_9) then
				local var_228_12 = (arg_225_1.time_ - var_228_10) / var_228_11

				if arg_225_1.var_.characterEffect1019ui_story and not isNil(var_228_9) then
					local var_228_13 = Mathf.Lerp(0, 0.5, var_228_12)

					arg_225_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_225_1.var_.characterEffect1019ui_story.fillRatio = var_228_13
				end
			end

			if arg_225_1.time_ >= var_228_10 + var_228_11 and arg_225_1.time_ < var_228_10 + var_228_11 + arg_228_0 and not isNil(var_228_9) and arg_225_1.var_.characterEffect1019ui_story then
				local var_228_14 = 0.5

				arg_225_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_225_1.var_.characterEffect1019ui_story.fillRatio = var_228_14
			end

			local var_228_15 = arg_225_1.actors_["1050ui_story"].transform
			local var_228_16 = 0

			if var_228_16 < arg_225_1.time_ and arg_225_1.time_ <= var_228_16 + arg_228_0 then
				arg_225_1.var_.moveOldPos1050ui_story = var_228_15.localPosition
			end

			local var_228_17 = 0.001

			if var_228_16 <= arg_225_1.time_ and arg_225_1.time_ < var_228_16 + var_228_17 then
				local var_228_18 = (arg_225_1.time_ - var_228_16) / var_228_17
				local var_228_19 = Vector3.New(0, -1, -6.1)

				var_228_15.localPosition = Vector3.Lerp(arg_225_1.var_.moveOldPos1050ui_story, var_228_19, var_228_18)

				local var_228_20 = manager.ui.mainCamera.transform.position - var_228_15.position

				var_228_15.forward = Vector3.New(var_228_20.x, var_228_20.y, var_228_20.z)

				local var_228_21 = var_228_15.localEulerAngles

				var_228_21.z = 0
				var_228_21.x = 0
				var_228_15.localEulerAngles = var_228_21
			end

			if arg_225_1.time_ >= var_228_16 + var_228_17 and arg_225_1.time_ < var_228_16 + var_228_17 + arg_228_0 then
				var_228_15.localPosition = Vector3.New(0, -1, -6.1)

				local var_228_22 = manager.ui.mainCamera.transform.position - var_228_15.position

				var_228_15.forward = Vector3.New(var_228_22.x, var_228_22.y, var_228_22.z)

				local var_228_23 = var_228_15.localEulerAngles

				var_228_23.z = 0
				var_228_23.x = 0
				var_228_15.localEulerAngles = var_228_23
			end

			local var_228_24 = arg_225_1.actors_["1050ui_story"]
			local var_228_25 = 0

			if var_228_25 < arg_225_1.time_ and arg_225_1.time_ <= var_228_25 + arg_228_0 and not isNil(var_228_24) and arg_225_1.var_.characterEffect1050ui_story == nil then
				arg_225_1.var_.characterEffect1050ui_story = var_228_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_228_26 = 0.200000002980232

			if var_228_25 <= arg_225_1.time_ and arg_225_1.time_ < var_228_25 + var_228_26 and not isNil(var_228_24) then
				local var_228_27 = (arg_225_1.time_ - var_228_25) / var_228_26

				if arg_225_1.var_.characterEffect1050ui_story and not isNil(var_228_24) then
					arg_225_1.var_.characterEffect1050ui_story.fillFlat = false
				end
			end

			if arg_225_1.time_ >= var_228_25 + var_228_26 and arg_225_1.time_ < var_228_25 + var_228_26 + arg_228_0 and not isNil(var_228_24) and arg_225_1.var_.characterEffect1050ui_story then
				arg_225_1.var_.characterEffect1050ui_story.fillFlat = false
			end

			local var_228_28 = 0

			if var_228_28 < arg_225_1.time_ and arg_225_1.time_ <= var_228_28 + arg_228_0 then
				arg_225_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/1050/1050action/1050action2_1")
			end

			local var_228_29 = 0

			if var_228_29 < arg_225_1.time_ and arg_225_1.time_ <= var_228_29 + arg_228_0 then
				arg_225_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_228_30 = 0
			local var_228_31 = 1.575

			if var_228_30 < arg_225_1.time_ and arg_225_1.time_ <= var_228_30 + arg_228_0 then
				arg_225_1.talkMaxDuration = 0
				arg_225_1.dialogCg_.alpha = 1

				arg_225_1.dialog_:SetActive(true)
				SetActive(arg_225_1.leftNameGo_, true)

				local var_228_32 = arg_225_1:FormatText(StoryNameCfg[74].name)

				arg_225_1.leftNameTxt_.text = var_228_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_225_1.leftNameTxt_.transform)

				arg_225_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_225_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_225_1:RecordName(arg_225_1.leftNameTxt_.text)
				SetActive(arg_225_1.iconTrs_.gameObject, false)
				arg_225_1.callingController_:SetSelectedState("normal")

				local var_228_33 = arg_225_1:GetWordFromCfg(317021054)
				local var_228_34 = arg_225_1:FormatText(var_228_33.content)

				arg_225_1.text_.text = var_228_34

				LuaForUtil.ClearLinePrefixSymbol(arg_225_1.text_)

				local var_228_35 = 63
				local var_228_36 = utf8.len(var_228_34)
				local var_228_37 = var_228_35 <= 0 and var_228_31 or var_228_31 * (var_228_36 / var_228_35)

				if var_228_37 > 0 and var_228_31 < var_228_37 then
					arg_225_1.talkMaxDuration = var_228_37

					if var_228_37 + var_228_30 > arg_225_1.duration_ then
						arg_225_1.duration_ = var_228_37 + var_228_30
					end
				end

				arg_225_1.text_.text = var_228_34
				arg_225_1.typewritter.percent = 0

				arg_225_1.typewritter:SetDirty()
				arg_225_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021054", "story_v_out_317021.awb") ~= 0 then
					local var_228_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021054", "story_v_out_317021.awb") / 1000

					if var_228_38 + var_228_30 > arg_225_1.duration_ then
						arg_225_1.duration_ = var_228_38 + var_228_30
					end

					if var_228_33.prefab_name ~= "" and arg_225_1.actors_[var_228_33.prefab_name] ~= nil then
						local var_228_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_225_1.actors_[var_228_33.prefab_name].transform, "story_v_out_317021", "317021054", "story_v_out_317021.awb")

						arg_225_1:RecordAudio("317021054", var_228_39)
						arg_225_1:RecordAudio("317021054", var_228_39)
					else
						arg_225_1:AudioAction("play", "voice", "story_v_out_317021", "317021054", "story_v_out_317021.awb")
					end

					arg_225_1:RecordHistoryTalkVoice("story_v_out_317021", "317021054", "story_v_out_317021.awb")
				end

				arg_225_1:RecordContent(arg_225_1.text_.text)
			end

			local var_228_40 = math.max(var_228_31, arg_225_1.talkMaxDuration)

			if var_228_30 <= arg_225_1.time_ and arg_225_1.time_ < var_228_30 + var_228_40 then
				arg_225_1.typewritter.percent = (arg_225_1.time_ - var_228_30) / var_228_40

				arg_225_1.typewritter:SetDirty()
			end

			if arg_225_1.time_ >= var_228_30 + var_228_40 and arg_225_1.time_ < var_228_30 + var_228_40 + arg_228_0 then
				arg_225_1.typewritter.percent = 1

				arg_225_1.typewritter:SetDirty()
				arg_225_1:ShowNextGo(true)
			end
		end
	end,
	Play317021055 = function(arg_229_0, arg_229_1)
		arg_229_1.time_ = 0
		arg_229_1.frameCnt_ = 0
		arg_229_1.state_ = "playing"
		arg_229_1.curTalkId_ = 317021055
		arg_229_1.duration_ = 12.47

		local var_229_0 = {
			zh = 7.433,
			ja = 12.466
		}
		local var_229_1 = manager.audio:GetLocalizationFlag()

		if var_229_0[var_229_1] ~= nil then
			arg_229_1.duration_ = var_229_0[var_229_1]
		end

		SetActive(arg_229_1.tipsGo_, false)

		function arg_229_1.onSingleLineFinish_()
			arg_229_1.onSingleLineUpdate_ = nil
			arg_229_1.onSingleLineFinish_ = nil
			arg_229_1.state_ = "waiting"
		end

		function arg_229_1.playNext_(arg_231_0)
			if arg_231_0 == 1 then
				arg_229_0:Play317021056(arg_229_1)
			end
		end

		function arg_229_1.onSingleLineUpdate_(arg_232_0)
			local var_232_0 = arg_229_1.actors_["1019ui_story"].transform
			local var_232_1 = 0

			if var_232_1 < arg_229_1.time_ and arg_229_1.time_ <= var_232_1 + arg_232_0 then
				arg_229_1.var_.moveOldPos1019ui_story = var_232_0.localPosition
			end

			local var_232_2 = 0.001

			if var_232_1 <= arg_229_1.time_ and arg_229_1.time_ < var_232_1 + var_232_2 then
				local var_232_3 = (arg_229_1.time_ - var_232_1) / var_232_2
				local var_232_4 = Vector3.New(-0.2, -1.08, -5.9)

				var_232_0.localPosition = Vector3.Lerp(arg_229_1.var_.moveOldPos1019ui_story, var_232_4, var_232_3)

				local var_232_5 = manager.ui.mainCamera.transform.position - var_232_0.position

				var_232_0.forward = Vector3.New(var_232_5.x, var_232_5.y, var_232_5.z)

				local var_232_6 = var_232_0.localEulerAngles

				var_232_6.z = 0
				var_232_6.x = 0
				var_232_0.localEulerAngles = var_232_6
			end

			if arg_229_1.time_ >= var_232_1 + var_232_2 and arg_229_1.time_ < var_232_1 + var_232_2 + arg_232_0 then
				var_232_0.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_232_7 = manager.ui.mainCamera.transform.position - var_232_0.position

				var_232_0.forward = Vector3.New(var_232_7.x, var_232_7.y, var_232_7.z)

				local var_232_8 = var_232_0.localEulerAngles

				var_232_8.z = 0
				var_232_8.x = 0
				var_232_0.localEulerAngles = var_232_8
			end

			local var_232_9 = arg_229_1.actors_["1019ui_story"]
			local var_232_10 = 0

			if var_232_10 < arg_229_1.time_ and arg_229_1.time_ <= var_232_10 + arg_232_0 and not isNil(var_232_9) and arg_229_1.var_.characterEffect1019ui_story == nil then
				arg_229_1.var_.characterEffect1019ui_story = var_232_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_232_11 = 0.200000002980232

			if var_232_10 <= arg_229_1.time_ and arg_229_1.time_ < var_232_10 + var_232_11 and not isNil(var_232_9) then
				local var_232_12 = (arg_229_1.time_ - var_232_10) / var_232_11

				if arg_229_1.var_.characterEffect1019ui_story and not isNil(var_232_9) then
					arg_229_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_229_1.time_ >= var_232_10 + var_232_11 and arg_229_1.time_ < var_232_10 + var_232_11 + arg_232_0 and not isNil(var_232_9) and arg_229_1.var_.characterEffect1019ui_story then
				arg_229_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_232_13 = 0

			if var_232_13 < arg_229_1.time_ and arg_229_1.time_ <= var_232_13 + arg_232_0 then
				arg_229_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action2_1")
			end

			local var_232_14 = 0

			if var_232_14 < arg_229_1.time_ and arg_229_1.time_ <= var_232_14 + arg_232_0 then
				arg_229_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_232_15 = arg_229_1.actors_["1050ui_story"].transform
			local var_232_16 = 0

			if var_232_16 < arg_229_1.time_ and arg_229_1.time_ <= var_232_16 + arg_232_0 then
				arg_229_1.var_.moveOldPos1050ui_story = var_232_15.localPosition
			end

			local var_232_17 = 0.001

			if var_232_16 <= arg_229_1.time_ and arg_229_1.time_ < var_232_16 + var_232_17 then
				local var_232_18 = (arg_229_1.time_ - var_232_16) / var_232_17
				local var_232_19 = Vector3.New(0, 100, 0)

				var_232_15.localPosition = Vector3.Lerp(arg_229_1.var_.moveOldPos1050ui_story, var_232_19, var_232_18)

				local var_232_20 = manager.ui.mainCamera.transform.position - var_232_15.position

				var_232_15.forward = Vector3.New(var_232_20.x, var_232_20.y, var_232_20.z)

				local var_232_21 = var_232_15.localEulerAngles

				var_232_21.z = 0
				var_232_21.x = 0
				var_232_15.localEulerAngles = var_232_21
			end

			if arg_229_1.time_ >= var_232_16 + var_232_17 and arg_229_1.time_ < var_232_16 + var_232_17 + arg_232_0 then
				var_232_15.localPosition = Vector3.New(0, 100, 0)

				local var_232_22 = manager.ui.mainCamera.transform.position - var_232_15.position

				var_232_15.forward = Vector3.New(var_232_22.x, var_232_22.y, var_232_22.z)

				local var_232_23 = var_232_15.localEulerAngles

				var_232_23.z = 0
				var_232_23.x = 0
				var_232_15.localEulerAngles = var_232_23
			end

			local var_232_24 = arg_229_1.actors_["1050ui_story"]
			local var_232_25 = 0

			if var_232_25 < arg_229_1.time_ and arg_229_1.time_ <= var_232_25 + arg_232_0 and not isNil(var_232_24) and arg_229_1.var_.characterEffect1050ui_story == nil then
				arg_229_1.var_.characterEffect1050ui_story = var_232_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_232_26 = 0.200000002980232

			if var_232_25 <= arg_229_1.time_ and arg_229_1.time_ < var_232_25 + var_232_26 and not isNil(var_232_24) then
				local var_232_27 = (arg_229_1.time_ - var_232_25) / var_232_26

				if arg_229_1.var_.characterEffect1050ui_story and not isNil(var_232_24) then
					local var_232_28 = Mathf.Lerp(0, 0.5, var_232_27)

					arg_229_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_229_1.var_.characterEffect1050ui_story.fillRatio = var_232_28
				end
			end

			if arg_229_1.time_ >= var_232_25 + var_232_26 and arg_229_1.time_ < var_232_25 + var_232_26 + arg_232_0 and not isNil(var_232_24) and arg_229_1.var_.characterEffect1050ui_story then
				local var_232_29 = 0.5

				arg_229_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_229_1.var_.characterEffect1050ui_story.fillRatio = var_232_29
			end

			local var_232_30 = 0
			local var_232_31 = 0.8

			if var_232_30 < arg_229_1.time_ and arg_229_1.time_ <= var_232_30 + arg_232_0 then
				arg_229_1.talkMaxDuration = 0
				arg_229_1.dialogCg_.alpha = 1

				arg_229_1.dialog_:SetActive(true)
				SetActive(arg_229_1.leftNameGo_, true)

				local var_232_32 = arg_229_1:FormatText(StoryNameCfg[47].name)

				arg_229_1.leftNameTxt_.text = var_232_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_229_1.leftNameTxt_.transform)

				arg_229_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_229_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_229_1:RecordName(arg_229_1.leftNameTxt_.text)
				SetActive(arg_229_1.iconTrs_.gameObject, false)
				arg_229_1.callingController_:SetSelectedState("normal")

				local var_232_33 = arg_229_1:GetWordFromCfg(317021055)
				local var_232_34 = arg_229_1:FormatText(var_232_33.content)

				arg_229_1.text_.text = var_232_34

				LuaForUtil.ClearLinePrefixSymbol(arg_229_1.text_)

				local var_232_35 = 32
				local var_232_36 = utf8.len(var_232_34)
				local var_232_37 = var_232_35 <= 0 and var_232_31 or var_232_31 * (var_232_36 / var_232_35)

				if var_232_37 > 0 and var_232_31 < var_232_37 then
					arg_229_1.talkMaxDuration = var_232_37

					if var_232_37 + var_232_30 > arg_229_1.duration_ then
						arg_229_1.duration_ = var_232_37 + var_232_30
					end
				end

				arg_229_1.text_.text = var_232_34
				arg_229_1.typewritter.percent = 0

				arg_229_1.typewritter:SetDirty()
				arg_229_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021055", "story_v_out_317021.awb") ~= 0 then
					local var_232_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021055", "story_v_out_317021.awb") / 1000

					if var_232_38 + var_232_30 > arg_229_1.duration_ then
						arg_229_1.duration_ = var_232_38 + var_232_30
					end

					if var_232_33.prefab_name ~= "" and arg_229_1.actors_[var_232_33.prefab_name] ~= nil then
						local var_232_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_229_1.actors_[var_232_33.prefab_name].transform, "story_v_out_317021", "317021055", "story_v_out_317021.awb")

						arg_229_1:RecordAudio("317021055", var_232_39)
						arg_229_1:RecordAudio("317021055", var_232_39)
					else
						arg_229_1:AudioAction("play", "voice", "story_v_out_317021", "317021055", "story_v_out_317021.awb")
					end

					arg_229_1:RecordHistoryTalkVoice("story_v_out_317021", "317021055", "story_v_out_317021.awb")
				end

				arg_229_1:RecordContent(arg_229_1.text_.text)
			end

			local var_232_40 = math.max(var_232_31, arg_229_1.talkMaxDuration)

			if var_232_30 <= arg_229_1.time_ and arg_229_1.time_ < var_232_30 + var_232_40 then
				arg_229_1.typewritter.percent = (arg_229_1.time_ - var_232_30) / var_232_40

				arg_229_1.typewritter:SetDirty()
			end

			if arg_229_1.time_ >= var_232_30 + var_232_40 and arg_229_1.time_ < var_232_30 + var_232_40 + arg_232_0 then
				arg_229_1.typewritter.percent = 1

				arg_229_1.typewritter:SetDirty()
				arg_229_1:ShowNextGo(true)
			end
		end
	end,
	Play317021056 = function(arg_233_0, arg_233_1)
		arg_233_1.time_ = 0
		arg_233_1.frameCnt_ = 0
		arg_233_1.state_ = "playing"
		arg_233_1.curTalkId_ = 317021056
		arg_233_1.duration_ = 5

		SetActive(arg_233_1.tipsGo_, false)

		function arg_233_1.onSingleLineFinish_()
			arg_233_1.onSingleLineUpdate_ = nil
			arg_233_1.onSingleLineFinish_ = nil
			arg_233_1.state_ = "waiting"
		end

		function arg_233_1.playNext_(arg_235_0)
			if arg_235_0 == 1 then
				arg_233_0:Play317021057(arg_233_1)
			end
		end

		function arg_233_1.onSingleLineUpdate_(arg_236_0)
			local var_236_0 = arg_233_1.actors_["1019ui_story"]
			local var_236_1 = 0

			if var_236_1 < arg_233_1.time_ and arg_233_1.time_ <= var_236_1 + arg_236_0 and not isNil(var_236_0) and arg_233_1.var_.characterEffect1019ui_story == nil then
				arg_233_1.var_.characterEffect1019ui_story = var_236_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_236_2 = 0.200000002980232

			if var_236_1 <= arg_233_1.time_ and arg_233_1.time_ < var_236_1 + var_236_2 and not isNil(var_236_0) then
				local var_236_3 = (arg_233_1.time_ - var_236_1) / var_236_2

				if arg_233_1.var_.characterEffect1019ui_story and not isNil(var_236_0) then
					local var_236_4 = Mathf.Lerp(0, 0.5, var_236_3)

					arg_233_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_233_1.var_.characterEffect1019ui_story.fillRatio = var_236_4
				end
			end

			if arg_233_1.time_ >= var_236_1 + var_236_2 and arg_233_1.time_ < var_236_1 + var_236_2 + arg_236_0 and not isNil(var_236_0) and arg_233_1.var_.characterEffect1019ui_story then
				local var_236_5 = 0.5

				arg_233_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_233_1.var_.characterEffect1019ui_story.fillRatio = var_236_5
			end

			local var_236_6 = 0
			local var_236_7 = 0.875

			if var_236_6 < arg_233_1.time_ and arg_233_1.time_ <= var_236_6 + arg_236_0 then
				arg_233_1.talkMaxDuration = 0
				arg_233_1.dialogCg_.alpha = 1

				arg_233_1.dialog_:SetActive(true)
				SetActive(arg_233_1.leftNameGo_, true)

				local var_236_8 = arg_233_1:FormatText(StoryNameCfg[7].name)

				arg_233_1.leftNameTxt_.text = var_236_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_233_1.leftNameTxt_.transform)

				arg_233_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_233_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_233_1:RecordName(arg_233_1.leftNameTxt_.text)
				SetActive(arg_233_1.iconTrs_.gameObject, false)
				arg_233_1.callingController_:SetSelectedState("normal")

				local var_236_9 = arg_233_1:GetWordFromCfg(317021056)
				local var_236_10 = arg_233_1:FormatText(var_236_9.content)

				arg_233_1.text_.text = var_236_10

				LuaForUtil.ClearLinePrefixSymbol(arg_233_1.text_)

				local var_236_11 = 35
				local var_236_12 = utf8.len(var_236_10)
				local var_236_13 = var_236_11 <= 0 and var_236_7 or var_236_7 * (var_236_12 / var_236_11)

				if var_236_13 > 0 and var_236_7 < var_236_13 then
					arg_233_1.talkMaxDuration = var_236_13

					if var_236_13 + var_236_6 > arg_233_1.duration_ then
						arg_233_1.duration_ = var_236_13 + var_236_6
					end
				end

				arg_233_1.text_.text = var_236_10
				arg_233_1.typewritter.percent = 0

				arg_233_1.typewritter:SetDirty()
				arg_233_1:ShowNextGo(false)
				arg_233_1:RecordContent(arg_233_1.text_.text)
			end

			local var_236_14 = math.max(var_236_7, arg_233_1.talkMaxDuration)

			if var_236_6 <= arg_233_1.time_ and arg_233_1.time_ < var_236_6 + var_236_14 then
				arg_233_1.typewritter.percent = (arg_233_1.time_ - var_236_6) / var_236_14

				arg_233_1.typewritter:SetDirty()
			end

			if arg_233_1.time_ >= var_236_6 + var_236_14 and arg_233_1.time_ < var_236_6 + var_236_14 + arg_236_0 then
				arg_233_1.typewritter.percent = 1

				arg_233_1.typewritter:SetDirty()
				arg_233_1:ShowNextGo(true)
			end
		end
	end,
	Play317021057 = function(arg_237_0, arg_237_1)
		arg_237_1.time_ = 0
		arg_237_1.frameCnt_ = 0
		arg_237_1.state_ = "playing"
		arg_237_1.curTalkId_ = 317021057
		arg_237_1.duration_ = 7.83

		local var_237_0 = {
			zh = 4.133,
			ja = 7.833
		}
		local var_237_1 = manager.audio:GetLocalizationFlag()

		if var_237_0[var_237_1] ~= nil then
			arg_237_1.duration_ = var_237_0[var_237_1]
		end

		SetActive(arg_237_1.tipsGo_, false)

		function arg_237_1.onSingleLineFinish_()
			arg_237_1.onSingleLineUpdate_ = nil
			arg_237_1.onSingleLineFinish_ = nil
			arg_237_1.state_ = "waiting"
		end

		function arg_237_1.playNext_(arg_239_0)
			if arg_239_0 == 1 then
				arg_237_0:Play317021058(arg_237_1)
			end
		end

		function arg_237_1.onSingleLineUpdate_(arg_240_0)
			local var_240_0 = arg_237_1.actors_["1019ui_story"].transform
			local var_240_1 = 0

			if var_240_1 < arg_237_1.time_ and arg_237_1.time_ <= var_240_1 + arg_240_0 then
				arg_237_1.var_.moveOldPos1019ui_story = var_240_0.localPosition
			end

			local var_240_2 = 0.001

			if var_240_1 <= arg_237_1.time_ and arg_237_1.time_ < var_240_1 + var_240_2 then
				local var_240_3 = (arg_237_1.time_ - var_240_1) / var_240_2
				local var_240_4 = Vector3.New(0, 100, 0)

				var_240_0.localPosition = Vector3.Lerp(arg_237_1.var_.moveOldPos1019ui_story, var_240_4, var_240_3)

				local var_240_5 = manager.ui.mainCamera.transform.position - var_240_0.position

				var_240_0.forward = Vector3.New(var_240_5.x, var_240_5.y, var_240_5.z)

				local var_240_6 = var_240_0.localEulerAngles

				var_240_6.z = 0
				var_240_6.x = 0
				var_240_0.localEulerAngles = var_240_6
			end

			if arg_237_1.time_ >= var_240_1 + var_240_2 and arg_237_1.time_ < var_240_1 + var_240_2 + arg_240_0 then
				var_240_0.localPosition = Vector3.New(0, 100, 0)

				local var_240_7 = manager.ui.mainCamera.transform.position - var_240_0.position

				var_240_0.forward = Vector3.New(var_240_7.x, var_240_7.y, var_240_7.z)

				local var_240_8 = var_240_0.localEulerAngles

				var_240_8.z = 0
				var_240_8.x = 0
				var_240_0.localEulerAngles = var_240_8
			end

			local var_240_9 = arg_237_1.actors_["1019ui_story"]
			local var_240_10 = 0

			if var_240_10 < arg_237_1.time_ and arg_237_1.time_ <= var_240_10 + arg_240_0 and not isNil(var_240_9) and arg_237_1.var_.characterEffect1019ui_story == nil then
				arg_237_1.var_.characterEffect1019ui_story = var_240_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_240_11 = 0.200000002980232

			if var_240_10 <= arg_237_1.time_ and arg_237_1.time_ < var_240_10 + var_240_11 and not isNil(var_240_9) then
				local var_240_12 = (arg_237_1.time_ - var_240_10) / var_240_11

				if arg_237_1.var_.characterEffect1019ui_story and not isNil(var_240_9) then
					local var_240_13 = Mathf.Lerp(0, 0.5, var_240_12)

					arg_237_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_237_1.var_.characterEffect1019ui_story.fillRatio = var_240_13
				end
			end

			if arg_237_1.time_ >= var_240_10 + var_240_11 and arg_237_1.time_ < var_240_10 + var_240_11 + arg_240_0 and not isNil(var_240_9) and arg_237_1.var_.characterEffect1019ui_story then
				local var_240_14 = 0.5

				arg_237_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_237_1.var_.characterEffect1019ui_story.fillRatio = var_240_14
			end

			local var_240_15 = arg_237_1.actors_["1093ui_story"].transform
			local var_240_16 = 0

			if var_240_16 < arg_237_1.time_ and arg_237_1.time_ <= var_240_16 + arg_240_0 then
				arg_237_1.var_.moveOldPos1093ui_story = var_240_15.localPosition
			end

			local var_240_17 = 0.001

			if var_240_16 <= arg_237_1.time_ and arg_237_1.time_ < var_240_16 + var_240_17 then
				local var_240_18 = (arg_237_1.time_ - var_240_16) / var_240_17
				local var_240_19 = Vector3.New(0, -1.11, -5.88)

				var_240_15.localPosition = Vector3.Lerp(arg_237_1.var_.moveOldPos1093ui_story, var_240_19, var_240_18)

				local var_240_20 = manager.ui.mainCamera.transform.position - var_240_15.position

				var_240_15.forward = Vector3.New(var_240_20.x, var_240_20.y, var_240_20.z)

				local var_240_21 = var_240_15.localEulerAngles

				var_240_21.z = 0
				var_240_21.x = 0
				var_240_15.localEulerAngles = var_240_21
			end

			if arg_237_1.time_ >= var_240_16 + var_240_17 and arg_237_1.time_ < var_240_16 + var_240_17 + arg_240_0 then
				var_240_15.localPosition = Vector3.New(0, -1.11, -5.88)

				local var_240_22 = manager.ui.mainCamera.transform.position - var_240_15.position

				var_240_15.forward = Vector3.New(var_240_22.x, var_240_22.y, var_240_22.z)

				local var_240_23 = var_240_15.localEulerAngles

				var_240_23.z = 0
				var_240_23.x = 0
				var_240_15.localEulerAngles = var_240_23
			end

			local var_240_24 = arg_237_1.actors_["1093ui_story"]
			local var_240_25 = 0

			if var_240_25 < arg_237_1.time_ and arg_237_1.time_ <= var_240_25 + arg_240_0 and not isNil(var_240_24) and arg_237_1.var_.characterEffect1093ui_story == nil then
				arg_237_1.var_.characterEffect1093ui_story = var_240_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_240_26 = 0.200000002980232

			if var_240_25 <= arg_237_1.time_ and arg_237_1.time_ < var_240_25 + var_240_26 and not isNil(var_240_24) then
				local var_240_27 = (arg_237_1.time_ - var_240_25) / var_240_26

				if arg_237_1.var_.characterEffect1093ui_story and not isNil(var_240_24) then
					arg_237_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_237_1.time_ >= var_240_25 + var_240_26 and arg_237_1.time_ < var_240_25 + var_240_26 + arg_240_0 and not isNil(var_240_24) and arg_237_1.var_.characterEffect1093ui_story then
				arg_237_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_240_28 = 0

			if var_240_28 < arg_237_1.time_ and arg_237_1.time_ <= var_240_28 + arg_240_0 then
				arg_237_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action1_1")
			end

			local var_240_29 = 0

			if var_240_29 < arg_237_1.time_ and arg_237_1.time_ <= var_240_29 + arg_240_0 then
				arg_237_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_240_30 = 0
			local var_240_31 = 0.5

			if var_240_30 < arg_237_1.time_ and arg_237_1.time_ <= var_240_30 + arg_240_0 then
				arg_237_1.talkMaxDuration = 0
				arg_237_1.dialogCg_.alpha = 1

				arg_237_1.dialog_:SetActive(true)
				SetActive(arg_237_1.leftNameGo_, true)

				local var_240_32 = arg_237_1:FormatText(StoryNameCfg[73].name)

				arg_237_1.leftNameTxt_.text = var_240_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_237_1.leftNameTxt_.transform)

				arg_237_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_237_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_237_1:RecordName(arg_237_1.leftNameTxt_.text)
				SetActive(arg_237_1.iconTrs_.gameObject, false)
				arg_237_1.callingController_:SetSelectedState("normal")

				local var_240_33 = arg_237_1:GetWordFromCfg(317021057)
				local var_240_34 = arg_237_1:FormatText(var_240_33.content)

				arg_237_1.text_.text = var_240_34

				LuaForUtil.ClearLinePrefixSymbol(arg_237_1.text_)

				local var_240_35 = 20
				local var_240_36 = utf8.len(var_240_34)
				local var_240_37 = var_240_35 <= 0 and var_240_31 or var_240_31 * (var_240_36 / var_240_35)

				if var_240_37 > 0 and var_240_31 < var_240_37 then
					arg_237_1.talkMaxDuration = var_240_37

					if var_240_37 + var_240_30 > arg_237_1.duration_ then
						arg_237_1.duration_ = var_240_37 + var_240_30
					end
				end

				arg_237_1.text_.text = var_240_34
				arg_237_1.typewritter.percent = 0

				arg_237_1.typewritter:SetDirty()
				arg_237_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021057", "story_v_out_317021.awb") ~= 0 then
					local var_240_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021057", "story_v_out_317021.awb") / 1000

					if var_240_38 + var_240_30 > arg_237_1.duration_ then
						arg_237_1.duration_ = var_240_38 + var_240_30
					end

					if var_240_33.prefab_name ~= "" and arg_237_1.actors_[var_240_33.prefab_name] ~= nil then
						local var_240_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_237_1.actors_[var_240_33.prefab_name].transform, "story_v_out_317021", "317021057", "story_v_out_317021.awb")

						arg_237_1:RecordAudio("317021057", var_240_39)
						arg_237_1:RecordAudio("317021057", var_240_39)
					else
						arg_237_1:AudioAction("play", "voice", "story_v_out_317021", "317021057", "story_v_out_317021.awb")
					end

					arg_237_1:RecordHistoryTalkVoice("story_v_out_317021", "317021057", "story_v_out_317021.awb")
				end

				arg_237_1:RecordContent(arg_237_1.text_.text)
			end

			local var_240_40 = math.max(var_240_31, arg_237_1.talkMaxDuration)

			if var_240_30 <= arg_237_1.time_ and arg_237_1.time_ < var_240_30 + var_240_40 then
				arg_237_1.typewritter.percent = (arg_237_1.time_ - var_240_30) / var_240_40

				arg_237_1.typewritter:SetDirty()
			end

			if arg_237_1.time_ >= var_240_30 + var_240_40 and arg_237_1.time_ < var_240_30 + var_240_40 + arg_240_0 then
				arg_237_1.typewritter.percent = 1

				arg_237_1.typewritter:SetDirty()
				arg_237_1:ShowNextGo(true)
			end
		end
	end,
	Play317021058 = function(arg_241_0, arg_241_1)
		arg_241_1.time_ = 0
		arg_241_1.frameCnt_ = 0
		arg_241_1.state_ = "playing"
		arg_241_1.curTalkId_ = 317021058
		arg_241_1.duration_ = 7.43

		local var_241_0 = {
			zh = 7.433,
			ja = 6.866
		}
		local var_241_1 = manager.audio:GetLocalizationFlag()

		if var_241_0[var_241_1] ~= nil then
			arg_241_1.duration_ = var_241_0[var_241_1]
		end

		SetActive(arg_241_1.tipsGo_, false)

		function arg_241_1.onSingleLineFinish_()
			arg_241_1.onSingleLineUpdate_ = nil
			arg_241_1.onSingleLineFinish_ = nil
			arg_241_1.state_ = "waiting"
		end

		function arg_241_1.playNext_(arg_243_0)
			if arg_243_0 == 1 then
				arg_241_0:Play317021059(arg_241_1)
			end
		end

		function arg_241_1.onSingleLineUpdate_(arg_244_0)
			local var_244_0 = 0

			if var_244_0 < arg_241_1.time_ and arg_241_1.time_ <= var_244_0 + arg_244_0 then
				arg_241_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action2_1")
			end

			local var_244_1 = 0

			if var_244_1 < arg_241_1.time_ and arg_241_1.time_ <= var_244_1 + arg_244_0 then
				arg_241_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_244_2 = 0
			local var_244_3 = 0.875

			if var_244_2 < arg_241_1.time_ and arg_241_1.time_ <= var_244_2 + arg_244_0 then
				arg_241_1.talkMaxDuration = 0
				arg_241_1.dialogCg_.alpha = 1

				arg_241_1.dialog_:SetActive(true)
				SetActive(arg_241_1.leftNameGo_, true)

				local var_244_4 = arg_241_1:FormatText(StoryNameCfg[73].name)

				arg_241_1.leftNameTxt_.text = var_244_4

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_241_1.leftNameTxt_.transform)

				arg_241_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_241_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_241_1:RecordName(arg_241_1.leftNameTxt_.text)
				SetActive(arg_241_1.iconTrs_.gameObject, false)
				arg_241_1.callingController_:SetSelectedState("normal")

				local var_244_5 = arg_241_1:GetWordFromCfg(317021058)
				local var_244_6 = arg_241_1:FormatText(var_244_5.content)

				arg_241_1.text_.text = var_244_6

				LuaForUtil.ClearLinePrefixSymbol(arg_241_1.text_)

				local var_244_7 = 35
				local var_244_8 = utf8.len(var_244_6)
				local var_244_9 = var_244_7 <= 0 and var_244_3 or var_244_3 * (var_244_8 / var_244_7)

				if var_244_9 > 0 and var_244_3 < var_244_9 then
					arg_241_1.talkMaxDuration = var_244_9

					if var_244_9 + var_244_2 > arg_241_1.duration_ then
						arg_241_1.duration_ = var_244_9 + var_244_2
					end
				end

				arg_241_1.text_.text = var_244_6
				arg_241_1.typewritter.percent = 0

				arg_241_1.typewritter:SetDirty()
				arg_241_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021058", "story_v_out_317021.awb") ~= 0 then
					local var_244_10 = manager.audio:GetVoiceLength("story_v_out_317021", "317021058", "story_v_out_317021.awb") / 1000

					if var_244_10 + var_244_2 > arg_241_1.duration_ then
						arg_241_1.duration_ = var_244_10 + var_244_2
					end

					if var_244_5.prefab_name ~= "" and arg_241_1.actors_[var_244_5.prefab_name] ~= nil then
						local var_244_11 = LuaForUtil.PlayVoiceWithCriLipsync(arg_241_1.actors_[var_244_5.prefab_name].transform, "story_v_out_317021", "317021058", "story_v_out_317021.awb")

						arg_241_1:RecordAudio("317021058", var_244_11)
						arg_241_1:RecordAudio("317021058", var_244_11)
					else
						arg_241_1:AudioAction("play", "voice", "story_v_out_317021", "317021058", "story_v_out_317021.awb")
					end

					arg_241_1:RecordHistoryTalkVoice("story_v_out_317021", "317021058", "story_v_out_317021.awb")
				end

				arg_241_1:RecordContent(arg_241_1.text_.text)
			end

			local var_244_12 = math.max(var_244_3, arg_241_1.talkMaxDuration)

			if var_244_2 <= arg_241_1.time_ and arg_241_1.time_ < var_244_2 + var_244_12 then
				arg_241_1.typewritter.percent = (arg_241_1.time_ - var_244_2) / var_244_12

				arg_241_1.typewritter:SetDirty()
			end

			if arg_241_1.time_ >= var_244_2 + var_244_12 and arg_241_1.time_ < var_244_2 + var_244_12 + arg_244_0 then
				arg_241_1.typewritter.percent = 1

				arg_241_1.typewritter:SetDirty()
				arg_241_1:ShowNextGo(true)
			end
		end
	end,
	Play317021059 = function(arg_245_0, arg_245_1)
		arg_245_1.time_ = 0
		arg_245_1.frameCnt_ = 0
		arg_245_1.state_ = "playing"
		arg_245_1.curTalkId_ = 317021059
		arg_245_1.duration_ = 10.03

		local var_245_0 = {
			zh = 8.9,
			ja = 10.033
		}
		local var_245_1 = manager.audio:GetLocalizationFlag()

		if var_245_0[var_245_1] ~= nil then
			arg_245_1.duration_ = var_245_0[var_245_1]
		end

		SetActive(arg_245_1.tipsGo_, false)

		function arg_245_1.onSingleLineFinish_()
			arg_245_1.onSingleLineUpdate_ = nil
			arg_245_1.onSingleLineFinish_ = nil
			arg_245_1.state_ = "waiting"
		end

		function arg_245_1.playNext_(arg_247_0)
			if arg_247_0 == 1 then
				arg_245_0:Play317021060(arg_245_1)
			end
		end

		function arg_245_1.onSingleLineUpdate_(arg_248_0)
			local var_248_0 = arg_245_1.actors_["1093ui_story"].transform
			local var_248_1 = 0

			if var_248_1 < arg_245_1.time_ and arg_245_1.time_ <= var_248_1 + arg_248_0 then
				arg_245_1.var_.moveOldPos1093ui_story = var_248_0.localPosition
			end

			local var_248_2 = 0.001

			if var_248_1 <= arg_245_1.time_ and arg_245_1.time_ < var_248_1 + var_248_2 then
				local var_248_3 = (arg_245_1.time_ - var_248_1) / var_248_2
				local var_248_4 = Vector3.New(0, 100, 0)

				var_248_0.localPosition = Vector3.Lerp(arg_245_1.var_.moveOldPos1093ui_story, var_248_4, var_248_3)

				local var_248_5 = manager.ui.mainCamera.transform.position - var_248_0.position

				var_248_0.forward = Vector3.New(var_248_5.x, var_248_5.y, var_248_5.z)

				local var_248_6 = var_248_0.localEulerAngles

				var_248_6.z = 0
				var_248_6.x = 0
				var_248_0.localEulerAngles = var_248_6
			end

			if arg_245_1.time_ >= var_248_1 + var_248_2 and arg_245_1.time_ < var_248_1 + var_248_2 + arg_248_0 then
				var_248_0.localPosition = Vector3.New(0, 100, 0)

				local var_248_7 = manager.ui.mainCamera.transform.position - var_248_0.position

				var_248_0.forward = Vector3.New(var_248_7.x, var_248_7.y, var_248_7.z)

				local var_248_8 = var_248_0.localEulerAngles

				var_248_8.z = 0
				var_248_8.x = 0
				var_248_0.localEulerAngles = var_248_8
			end

			local var_248_9 = arg_245_1.actors_["1093ui_story"]
			local var_248_10 = 0

			if var_248_10 < arg_245_1.time_ and arg_245_1.time_ <= var_248_10 + arg_248_0 and not isNil(var_248_9) and arg_245_1.var_.characterEffect1093ui_story == nil then
				arg_245_1.var_.characterEffect1093ui_story = var_248_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_248_11 = 0.200000002980232

			if var_248_10 <= arg_245_1.time_ and arg_245_1.time_ < var_248_10 + var_248_11 and not isNil(var_248_9) then
				local var_248_12 = (arg_245_1.time_ - var_248_10) / var_248_11

				if arg_245_1.var_.characterEffect1093ui_story and not isNil(var_248_9) then
					local var_248_13 = Mathf.Lerp(0, 0.5, var_248_12)

					arg_245_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_245_1.var_.characterEffect1093ui_story.fillRatio = var_248_13
				end
			end

			if arg_245_1.time_ >= var_248_10 + var_248_11 and arg_245_1.time_ < var_248_10 + var_248_11 + arg_248_0 and not isNil(var_248_9) and arg_245_1.var_.characterEffect1093ui_story then
				local var_248_14 = 0.5

				arg_245_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_245_1.var_.characterEffect1093ui_story.fillRatio = var_248_14
			end

			local var_248_15 = arg_245_1.actors_["1019ui_story"].transform
			local var_248_16 = 0

			if var_248_16 < arg_245_1.time_ and arg_245_1.time_ <= var_248_16 + arg_248_0 then
				arg_245_1.var_.moveOldPos1019ui_story = var_248_15.localPosition
			end

			local var_248_17 = 0.001

			if var_248_16 <= arg_245_1.time_ and arg_245_1.time_ < var_248_16 + var_248_17 then
				local var_248_18 = (arg_245_1.time_ - var_248_16) / var_248_17
				local var_248_19 = Vector3.New(-0.2, -1.08, -5.9)

				var_248_15.localPosition = Vector3.Lerp(arg_245_1.var_.moveOldPos1019ui_story, var_248_19, var_248_18)

				local var_248_20 = manager.ui.mainCamera.transform.position - var_248_15.position

				var_248_15.forward = Vector3.New(var_248_20.x, var_248_20.y, var_248_20.z)

				local var_248_21 = var_248_15.localEulerAngles

				var_248_21.z = 0
				var_248_21.x = 0
				var_248_15.localEulerAngles = var_248_21
			end

			if arg_245_1.time_ >= var_248_16 + var_248_17 and arg_245_1.time_ < var_248_16 + var_248_17 + arg_248_0 then
				var_248_15.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_248_22 = manager.ui.mainCamera.transform.position - var_248_15.position

				var_248_15.forward = Vector3.New(var_248_22.x, var_248_22.y, var_248_22.z)

				local var_248_23 = var_248_15.localEulerAngles

				var_248_23.z = 0
				var_248_23.x = 0
				var_248_15.localEulerAngles = var_248_23
			end

			local var_248_24 = arg_245_1.actors_["1019ui_story"]
			local var_248_25 = 0

			if var_248_25 < arg_245_1.time_ and arg_245_1.time_ <= var_248_25 + arg_248_0 and not isNil(var_248_24) and arg_245_1.var_.characterEffect1019ui_story == nil then
				arg_245_1.var_.characterEffect1019ui_story = var_248_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_248_26 = 0.200000002980232

			if var_248_25 <= arg_245_1.time_ and arg_245_1.time_ < var_248_25 + var_248_26 and not isNil(var_248_24) then
				local var_248_27 = (arg_245_1.time_ - var_248_25) / var_248_26

				if arg_245_1.var_.characterEffect1019ui_story and not isNil(var_248_24) then
					arg_245_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_245_1.time_ >= var_248_25 + var_248_26 and arg_245_1.time_ < var_248_25 + var_248_26 + arg_248_0 and not isNil(var_248_24) and arg_245_1.var_.characterEffect1019ui_story then
				arg_245_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_248_28 = 0

			if var_248_28 < arg_245_1.time_ and arg_245_1.time_ <= var_248_28 + arg_248_0 then
				arg_245_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_248_29 = 0

			if var_248_29 < arg_245_1.time_ and arg_245_1.time_ <= var_248_29 + arg_248_0 then
				arg_245_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_248_30 = 0
			local var_248_31 = 1.175

			if var_248_30 < arg_245_1.time_ and arg_245_1.time_ <= var_248_30 + arg_248_0 then
				arg_245_1.talkMaxDuration = 0
				arg_245_1.dialogCg_.alpha = 1

				arg_245_1.dialog_:SetActive(true)
				SetActive(arg_245_1.leftNameGo_, true)

				local var_248_32 = arg_245_1:FormatText(StoryNameCfg[47].name)

				arg_245_1.leftNameTxt_.text = var_248_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_245_1.leftNameTxt_.transform)

				arg_245_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_245_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_245_1:RecordName(arg_245_1.leftNameTxt_.text)
				SetActive(arg_245_1.iconTrs_.gameObject, false)
				arg_245_1.callingController_:SetSelectedState("normal")

				local var_248_33 = arg_245_1:GetWordFromCfg(317021059)
				local var_248_34 = arg_245_1:FormatText(var_248_33.content)

				arg_245_1.text_.text = var_248_34

				LuaForUtil.ClearLinePrefixSymbol(arg_245_1.text_)

				local var_248_35 = 47
				local var_248_36 = utf8.len(var_248_34)
				local var_248_37 = var_248_35 <= 0 and var_248_31 or var_248_31 * (var_248_36 / var_248_35)

				if var_248_37 > 0 and var_248_31 < var_248_37 then
					arg_245_1.talkMaxDuration = var_248_37

					if var_248_37 + var_248_30 > arg_245_1.duration_ then
						arg_245_1.duration_ = var_248_37 + var_248_30
					end
				end

				arg_245_1.text_.text = var_248_34
				arg_245_1.typewritter.percent = 0

				arg_245_1.typewritter:SetDirty()
				arg_245_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021059", "story_v_out_317021.awb") ~= 0 then
					local var_248_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021059", "story_v_out_317021.awb") / 1000

					if var_248_38 + var_248_30 > arg_245_1.duration_ then
						arg_245_1.duration_ = var_248_38 + var_248_30
					end

					if var_248_33.prefab_name ~= "" and arg_245_1.actors_[var_248_33.prefab_name] ~= nil then
						local var_248_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_245_1.actors_[var_248_33.prefab_name].transform, "story_v_out_317021", "317021059", "story_v_out_317021.awb")

						arg_245_1:RecordAudio("317021059", var_248_39)
						arg_245_1:RecordAudio("317021059", var_248_39)
					else
						arg_245_1:AudioAction("play", "voice", "story_v_out_317021", "317021059", "story_v_out_317021.awb")
					end

					arg_245_1:RecordHistoryTalkVoice("story_v_out_317021", "317021059", "story_v_out_317021.awb")
				end

				arg_245_1:RecordContent(arg_245_1.text_.text)
			end

			local var_248_40 = math.max(var_248_31, arg_245_1.talkMaxDuration)

			if var_248_30 <= arg_245_1.time_ and arg_245_1.time_ < var_248_30 + var_248_40 then
				arg_245_1.typewritter.percent = (arg_245_1.time_ - var_248_30) / var_248_40

				arg_245_1.typewritter:SetDirty()
			end

			if arg_245_1.time_ >= var_248_30 + var_248_40 and arg_245_1.time_ < var_248_30 + var_248_40 + arg_248_0 then
				arg_245_1.typewritter.percent = 1

				arg_245_1.typewritter:SetDirty()
				arg_245_1:ShowNextGo(true)
			end
		end
	end,
	Play317021060 = function(arg_249_0, arg_249_1)
		arg_249_1.time_ = 0
		arg_249_1.frameCnt_ = 0
		arg_249_1.state_ = "playing"
		arg_249_1.curTalkId_ = 317021060
		arg_249_1.duration_ = 7

		local var_249_0 = {
			zh = 7,
			ja = 6.833
		}
		local var_249_1 = manager.audio:GetLocalizationFlag()

		if var_249_0[var_249_1] ~= nil then
			arg_249_1.duration_ = var_249_0[var_249_1]
		end

		SetActive(arg_249_1.tipsGo_, false)

		function arg_249_1.onSingleLineFinish_()
			arg_249_1.onSingleLineUpdate_ = nil
			arg_249_1.onSingleLineFinish_ = nil
			arg_249_1.state_ = "waiting"
		end

		function arg_249_1.playNext_(arg_251_0)
			if arg_251_0 == 1 then
				arg_249_0:Play317021061(arg_249_1)
			end
		end

		function arg_249_1.onSingleLineUpdate_(arg_252_0)
			local var_252_0 = arg_249_1.actors_["1019ui_story"].transform
			local var_252_1 = 0

			if var_252_1 < arg_249_1.time_ and arg_249_1.time_ <= var_252_1 + arg_252_0 then
				arg_249_1.var_.moveOldPos1019ui_story = var_252_0.localPosition
			end

			local var_252_2 = 0.001

			if var_252_1 <= arg_249_1.time_ and arg_249_1.time_ < var_252_1 + var_252_2 then
				local var_252_3 = (arg_249_1.time_ - var_252_1) / var_252_2
				local var_252_4 = Vector3.New(-0.2, -1.08, -5.9)

				var_252_0.localPosition = Vector3.Lerp(arg_249_1.var_.moveOldPos1019ui_story, var_252_4, var_252_3)

				local var_252_5 = manager.ui.mainCamera.transform.position - var_252_0.position

				var_252_0.forward = Vector3.New(var_252_5.x, var_252_5.y, var_252_5.z)

				local var_252_6 = var_252_0.localEulerAngles

				var_252_6.z = 0
				var_252_6.x = 0
				var_252_0.localEulerAngles = var_252_6
			end

			if arg_249_1.time_ >= var_252_1 + var_252_2 and arg_249_1.time_ < var_252_1 + var_252_2 + arg_252_0 then
				var_252_0.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_252_7 = manager.ui.mainCamera.transform.position - var_252_0.position

				var_252_0.forward = Vector3.New(var_252_7.x, var_252_7.y, var_252_7.z)

				local var_252_8 = var_252_0.localEulerAngles

				var_252_8.z = 0
				var_252_8.x = 0
				var_252_0.localEulerAngles = var_252_8
			end

			local var_252_9 = arg_249_1.actors_["1019ui_story"]
			local var_252_10 = 0

			if var_252_10 < arg_249_1.time_ and arg_249_1.time_ <= var_252_10 + arg_252_0 and not isNil(var_252_9) and arg_249_1.var_.characterEffect1019ui_story == nil then
				arg_249_1.var_.characterEffect1019ui_story = var_252_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_252_11 = 0.200000002980232

			if var_252_10 <= arg_249_1.time_ and arg_249_1.time_ < var_252_10 + var_252_11 and not isNil(var_252_9) then
				local var_252_12 = (arg_249_1.time_ - var_252_10) / var_252_11

				if arg_249_1.var_.characterEffect1019ui_story and not isNil(var_252_9) then
					arg_249_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_249_1.time_ >= var_252_10 + var_252_11 and arg_249_1.time_ < var_252_10 + var_252_11 + arg_252_0 and not isNil(var_252_9) and arg_249_1.var_.characterEffect1019ui_story then
				arg_249_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_252_13 = 0

			if var_252_13 < arg_249_1.time_ and arg_249_1.time_ <= var_252_13 + arg_252_0 then
				arg_249_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action5_1")
			end

			local var_252_14 = 0

			if var_252_14 < arg_249_1.time_ and arg_249_1.time_ <= var_252_14 + arg_252_0 then
				arg_249_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_252_15 = 0
			local var_252_16 = 0.85

			if var_252_15 < arg_249_1.time_ and arg_249_1.time_ <= var_252_15 + arg_252_0 then
				arg_249_1.talkMaxDuration = 0
				arg_249_1.dialogCg_.alpha = 1

				arg_249_1.dialog_:SetActive(true)
				SetActive(arg_249_1.leftNameGo_, true)

				local var_252_17 = arg_249_1:FormatText(StoryNameCfg[47].name)

				arg_249_1.leftNameTxt_.text = var_252_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_249_1.leftNameTxt_.transform)

				arg_249_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_249_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_249_1:RecordName(arg_249_1.leftNameTxt_.text)
				SetActive(arg_249_1.iconTrs_.gameObject, false)
				arg_249_1.callingController_:SetSelectedState("normal")

				local var_252_18 = arg_249_1:GetWordFromCfg(317021060)
				local var_252_19 = arg_249_1:FormatText(var_252_18.content)

				arg_249_1.text_.text = var_252_19

				LuaForUtil.ClearLinePrefixSymbol(arg_249_1.text_)

				local var_252_20 = 34
				local var_252_21 = utf8.len(var_252_19)
				local var_252_22 = var_252_20 <= 0 and var_252_16 or var_252_16 * (var_252_21 / var_252_20)

				if var_252_22 > 0 and var_252_16 < var_252_22 then
					arg_249_1.talkMaxDuration = var_252_22

					if var_252_22 + var_252_15 > arg_249_1.duration_ then
						arg_249_1.duration_ = var_252_22 + var_252_15
					end
				end

				arg_249_1.text_.text = var_252_19
				arg_249_1.typewritter.percent = 0

				arg_249_1.typewritter:SetDirty()
				arg_249_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021060", "story_v_out_317021.awb") ~= 0 then
					local var_252_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021060", "story_v_out_317021.awb") / 1000

					if var_252_23 + var_252_15 > arg_249_1.duration_ then
						arg_249_1.duration_ = var_252_23 + var_252_15
					end

					if var_252_18.prefab_name ~= "" and arg_249_1.actors_[var_252_18.prefab_name] ~= nil then
						local var_252_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_249_1.actors_[var_252_18.prefab_name].transform, "story_v_out_317021", "317021060", "story_v_out_317021.awb")

						arg_249_1:RecordAudio("317021060", var_252_24)
						arg_249_1:RecordAudio("317021060", var_252_24)
					else
						arg_249_1:AudioAction("play", "voice", "story_v_out_317021", "317021060", "story_v_out_317021.awb")
					end

					arg_249_1:RecordHistoryTalkVoice("story_v_out_317021", "317021060", "story_v_out_317021.awb")
				end

				arg_249_1:RecordContent(arg_249_1.text_.text)
			end

			local var_252_25 = math.max(var_252_16, arg_249_1.talkMaxDuration)

			if var_252_15 <= arg_249_1.time_ and arg_249_1.time_ < var_252_15 + var_252_25 then
				arg_249_1.typewritter.percent = (arg_249_1.time_ - var_252_15) / var_252_25

				arg_249_1.typewritter:SetDirty()
			end

			if arg_249_1.time_ >= var_252_15 + var_252_25 and arg_249_1.time_ < var_252_15 + var_252_25 + arg_252_0 then
				arg_249_1.typewritter.percent = 1

				arg_249_1.typewritter:SetDirty()
				arg_249_1:ShowNextGo(true)
			end
		end
	end,
	Play317021061 = function(arg_253_0, arg_253_1)
		arg_253_1.time_ = 0
		arg_253_1.frameCnt_ = 0
		arg_253_1.state_ = "playing"
		arg_253_1.curTalkId_ = 317021061
		arg_253_1.duration_ = 13.13

		local var_253_0 = {
			zh = 13.133,
			ja = 10.833
		}
		local var_253_1 = manager.audio:GetLocalizationFlag()

		if var_253_0[var_253_1] ~= nil then
			arg_253_1.duration_ = var_253_0[var_253_1]
		end

		SetActive(arg_253_1.tipsGo_, false)

		function arg_253_1.onSingleLineFinish_()
			arg_253_1.onSingleLineUpdate_ = nil
			arg_253_1.onSingleLineFinish_ = nil
			arg_253_1.state_ = "waiting"
		end

		function arg_253_1.playNext_(arg_255_0)
			if arg_255_0 == 1 then
				arg_253_0:Play317021062(arg_253_1)
			end
		end

		function arg_253_1.onSingleLineUpdate_(arg_256_0)
			local var_256_0 = 0
			local var_256_1 = 1.475

			if var_256_0 < arg_253_1.time_ and arg_253_1.time_ <= var_256_0 + arg_256_0 then
				arg_253_1.talkMaxDuration = 0
				arg_253_1.dialogCg_.alpha = 1

				arg_253_1.dialog_:SetActive(true)
				SetActive(arg_253_1.leftNameGo_, true)

				local var_256_2 = arg_253_1:FormatText(StoryNameCfg[47].name)

				arg_253_1.leftNameTxt_.text = var_256_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_253_1.leftNameTxt_.transform)

				arg_253_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_253_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_253_1:RecordName(arg_253_1.leftNameTxt_.text)
				SetActive(arg_253_1.iconTrs_.gameObject, false)
				arg_253_1.callingController_:SetSelectedState("normal")

				local var_256_3 = arg_253_1:GetWordFromCfg(317021061)
				local var_256_4 = arg_253_1:FormatText(var_256_3.content)

				arg_253_1.text_.text = var_256_4

				LuaForUtil.ClearLinePrefixSymbol(arg_253_1.text_)

				local var_256_5 = 59
				local var_256_6 = utf8.len(var_256_4)
				local var_256_7 = var_256_5 <= 0 and var_256_1 or var_256_1 * (var_256_6 / var_256_5)

				if var_256_7 > 0 and var_256_1 < var_256_7 then
					arg_253_1.talkMaxDuration = var_256_7

					if var_256_7 + var_256_0 > arg_253_1.duration_ then
						arg_253_1.duration_ = var_256_7 + var_256_0
					end
				end

				arg_253_1.text_.text = var_256_4
				arg_253_1.typewritter.percent = 0

				arg_253_1.typewritter:SetDirty()
				arg_253_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021061", "story_v_out_317021.awb") ~= 0 then
					local var_256_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021061", "story_v_out_317021.awb") / 1000

					if var_256_8 + var_256_0 > arg_253_1.duration_ then
						arg_253_1.duration_ = var_256_8 + var_256_0
					end

					if var_256_3.prefab_name ~= "" and arg_253_1.actors_[var_256_3.prefab_name] ~= nil then
						local var_256_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_253_1.actors_[var_256_3.prefab_name].transform, "story_v_out_317021", "317021061", "story_v_out_317021.awb")

						arg_253_1:RecordAudio("317021061", var_256_9)
						arg_253_1:RecordAudio("317021061", var_256_9)
					else
						arg_253_1:AudioAction("play", "voice", "story_v_out_317021", "317021061", "story_v_out_317021.awb")
					end

					arg_253_1:RecordHistoryTalkVoice("story_v_out_317021", "317021061", "story_v_out_317021.awb")
				end

				arg_253_1:RecordContent(arg_253_1.text_.text)
			end

			local var_256_10 = math.max(var_256_1, arg_253_1.talkMaxDuration)

			if var_256_0 <= arg_253_1.time_ and arg_253_1.time_ < var_256_0 + var_256_10 then
				arg_253_1.typewritter.percent = (arg_253_1.time_ - var_256_0) / var_256_10

				arg_253_1.typewritter:SetDirty()
			end

			if arg_253_1.time_ >= var_256_0 + var_256_10 and arg_253_1.time_ < var_256_0 + var_256_10 + arg_256_0 then
				arg_253_1.typewritter.percent = 1

				arg_253_1.typewritter:SetDirty()
				arg_253_1:ShowNextGo(true)
			end
		end
	end,
	Play317021062 = function(arg_257_0, arg_257_1)
		arg_257_1.time_ = 0
		arg_257_1.frameCnt_ = 0
		arg_257_1.state_ = "playing"
		arg_257_1.curTalkId_ = 317021062
		arg_257_1.duration_ = 5

		SetActive(arg_257_1.tipsGo_, false)

		function arg_257_1.onSingleLineFinish_()
			arg_257_1.onSingleLineUpdate_ = nil
			arg_257_1.onSingleLineFinish_ = nil
			arg_257_1.state_ = "waiting"
		end

		function arg_257_1.playNext_(arg_259_0)
			if arg_259_0 == 1 then
				arg_257_0:Play317021063(arg_257_1)
			end
		end

		function arg_257_1.onSingleLineUpdate_(arg_260_0)
			local var_260_0 = arg_257_1.actors_["1019ui_story"]
			local var_260_1 = 0

			if var_260_1 < arg_257_1.time_ and arg_257_1.time_ <= var_260_1 + arg_260_0 and not isNil(var_260_0) and arg_257_1.var_.characterEffect1019ui_story == nil then
				arg_257_1.var_.characterEffect1019ui_story = var_260_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_260_2 = 0.200000002980232

			if var_260_1 <= arg_257_1.time_ and arg_257_1.time_ < var_260_1 + var_260_2 and not isNil(var_260_0) then
				local var_260_3 = (arg_257_1.time_ - var_260_1) / var_260_2

				if arg_257_1.var_.characterEffect1019ui_story and not isNil(var_260_0) then
					local var_260_4 = Mathf.Lerp(0, 0.5, var_260_3)

					arg_257_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_257_1.var_.characterEffect1019ui_story.fillRatio = var_260_4
				end
			end

			if arg_257_1.time_ >= var_260_1 + var_260_2 and arg_257_1.time_ < var_260_1 + var_260_2 + arg_260_0 and not isNil(var_260_0) and arg_257_1.var_.characterEffect1019ui_story then
				local var_260_5 = 0.5

				arg_257_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_257_1.var_.characterEffect1019ui_story.fillRatio = var_260_5
			end

			local var_260_6 = 0
			local var_260_7 = 0.475

			if var_260_6 < arg_257_1.time_ and arg_257_1.time_ <= var_260_6 + arg_260_0 then
				arg_257_1.talkMaxDuration = 0
				arg_257_1.dialogCg_.alpha = 1

				arg_257_1.dialog_:SetActive(true)
				SetActive(arg_257_1.leftNameGo_, true)

				local var_260_8 = arg_257_1:FormatText(StoryNameCfg[7].name)

				arg_257_1.leftNameTxt_.text = var_260_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_257_1.leftNameTxt_.transform)

				arg_257_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_257_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_257_1:RecordName(arg_257_1.leftNameTxt_.text)
				SetActive(arg_257_1.iconTrs_.gameObject, false)
				arg_257_1.callingController_:SetSelectedState("normal")

				local var_260_9 = arg_257_1:GetWordFromCfg(317021062)
				local var_260_10 = arg_257_1:FormatText(var_260_9.content)

				arg_257_1.text_.text = var_260_10

				LuaForUtil.ClearLinePrefixSymbol(arg_257_1.text_)

				local var_260_11 = 19
				local var_260_12 = utf8.len(var_260_10)
				local var_260_13 = var_260_11 <= 0 and var_260_7 or var_260_7 * (var_260_12 / var_260_11)

				if var_260_13 > 0 and var_260_7 < var_260_13 then
					arg_257_1.talkMaxDuration = var_260_13

					if var_260_13 + var_260_6 > arg_257_1.duration_ then
						arg_257_1.duration_ = var_260_13 + var_260_6
					end
				end

				arg_257_1.text_.text = var_260_10
				arg_257_1.typewritter.percent = 0

				arg_257_1.typewritter:SetDirty()
				arg_257_1:ShowNextGo(false)
				arg_257_1:RecordContent(arg_257_1.text_.text)
			end

			local var_260_14 = math.max(var_260_7, arg_257_1.talkMaxDuration)

			if var_260_6 <= arg_257_1.time_ and arg_257_1.time_ < var_260_6 + var_260_14 then
				arg_257_1.typewritter.percent = (arg_257_1.time_ - var_260_6) / var_260_14

				arg_257_1.typewritter:SetDirty()
			end

			if arg_257_1.time_ >= var_260_6 + var_260_14 and arg_257_1.time_ < var_260_6 + var_260_14 + arg_260_0 then
				arg_257_1.typewritter.percent = 1

				arg_257_1.typewritter:SetDirty()
				arg_257_1:ShowNextGo(true)
			end
		end
	end,
	Play317021063 = function(arg_261_0, arg_261_1)
		arg_261_1.time_ = 0
		arg_261_1.frameCnt_ = 0
		arg_261_1.state_ = "playing"
		arg_261_1.curTalkId_ = 317021063
		arg_261_1.duration_ = 15.77

		local var_261_0 = {
			zh = 7.833,
			ja = 15.766
		}
		local var_261_1 = manager.audio:GetLocalizationFlag()

		if var_261_0[var_261_1] ~= nil then
			arg_261_1.duration_ = var_261_0[var_261_1]
		end

		SetActive(arg_261_1.tipsGo_, false)

		function arg_261_1.onSingleLineFinish_()
			arg_261_1.onSingleLineUpdate_ = nil
			arg_261_1.onSingleLineFinish_ = nil
			arg_261_1.state_ = "waiting"
		end

		function arg_261_1.playNext_(arg_263_0)
			if arg_263_0 == 1 then
				arg_261_0:Play317021064(arg_261_1)
			end
		end

		function arg_261_1.onSingleLineUpdate_(arg_264_0)
			local var_264_0 = arg_261_1.actors_["1019ui_story"].transform
			local var_264_1 = 0

			if var_264_1 < arg_261_1.time_ and arg_261_1.time_ <= var_264_1 + arg_264_0 then
				arg_261_1.var_.moveOldPos1019ui_story = var_264_0.localPosition
			end

			local var_264_2 = 0.001

			if var_264_1 <= arg_261_1.time_ and arg_261_1.time_ < var_264_1 + var_264_2 then
				local var_264_3 = (arg_261_1.time_ - var_264_1) / var_264_2
				local var_264_4 = Vector3.New(-0.2, -1.08, -5.9)

				var_264_0.localPosition = Vector3.Lerp(arg_261_1.var_.moveOldPos1019ui_story, var_264_4, var_264_3)

				local var_264_5 = manager.ui.mainCamera.transform.position - var_264_0.position

				var_264_0.forward = Vector3.New(var_264_5.x, var_264_5.y, var_264_5.z)

				local var_264_6 = var_264_0.localEulerAngles

				var_264_6.z = 0
				var_264_6.x = 0
				var_264_0.localEulerAngles = var_264_6
			end

			if arg_261_1.time_ >= var_264_1 + var_264_2 and arg_261_1.time_ < var_264_1 + var_264_2 + arg_264_0 then
				var_264_0.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_264_7 = manager.ui.mainCamera.transform.position - var_264_0.position

				var_264_0.forward = Vector3.New(var_264_7.x, var_264_7.y, var_264_7.z)

				local var_264_8 = var_264_0.localEulerAngles

				var_264_8.z = 0
				var_264_8.x = 0
				var_264_0.localEulerAngles = var_264_8
			end

			local var_264_9 = arg_261_1.actors_["1019ui_story"]
			local var_264_10 = 0

			if var_264_10 < arg_261_1.time_ and arg_261_1.time_ <= var_264_10 + arg_264_0 and not isNil(var_264_9) and arg_261_1.var_.characterEffect1019ui_story == nil then
				arg_261_1.var_.characterEffect1019ui_story = var_264_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_264_11 = 0.200000002980232

			if var_264_10 <= arg_261_1.time_ and arg_261_1.time_ < var_264_10 + var_264_11 and not isNil(var_264_9) then
				local var_264_12 = (arg_261_1.time_ - var_264_10) / var_264_11

				if arg_261_1.var_.characterEffect1019ui_story and not isNil(var_264_9) then
					arg_261_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_261_1.time_ >= var_264_10 + var_264_11 and arg_261_1.time_ < var_264_10 + var_264_11 + arg_264_0 and not isNil(var_264_9) and arg_261_1.var_.characterEffect1019ui_story then
				arg_261_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_264_13 = 0

			if var_264_13 < arg_261_1.time_ and arg_261_1.time_ <= var_264_13 + arg_264_0 then
				arg_261_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action5_2")
			end

			local var_264_14 = 0

			if var_264_14 < arg_261_1.time_ and arg_261_1.time_ <= var_264_14 + arg_264_0 then
				arg_261_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_264_15 = 0
			local var_264_16 = 0.775

			if var_264_15 < arg_261_1.time_ and arg_261_1.time_ <= var_264_15 + arg_264_0 then
				arg_261_1.talkMaxDuration = 0
				arg_261_1.dialogCg_.alpha = 1

				arg_261_1.dialog_:SetActive(true)
				SetActive(arg_261_1.leftNameGo_, true)

				local var_264_17 = arg_261_1:FormatText(StoryNameCfg[47].name)

				arg_261_1.leftNameTxt_.text = var_264_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_261_1.leftNameTxt_.transform)

				arg_261_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_261_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_261_1:RecordName(arg_261_1.leftNameTxt_.text)
				SetActive(arg_261_1.iconTrs_.gameObject, false)
				arg_261_1.callingController_:SetSelectedState("normal")

				local var_264_18 = arg_261_1:GetWordFromCfg(317021063)
				local var_264_19 = arg_261_1:FormatText(var_264_18.content)

				arg_261_1.text_.text = var_264_19

				LuaForUtil.ClearLinePrefixSymbol(arg_261_1.text_)

				local var_264_20 = 31
				local var_264_21 = utf8.len(var_264_19)
				local var_264_22 = var_264_20 <= 0 and var_264_16 or var_264_16 * (var_264_21 / var_264_20)

				if var_264_22 > 0 and var_264_16 < var_264_22 then
					arg_261_1.talkMaxDuration = var_264_22

					if var_264_22 + var_264_15 > arg_261_1.duration_ then
						arg_261_1.duration_ = var_264_22 + var_264_15
					end
				end

				arg_261_1.text_.text = var_264_19
				arg_261_1.typewritter.percent = 0

				arg_261_1.typewritter:SetDirty()
				arg_261_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021063", "story_v_out_317021.awb") ~= 0 then
					local var_264_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021063", "story_v_out_317021.awb") / 1000

					if var_264_23 + var_264_15 > arg_261_1.duration_ then
						arg_261_1.duration_ = var_264_23 + var_264_15
					end

					if var_264_18.prefab_name ~= "" and arg_261_1.actors_[var_264_18.prefab_name] ~= nil then
						local var_264_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_261_1.actors_[var_264_18.prefab_name].transform, "story_v_out_317021", "317021063", "story_v_out_317021.awb")

						arg_261_1:RecordAudio("317021063", var_264_24)
						arg_261_1:RecordAudio("317021063", var_264_24)
					else
						arg_261_1:AudioAction("play", "voice", "story_v_out_317021", "317021063", "story_v_out_317021.awb")
					end

					arg_261_1:RecordHistoryTalkVoice("story_v_out_317021", "317021063", "story_v_out_317021.awb")
				end

				arg_261_1:RecordContent(arg_261_1.text_.text)
			end

			local var_264_25 = math.max(var_264_16, arg_261_1.talkMaxDuration)

			if var_264_15 <= arg_261_1.time_ and arg_261_1.time_ < var_264_15 + var_264_25 then
				arg_261_1.typewritter.percent = (arg_261_1.time_ - var_264_15) / var_264_25

				arg_261_1.typewritter:SetDirty()
			end

			if arg_261_1.time_ >= var_264_15 + var_264_25 and arg_261_1.time_ < var_264_15 + var_264_25 + arg_264_0 then
				arg_261_1.typewritter.percent = 1

				arg_261_1.typewritter:SetDirty()
				arg_261_1:ShowNextGo(true)
			end
		end
	end,
	Play317021064 = function(arg_265_0, arg_265_1)
		arg_265_1.time_ = 0
		arg_265_1.frameCnt_ = 0
		arg_265_1.state_ = "playing"
		arg_265_1.curTalkId_ = 317021064
		arg_265_1.duration_ = 5

		SetActive(arg_265_1.tipsGo_, false)

		function arg_265_1.onSingleLineFinish_()
			arg_265_1.onSingleLineUpdate_ = nil
			arg_265_1.onSingleLineFinish_ = nil
			arg_265_1.state_ = "waiting"
		end

		function arg_265_1.playNext_(arg_267_0)
			if arg_267_0 == 1 then
				arg_265_0:Play317021065(arg_265_1)
			end
		end

		function arg_265_1.onSingleLineUpdate_(arg_268_0)
			local var_268_0 = arg_265_1.actors_["1019ui_story"]
			local var_268_1 = 0

			if var_268_1 < arg_265_1.time_ and arg_265_1.time_ <= var_268_1 + arg_268_0 and not isNil(var_268_0) and arg_265_1.var_.characterEffect1019ui_story == nil then
				arg_265_1.var_.characterEffect1019ui_story = var_268_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_268_2 = 0.200000002980232

			if var_268_1 <= arg_265_1.time_ and arg_265_1.time_ < var_268_1 + var_268_2 and not isNil(var_268_0) then
				local var_268_3 = (arg_265_1.time_ - var_268_1) / var_268_2

				if arg_265_1.var_.characterEffect1019ui_story and not isNil(var_268_0) then
					local var_268_4 = Mathf.Lerp(0, 0.5, var_268_3)

					arg_265_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_265_1.var_.characterEffect1019ui_story.fillRatio = var_268_4
				end
			end

			if arg_265_1.time_ >= var_268_1 + var_268_2 and arg_265_1.time_ < var_268_1 + var_268_2 + arg_268_0 and not isNil(var_268_0) and arg_265_1.var_.characterEffect1019ui_story then
				local var_268_5 = 0.5

				arg_265_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_265_1.var_.characterEffect1019ui_story.fillRatio = var_268_5
			end

			local var_268_6 = 0
			local var_268_7 = 0.675

			if var_268_6 < arg_265_1.time_ and arg_265_1.time_ <= var_268_6 + arg_268_0 then
				arg_265_1.talkMaxDuration = 0
				arg_265_1.dialogCg_.alpha = 1

				arg_265_1.dialog_:SetActive(true)
				SetActive(arg_265_1.leftNameGo_, false)

				arg_265_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_265_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_265_1:RecordName(arg_265_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_265_1.iconTrs_.gameObject, false)
				arg_265_1.callingController_:SetSelectedState("normal")

				local var_268_8 = arg_265_1:GetWordFromCfg(317021064)
				local var_268_9 = arg_265_1:FormatText(var_268_8.content)

				arg_265_1.text_.text = var_268_9

				LuaForUtil.ClearLinePrefixSymbol(arg_265_1.text_)

				local var_268_10 = 27
				local var_268_11 = utf8.len(var_268_9)
				local var_268_12 = var_268_10 <= 0 and var_268_7 or var_268_7 * (var_268_11 / var_268_10)

				if var_268_12 > 0 and var_268_7 < var_268_12 then
					arg_265_1.talkMaxDuration = var_268_12

					if var_268_12 + var_268_6 > arg_265_1.duration_ then
						arg_265_1.duration_ = var_268_12 + var_268_6
					end
				end

				arg_265_1.text_.text = var_268_9
				arg_265_1.typewritter.percent = 0

				arg_265_1.typewritter:SetDirty()
				arg_265_1:ShowNextGo(false)
				arg_265_1:RecordContent(arg_265_1.text_.text)
			end

			local var_268_13 = math.max(var_268_7, arg_265_1.talkMaxDuration)

			if var_268_6 <= arg_265_1.time_ and arg_265_1.time_ < var_268_6 + var_268_13 then
				arg_265_1.typewritter.percent = (arg_265_1.time_ - var_268_6) / var_268_13

				arg_265_1.typewritter:SetDirty()
			end

			if arg_265_1.time_ >= var_268_6 + var_268_13 and arg_265_1.time_ < var_268_6 + var_268_13 + arg_268_0 then
				arg_265_1.typewritter.percent = 1

				arg_265_1.typewritter:SetDirty()
				arg_265_1:ShowNextGo(true)
			end
		end
	end,
	Play317021065 = function(arg_269_0, arg_269_1)
		arg_269_1.time_ = 0
		arg_269_1.frameCnt_ = 0
		arg_269_1.state_ = "playing"
		arg_269_1.curTalkId_ = 317021065
		arg_269_1.duration_ = 4.3

		local var_269_0 = {
			zh = 1.833,
			ja = 4.3
		}
		local var_269_1 = manager.audio:GetLocalizationFlag()

		if var_269_0[var_269_1] ~= nil then
			arg_269_1.duration_ = var_269_0[var_269_1]
		end

		SetActive(arg_269_1.tipsGo_, false)

		function arg_269_1.onSingleLineFinish_()
			arg_269_1.onSingleLineUpdate_ = nil
			arg_269_1.onSingleLineFinish_ = nil
			arg_269_1.state_ = "waiting"
		end

		function arg_269_1.playNext_(arg_271_0)
			if arg_271_0 == 1 then
				arg_269_0:Play317021066(arg_269_1)
			end
		end

		function arg_269_1.onSingleLineUpdate_(arg_272_0)
			local var_272_0 = arg_269_1.actors_["1019ui_story"].transform
			local var_272_1 = 0

			if var_272_1 < arg_269_1.time_ and arg_269_1.time_ <= var_272_1 + arg_272_0 then
				arg_269_1.var_.moveOldPos1019ui_story = var_272_0.localPosition
			end

			local var_272_2 = 0.001

			if var_272_1 <= arg_269_1.time_ and arg_269_1.time_ < var_272_1 + var_272_2 then
				local var_272_3 = (arg_269_1.time_ - var_272_1) / var_272_2
				local var_272_4 = Vector3.New(-0.2, -1.08, -5.9)

				var_272_0.localPosition = Vector3.Lerp(arg_269_1.var_.moveOldPos1019ui_story, var_272_4, var_272_3)

				local var_272_5 = manager.ui.mainCamera.transform.position - var_272_0.position

				var_272_0.forward = Vector3.New(var_272_5.x, var_272_5.y, var_272_5.z)

				local var_272_6 = var_272_0.localEulerAngles

				var_272_6.z = 0
				var_272_6.x = 0
				var_272_0.localEulerAngles = var_272_6
			end

			if arg_269_1.time_ >= var_272_1 + var_272_2 and arg_269_1.time_ < var_272_1 + var_272_2 + arg_272_0 then
				var_272_0.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_272_7 = manager.ui.mainCamera.transform.position - var_272_0.position

				var_272_0.forward = Vector3.New(var_272_7.x, var_272_7.y, var_272_7.z)

				local var_272_8 = var_272_0.localEulerAngles

				var_272_8.z = 0
				var_272_8.x = 0
				var_272_0.localEulerAngles = var_272_8
			end

			local var_272_9 = arg_269_1.actors_["1019ui_story"]
			local var_272_10 = 0

			if var_272_10 < arg_269_1.time_ and arg_269_1.time_ <= var_272_10 + arg_272_0 and not isNil(var_272_9) and arg_269_1.var_.characterEffect1019ui_story == nil then
				arg_269_1.var_.characterEffect1019ui_story = var_272_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_272_11 = 0.200000002980232

			if var_272_10 <= arg_269_1.time_ and arg_269_1.time_ < var_272_10 + var_272_11 and not isNil(var_272_9) then
				local var_272_12 = (arg_269_1.time_ - var_272_10) / var_272_11

				if arg_269_1.var_.characterEffect1019ui_story and not isNil(var_272_9) then
					arg_269_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_269_1.time_ >= var_272_10 + var_272_11 and arg_269_1.time_ < var_272_10 + var_272_11 + arg_272_0 and not isNil(var_272_9) and arg_269_1.var_.characterEffect1019ui_story then
				arg_269_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_272_13 = 0

			if var_272_13 < arg_269_1.time_ and arg_269_1.time_ <= var_272_13 + arg_272_0 then
				arg_269_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_272_14 = 0

			if var_272_14 < arg_269_1.time_ and arg_269_1.time_ <= var_272_14 + arg_272_0 then
				arg_269_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_272_15 = 0
			local var_272_16 = 0.25

			if var_272_15 < arg_269_1.time_ and arg_269_1.time_ <= var_272_15 + arg_272_0 then
				arg_269_1.talkMaxDuration = 0
				arg_269_1.dialogCg_.alpha = 1

				arg_269_1.dialog_:SetActive(true)
				SetActive(arg_269_1.leftNameGo_, true)

				local var_272_17 = arg_269_1:FormatText(StoryNameCfg[47].name)

				arg_269_1.leftNameTxt_.text = var_272_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_269_1.leftNameTxt_.transform)

				arg_269_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_269_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_269_1:RecordName(arg_269_1.leftNameTxt_.text)
				SetActive(arg_269_1.iconTrs_.gameObject, false)
				arg_269_1.callingController_:SetSelectedState("normal")

				local var_272_18 = arg_269_1:GetWordFromCfg(317021065)
				local var_272_19 = arg_269_1:FormatText(var_272_18.content)

				arg_269_1.text_.text = var_272_19

				LuaForUtil.ClearLinePrefixSymbol(arg_269_1.text_)

				local var_272_20 = 10
				local var_272_21 = utf8.len(var_272_19)
				local var_272_22 = var_272_20 <= 0 and var_272_16 or var_272_16 * (var_272_21 / var_272_20)

				if var_272_22 > 0 and var_272_16 < var_272_22 then
					arg_269_1.talkMaxDuration = var_272_22

					if var_272_22 + var_272_15 > arg_269_1.duration_ then
						arg_269_1.duration_ = var_272_22 + var_272_15
					end
				end

				arg_269_1.text_.text = var_272_19
				arg_269_1.typewritter.percent = 0

				arg_269_1.typewritter:SetDirty()
				arg_269_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021065", "story_v_out_317021.awb") ~= 0 then
					local var_272_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021065", "story_v_out_317021.awb") / 1000

					if var_272_23 + var_272_15 > arg_269_1.duration_ then
						arg_269_1.duration_ = var_272_23 + var_272_15
					end

					if var_272_18.prefab_name ~= "" and arg_269_1.actors_[var_272_18.prefab_name] ~= nil then
						local var_272_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_269_1.actors_[var_272_18.prefab_name].transform, "story_v_out_317021", "317021065", "story_v_out_317021.awb")

						arg_269_1:RecordAudio("317021065", var_272_24)
						arg_269_1:RecordAudio("317021065", var_272_24)
					else
						arg_269_1:AudioAction("play", "voice", "story_v_out_317021", "317021065", "story_v_out_317021.awb")
					end

					arg_269_1:RecordHistoryTalkVoice("story_v_out_317021", "317021065", "story_v_out_317021.awb")
				end

				arg_269_1:RecordContent(arg_269_1.text_.text)
			end

			local var_272_25 = math.max(var_272_16, arg_269_1.talkMaxDuration)

			if var_272_15 <= arg_269_1.time_ and arg_269_1.time_ < var_272_15 + var_272_25 then
				arg_269_1.typewritter.percent = (arg_269_1.time_ - var_272_15) / var_272_25

				arg_269_1.typewritter:SetDirty()
			end

			if arg_269_1.time_ >= var_272_15 + var_272_25 and arg_269_1.time_ < var_272_15 + var_272_25 + arg_272_0 then
				arg_269_1.typewritter.percent = 1

				arg_269_1.typewritter:SetDirty()
				arg_269_1:ShowNextGo(true)
			end
		end
	end,
	Play317021066 = function(arg_273_0, arg_273_1)
		arg_273_1.time_ = 0
		arg_273_1.frameCnt_ = 0
		arg_273_1.state_ = "playing"
		arg_273_1.curTalkId_ = 317021066
		arg_273_1.duration_ = 11.17

		local var_273_0 = {
			zh = 9.333,
			ja = 11.166
		}
		local var_273_1 = manager.audio:GetLocalizationFlag()

		if var_273_0[var_273_1] ~= nil then
			arg_273_1.duration_ = var_273_0[var_273_1]
		end

		SetActive(arg_273_1.tipsGo_, false)

		function arg_273_1.onSingleLineFinish_()
			arg_273_1.onSingleLineUpdate_ = nil
			arg_273_1.onSingleLineFinish_ = nil
			arg_273_1.state_ = "waiting"
		end

		function arg_273_1.playNext_(arg_275_0)
			if arg_275_0 == 1 then
				arg_273_0:Play317021067(arg_273_1)
			end
		end

		function arg_273_1.onSingleLineUpdate_(arg_276_0)
			local var_276_0 = 0
			local var_276_1 = 1.175

			if var_276_0 < arg_273_1.time_ and arg_273_1.time_ <= var_276_0 + arg_276_0 then
				arg_273_1.talkMaxDuration = 0
				arg_273_1.dialogCg_.alpha = 1

				arg_273_1.dialog_:SetActive(true)
				SetActive(arg_273_1.leftNameGo_, true)

				local var_276_2 = arg_273_1:FormatText(StoryNameCfg[47].name)

				arg_273_1.leftNameTxt_.text = var_276_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_273_1.leftNameTxt_.transform)

				arg_273_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_273_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_273_1:RecordName(arg_273_1.leftNameTxt_.text)
				SetActive(arg_273_1.iconTrs_.gameObject, false)
				arg_273_1.callingController_:SetSelectedState("normal")

				local var_276_3 = arg_273_1:GetWordFromCfg(317021066)
				local var_276_4 = arg_273_1:FormatText(var_276_3.content)

				arg_273_1.text_.text = var_276_4

				LuaForUtil.ClearLinePrefixSymbol(arg_273_1.text_)

				local var_276_5 = 47
				local var_276_6 = utf8.len(var_276_4)
				local var_276_7 = var_276_5 <= 0 and var_276_1 or var_276_1 * (var_276_6 / var_276_5)

				if var_276_7 > 0 and var_276_1 < var_276_7 then
					arg_273_1.talkMaxDuration = var_276_7

					if var_276_7 + var_276_0 > arg_273_1.duration_ then
						arg_273_1.duration_ = var_276_7 + var_276_0
					end
				end

				arg_273_1.text_.text = var_276_4
				arg_273_1.typewritter.percent = 0

				arg_273_1.typewritter:SetDirty()
				arg_273_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021066", "story_v_out_317021.awb") ~= 0 then
					local var_276_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021066", "story_v_out_317021.awb") / 1000

					if var_276_8 + var_276_0 > arg_273_1.duration_ then
						arg_273_1.duration_ = var_276_8 + var_276_0
					end

					if var_276_3.prefab_name ~= "" and arg_273_1.actors_[var_276_3.prefab_name] ~= nil then
						local var_276_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_273_1.actors_[var_276_3.prefab_name].transform, "story_v_out_317021", "317021066", "story_v_out_317021.awb")

						arg_273_1:RecordAudio("317021066", var_276_9)
						arg_273_1:RecordAudio("317021066", var_276_9)
					else
						arg_273_1:AudioAction("play", "voice", "story_v_out_317021", "317021066", "story_v_out_317021.awb")
					end

					arg_273_1:RecordHistoryTalkVoice("story_v_out_317021", "317021066", "story_v_out_317021.awb")
				end

				arg_273_1:RecordContent(arg_273_1.text_.text)
			end

			local var_276_10 = math.max(var_276_1, arg_273_1.talkMaxDuration)

			if var_276_0 <= arg_273_1.time_ and arg_273_1.time_ < var_276_0 + var_276_10 then
				arg_273_1.typewritter.percent = (arg_273_1.time_ - var_276_0) / var_276_10

				arg_273_1.typewritter:SetDirty()
			end

			if arg_273_1.time_ >= var_276_0 + var_276_10 and arg_273_1.time_ < var_276_0 + var_276_10 + arg_276_0 then
				arg_273_1.typewritter.percent = 1

				arg_273_1.typewritter:SetDirty()
				arg_273_1:ShowNextGo(true)
			end
		end
	end,
	Play317021067 = function(arg_277_0, arg_277_1)
		arg_277_1.time_ = 0
		arg_277_1.frameCnt_ = 0
		arg_277_1.state_ = "playing"
		arg_277_1.curTalkId_ = 317021067
		arg_277_1.duration_ = 11.43

		local var_277_0 = {
			zh = 10.5,
			ja = 11.433
		}
		local var_277_1 = manager.audio:GetLocalizationFlag()

		if var_277_0[var_277_1] ~= nil then
			arg_277_1.duration_ = var_277_0[var_277_1]
		end

		SetActive(arg_277_1.tipsGo_, false)

		function arg_277_1.onSingleLineFinish_()
			arg_277_1.onSingleLineUpdate_ = nil
			arg_277_1.onSingleLineFinish_ = nil
			arg_277_1.state_ = "waiting"
		end

		function arg_277_1.playNext_(arg_279_0)
			if arg_279_0 == 1 then
				arg_277_0:Play317021068(arg_277_1)
			end
		end

		function arg_277_1.onSingleLineUpdate_(arg_280_0)
			local var_280_0 = 0

			if var_280_0 < arg_277_1.time_ and arg_277_1.time_ <= var_280_0 + arg_280_0 then
				arg_277_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action6_1")
			end

			local var_280_1 = 0
			local var_280_2 = 1.175

			if var_280_1 < arg_277_1.time_ and arg_277_1.time_ <= var_280_1 + arg_280_0 then
				arg_277_1.talkMaxDuration = 0
				arg_277_1.dialogCg_.alpha = 1

				arg_277_1.dialog_:SetActive(true)
				SetActive(arg_277_1.leftNameGo_, true)

				local var_280_3 = arg_277_1:FormatText(StoryNameCfg[47].name)

				arg_277_1.leftNameTxt_.text = var_280_3

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_277_1.leftNameTxt_.transform)

				arg_277_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_277_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_277_1:RecordName(arg_277_1.leftNameTxt_.text)
				SetActive(arg_277_1.iconTrs_.gameObject, false)
				arg_277_1.callingController_:SetSelectedState("normal")

				local var_280_4 = arg_277_1:GetWordFromCfg(317021067)
				local var_280_5 = arg_277_1:FormatText(var_280_4.content)

				arg_277_1.text_.text = var_280_5

				LuaForUtil.ClearLinePrefixSymbol(arg_277_1.text_)

				local var_280_6 = 47
				local var_280_7 = utf8.len(var_280_5)
				local var_280_8 = var_280_6 <= 0 and var_280_2 or var_280_2 * (var_280_7 / var_280_6)

				if var_280_8 > 0 and var_280_2 < var_280_8 then
					arg_277_1.talkMaxDuration = var_280_8

					if var_280_8 + var_280_1 > arg_277_1.duration_ then
						arg_277_1.duration_ = var_280_8 + var_280_1
					end
				end

				arg_277_1.text_.text = var_280_5
				arg_277_1.typewritter.percent = 0

				arg_277_1.typewritter:SetDirty()
				arg_277_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021067", "story_v_out_317021.awb") ~= 0 then
					local var_280_9 = manager.audio:GetVoiceLength("story_v_out_317021", "317021067", "story_v_out_317021.awb") / 1000

					if var_280_9 + var_280_1 > arg_277_1.duration_ then
						arg_277_1.duration_ = var_280_9 + var_280_1
					end

					if var_280_4.prefab_name ~= "" and arg_277_1.actors_[var_280_4.prefab_name] ~= nil then
						local var_280_10 = LuaForUtil.PlayVoiceWithCriLipsync(arg_277_1.actors_[var_280_4.prefab_name].transform, "story_v_out_317021", "317021067", "story_v_out_317021.awb")

						arg_277_1:RecordAudio("317021067", var_280_10)
						arg_277_1:RecordAudio("317021067", var_280_10)
					else
						arg_277_1:AudioAction("play", "voice", "story_v_out_317021", "317021067", "story_v_out_317021.awb")
					end

					arg_277_1:RecordHistoryTalkVoice("story_v_out_317021", "317021067", "story_v_out_317021.awb")
				end

				arg_277_1:RecordContent(arg_277_1.text_.text)
			end

			local var_280_11 = math.max(var_280_2, arg_277_1.talkMaxDuration)

			if var_280_1 <= arg_277_1.time_ and arg_277_1.time_ < var_280_1 + var_280_11 then
				arg_277_1.typewritter.percent = (arg_277_1.time_ - var_280_1) / var_280_11

				arg_277_1.typewritter:SetDirty()
			end

			if arg_277_1.time_ >= var_280_1 + var_280_11 and arg_277_1.time_ < var_280_1 + var_280_11 + arg_280_0 then
				arg_277_1.typewritter.percent = 1

				arg_277_1.typewritter:SetDirty()
				arg_277_1:ShowNextGo(true)
			end
		end
	end,
	Play317021068 = function(arg_281_0, arg_281_1)
		arg_281_1.time_ = 0
		arg_281_1.frameCnt_ = 0
		arg_281_1.state_ = "playing"
		arg_281_1.curTalkId_ = 317021068
		arg_281_1.duration_ = 2

		SetActive(arg_281_1.tipsGo_, false)

		function arg_281_1.onSingleLineFinish_()
			arg_281_1.onSingleLineUpdate_ = nil
			arg_281_1.onSingleLineFinish_ = nil
			arg_281_1.state_ = "waiting"
		end

		function arg_281_1.playNext_(arg_283_0)
			if arg_283_0 == 1 then
				arg_281_0:Play317021069(arg_281_1)
			end
		end

		function arg_281_1.onSingleLineUpdate_(arg_284_0)
			local var_284_0 = arg_281_1.actors_["1019ui_story"].transform
			local var_284_1 = 0

			if var_284_1 < arg_281_1.time_ and arg_281_1.time_ <= var_284_1 + arg_284_0 then
				arg_281_1.var_.moveOldPos1019ui_story = var_284_0.localPosition
			end

			local var_284_2 = 0.001

			if var_284_1 <= arg_281_1.time_ and arg_281_1.time_ < var_284_1 + var_284_2 then
				local var_284_3 = (arg_281_1.time_ - var_284_1) / var_284_2
				local var_284_4 = Vector3.New(0, 100, 0)

				var_284_0.localPosition = Vector3.Lerp(arg_281_1.var_.moveOldPos1019ui_story, var_284_4, var_284_3)

				local var_284_5 = manager.ui.mainCamera.transform.position - var_284_0.position

				var_284_0.forward = Vector3.New(var_284_5.x, var_284_5.y, var_284_5.z)

				local var_284_6 = var_284_0.localEulerAngles

				var_284_6.z = 0
				var_284_6.x = 0
				var_284_0.localEulerAngles = var_284_6
			end

			if arg_281_1.time_ >= var_284_1 + var_284_2 and arg_281_1.time_ < var_284_1 + var_284_2 + arg_284_0 then
				var_284_0.localPosition = Vector3.New(0, 100, 0)

				local var_284_7 = manager.ui.mainCamera.transform.position - var_284_0.position

				var_284_0.forward = Vector3.New(var_284_7.x, var_284_7.y, var_284_7.z)

				local var_284_8 = var_284_0.localEulerAngles

				var_284_8.z = 0
				var_284_8.x = 0
				var_284_0.localEulerAngles = var_284_8
			end

			local var_284_9 = arg_281_1.actors_["1019ui_story"]
			local var_284_10 = 0

			if var_284_10 < arg_281_1.time_ and arg_281_1.time_ <= var_284_10 + arg_284_0 and not isNil(var_284_9) and arg_281_1.var_.characterEffect1019ui_story == nil then
				arg_281_1.var_.characterEffect1019ui_story = var_284_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_284_11 = 0.200000002980232

			if var_284_10 <= arg_281_1.time_ and arg_281_1.time_ < var_284_10 + var_284_11 and not isNil(var_284_9) then
				local var_284_12 = (arg_281_1.time_ - var_284_10) / var_284_11

				if arg_281_1.var_.characterEffect1019ui_story and not isNil(var_284_9) then
					local var_284_13 = Mathf.Lerp(0, 0.5, var_284_12)

					arg_281_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_281_1.var_.characterEffect1019ui_story.fillRatio = var_284_13
				end
			end

			if arg_281_1.time_ >= var_284_10 + var_284_11 and arg_281_1.time_ < var_284_10 + var_284_11 + arg_284_0 and not isNil(var_284_9) and arg_281_1.var_.characterEffect1019ui_story then
				local var_284_14 = 0.5

				arg_281_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_281_1.var_.characterEffect1019ui_story.fillRatio = var_284_14
			end

			local var_284_15 = arg_281_1.actors_["1093ui_story"].transform
			local var_284_16 = 0

			if var_284_16 < arg_281_1.time_ and arg_281_1.time_ <= var_284_16 + arg_284_0 then
				arg_281_1.var_.moveOldPos1093ui_story = var_284_15.localPosition
			end

			local var_284_17 = 0.001

			if var_284_16 <= arg_281_1.time_ and arg_281_1.time_ < var_284_16 + var_284_17 then
				local var_284_18 = (arg_281_1.time_ - var_284_16) / var_284_17
				local var_284_19 = Vector3.New(-0.7, -1.11, -5.88)

				var_284_15.localPosition = Vector3.Lerp(arg_281_1.var_.moveOldPos1093ui_story, var_284_19, var_284_18)

				local var_284_20 = manager.ui.mainCamera.transform.position - var_284_15.position

				var_284_15.forward = Vector3.New(var_284_20.x, var_284_20.y, var_284_20.z)

				local var_284_21 = var_284_15.localEulerAngles

				var_284_21.z = 0
				var_284_21.x = 0
				var_284_15.localEulerAngles = var_284_21
			end

			if arg_281_1.time_ >= var_284_16 + var_284_17 and arg_281_1.time_ < var_284_16 + var_284_17 + arg_284_0 then
				var_284_15.localPosition = Vector3.New(-0.7, -1.11, -5.88)

				local var_284_22 = manager.ui.mainCamera.transform.position - var_284_15.position

				var_284_15.forward = Vector3.New(var_284_22.x, var_284_22.y, var_284_22.z)

				local var_284_23 = var_284_15.localEulerAngles

				var_284_23.z = 0
				var_284_23.x = 0
				var_284_15.localEulerAngles = var_284_23
			end

			local var_284_24 = arg_281_1.actors_["1093ui_story"]
			local var_284_25 = 0

			if var_284_25 < arg_281_1.time_ and arg_281_1.time_ <= var_284_25 + arg_284_0 and not isNil(var_284_24) and arg_281_1.var_.characterEffect1093ui_story == nil then
				arg_281_1.var_.characterEffect1093ui_story = var_284_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_284_26 = 0.200000002980232

			if var_284_25 <= arg_281_1.time_ and arg_281_1.time_ < var_284_25 + var_284_26 and not isNil(var_284_24) then
				local var_284_27 = (arg_281_1.time_ - var_284_25) / var_284_26

				if arg_281_1.var_.characterEffect1093ui_story and not isNil(var_284_24) then
					arg_281_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_281_1.time_ >= var_284_25 + var_284_26 and arg_281_1.time_ < var_284_25 + var_284_26 + arg_284_0 and not isNil(var_284_24) and arg_281_1.var_.characterEffect1093ui_story then
				arg_281_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_284_28 = 0

			if var_284_28 < arg_281_1.time_ and arg_281_1.time_ <= var_284_28 + arg_284_0 then
				arg_281_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action1_1")
			end

			local var_284_29 = 0

			if var_284_29 < arg_281_1.time_ and arg_281_1.time_ <= var_284_29 + arg_284_0 then
				arg_281_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface3202cva")
			end

			local var_284_30 = 0
			local var_284_31 = 0.125

			if var_284_30 < arg_281_1.time_ and arg_281_1.time_ <= var_284_30 + arg_284_0 then
				arg_281_1.talkMaxDuration = 0
				arg_281_1.dialogCg_.alpha = 1

				arg_281_1.dialog_:SetActive(true)
				SetActive(arg_281_1.leftNameGo_, true)

				local var_284_32 = arg_281_1:FormatText(StoryNameCfg[73].name)

				arg_281_1.leftNameTxt_.text = var_284_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_281_1.leftNameTxt_.transform)

				arg_281_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_281_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_281_1:RecordName(arg_281_1.leftNameTxt_.text)
				SetActive(arg_281_1.iconTrs_.gameObject, false)
				arg_281_1.callingController_:SetSelectedState("normal")

				local var_284_33 = arg_281_1:GetWordFromCfg(317021068)
				local var_284_34 = arg_281_1:FormatText(var_284_33.content)

				arg_281_1.text_.text = var_284_34

				LuaForUtil.ClearLinePrefixSymbol(arg_281_1.text_)

				local var_284_35 = 5
				local var_284_36 = utf8.len(var_284_34)
				local var_284_37 = var_284_35 <= 0 and var_284_31 or var_284_31 * (var_284_36 / var_284_35)

				if var_284_37 > 0 and var_284_31 < var_284_37 then
					arg_281_1.talkMaxDuration = var_284_37

					if var_284_37 + var_284_30 > arg_281_1.duration_ then
						arg_281_1.duration_ = var_284_37 + var_284_30
					end
				end

				arg_281_1.text_.text = var_284_34
				arg_281_1.typewritter.percent = 0

				arg_281_1.typewritter:SetDirty()
				arg_281_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021068", "story_v_out_317021.awb") ~= 0 then
					local var_284_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021068", "story_v_out_317021.awb") / 1000

					if var_284_38 + var_284_30 > arg_281_1.duration_ then
						arg_281_1.duration_ = var_284_38 + var_284_30
					end

					if var_284_33.prefab_name ~= "" and arg_281_1.actors_[var_284_33.prefab_name] ~= nil then
						local var_284_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_281_1.actors_[var_284_33.prefab_name].transform, "story_v_out_317021", "317021068", "story_v_out_317021.awb")

						arg_281_1:RecordAudio("317021068", var_284_39)
						arg_281_1:RecordAudio("317021068", var_284_39)
					else
						arg_281_1:AudioAction("play", "voice", "story_v_out_317021", "317021068", "story_v_out_317021.awb")
					end

					arg_281_1:RecordHistoryTalkVoice("story_v_out_317021", "317021068", "story_v_out_317021.awb")
				end

				arg_281_1:RecordContent(arg_281_1.text_.text)
			end

			local var_284_40 = math.max(var_284_31, arg_281_1.talkMaxDuration)

			if var_284_30 <= arg_281_1.time_ and arg_281_1.time_ < var_284_30 + var_284_40 then
				arg_281_1.typewritter.percent = (arg_281_1.time_ - var_284_30) / var_284_40

				arg_281_1.typewritter:SetDirty()
			end

			if arg_281_1.time_ >= var_284_30 + var_284_40 and arg_281_1.time_ < var_284_30 + var_284_40 + arg_284_0 then
				arg_281_1.typewritter.percent = 1

				arg_281_1.typewritter:SetDirty()
				arg_281_1:ShowNextGo(true)
			end
		end
	end,
	Play317021069 = function(arg_285_0, arg_285_1)
		arg_285_1.time_ = 0
		arg_285_1.frameCnt_ = 0
		arg_285_1.state_ = "playing"
		arg_285_1.curTalkId_ = 317021069
		arg_285_1.duration_ = 2

		SetActive(arg_285_1.tipsGo_, false)

		function arg_285_1.onSingleLineFinish_()
			arg_285_1.onSingleLineUpdate_ = nil
			arg_285_1.onSingleLineFinish_ = nil
			arg_285_1.state_ = "waiting"
		end

		function arg_285_1.playNext_(arg_287_0)
			if arg_287_0 == 1 then
				arg_285_0:Play317021070(arg_285_1)
			end
		end

		function arg_285_1.onSingleLineUpdate_(arg_288_0)
			local var_288_0 = arg_285_1.actors_["1093ui_story"].transform
			local var_288_1 = 0

			if var_288_1 < arg_285_1.time_ and arg_285_1.time_ <= var_288_1 + arg_288_0 then
				arg_285_1.var_.moveOldPos1093ui_story = var_288_0.localPosition
			end

			local var_288_2 = 0.001

			if var_288_1 <= arg_285_1.time_ and arg_285_1.time_ < var_288_1 + var_288_2 then
				local var_288_3 = (arg_285_1.time_ - var_288_1) / var_288_2
				local var_288_4 = Vector3.New(-0.7, -1.11, -5.88)

				var_288_0.localPosition = Vector3.Lerp(arg_285_1.var_.moveOldPos1093ui_story, var_288_4, var_288_3)

				local var_288_5 = manager.ui.mainCamera.transform.position - var_288_0.position

				var_288_0.forward = Vector3.New(var_288_5.x, var_288_5.y, var_288_5.z)

				local var_288_6 = var_288_0.localEulerAngles

				var_288_6.z = 0
				var_288_6.x = 0
				var_288_0.localEulerAngles = var_288_6
			end

			if arg_285_1.time_ >= var_288_1 + var_288_2 and arg_285_1.time_ < var_288_1 + var_288_2 + arg_288_0 then
				var_288_0.localPosition = Vector3.New(-0.7, -1.11, -5.88)

				local var_288_7 = manager.ui.mainCamera.transform.position - var_288_0.position

				var_288_0.forward = Vector3.New(var_288_7.x, var_288_7.y, var_288_7.z)

				local var_288_8 = var_288_0.localEulerAngles

				var_288_8.z = 0
				var_288_8.x = 0
				var_288_0.localEulerAngles = var_288_8
			end

			local var_288_9 = arg_285_1.actors_["1093ui_story"]
			local var_288_10 = 0

			if var_288_10 < arg_285_1.time_ and arg_285_1.time_ <= var_288_10 + arg_288_0 and not isNil(var_288_9) and arg_285_1.var_.characterEffect1093ui_story == nil then
				arg_285_1.var_.characterEffect1093ui_story = var_288_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_288_11 = 0.200000002980232

			if var_288_10 <= arg_285_1.time_ and arg_285_1.time_ < var_288_10 + var_288_11 and not isNil(var_288_9) then
				local var_288_12 = (arg_285_1.time_ - var_288_10) / var_288_11

				if arg_285_1.var_.characterEffect1093ui_story and not isNil(var_288_9) then
					local var_288_13 = Mathf.Lerp(0, 0.5, var_288_12)

					arg_285_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_285_1.var_.characterEffect1093ui_story.fillRatio = var_288_13
				end
			end

			if arg_285_1.time_ >= var_288_10 + var_288_11 and arg_285_1.time_ < var_288_10 + var_288_11 + arg_288_0 and not isNil(var_288_9) and arg_285_1.var_.characterEffect1093ui_story then
				local var_288_14 = 0.5

				arg_285_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_285_1.var_.characterEffect1093ui_story.fillRatio = var_288_14
			end

			local var_288_15 = arg_285_1.actors_["1050ui_story"].transform
			local var_288_16 = 0

			if var_288_16 < arg_285_1.time_ and arg_285_1.time_ <= var_288_16 + arg_288_0 then
				arg_285_1.var_.moveOldPos1050ui_story = var_288_15.localPosition
			end

			local var_288_17 = 0.001

			if var_288_16 <= arg_285_1.time_ and arg_285_1.time_ < var_288_16 + var_288_17 then
				local var_288_18 = (arg_285_1.time_ - var_288_16) / var_288_17
				local var_288_19 = Vector3.New(0.7, -1, -6.1)

				var_288_15.localPosition = Vector3.Lerp(arg_285_1.var_.moveOldPos1050ui_story, var_288_19, var_288_18)

				local var_288_20 = manager.ui.mainCamera.transform.position - var_288_15.position

				var_288_15.forward = Vector3.New(var_288_20.x, var_288_20.y, var_288_20.z)

				local var_288_21 = var_288_15.localEulerAngles

				var_288_21.z = 0
				var_288_21.x = 0
				var_288_15.localEulerAngles = var_288_21
			end

			if arg_285_1.time_ >= var_288_16 + var_288_17 and arg_285_1.time_ < var_288_16 + var_288_17 + arg_288_0 then
				var_288_15.localPosition = Vector3.New(0.7, -1, -6.1)

				local var_288_22 = manager.ui.mainCamera.transform.position - var_288_15.position

				var_288_15.forward = Vector3.New(var_288_22.x, var_288_22.y, var_288_22.z)

				local var_288_23 = var_288_15.localEulerAngles

				var_288_23.z = 0
				var_288_23.x = 0
				var_288_15.localEulerAngles = var_288_23
			end

			local var_288_24 = arg_285_1.actors_["1050ui_story"]
			local var_288_25 = 0

			if var_288_25 < arg_285_1.time_ and arg_285_1.time_ <= var_288_25 + arg_288_0 and not isNil(var_288_24) and arg_285_1.var_.characterEffect1050ui_story == nil then
				arg_285_1.var_.characterEffect1050ui_story = var_288_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_288_26 = 0.200000002980232

			if var_288_25 <= arg_285_1.time_ and arg_285_1.time_ < var_288_25 + var_288_26 and not isNil(var_288_24) then
				local var_288_27 = (arg_285_1.time_ - var_288_25) / var_288_26

				if arg_285_1.var_.characterEffect1050ui_story and not isNil(var_288_24) then
					arg_285_1.var_.characterEffect1050ui_story.fillFlat = false
				end
			end

			if arg_285_1.time_ >= var_288_25 + var_288_26 and arg_285_1.time_ < var_288_25 + var_288_26 + arg_288_0 and not isNil(var_288_24) and arg_285_1.var_.characterEffect1050ui_story then
				arg_285_1.var_.characterEffect1050ui_story.fillFlat = false
			end

			local var_288_28 = 0

			if var_288_28 < arg_285_1.time_ and arg_285_1.time_ <= var_288_28 + arg_288_0 then
				arg_285_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/1050/1050action/1050action1_1")
			end

			local var_288_29 = 0

			if var_288_29 < arg_285_1.time_ and arg_285_1.time_ <= var_288_29 + arg_288_0 then
				arg_285_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface2102cva")
			end

			local var_288_30 = 0
			local var_288_31 = 0.125

			if var_288_30 < arg_285_1.time_ and arg_285_1.time_ <= var_288_30 + arg_288_0 then
				arg_285_1.talkMaxDuration = 0
				arg_285_1.dialogCg_.alpha = 1

				arg_285_1.dialog_:SetActive(true)
				SetActive(arg_285_1.leftNameGo_, true)

				local var_288_32 = arg_285_1:FormatText(StoryNameCfg[74].name)

				arg_285_1.leftNameTxt_.text = var_288_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_285_1.leftNameTxt_.transform)

				arg_285_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_285_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_285_1:RecordName(arg_285_1.leftNameTxt_.text)
				SetActive(arg_285_1.iconTrs_.gameObject, false)
				arg_285_1.callingController_:SetSelectedState("normal")

				local var_288_33 = arg_285_1:GetWordFromCfg(317021069)
				local var_288_34 = arg_285_1:FormatText(var_288_33.content)

				arg_285_1.text_.text = var_288_34

				LuaForUtil.ClearLinePrefixSymbol(arg_285_1.text_)

				local var_288_35 = 5
				local var_288_36 = utf8.len(var_288_34)
				local var_288_37 = var_288_35 <= 0 and var_288_31 or var_288_31 * (var_288_36 / var_288_35)

				if var_288_37 > 0 and var_288_31 < var_288_37 then
					arg_285_1.talkMaxDuration = var_288_37

					if var_288_37 + var_288_30 > arg_285_1.duration_ then
						arg_285_1.duration_ = var_288_37 + var_288_30
					end
				end

				arg_285_1.text_.text = var_288_34
				arg_285_1.typewritter.percent = 0

				arg_285_1.typewritter:SetDirty()
				arg_285_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021069", "story_v_out_317021.awb") ~= 0 then
					local var_288_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021069", "story_v_out_317021.awb") / 1000

					if var_288_38 + var_288_30 > arg_285_1.duration_ then
						arg_285_1.duration_ = var_288_38 + var_288_30
					end

					if var_288_33.prefab_name ~= "" and arg_285_1.actors_[var_288_33.prefab_name] ~= nil then
						local var_288_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_285_1.actors_[var_288_33.prefab_name].transform, "story_v_out_317021", "317021069", "story_v_out_317021.awb")

						arg_285_1:RecordAudio("317021069", var_288_39)
						arg_285_1:RecordAudio("317021069", var_288_39)
					else
						arg_285_1:AudioAction("play", "voice", "story_v_out_317021", "317021069", "story_v_out_317021.awb")
					end

					arg_285_1:RecordHistoryTalkVoice("story_v_out_317021", "317021069", "story_v_out_317021.awb")
				end

				arg_285_1:RecordContent(arg_285_1.text_.text)
			end

			local var_288_40 = math.max(var_288_31, arg_285_1.talkMaxDuration)

			if var_288_30 <= arg_285_1.time_ and arg_285_1.time_ < var_288_30 + var_288_40 then
				arg_285_1.typewritter.percent = (arg_285_1.time_ - var_288_30) / var_288_40

				arg_285_1.typewritter:SetDirty()
			end

			if arg_285_1.time_ >= var_288_30 + var_288_40 and arg_285_1.time_ < var_288_30 + var_288_40 + arg_288_0 then
				arg_285_1.typewritter.percent = 1

				arg_285_1.typewritter:SetDirty()
				arg_285_1:ShowNextGo(true)
			end
		end
	end,
	Play317021070 = function(arg_289_0, arg_289_1)
		arg_289_1.time_ = 0
		arg_289_1.frameCnt_ = 0
		arg_289_1.state_ = "playing"
		arg_289_1.curTalkId_ = 317021070
		arg_289_1.duration_ = 12

		local var_289_0 = {
			zh = 11,
			ja = 12
		}
		local var_289_1 = manager.audio:GetLocalizationFlag()

		if var_289_0[var_289_1] ~= nil then
			arg_289_1.duration_ = var_289_0[var_289_1]
		end

		SetActive(arg_289_1.tipsGo_, false)

		function arg_289_1.onSingleLineFinish_()
			arg_289_1.onSingleLineUpdate_ = nil
			arg_289_1.onSingleLineFinish_ = nil
			arg_289_1.state_ = "waiting"
		end

		function arg_289_1.playNext_(arg_291_0)
			if arg_291_0 == 1 then
				arg_289_0:Play317021071(arg_289_1)
			end
		end

		function arg_289_1.onSingleLineUpdate_(arg_292_0)
			local var_292_0 = arg_289_1.actors_["1093ui_story"].transform
			local var_292_1 = 0

			if var_292_1 < arg_289_1.time_ and arg_289_1.time_ <= var_292_1 + arg_292_0 then
				arg_289_1.var_.moveOldPos1093ui_story = var_292_0.localPosition
			end

			local var_292_2 = 0.001

			if var_292_1 <= arg_289_1.time_ and arg_289_1.time_ < var_292_1 + var_292_2 then
				local var_292_3 = (arg_289_1.time_ - var_292_1) / var_292_2
				local var_292_4 = Vector3.New(0, 100, 0)

				var_292_0.localPosition = Vector3.Lerp(arg_289_1.var_.moveOldPos1093ui_story, var_292_4, var_292_3)

				local var_292_5 = manager.ui.mainCamera.transform.position - var_292_0.position

				var_292_0.forward = Vector3.New(var_292_5.x, var_292_5.y, var_292_5.z)

				local var_292_6 = var_292_0.localEulerAngles

				var_292_6.z = 0
				var_292_6.x = 0
				var_292_0.localEulerAngles = var_292_6
			end

			if arg_289_1.time_ >= var_292_1 + var_292_2 and arg_289_1.time_ < var_292_1 + var_292_2 + arg_292_0 then
				var_292_0.localPosition = Vector3.New(0, 100, 0)

				local var_292_7 = manager.ui.mainCamera.transform.position - var_292_0.position

				var_292_0.forward = Vector3.New(var_292_7.x, var_292_7.y, var_292_7.z)

				local var_292_8 = var_292_0.localEulerAngles

				var_292_8.z = 0
				var_292_8.x = 0
				var_292_0.localEulerAngles = var_292_8
			end

			local var_292_9 = arg_289_1.actors_["1093ui_story"]
			local var_292_10 = 0

			if var_292_10 < arg_289_1.time_ and arg_289_1.time_ <= var_292_10 + arg_292_0 and not isNil(var_292_9) and arg_289_1.var_.characterEffect1093ui_story == nil then
				arg_289_1.var_.characterEffect1093ui_story = var_292_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_292_11 = 0.200000002980232

			if var_292_10 <= arg_289_1.time_ and arg_289_1.time_ < var_292_10 + var_292_11 and not isNil(var_292_9) then
				local var_292_12 = (arg_289_1.time_ - var_292_10) / var_292_11

				if arg_289_1.var_.characterEffect1093ui_story and not isNil(var_292_9) then
					local var_292_13 = Mathf.Lerp(0, 0.5, var_292_12)

					arg_289_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_289_1.var_.characterEffect1093ui_story.fillRatio = var_292_13
				end
			end

			if arg_289_1.time_ >= var_292_10 + var_292_11 and arg_289_1.time_ < var_292_10 + var_292_11 + arg_292_0 and not isNil(var_292_9) and arg_289_1.var_.characterEffect1093ui_story then
				local var_292_14 = 0.5

				arg_289_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_289_1.var_.characterEffect1093ui_story.fillRatio = var_292_14
			end

			local var_292_15 = arg_289_1.actors_["1050ui_story"].transform
			local var_292_16 = 0

			if var_292_16 < arg_289_1.time_ and arg_289_1.time_ <= var_292_16 + arg_292_0 then
				arg_289_1.var_.moveOldPos1050ui_story = var_292_15.localPosition
			end

			local var_292_17 = 0.001

			if var_292_16 <= arg_289_1.time_ and arg_289_1.time_ < var_292_16 + var_292_17 then
				local var_292_18 = (arg_289_1.time_ - var_292_16) / var_292_17
				local var_292_19 = Vector3.New(0, 100, 0)

				var_292_15.localPosition = Vector3.Lerp(arg_289_1.var_.moveOldPos1050ui_story, var_292_19, var_292_18)

				local var_292_20 = manager.ui.mainCamera.transform.position - var_292_15.position

				var_292_15.forward = Vector3.New(var_292_20.x, var_292_20.y, var_292_20.z)

				local var_292_21 = var_292_15.localEulerAngles

				var_292_21.z = 0
				var_292_21.x = 0
				var_292_15.localEulerAngles = var_292_21
			end

			if arg_289_1.time_ >= var_292_16 + var_292_17 and arg_289_1.time_ < var_292_16 + var_292_17 + arg_292_0 then
				var_292_15.localPosition = Vector3.New(0, 100, 0)

				local var_292_22 = manager.ui.mainCamera.transform.position - var_292_15.position

				var_292_15.forward = Vector3.New(var_292_22.x, var_292_22.y, var_292_22.z)

				local var_292_23 = var_292_15.localEulerAngles

				var_292_23.z = 0
				var_292_23.x = 0
				var_292_15.localEulerAngles = var_292_23
			end

			local var_292_24 = arg_289_1.actors_["1050ui_story"]
			local var_292_25 = 0

			if var_292_25 < arg_289_1.time_ and arg_289_1.time_ <= var_292_25 + arg_292_0 and not isNil(var_292_24) and arg_289_1.var_.characterEffect1050ui_story == nil then
				arg_289_1.var_.characterEffect1050ui_story = var_292_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_292_26 = 0.200000002980232

			if var_292_25 <= arg_289_1.time_ and arg_289_1.time_ < var_292_25 + var_292_26 and not isNil(var_292_24) then
				local var_292_27 = (arg_289_1.time_ - var_292_25) / var_292_26

				if arg_289_1.var_.characterEffect1050ui_story and not isNil(var_292_24) then
					local var_292_28 = Mathf.Lerp(0, 0.5, var_292_27)

					arg_289_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_289_1.var_.characterEffect1050ui_story.fillRatio = var_292_28
				end
			end

			if arg_289_1.time_ >= var_292_25 + var_292_26 and arg_289_1.time_ < var_292_25 + var_292_26 + arg_292_0 and not isNil(var_292_24) and arg_289_1.var_.characterEffect1050ui_story then
				local var_292_29 = 0.5

				arg_289_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_289_1.var_.characterEffect1050ui_story.fillRatio = var_292_29
			end

			local var_292_30 = arg_289_1.actors_["1019ui_story"].transform
			local var_292_31 = 0

			if var_292_31 < arg_289_1.time_ and arg_289_1.time_ <= var_292_31 + arg_292_0 then
				arg_289_1.var_.moveOldPos1019ui_story = var_292_30.localPosition
			end

			local var_292_32 = 0.001

			if var_292_31 <= arg_289_1.time_ and arg_289_1.time_ < var_292_31 + var_292_32 then
				local var_292_33 = (arg_289_1.time_ - var_292_31) / var_292_32
				local var_292_34 = Vector3.New(-0.2, -1.08, -5.9)

				var_292_30.localPosition = Vector3.Lerp(arg_289_1.var_.moveOldPos1019ui_story, var_292_34, var_292_33)

				local var_292_35 = manager.ui.mainCamera.transform.position - var_292_30.position

				var_292_30.forward = Vector3.New(var_292_35.x, var_292_35.y, var_292_35.z)

				local var_292_36 = var_292_30.localEulerAngles

				var_292_36.z = 0
				var_292_36.x = 0
				var_292_30.localEulerAngles = var_292_36
			end

			if arg_289_1.time_ >= var_292_31 + var_292_32 and arg_289_1.time_ < var_292_31 + var_292_32 + arg_292_0 then
				var_292_30.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_292_37 = manager.ui.mainCamera.transform.position - var_292_30.position

				var_292_30.forward = Vector3.New(var_292_37.x, var_292_37.y, var_292_37.z)

				local var_292_38 = var_292_30.localEulerAngles

				var_292_38.z = 0
				var_292_38.x = 0
				var_292_30.localEulerAngles = var_292_38
			end

			local var_292_39 = arg_289_1.actors_["1019ui_story"]
			local var_292_40 = 0

			if var_292_40 < arg_289_1.time_ and arg_289_1.time_ <= var_292_40 + arg_292_0 and not isNil(var_292_39) and arg_289_1.var_.characterEffect1019ui_story == nil then
				arg_289_1.var_.characterEffect1019ui_story = var_292_39:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_292_41 = 0.200000002980232

			if var_292_40 <= arg_289_1.time_ and arg_289_1.time_ < var_292_40 + var_292_41 and not isNil(var_292_39) then
				local var_292_42 = (arg_289_1.time_ - var_292_40) / var_292_41

				if arg_289_1.var_.characterEffect1019ui_story and not isNil(var_292_39) then
					arg_289_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_289_1.time_ >= var_292_40 + var_292_41 and arg_289_1.time_ < var_292_40 + var_292_41 + arg_292_0 and not isNil(var_292_39) and arg_289_1.var_.characterEffect1019ui_story then
				arg_289_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_292_43 = 0

			if var_292_43 < arg_289_1.time_ and arg_289_1.time_ <= var_292_43 + arg_292_0 then
				arg_289_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_292_44 = 0

			if var_292_44 < arg_289_1.time_ and arg_289_1.time_ <= var_292_44 + arg_292_0 then
				arg_289_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_292_45 = 0
			local var_292_46 = 1.3

			if var_292_45 < arg_289_1.time_ and arg_289_1.time_ <= var_292_45 + arg_292_0 then
				arg_289_1.talkMaxDuration = 0
				arg_289_1.dialogCg_.alpha = 1

				arg_289_1.dialog_:SetActive(true)
				SetActive(arg_289_1.leftNameGo_, true)

				local var_292_47 = arg_289_1:FormatText(StoryNameCfg[47].name)

				arg_289_1.leftNameTxt_.text = var_292_47

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_289_1.leftNameTxt_.transform)

				arg_289_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_289_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_289_1:RecordName(arg_289_1.leftNameTxt_.text)
				SetActive(arg_289_1.iconTrs_.gameObject, false)
				arg_289_1.callingController_:SetSelectedState("normal")

				local var_292_48 = arg_289_1:GetWordFromCfg(317021070)
				local var_292_49 = arg_289_1:FormatText(var_292_48.content)

				arg_289_1.text_.text = var_292_49

				LuaForUtil.ClearLinePrefixSymbol(arg_289_1.text_)

				local var_292_50 = 48
				local var_292_51 = utf8.len(var_292_49)
				local var_292_52 = var_292_50 <= 0 and var_292_46 or var_292_46 * (var_292_51 / var_292_50)

				if var_292_52 > 0 and var_292_46 < var_292_52 then
					arg_289_1.talkMaxDuration = var_292_52

					if var_292_52 + var_292_45 > arg_289_1.duration_ then
						arg_289_1.duration_ = var_292_52 + var_292_45
					end
				end

				arg_289_1.text_.text = var_292_49
				arg_289_1.typewritter.percent = 0

				arg_289_1.typewritter:SetDirty()
				arg_289_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021070", "story_v_out_317021.awb") ~= 0 then
					local var_292_53 = manager.audio:GetVoiceLength("story_v_out_317021", "317021070", "story_v_out_317021.awb") / 1000

					if var_292_53 + var_292_45 > arg_289_1.duration_ then
						arg_289_1.duration_ = var_292_53 + var_292_45
					end

					if var_292_48.prefab_name ~= "" and arg_289_1.actors_[var_292_48.prefab_name] ~= nil then
						local var_292_54 = LuaForUtil.PlayVoiceWithCriLipsync(arg_289_1.actors_[var_292_48.prefab_name].transform, "story_v_out_317021", "317021070", "story_v_out_317021.awb")

						arg_289_1:RecordAudio("317021070", var_292_54)
						arg_289_1:RecordAudio("317021070", var_292_54)
					else
						arg_289_1:AudioAction("play", "voice", "story_v_out_317021", "317021070", "story_v_out_317021.awb")
					end

					arg_289_1:RecordHistoryTalkVoice("story_v_out_317021", "317021070", "story_v_out_317021.awb")
				end

				arg_289_1:RecordContent(arg_289_1.text_.text)
			end

			local var_292_55 = math.max(var_292_46, arg_289_1.talkMaxDuration)

			if var_292_45 <= arg_289_1.time_ and arg_289_1.time_ < var_292_45 + var_292_55 then
				arg_289_1.typewritter.percent = (arg_289_1.time_ - var_292_45) / var_292_55

				arg_289_1.typewritter:SetDirty()
			end

			if arg_289_1.time_ >= var_292_45 + var_292_55 and arg_289_1.time_ < var_292_45 + var_292_55 + arg_292_0 then
				arg_289_1.typewritter.percent = 1

				arg_289_1.typewritter:SetDirty()
				arg_289_1:ShowNextGo(true)
			end
		end
	end,
	Play317021071 = function(arg_293_0, arg_293_1)
		arg_293_1.time_ = 0
		arg_293_1.frameCnt_ = 0
		arg_293_1.state_ = "playing"
		arg_293_1.curTalkId_ = 317021071
		arg_293_1.duration_ = 3.5

		local var_293_0 = {
			zh = 3.5,
			ja = 2.933
		}
		local var_293_1 = manager.audio:GetLocalizationFlag()

		if var_293_0[var_293_1] ~= nil then
			arg_293_1.duration_ = var_293_0[var_293_1]
		end

		SetActive(arg_293_1.tipsGo_, false)

		function arg_293_1.onSingleLineFinish_()
			arg_293_1.onSingleLineUpdate_ = nil
			arg_293_1.onSingleLineFinish_ = nil
			arg_293_1.state_ = "waiting"
		end

		function arg_293_1.playNext_(arg_295_0)
			if arg_295_0 == 1 then
				arg_293_0:Play317021072(arg_293_1)
			end
		end

		function arg_293_1.onSingleLineUpdate_(arg_296_0)
			local var_296_0 = arg_293_1.actors_["1019ui_story"].transform
			local var_296_1 = 0

			if var_296_1 < arg_293_1.time_ and arg_293_1.time_ <= var_296_1 + arg_296_0 then
				arg_293_1.var_.moveOldPos1019ui_story = var_296_0.localPosition
			end

			local var_296_2 = 0.001

			if var_296_1 <= arg_293_1.time_ and arg_293_1.time_ < var_296_1 + var_296_2 then
				local var_296_3 = (arg_293_1.time_ - var_296_1) / var_296_2
				local var_296_4 = Vector3.New(0, 100, 0)

				var_296_0.localPosition = Vector3.Lerp(arg_293_1.var_.moveOldPos1019ui_story, var_296_4, var_296_3)

				local var_296_5 = manager.ui.mainCamera.transform.position - var_296_0.position

				var_296_0.forward = Vector3.New(var_296_5.x, var_296_5.y, var_296_5.z)

				local var_296_6 = var_296_0.localEulerAngles

				var_296_6.z = 0
				var_296_6.x = 0
				var_296_0.localEulerAngles = var_296_6
			end

			if arg_293_1.time_ >= var_296_1 + var_296_2 and arg_293_1.time_ < var_296_1 + var_296_2 + arg_296_0 then
				var_296_0.localPosition = Vector3.New(0, 100, 0)

				local var_296_7 = manager.ui.mainCamera.transform.position - var_296_0.position

				var_296_0.forward = Vector3.New(var_296_7.x, var_296_7.y, var_296_7.z)

				local var_296_8 = var_296_0.localEulerAngles

				var_296_8.z = 0
				var_296_8.x = 0
				var_296_0.localEulerAngles = var_296_8
			end

			local var_296_9 = arg_293_1.actors_["1019ui_story"]
			local var_296_10 = 0

			if var_296_10 < arg_293_1.time_ and arg_293_1.time_ <= var_296_10 + arg_296_0 and not isNil(var_296_9) and arg_293_1.var_.characterEffect1019ui_story == nil then
				arg_293_1.var_.characterEffect1019ui_story = var_296_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_296_11 = 0.200000002980232

			if var_296_10 <= arg_293_1.time_ and arg_293_1.time_ < var_296_10 + var_296_11 and not isNil(var_296_9) then
				local var_296_12 = (arg_293_1.time_ - var_296_10) / var_296_11

				if arg_293_1.var_.characterEffect1019ui_story and not isNil(var_296_9) then
					local var_296_13 = Mathf.Lerp(0, 0.5, var_296_12)

					arg_293_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_293_1.var_.characterEffect1019ui_story.fillRatio = var_296_13
				end
			end

			if arg_293_1.time_ >= var_296_10 + var_296_11 and arg_293_1.time_ < var_296_10 + var_296_11 + arg_296_0 and not isNil(var_296_9) and arg_293_1.var_.characterEffect1019ui_story then
				local var_296_14 = 0.5

				arg_293_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_293_1.var_.characterEffect1019ui_story.fillRatio = var_296_14
			end

			local var_296_15 = arg_293_1.actors_["1050ui_story"].transform
			local var_296_16 = 0

			if var_296_16 < arg_293_1.time_ and arg_293_1.time_ <= var_296_16 + arg_296_0 then
				arg_293_1.var_.moveOldPos1050ui_story = var_296_15.localPosition
			end

			local var_296_17 = 0.001

			if var_296_16 <= arg_293_1.time_ and arg_293_1.time_ < var_296_16 + var_296_17 then
				local var_296_18 = (arg_293_1.time_ - var_296_16) / var_296_17
				local var_296_19 = Vector3.New(0, -1, -6.1)

				var_296_15.localPosition = Vector3.Lerp(arg_293_1.var_.moveOldPos1050ui_story, var_296_19, var_296_18)

				local var_296_20 = manager.ui.mainCamera.transform.position - var_296_15.position

				var_296_15.forward = Vector3.New(var_296_20.x, var_296_20.y, var_296_20.z)

				local var_296_21 = var_296_15.localEulerAngles

				var_296_21.z = 0
				var_296_21.x = 0
				var_296_15.localEulerAngles = var_296_21
			end

			if arg_293_1.time_ >= var_296_16 + var_296_17 and arg_293_1.time_ < var_296_16 + var_296_17 + arg_296_0 then
				var_296_15.localPosition = Vector3.New(0, -1, -6.1)

				local var_296_22 = manager.ui.mainCamera.transform.position - var_296_15.position

				var_296_15.forward = Vector3.New(var_296_22.x, var_296_22.y, var_296_22.z)

				local var_296_23 = var_296_15.localEulerAngles

				var_296_23.z = 0
				var_296_23.x = 0
				var_296_15.localEulerAngles = var_296_23
			end

			local var_296_24 = arg_293_1.actors_["1050ui_story"]
			local var_296_25 = 0

			if var_296_25 < arg_293_1.time_ and arg_293_1.time_ <= var_296_25 + arg_296_0 and not isNil(var_296_24) and arg_293_1.var_.characterEffect1050ui_story == nil then
				arg_293_1.var_.characterEffect1050ui_story = var_296_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_296_26 = 0.200000002980232

			if var_296_25 <= arg_293_1.time_ and arg_293_1.time_ < var_296_25 + var_296_26 and not isNil(var_296_24) then
				local var_296_27 = (arg_293_1.time_ - var_296_25) / var_296_26

				if arg_293_1.var_.characterEffect1050ui_story and not isNil(var_296_24) then
					arg_293_1.var_.characterEffect1050ui_story.fillFlat = false
				end
			end

			if arg_293_1.time_ >= var_296_25 + var_296_26 and arg_293_1.time_ < var_296_25 + var_296_26 + arg_296_0 and not isNil(var_296_24) and arg_293_1.var_.characterEffect1050ui_story then
				arg_293_1.var_.characterEffect1050ui_story.fillFlat = false
			end

			local var_296_28 = 0

			if var_296_28 < arg_293_1.time_ and arg_293_1.time_ <= var_296_28 + arg_296_0 then
				arg_293_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/1050/1050action/1050action1_1")
			end

			local var_296_29 = 0

			if var_296_29 < arg_293_1.time_ and arg_293_1.time_ <= var_296_29 + arg_296_0 then
				arg_293_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface3102cva")
			end

			local var_296_30 = 0
			local var_296_31 = 0.25

			if var_296_30 < arg_293_1.time_ and arg_293_1.time_ <= var_296_30 + arg_296_0 then
				arg_293_1.talkMaxDuration = 0
				arg_293_1.dialogCg_.alpha = 1

				arg_293_1.dialog_:SetActive(true)
				SetActive(arg_293_1.leftNameGo_, true)

				local var_296_32 = arg_293_1:FormatText(StoryNameCfg[74].name)

				arg_293_1.leftNameTxt_.text = var_296_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_293_1.leftNameTxt_.transform)

				arg_293_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_293_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_293_1:RecordName(arg_293_1.leftNameTxt_.text)
				SetActive(arg_293_1.iconTrs_.gameObject, false)
				arg_293_1.callingController_:SetSelectedState("normal")

				local var_296_33 = arg_293_1:GetWordFromCfg(317021071)
				local var_296_34 = arg_293_1:FormatText(var_296_33.content)

				arg_293_1.text_.text = var_296_34

				LuaForUtil.ClearLinePrefixSymbol(arg_293_1.text_)

				local var_296_35 = 10
				local var_296_36 = utf8.len(var_296_34)
				local var_296_37 = var_296_35 <= 0 and var_296_31 or var_296_31 * (var_296_36 / var_296_35)

				if var_296_37 > 0 and var_296_31 < var_296_37 then
					arg_293_1.talkMaxDuration = var_296_37

					if var_296_37 + var_296_30 > arg_293_1.duration_ then
						arg_293_1.duration_ = var_296_37 + var_296_30
					end
				end

				arg_293_1.text_.text = var_296_34
				arg_293_1.typewritter.percent = 0

				arg_293_1.typewritter:SetDirty()
				arg_293_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021071", "story_v_out_317021.awb") ~= 0 then
					local var_296_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021071", "story_v_out_317021.awb") / 1000

					if var_296_38 + var_296_30 > arg_293_1.duration_ then
						arg_293_1.duration_ = var_296_38 + var_296_30
					end

					if var_296_33.prefab_name ~= "" and arg_293_1.actors_[var_296_33.prefab_name] ~= nil then
						local var_296_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_293_1.actors_[var_296_33.prefab_name].transform, "story_v_out_317021", "317021071", "story_v_out_317021.awb")

						arg_293_1:RecordAudio("317021071", var_296_39)
						arg_293_1:RecordAudio("317021071", var_296_39)
					else
						arg_293_1:AudioAction("play", "voice", "story_v_out_317021", "317021071", "story_v_out_317021.awb")
					end

					arg_293_1:RecordHistoryTalkVoice("story_v_out_317021", "317021071", "story_v_out_317021.awb")
				end

				arg_293_1:RecordContent(arg_293_1.text_.text)
			end

			local var_296_40 = math.max(var_296_31, arg_293_1.talkMaxDuration)

			if var_296_30 <= arg_293_1.time_ and arg_293_1.time_ < var_296_30 + var_296_40 then
				arg_293_1.typewritter.percent = (arg_293_1.time_ - var_296_30) / var_296_40

				arg_293_1.typewritter:SetDirty()
			end

			if arg_293_1.time_ >= var_296_30 + var_296_40 and arg_293_1.time_ < var_296_30 + var_296_40 + arg_296_0 then
				arg_293_1.typewritter.percent = 1

				arg_293_1.typewritter:SetDirty()
				arg_293_1:ShowNextGo(true)
			end
		end
	end,
	Play317021072 = function(arg_297_0, arg_297_1)
		arg_297_1.time_ = 0
		arg_297_1.frameCnt_ = 0
		arg_297_1.state_ = "playing"
		arg_297_1.curTalkId_ = 317021072
		arg_297_1.duration_ = 5

		SetActive(arg_297_1.tipsGo_, false)

		function arg_297_1.onSingleLineFinish_()
			arg_297_1.onSingleLineUpdate_ = nil
			arg_297_1.onSingleLineFinish_ = nil
			arg_297_1.state_ = "waiting"
		end

		function arg_297_1.playNext_(arg_299_0)
			if arg_299_0 == 1 then
				arg_297_0:Play317021073(arg_297_1)
			end
		end

		function arg_297_1.onSingleLineUpdate_(arg_300_0)
			local var_300_0 = arg_297_1.actors_["1050ui_story"]
			local var_300_1 = 0

			if var_300_1 < arg_297_1.time_ and arg_297_1.time_ <= var_300_1 + arg_300_0 and not isNil(var_300_0) and arg_297_1.var_.characterEffect1050ui_story == nil then
				arg_297_1.var_.characterEffect1050ui_story = var_300_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_300_2 = 0.200000002980232

			if var_300_1 <= arg_297_1.time_ and arg_297_1.time_ < var_300_1 + var_300_2 and not isNil(var_300_0) then
				local var_300_3 = (arg_297_1.time_ - var_300_1) / var_300_2

				if arg_297_1.var_.characterEffect1050ui_story and not isNil(var_300_0) then
					local var_300_4 = Mathf.Lerp(0, 0.5, var_300_3)

					arg_297_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_297_1.var_.characterEffect1050ui_story.fillRatio = var_300_4
				end
			end

			if arg_297_1.time_ >= var_300_1 + var_300_2 and arg_297_1.time_ < var_300_1 + var_300_2 + arg_300_0 and not isNil(var_300_0) and arg_297_1.var_.characterEffect1050ui_story then
				local var_300_5 = 0.5

				arg_297_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_297_1.var_.characterEffect1050ui_story.fillRatio = var_300_5
			end

			local var_300_6 = 0
			local var_300_7 = 1.425

			if var_300_6 < arg_297_1.time_ and arg_297_1.time_ <= var_300_6 + arg_300_0 then
				arg_297_1.talkMaxDuration = 0
				arg_297_1.dialogCg_.alpha = 1

				arg_297_1.dialog_:SetActive(true)
				SetActive(arg_297_1.leftNameGo_, false)

				arg_297_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_297_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_297_1:RecordName(arg_297_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_297_1.iconTrs_.gameObject, false)
				arg_297_1.callingController_:SetSelectedState("normal")

				local var_300_8 = arg_297_1:GetWordFromCfg(317021072)
				local var_300_9 = arg_297_1:FormatText(var_300_8.content)

				arg_297_1.text_.text = var_300_9

				LuaForUtil.ClearLinePrefixSymbol(arg_297_1.text_)

				local var_300_10 = 57
				local var_300_11 = utf8.len(var_300_9)
				local var_300_12 = var_300_10 <= 0 and var_300_7 or var_300_7 * (var_300_11 / var_300_10)

				if var_300_12 > 0 and var_300_7 < var_300_12 then
					arg_297_1.talkMaxDuration = var_300_12

					if var_300_12 + var_300_6 > arg_297_1.duration_ then
						arg_297_1.duration_ = var_300_12 + var_300_6
					end
				end

				arg_297_1.text_.text = var_300_9
				arg_297_1.typewritter.percent = 0

				arg_297_1.typewritter:SetDirty()
				arg_297_1:ShowNextGo(false)
				arg_297_1:RecordContent(arg_297_1.text_.text)
			end

			local var_300_13 = math.max(var_300_7, arg_297_1.talkMaxDuration)

			if var_300_6 <= arg_297_1.time_ and arg_297_1.time_ < var_300_6 + var_300_13 then
				arg_297_1.typewritter.percent = (arg_297_1.time_ - var_300_6) / var_300_13

				arg_297_1.typewritter:SetDirty()
			end

			if arg_297_1.time_ >= var_300_6 + var_300_13 and arg_297_1.time_ < var_300_6 + var_300_13 + arg_300_0 then
				arg_297_1.typewritter.percent = 1

				arg_297_1.typewritter:SetDirty()
				arg_297_1:ShowNextGo(true)
			end
		end
	end,
	Play317021073 = function(arg_301_0, arg_301_1)
		arg_301_1.time_ = 0
		arg_301_1.frameCnt_ = 0
		arg_301_1.state_ = "playing"
		arg_301_1.curTalkId_ = 317021073
		arg_301_1.duration_ = 11.03

		local var_301_0 = {
			zh = 10,
			ja = 11.033
		}
		local var_301_1 = manager.audio:GetLocalizationFlag()

		if var_301_0[var_301_1] ~= nil then
			arg_301_1.duration_ = var_301_0[var_301_1]
		end

		SetActive(arg_301_1.tipsGo_, false)

		function arg_301_1.onSingleLineFinish_()
			arg_301_1.onSingleLineUpdate_ = nil
			arg_301_1.onSingleLineFinish_ = nil
			arg_301_1.state_ = "waiting"
		end

		function arg_301_1.playNext_(arg_303_0)
			if arg_303_0 == 1 then
				arg_301_0:Play317021074(arg_301_1)
			end
		end

		function arg_301_1.onSingleLineUpdate_(arg_304_0)
			local var_304_0 = arg_301_1.actors_["1050ui_story"].transform
			local var_304_1 = 0

			if var_304_1 < arg_301_1.time_ and arg_301_1.time_ <= var_304_1 + arg_304_0 then
				arg_301_1.var_.moveOldPos1050ui_story = var_304_0.localPosition
			end

			local var_304_2 = 0.001

			if var_304_1 <= arg_301_1.time_ and arg_301_1.time_ < var_304_1 + var_304_2 then
				local var_304_3 = (arg_301_1.time_ - var_304_1) / var_304_2
				local var_304_4 = Vector3.New(0, 100, 0)

				var_304_0.localPosition = Vector3.Lerp(arg_301_1.var_.moveOldPos1050ui_story, var_304_4, var_304_3)

				local var_304_5 = manager.ui.mainCamera.transform.position - var_304_0.position

				var_304_0.forward = Vector3.New(var_304_5.x, var_304_5.y, var_304_5.z)

				local var_304_6 = var_304_0.localEulerAngles

				var_304_6.z = 0
				var_304_6.x = 0
				var_304_0.localEulerAngles = var_304_6
			end

			if arg_301_1.time_ >= var_304_1 + var_304_2 and arg_301_1.time_ < var_304_1 + var_304_2 + arg_304_0 then
				var_304_0.localPosition = Vector3.New(0, 100, 0)

				local var_304_7 = manager.ui.mainCamera.transform.position - var_304_0.position

				var_304_0.forward = Vector3.New(var_304_7.x, var_304_7.y, var_304_7.z)

				local var_304_8 = var_304_0.localEulerAngles

				var_304_8.z = 0
				var_304_8.x = 0
				var_304_0.localEulerAngles = var_304_8
			end

			local var_304_9 = arg_301_1.actors_["1050ui_story"]
			local var_304_10 = 0

			if var_304_10 < arg_301_1.time_ and arg_301_1.time_ <= var_304_10 + arg_304_0 and not isNil(var_304_9) and arg_301_1.var_.characterEffect1050ui_story == nil then
				arg_301_1.var_.characterEffect1050ui_story = var_304_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_304_11 = 0.200000002980232

			if var_304_10 <= arg_301_1.time_ and arg_301_1.time_ < var_304_10 + var_304_11 and not isNil(var_304_9) then
				local var_304_12 = (arg_301_1.time_ - var_304_10) / var_304_11

				if arg_301_1.var_.characterEffect1050ui_story and not isNil(var_304_9) then
					local var_304_13 = Mathf.Lerp(0, 0.5, var_304_12)

					arg_301_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_301_1.var_.characterEffect1050ui_story.fillRatio = var_304_13
				end
			end

			if arg_301_1.time_ >= var_304_10 + var_304_11 and arg_301_1.time_ < var_304_10 + var_304_11 + arg_304_0 and not isNil(var_304_9) and arg_301_1.var_.characterEffect1050ui_story then
				local var_304_14 = 0.5

				arg_301_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_301_1.var_.characterEffect1050ui_story.fillRatio = var_304_14
			end

			local var_304_15 = arg_301_1.actors_["1019ui_story"].transform
			local var_304_16 = 0

			if var_304_16 < arg_301_1.time_ and arg_301_1.time_ <= var_304_16 + arg_304_0 then
				arg_301_1.var_.moveOldPos1019ui_story = var_304_15.localPosition
			end

			local var_304_17 = 0.001

			if var_304_16 <= arg_301_1.time_ and arg_301_1.time_ < var_304_16 + var_304_17 then
				local var_304_18 = (arg_301_1.time_ - var_304_16) / var_304_17
				local var_304_19 = Vector3.New(-0.2, -1.08, -5.9)

				var_304_15.localPosition = Vector3.Lerp(arg_301_1.var_.moveOldPos1019ui_story, var_304_19, var_304_18)

				local var_304_20 = manager.ui.mainCamera.transform.position - var_304_15.position

				var_304_15.forward = Vector3.New(var_304_20.x, var_304_20.y, var_304_20.z)

				local var_304_21 = var_304_15.localEulerAngles

				var_304_21.z = 0
				var_304_21.x = 0
				var_304_15.localEulerAngles = var_304_21
			end

			if arg_301_1.time_ >= var_304_16 + var_304_17 and arg_301_1.time_ < var_304_16 + var_304_17 + arg_304_0 then
				var_304_15.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_304_22 = manager.ui.mainCamera.transform.position - var_304_15.position

				var_304_15.forward = Vector3.New(var_304_22.x, var_304_22.y, var_304_22.z)

				local var_304_23 = var_304_15.localEulerAngles

				var_304_23.z = 0
				var_304_23.x = 0
				var_304_15.localEulerAngles = var_304_23
			end

			local var_304_24 = arg_301_1.actors_["1019ui_story"]
			local var_304_25 = 0

			if var_304_25 < arg_301_1.time_ and arg_301_1.time_ <= var_304_25 + arg_304_0 and not isNil(var_304_24) and arg_301_1.var_.characterEffect1019ui_story == nil then
				arg_301_1.var_.characterEffect1019ui_story = var_304_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_304_26 = 0.200000002980232

			if var_304_25 <= arg_301_1.time_ and arg_301_1.time_ < var_304_25 + var_304_26 and not isNil(var_304_24) then
				local var_304_27 = (arg_301_1.time_ - var_304_25) / var_304_26

				if arg_301_1.var_.characterEffect1019ui_story and not isNil(var_304_24) then
					arg_301_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_301_1.time_ >= var_304_25 + var_304_26 and arg_301_1.time_ < var_304_25 + var_304_26 + arg_304_0 and not isNil(var_304_24) and arg_301_1.var_.characterEffect1019ui_story then
				arg_301_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_304_28 = 0

			if var_304_28 < arg_301_1.time_ and arg_301_1.time_ <= var_304_28 + arg_304_0 then
				arg_301_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_304_29 = 0

			if var_304_29 < arg_301_1.time_ and arg_301_1.time_ <= var_304_29 + arg_304_0 then
				arg_301_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_304_30 = 0
			local var_304_31 = 1.125

			if var_304_30 < arg_301_1.time_ and arg_301_1.time_ <= var_304_30 + arg_304_0 then
				arg_301_1.talkMaxDuration = 0
				arg_301_1.dialogCg_.alpha = 1

				arg_301_1.dialog_:SetActive(true)
				SetActive(arg_301_1.leftNameGo_, true)

				local var_304_32 = arg_301_1:FormatText(StoryNameCfg[47].name)

				arg_301_1.leftNameTxt_.text = var_304_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_301_1.leftNameTxt_.transform)

				arg_301_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_301_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_301_1:RecordName(arg_301_1.leftNameTxt_.text)
				SetActive(arg_301_1.iconTrs_.gameObject, false)
				arg_301_1.callingController_:SetSelectedState("normal")

				local var_304_33 = arg_301_1:GetWordFromCfg(317021073)
				local var_304_34 = arg_301_1:FormatText(var_304_33.content)

				arg_301_1.text_.text = var_304_34

				LuaForUtil.ClearLinePrefixSymbol(arg_301_1.text_)

				local var_304_35 = 45
				local var_304_36 = utf8.len(var_304_34)
				local var_304_37 = var_304_35 <= 0 and var_304_31 or var_304_31 * (var_304_36 / var_304_35)

				if var_304_37 > 0 and var_304_31 < var_304_37 then
					arg_301_1.talkMaxDuration = var_304_37

					if var_304_37 + var_304_30 > arg_301_1.duration_ then
						arg_301_1.duration_ = var_304_37 + var_304_30
					end
				end

				arg_301_1.text_.text = var_304_34
				arg_301_1.typewritter.percent = 0

				arg_301_1.typewritter:SetDirty()
				arg_301_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021073", "story_v_out_317021.awb") ~= 0 then
					local var_304_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021073", "story_v_out_317021.awb") / 1000

					if var_304_38 + var_304_30 > arg_301_1.duration_ then
						arg_301_1.duration_ = var_304_38 + var_304_30
					end

					if var_304_33.prefab_name ~= "" and arg_301_1.actors_[var_304_33.prefab_name] ~= nil then
						local var_304_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_301_1.actors_[var_304_33.prefab_name].transform, "story_v_out_317021", "317021073", "story_v_out_317021.awb")

						arg_301_1:RecordAudio("317021073", var_304_39)
						arg_301_1:RecordAudio("317021073", var_304_39)
					else
						arg_301_1:AudioAction("play", "voice", "story_v_out_317021", "317021073", "story_v_out_317021.awb")
					end

					arg_301_1:RecordHistoryTalkVoice("story_v_out_317021", "317021073", "story_v_out_317021.awb")
				end

				arg_301_1:RecordContent(arg_301_1.text_.text)
			end

			local var_304_40 = math.max(var_304_31, arg_301_1.talkMaxDuration)

			if var_304_30 <= arg_301_1.time_ and arg_301_1.time_ < var_304_30 + var_304_40 then
				arg_301_1.typewritter.percent = (arg_301_1.time_ - var_304_30) / var_304_40

				arg_301_1.typewritter:SetDirty()
			end

			if arg_301_1.time_ >= var_304_30 + var_304_40 and arg_301_1.time_ < var_304_30 + var_304_40 + arg_304_0 then
				arg_301_1.typewritter.percent = 1

				arg_301_1.typewritter:SetDirty()
				arg_301_1:ShowNextGo(true)
			end
		end
	end,
	Play317021074 = function(arg_305_0, arg_305_1)
		arg_305_1.time_ = 0
		arg_305_1.frameCnt_ = 0
		arg_305_1.state_ = "playing"
		arg_305_1.curTalkId_ = 317021074
		arg_305_1.duration_ = 8.53

		local var_305_0 = {
			zh = 8.533,
			ja = 8.266
		}
		local var_305_1 = manager.audio:GetLocalizationFlag()

		if var_305_0[var_305_1] ~= nil then
			arg_305_1.duration_ = var_305_0[var_305_1]
		end

		SetActive(arg_305_1.tipsGo_, false)

		function arg_305_1.onSingleLineFinish_()
			arg_305_1.onSingleLineUpdate_ = nil
			arg_305_1.onSingleLineFinish_ = nil
			arg_305_1.state_ = "waiting"
		end

		function arg_305_1.playNext_(arg_307_0)
			if arg_307_0 == 1 then
				arg_305_0:Play317021075(arg_305_1)
			end
		end

		function arg_305_1.onSingleLineUpdate_(arg_308_0)
			local var_308_0 = 0
			local var_308_1 = 1.05

			if var_308_0 < arg_305_1.time_ and arg_305_1.time_ <= var_308_0 + arg_308_0 then
				arg_305_1.talkMaxDuration = 0
				arg_305_1.dialogCg_.alpha = 1

				arg_305_1.dialog_:SetActive(true)
				SetActive(arg_305_1.leftNameGo_, true)

				local var_308_2 = arg_305_1:FormatText(StoryNameCfg[47].name)

				arg_305_1.leftNameTxt_.text = var_308_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_305_1.leftNameTxt_.transform)

				arg_305_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_305_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_305_1:RecordName(arg_305_1.leftNameTxt_.text)
				SetActive(arg_305_1.iconTrs_.gameObject, false)
				arg_305_1.callingController_:SetSelectedState("normal")

				local var_308_3 = arg_305_1:GetWordFromCfg(317021074)
				local var_308_4 = arg_305_1:FormatText(var_308_3.content)

				arg_305_1.text_.text = var_308_4

				LuaForUtil.ClearLinePrefixSymbol(arg_305_1.text_)

				local var_308_5 = 43
				local var_308_6 = utf8.len(var_308_4)
				local var_308_7 = var_308_5 <= 0 and var_308_1 or var_308_1 * (var_308_6 / var_308_5)

				if var_308_7 > 0 and var_308_1 < var_308_7 then
					arg_305_1.talkMaxDuration = var_308_7

					if var_308_7 + var_308_0 > arg_305_1.duration_ then
						arg_305_1.duration_ = var_308_7 + var_308_0
					end
				end

				arg_305_1.text_.text = var_308_4
				arg_305_1.typewritter.percent = 0

				arg_305_1.typewritter:SetDirty()
				arg_305_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021074", "story_v_out_317021.awb") ~= 0 then
					local var_308_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021074", "story_v_out_317021.awb") / 1000

					if var_308_8 + var_308_0 > arg_305_1.duration_ then
						arg_305_1.duration_ = var_308_8 + var_308_0
					end

					if var_308_3.prefab_name ~= "" and arg_305_1.actors_[var_308_3.prefab_name] ~= nil then
						local var_308_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_305_1.actors_[var_308_3.prefab_name].transform, "story_v_out_317021", "317021074", "story_v_out_317021.awb")

						arg_305_1:RecordAudio("317021074", var_308_9)
						arg_305_1:RecordAudio("317021074", var_308_9)
					else
						arg_305_1:AudioAction("play", "voice", "story_v_out_317021", "317021074", "story_v_out_317021.awb")
					end

					arg_305_1:RecordHistoryTalkVoice("story_v_out_317021", "317021074", "story_v_out_317021.awb")
				end

				arg_305_1:RecordContent(arg_305_1.text_.text)
			end

			local var_308_10 = math.max(var_308_1, arg_305_1.talkMaxDuration)

			if var_308_0 <= arg_305_1.time_ and arg_305_1.time_ < var_308_0 + var_308_10 then
				arg_305_1.typewritter.percent = (arg_305_1.time_ - var_308_0) / var_308_10

				arg_305_1.typewritter:SetDirty()
			end

			if arg_305_1.time_ >= var_308_0 + var_308_10 and arg_305_1.time_ < var_308_0 + var_308_10 + arg_308_0 then
				arg_305_1.typewritter.percent = 1

				arg_305_1.typewritter:SetDirty()
				arg_305_1:ShowNextGo(true)
			end
		end
	end,
	Play317021075 = function(arg_309_0, arg_309_1)
		arg_309_1.time_ = 0
		arg_309_1.frameCnt_ = 0
		arg_309_1.state_ = "playing"
		arg_309_1.curTalkId_ = 317021075
		arg_309_1.duration_ = 6.3

		local var_309_0 = {
			zh = 2.166,
			ja = 6.3
		}
		local var_309_1 = manager.audio:GetLocalizationFlag()

		if var_309_0[var_309_1] ~= nil then
			arg_309_1.duration_ = var_309_0[var_309_1]
		end

		SetActive(arg_309_1.tipsGo_, false)

		function arg_309_1.onSingleLineFinish_()
			arg_309_1.onSingleLineUpdate_ = nil
			arg_309_1.onSingleLineFinish_ = nil
			arg_309_1.state_ = "waiting"
		end

		function arg_309_1.playNext_(arg_311_0)
			if arg_311_0 == 1 then
				arg_309_0:Play317021076(arg_309_1)
			end
		end

		function arg_309_1.onSingleLineUpdate_(arg_312_0)
			local var_312_0 = 0
			local var_312_1 = 0.225

			if var_312_0 < arg_309_1.time_ and arg_309_1.time_ <= var_312_0 + arg_312_0 then
				arg_309_1.talkMaxDuration = 0
				arg_309_1.dialogCg_.alpha = 1

				arg_309_1.dialog_:SetActive(true)
				SetActive(arg_309_1.leftNameGo_, true)

				local var_312_2 = arg_309_1:FormatText(StoryNameCfg[47].name)

				arg_309_1.leftNameTxt_.text = var_312_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_309_1.leftNameTxt_.transform)

				arg_309_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_309_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_309_1:RecordName(arg_309_1.leftNameTxt_.text)
				SetActive(arg_309_1.iconTrs_.gameObject, false)
				arg_309_1.callingController_:SetSelectedState("normal")

				local var_312_3 = arg_309_1:GetWordFromCfg(317021075)
				local var_312_4 = arg_309_1:FormatText(var_312_3.content)

				arg_309_1.text_.text = var_312_4

				LuaForUtil.ClearLinePrefixSymbol(arg_309_1.text_)

				local var_312_5 = 9
				local var_312_6 = utf8.len(var_312_4)
				local var_312_7 = var_312_5 <= 0 and var_312_1 or var_312_1 * (var_312_6 / var_312_5)

				if var_312_7 > 0 and var_312_1 < var_312_7 then
					arg_309_1.talkMaxDuration = var_312_7

					if var_312_7 + var_312_0 > arg_309_1.duration_ then
						arg_309_1.duration_ = var_312_7 + var_312_0
					end
				end

				arg_309_1.text_.text = var_312_4
				arg_309_1.typewritter.percent = 0

				arg_309_1.typewritter:SetDirty()
				arg_309_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021075", "story_v_out_317021.awb") ~= 0 then
					local var_312_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021075", "story_v_out_317021.awb") / 1000

					if var_312_8 + var_312_0 > arg_309_1.duration_ then
						arg_309_1.duration_ = var_312_8 + var_312_0
					end

					if var_312_3.prefab_name ~= "" and arg_309_1.actors_[var_312_3.prefab_name] ~= nil then
						local var_312_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_309_1.actors_[var_312_3.prefab_name].transform, "story_v_out_317021", "317021075", "story_v_out_317021.awb")

						arg_309_1:RecordAudio("317021075", var_312_9)
						arg_309_1:RecordAudio("317021075", var_312_9)
					else
						arg_309_1:AudioAction("play", "voice", "story_v_out_317021", "317021075", "story_v_out_317021.awb")
					end

					arg_309_1:RecordHistoryTalkVoice("story_v_out_317021", "317021075", "story_v_out_317021.awb")
				end

				arg_309_1:RecordContent(arg_309_1.text_.text)
			end

			local var_312_10 = math.max(var_312_1, arg_309_1.talkMaxDuration)

			if var_312_0 <= arg_309_1.time_ and arg_309_1.time_ < var_312_0 + var_312_10 then
				arg_309_1.typewritter.percent = (arg_309_1.time_ - var_312_0) / var_312_10

				arg_309_1.typewritter:SetDirty()
			end

			if arg_309_1.time_ >= var_312_0 + var_312_10 and arg_309_1.time_ < var_312_0 + var_312_10 + arg_312_0 then
				arg_309_1.typewritter.percent = 1

				arg_309_1.typewritter:SetDirty()
				arg_309_1:ShowNextGo(true)
			end
		end
	end,
	Play317021076 = function(arg_313_0, arg_313_1)
		arg_313_1.time_ = 0
		arg_313_1.frameCnt_ = 0
		arg_313_1.state_ = "playing"
		arg_313_1.curTalkId_ = 317021076
		arg_313_1.duration_ = 1

		SetActive(arg_313_1.tipsGo_, false)

		function arg_313_1.onSingleLineFinish_()
			arg_313_1.onSingleLineUpdate_ = nil
			arg_313_1.onSingleLineFinish_ = nil
			arg_313_1.state_ = "waiting"

			SetActive(arg_313_1.choicesGo_, true)

			for iter_314_0, iter_314_1 in ipairs(arg_313_1.choices_) do
				local var_314_0 = iter_314_0 <= 2

				SetActive(iter_314_1.go, var_314_0)
			end

			arg_313_1.choices_[1].txt.text = arg_313_1:FormatText(StoryChoiceCfg[520].name)
			arg_313_1.choices_[2].txt.text = arg_313_1:FormatText(StoryChoiceCfg[521].name)
		end

		function arg_313_1.playNext_(arg_315_0)
			if arg_315_0 == 1 then
				arg_313_0:Play317021077(arg_313_1)
			end

			if arg_315_0 == 2 then
				arg_313_0:Play317021078(arg_313_1)
			end

			arg_313_1:RecordChoiceLog(317021076, 317021077, 317021078)
		end

		function arg_313_1.onSingleLineUpdate_(arg_316_0)
			local var_316_0 = arg_313_1.actors_["1019ui_story"]
			local var_316_1 = 0

			if var_316_1 < arg_313_1.time_ and arg_313_1.time_ <= var_316_1 + arg_316_0 and not isNil(var_316_0) and arg_313_1.var_.characterEffect1019ui_story == nil then
				arg_313_1.var_.characterEffect1019ui_story = var_316_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_316_2 = 0.200000002980232

			if var_316_1 <= arg_313_1.time_ and arg_313_1.time_ < var_316_1 + var_316_2 and not isNil(var_316_0) then
				local var_316_3 = (arg_313_1.time_ - var_316_1) / var_316_2

				if arg_313_1.var_.characterEffect1019ui_story and not isNil(var_316_0) then
					local var_316_4 = Mathf.Lerp(0, 0.5, var_316_3)

					arg_313_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_313_1.var_.characterEffect1019ui_story.fillRatio = var_316_4
				end
			end

			if arg_313_1.time_ >= var_316_1 + var_316_2 and arg_313_1.time_ < var_316_1 + var_316_2 + arg_316_0 and not isNil(var_316_0) and arg_313_1.var_.characterEffect1019ui_story then
				local var_316_5 = 0.5

				arg_313_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_313_1.var_.characterEffect1019ui_story.fillRatio = var_316_5
			end

			local var_316_6 = 0

			if var_316_6 < arg_313_1.time_ and arg_313_1.time_ <= var_316_6 + arg_316_0 then
				arg_313_1.allBtn_.enabled = false
			end

			local var_316_7 = 0.5

			if arg_313_1.time_ >= var_316_6 + var_316_7 and arg_313_1.time_ < var_316_6 + var_316_7 + arg_316_0 then
				arg_313_1.allBtn_.enabled = true
			end
		end
	end,
	Play317021077 = function(arg_317_0, arg_317_1)
		arg_317_1.time_ = 0
		arg_317_1.frameCnt_ = 0
		arg_317_1.state_ = "playing"
		arg_317_1.curTalkId_ = 317021077
		arg_317_1.duration_ = 5

		SetActive(arg_317_1.tipsGo_, false)

		function arg_317_1.onSingleLineFinish_()
			arg_317_1.onSingleLineUpdate_ = nil
			arg_317_1.onSingleLineFinish_ = nil
			arg_317_1.state_ = "waiting"
		end

		function arg_317_1.playNext_(arg_319_0)
			if arg_319_0 == 1 then
				arg_317_0:Play317021079(arg_317_1)
			end
		end

		function arg_317_1.onSingleLineUpdate_(arg_320_0)
			local var_320_0 = 0
			local var_320_1 = 1.375

			if var_320_0 < arg_317_1.time_ and arg_317_1.time_ <= var_320_0 + arg_320_0 then
				arg_317_1.talkMaxDuration = 0
				arg_317_1.dialogCg_.alpha = 1

				arg_317_1.dialog_:SetActive(true)
				SetActive(arg_317_1.leftNameGo_, true)

				local var_320_2 = arg_317_1:FormatText(StoryNameCfg[7].name)

				arg_317_1.leftNameTxt_.text = var_320_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_317_1.leftNameTxt_.transform)

				arg_317_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_317_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_317_1:RecordName(arg_317_1.leftNameTxt_.text)
				SetActive(arg_317_1.iconTrs_.gameObject, false)
				arg_317_1.callingController_:SetSelectedState("normal")

				local var_320_3 = arg_317_1:GetWordFromCfg(317021077)
				local var_320_4 = arg_317_1:FormatText(var_320_3.content)

				arg_317_1.text_.text = var_320_4

				LuaForUtil.ClearLinePrefixSymbol(arg_317_1.text_)

				local var_320_5 = 55
				local var_320_6 = utf8.len(var_320_4)
				local var_320_7 = var_320_5 <= 0 and var_320_1 or var_320_1 * (var_320_6 / var_320_5)

				if var_320_7 > 0 and var_320_1 < var_320_7 then
					arg_317_1.talkMaxDuration = var_320_7

					if var_320_7 + var_320_0 > arg_317_1.duration_ then
						arg_317_1.duration_ = var_320_7 + var_320_0
					end
				end

				arg_317_1.text_.text = var_320_4
				arg_317_1.typewritter.percent = 0

				arg_317_1.typewritter:SetDirty()
				arg_317_1:ShowNextGo(false)
				arg_317_1:RecordContent(arg_317_1.text_.text)
			end

			local var_320_8 = math.max(var_320_1, arg_317_1.talkMaxDuration)

			if var_320_0 <= arg_317_1.time_ and arg_317_1.time_ < var_320_0 + var_320_8 then
				arg_317_1.typewritter.percent = (arg_317_1.time_ - var_320_0) / var_320_8

				arg_317_1.typewritter:SetDirty()
			end

			if arg_317_1.time_ >= var_320_0 + var_320_8 and arg_317_1.time_ < var_320_0 + var_320_8 + arg_320_0 then
				arg_317_1.typewritter.percent = 1

				arg_317_1.typewritter:SetDirty()
				arg_317_1:ShowNextGo(true)
			end
		end
	end,
	Play317021079 = function(arg_321_0, arg_321_1)
		arg_321_1.time_ = 0
		arg_321_1.frameCnt_ = 0
		arg_321_1.state_ = "playing"
		arg_321_1.curTalkId_ = 317021079
		arg_321_1.duration_ = 5

		SetActive(arg_321_1.tipsGo_, false)

		function arg_321_1.onSingleLineFinish_()
			arg_321_1.onSingleLineUpdate_ = nil
			arg_321_1.onSingleLineFinish_ = nil
			arg_321_1.state_ = "waiting"
		end

		function arg_321_1.playNext_(arg_323_0)
			if arg_323_0 == 1 then
				arg_321_0:Play317021080(arg_321_1)
			end
		end

		function arg_321_1.onSingleLineUpdate_(arg_324_0)
			local var_324_0 = 0
			local var_324_1 = 0.875

			if var_324_0 < arg_321_1.time_ and arg_321_1.time_ <= var_324_0 + arg_324_0 then
				arg_321_1.talkMaxDuration = 0
				arg_321_1.dialogCg_.alpha = 1

				arg_321_1.dialog_:SetActive(true)
				SetActive(arg_321_1.leftNameGo_, true)

				local var_324_2 = arg_321_1:FormatText(StoryNameCfg[7].name)

				arg_321_1.leftNameTxt_.text = var_324_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_321_1.leftNameTxt_.transform)

				arg_321_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_321_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_321_1:RecordName(arg_321_1.leftNameTxt_.text)
				SetActive(arg_321_1.iconTrs_.gameObject, false)
				arg_321_1.callingController_:SetSelectedState("normal")

				local var_324_3 = arg_321_1:GetWordFromCfg(317021079)
				local var_324_4 = arg_321_1:FormatText(var_324_3.content)

				arg_321_1.text_.text = var_324_4

				LuaForUtil.ClearLinePrefixSymbol(arg_321_1.text_)

				local var_324_5 = 35
				local var_324_6 = utf8.len(var_324_4)
				local var_324_7 = var_324_5 <= 0 and var_324_1 or var_324_1 * (var_324_6 / var_324_5)

				if var_324_7 > 0 and var_324_1 < var_324_7 then
					arg_321_1.talkMaxDuration = var_324_7

					if var_324_7 + var_324_0 > arg_321_1.duration_ then
						arg_321_1.duration_ = var_324_7 + var_324_0
					end
				end

				arg_321_1.text_.text = var_324_4
				arg_321_1.typewritter.percent = 0

				arg_321_1.typewritter:SetDirty()
				arg_321_1:ShowNextGo(false)
				arg_321_1:RecordContent(arg_321_1.text_.text)
			end

			local var_324_8 = math.max(var_324_1, arg_321_1.talkMaxDuration)

			if var_324_0 <= arg_321_1.time_ and arg_321_1.time_ < var_324_0 + var_324_8 then
				arg_321_1.typewritter.percent = (arg_321_1.time_ - var_324_0) / var_324_8

				arg_321_1.typewritter:SetDirty()
			end

			if arg_321_1.time_ >= var_324_0 + var_324_8 and arg_321_1.time_ < var_324_0 + var_324_8 + arg_324_0 then
				arg_321_1.typewritter.percent = 1

				arg_321_1.typewritter:SetDirty()
				arg_321_1:ShowNextGo(true)
			end
		end
	end,
	Play317021080 = function(arg_325_0, arg_325_1)
		arg_325_1.time_ = 0
		arg_325_1.frameCnt_ = 0
		arg_325_1.state_ = "playing"
		arg_325_1.curTalkId_ = 317021080
		arg_325_1.duration_ = 13.2

		local var_325_0 = {
			zh = 9.033,
			ja = 13.2
		}
		local var_325_1 = manager.audio:GetLocalizationFlag()

		if var_325_0[var_325_1] ~= nil then
			arg_325_1.duration_ = var_325_0[var_325_1]
		end

		SetActive(arg_325_1.tipsGo_, false)

		function arg_325_1.onSingleLineFinish_()
			arg_325_1.onSingleLineUpdate_ = nil
			arg_325_1.onSingleLineFinish_ = nil
			arg_325_1.state_ = "waiting"
		end

		function arg_325_1.playNext_(arg_327_0)
			if arg_327_0 == 1 then
				arg_325_0:Play317021081(arg_325_1)
			end
		end

		function arg_325_1.onSingleLineUpdate_(arg_328_0)
			local var_328_0 = arg_325_1.actors_["1019ui_story"].transform
			local var_328_1 = 0

			if var_328_1 < arg_325_1.time_ and arg_325_1.time_ <= var_328_1 + arg_328_0 then
				arg_325_1.var_.moveOldPos1019ui_story = var_328_0.localPosition
			end

			local var_328_2 = 0.001

			if var_328_1 <= arg_325_1.time_ and arg_325_1.time_ < var_328_1 + var_328_2 then
				local var_328_3 = (arg_325_1.time_ - var_328_1) / var_328_2
				local var_328_4 = Vector3.New(-0.2, -1.08, -5.9)

				var_328_0.localPosition = Vector3.Lerp(arg_325_1.var_.moveOldPos1019ui_story, var_328_4, var_328_3)

				local var_328_5 = manager.ui.mainCamera.transform.position - var_328_0.position

				var_328_0.forward = Vector3.New(var_328_5.x, var_328_5.y, var_328_5.z)

				local var_328_6 = var_328_0.localEulerAngles

				var_328_6.z = 0
				var_328_6.x = 0
				var_328_0.localEulerAngles = var_328_6
			end

			if arg_325_1.time_ >= var_328_1 + var_328_2 and arg_325_1.time_ < var_328_1 + var_328_2 + arg_328_0 then
				var_328_0.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_328_7 = manager.ui.mainCamera.transform.position - var_328_0.position

				var_328_0.forward = Vector3.New(var_328_7.x, var_328_7.y, var_328_7.z)

				local var_328_8 = var_328_0.localEulerAngles

				var_328_8.z = 0
				var_328_8.x = 0
				var_328_0.localEulerAngles = var_328_8
			end

			local var_328_9 = arg_325_1.actors_["1019ui_story"]
			local var_328_10 = 0

			if var_328_10 < arg_325_1.time_ and arg_325_1.time_ <= var_328_10 + arg_328_0 and not isNil(var_328_9) and arg_325_1.var_.characterEffect1019ui_story == nil then
				arg_325_1.var_.characterEffect1019ui_story = var_328_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_328_11 = 0.200000002980232

			if var_328_10 <= arg_325_1.time_ and arg_325_1.time_ < var_328_10 + var_328_11 and not isNil(var_328_9) then
				local var_328_12 = (arg_325_1.time_ - var_328_10) / var_328_11

				if arg_325_1.var_.characterEffect1019ui_story and not isNil(var_328_9) then
					arg_325_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_325_1.time_ >= var_328_10 + var_328_11 and arg_325_1.time_ < var_328_10 + var_328_11 + arg_328_0 and not isNil(var_328_9) and arg_325_1.var_.characterEffect1019ui_story then
				arg_325_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_328_13 = 0

			if var_328_13 < arg_325_1.time_ and arg_325_1.time_ <= var_328_13 + arg_328_0 then
				arg_325_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_328_14 = 0

			if var_328_14 < arg_325_1.time_ and arg_325_1.time_ <= var_328_14 + arg_328_0 then
				arg_325_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_328_15 = 0
			local var_328_16 = 1.2

			if var_328_15 < arg_325_1.time_ and arg_325_1.time_ <= var_328_15 + arg_328_0 then
				arg_325_1.talkMaxDuration = 0
				arg_325_1.dialogCg_.alpha = 1

				arg_325_1.dialog_:SetActive(true)
				SetActive(arg_325_1.leftNameGo_, true)

				local var_328_17 = arg_325_1:FormatText(StoryNameCfg[47].name)

				arg_325_1.leftNameTxt_.text = var_328_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_325_1.leftNameTxt_.transform)

				arg_325_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_325_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_325_1:RecordName(arg_325_1.leftNameTxt_.text)
				SetActive(arg_325_1.iconTrs_.gameObject, false)
				arg_325_1.callingController_:SetSelectedState("normal")

				local var_328_18 = arg_325_1:GetWordFromCfg(317021080)
				local var_328_19 = arg_325_1:FormatText(var_328_18.content)

				arg_325_1.text_.text = var_328_19

				LuaForUtil.ClearLinePrefixSymbol(arg_325_1.text_)

				local var_328_20 = 48
				local var_328_21 = utf8.len(var_328_19)
				local var_328_22 = var_328_20 <= 0 and var_328_16 or var_328_16 * (var_328_21 / var_328_20)

				if var_328_22 > 0 and var_328_16 < var_328_22 then
					arg_325_1.talkMaxDuration = var_328_22

					if var_328_22 + var_328_15 > arg_325_1.duration_ then
						arg_325_1.duration_ = var_328_22 + var_328_15
					end
				end

				arg_325_1.text_.text = var_328_19
				arg_325_1.typewritter.percent = 0

				arg_325_1.typewritter:SetDirty()
				arg_325_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021080", "story_v_out_317021.awb") ~= 0 then
					local var_328_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021080", "story_v_out_317021.awb") / 1000

					if var_328_23 + var_328_15 > arg_325_1.duration_ then
						arg_325_1.duration_ = var_328_23 + var_328_15
					end

					if var_328_18.prefab_name ~= "" and arg_325_1.actors_[var_328_18.prefab_name] ~= nil then
						local var_328_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_325_1.actors_[var_328_18.prefab_name].transform, "story_v_out_317021", "317021080", "story_v_out_317021.awb")

						arg_325_1:RecordAudio("317021080", var_328_24)
						arg_325_1:RecordAudio("317021080", var_328_24)
					else
						arg_325_1:AudioAction("play", "voice", "story_v_out_317021", "317021080", "story_v_out_317021.awb")
					end

					arg_325_1:RecordHistoryTalkVoice("story_v_out_317021", "317021080", "story_v_out_317021.awb")
				end

				arg_325_1:RecordContent(arg_325_1.text_.text)
			end

			local var_328_25 = math.max(var_328_16, arg_325_1.talkMaxDuration)

			if var_328_15 <= arg_325_1.time_ and arg_325_1.time_ < var_328_15 + var_328_25 then
				arg_325_1.typewritter.percent = (arg_325_1.time_ - var_328_15) / var_328_25

				arg_325_1.typewritter:SetDirty()
			end

			if arg_325_1.time_ >= var_328_15 + var_328_25 and arg_325_1.time_ < var_328_15 + var_328_25 + arg_328_0 then
				arg_325_1.typewritter.percent = 1

				arg_325_1.typewritter:SetDirty()
				arg_325_1:ShowNextGo(true)
			end
		end
	end,
	Play317021081 = function(arg_329_0, arg_329_1)
		arg_329_1.time_ = 0
		arg_329_1.frameCnt_ = 0
		arg_329_1.state_ = "playing"
		arg_329_1.curTalkId_ = 317021081
		arg_329_1.duration_ = 8.37

		local var_329_0 = {
			zh = 8.2,
			ja = 8.366
		}
		local var_329_1 = manager.audio:GetLocalizationFlag()

		if var_329_0[var_329_1] ~= nil then
			arg_329_1.duration_ = var_329_0[var_329_1]
		end

		SetActive(arg_329_1.tipsGo_, false)

		function arg_329_1.onSingleLineFinish_()
			arg_329_1.onSingleLineUpdate_ = nil
			arg_329_1.onSingleLineFinish_ = nil
			arg_329_1.state_ = "waiting"
		end

		function arg_329_1.playNext_(arg_331_0)
			if arg_331_0 == 1 then
				arg_329_0:Play317021082(arg_329_1)
			end
		end

		function arg_329_1.onSingleLineUpdate_(arg_332_0)
			local var_332_0 = 0
			local var_332_1 = 1.1

			if var_332_0 < arg_329_1.time_ and arg_329_1.time_ <= var_332_0 + arg_332_0 then
				arg_329_1.talkMaxDuration = 0
				arg_329_1.dialogCg_.alpha = 1

				arg_329_1.dialog_:SetActive(true)
				SetActive(arg_329_1.leftNameGo_, true)

				local var_332_2 = arg_329_1:FormatText(StoryNameCfg[47].name)

				arg_329_1.leftNameTxt_.text = var_332_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_329_1.leftNameTxt_.transform)

				arg_329_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_329_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_329_1:RecordName(arg_329_1.leftNameTxt_.text)
				SetActive(arg_329_1.iconTrs_.gameObject, false)
				arg_329_1.callingController_:SetSelectedState("normal")

				local var_332_3 = arg_329_1:GetWordFromCfg(317021081)
				local var_332_4 = arg_329_1:FormatText(var_332_3.content)

				arg_329_1.text_.text = var_332_4

				LuaForUtil.ClearLinePrefixSymbol(arg_329_1.text_)

				local var_332_5 = 43
				local var_332_6 = utf8.len(var_332_4)
				local var_332_7 = var_332_5 <= 0 and var_332_1 or var_332_1 * (var_332_6 / var_332_5)

				if var_332_7 > 0 and var_332_1 < var_332_7 then
					arg_329_1.talkMaxDuration = var_332_7

					if var_332_7 + var_332_0 > arg_329_1.duration_ then
						arg_329_1.duration_ = var_332_7 + var_332_0
					end
				end

				arg_329_1.text_.text = var_332_4
				arg_329_1.typewritter.percent = 0

				arg_329_1.typewritter:SetDirty()
				arg_329_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021081", "story_v_out_317021.awb") ~= 0 then
					local var_332_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021081", "story_v_out_317021.awb") / 1000

					if var_332_8 + var_332_0 > arg_329_1.duration_ then
						arg_329_1.duration_ = var_332_8 + var_332_0
					end

					if var_332_3.prefab_name ~= "" and arg_329_1.actors_[var_332_3.prefab_name] ~= nil then
						local var_332_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_329_1.actors_[var_332_3.prefab_name].transform, "story_v_out_317021", "317021081", "story_v_out_317021.awb")

						arg_329_1:RecordAudio("317021081", var_332_9)
						arg_329_1:RecordAudio("317021081", var_332_9)
					else
						arg_329_1:AudioAction("play", "voice", "story_v_out_317021", "317021081", "story_v_out_317021.awb")
					end

					arg_329_1:RecordHistoryTalkVoice("story_v_out_317021", "317021081", "story_v_out_317021.awb")
				end

				arg_329_1:RecordContent(arg_329_1.text_.text)
			end

			local var_332_10 = math.max(var_332_1, arg_329_1.talkMaxDuration)

			if var_332_0 <= arg_329_1.time_ and arg_329_1.time_ < var_332_0 + var_332_10 then
				arg_329_1.typewritter.percent = (arg_329_1.time_ - var_332_0) / var_332_10

				arg_329_1.typewritter:SetDirty()
			end

			if arg_329_1.time_ >= var_332_0 + var_332_10 and arg_329_1.time_ < var_332_0 + var_332_10 + arg_332_0 then
				arg_329_1.typewritter.percent = 1

				arg_329_1.typewritter:SetDirty()
				arg_329_1:ShowNextGo(true)
			end
		end
	end,
	Play317021082 = function(arg_333_0, arg_333_1)
		arg_333_1.time_ = 0
		arg_333_1.frameCnt_ = 0
		arg_333_1.state_ = "playing"
		arg_333_1.curTalkId_ = 317021082
		arg_333_1.duration_ = 5

		SetActive(arg_333_1.tipsGo_, false)

		function arg_333_1.onSingleLineFinish_()
			arg_333_1.onSingleLineUpdate_ = nil
			arg_333_1.onSingleLineFinish_ = nil
			arg_333_1.state_ = "waiting"
		end

		function arg_333_1.playNext_(arg_335_0)
			if arg_335_0 == 1 then
				arg_333_0:Play317021083(arg_333_1)
			end
		end

		function arg_333_1.onSingleLineUpdate_(arg_336_0)
			local var_336_0 = 0
			local var_336_1 = 0.55

			if var_336_0 < arg_333_1.time_ and arg_333_1.time_ <= var_336_0 + arg_336_0 then
				arg_333_1.talkMaxDuration = 0
				arg_333_1.dialogCg_.alpha = 1

				arg_333_1.dialog_:SetActive(true)
				SetActive(arg_333_1.leftNameGo_, true)

				local var_336_2 = arg_333_1:FormatText(StoryNameCfg[7].name)

				arg_333_1.leftNameTxt_.text = var_336_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_333_1.leftNameTxt_.transform)

				arg_333_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_333_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_333_1:RecordName(arg_333_1.leftNameTxt_.text)
				SetActive(arg_333_1.iconTrs_.gameObject, false)
				arg_333_1.callingController_:SetSelectedState("normal")

				local var_336_3 = arg_333_1:GetWordFromCfg(317021082)
				local var_336_4 = arg_333_1:FormatText(var_336_3.content)

				arg_333_1.text_.text = var_336_4

				LuaForUtil.ClearLinePrefixSymbol(arg_333_1.text_)

				local var_336_5 = 22
				local var_336_6 = utf8.len(var_336_4)
				local var_336_7 = var_336_5 <= 0 and var_336_1 or var_336_1 * (var_336_6 / var_336_5)

				if var_336_7 > 0 and var_336_1 < var_336_7 then
					arg_333_1.talkMaxDuration = var_336_7

					if var_336_7 + var_336_0 > arg_333_1.duration_ then
						arg_333_1.duration_ = var_336_7 + var_336_0
					end
				end

				arg_333_1.text_.text = var_336_4
				arg_333_1.typewritter.percent = 0

				arg_333_1.typewritter:SetDirty()
				arg_333_1:ShowNextGo(false)
				arg_333_1:RecordContent(arg_333_1.text_.text)
			end

			local var_336_8 = math.max(var_336_1, arg_333_1.talkMaxDuration)

			if var_336_0 <= arg_333_1.time_ and arg_333_1.time_ < var_336_0 + var_336_8 then
				arg_333_1.typewritter.percent = (arg_333_1.time_ - var_336_0) / var_336_8

				arg_333_1.typewritter:SetDirty()
			end

			if arg_333_1.time_ >= var_336_0 + var_336_8 and arg_333_1.time_ < var_336_0 + var_336_8 + arg_336_0 then
				arg_333_1.typewritter.percent = 1

				arg_333_1.typewritter:SetDirty()
				arg_333_1:ShowNextGo(true)
			end
		end
	end,
	Play317021083 = function(arg_337_0, arg_337_1)
		arg_337_1.time_ = 0
		arg_337_1.frameCnt_ = 0
		arg_337_1.state_ = "playing"
		arg_337_1.curTalkId_ = 317021083
		arg_337_1.duration_ = 5

		SetActive(arg_337_1.tipsGo_, false)

		function arg_337_1.onSingleLineFinish_()
			arg_337_1.onSingleLineUpdate_ = nil
			arg_337_1.onSingleLineFinish_ = nil
			arg_337_1.state_ = "waiting"
		end

		function arg_337_1.playNext_(arg_339_0)
			if arg_339_0 == 1 then
				arg_337_0:Play317021084(arg_337_1)
			end
		end

		function arg_337_1.onSingleLineUpdate_(arg_340_0)
			local var_340_0 = arg_337_1.actors_["1019ui_story"]
			local var_340_1 = 0

			if var_340_1 < arg_337_1.time_ and arg_337_1.time_ <= var_340_1 + arg_340_0 and not isNil(var_340_0) and arg_337_1.var_.characterEffect1019ui_story == nil then
				arg_337_1.var_.characterEffect1019ui_story = var_340_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_340_2 = 0.200000002980232

			if var_340_1 <= arg_337_1.time_ and arg_337_1.time_ < var_340_1 + var_340_2 and not isNil(var_340_0) then
				local var_340_3 = (arg_337_1.time_ - var_340_1) / var_340_2

				if arg_337_1.var_.characterEffect1019ui_story and not isNil(var_340_0) then
					local var_340_4 = Mathf.Lerp(0, 0.5, var_340_3)

					arg_337_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_337_1.var_.characterEffect1019ui_story.fillRatio = var_340_4
				end
			end

			if arg_337_1.time_ >= var_340_1 + var_340_2 and arg_337_1.time_ < var_340_1 + var_340_2 + arg_340_0 and not isNil(var_340_0) and arg_337_1.var_.characterEffect1019ui_story then
				local var_340_5 = 0.5

				arg_337_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_337_1.var_.characterEffect1019ui_story.fillRatio = var_340_5
			end

			local var_340_6 = 0
			local var_340_7 = 1.3

			if var_340_6 < arg_337_1.time_ and arg_337_1.time_ <= var_340_6 + arg_340_0 then
				arg_337_1.talkMaxDuration = 0
				arg_337_1.dialogCg_.alpha = 1

				arg_337_1.dialog_:SetActive(true)
				SetActive(arg_337_1.leftNameGo_, false)

				arg_337_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_337_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_337_1:RecordName(arg_337_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_337_1.iconTrs_.gameObject, false)
				arg_337_1.callingController_:SetSelectedState("normal")

				local var_340_8 = arg_337_1:GetWordFromCfg(317021083)
				local var_340_9 = arg_337_1:FormatText(var_340_8.content)

				arg_337_1.text_.text = var_340_9

				LuaForUtil.ClearLinePrefixSymbol(arg_337_1.text_)

				local var_340_10 = 52
				local var_340_11 = utf8.len(var_340_9)
				local var_340_12 = var_340_10 <= 0 and var_340_7 or var_340_7 * (var_340_11 / var_340_10)

				if var_340_12 > 0 and var_340_7 < var_340_12 then
					arg_337_1.talkMaxDuration = var_340_12

					if var_340_12 + var_340_6 > arg_337_1.duration_ then
						arg_337_1.duration_ = var_340_12 + var_340_6
					end
				end

				arg_337_1.text_.text = var_340_9
				arg_337_1.typewritter.percent = 0

				arg_337_1.typewritter:SetDirty()
				arg_337_1:ShowNextGo(false)
				arg_337_1:RecordContent(arg_337_1.text_.text)
			end

			local var_340_13 = math.max(var_340_7, arg_337_1.talkMaxDuration)

			if var_340_6 <= arg_337_1.time_ and arg_337_1.time_ < var_340_6 + var_340_13 then
				arg_337_1.typewritter.percent = (arg_337_1.time_ - var_340_6) / var_340_13

				arg_337_1.typewritter:SetDirty()
			end

			if arg_337_1.time_ >= var_340_6 + var_340_13 and arg_337_1.time_ < var_340_6 + var_340_13 + arg_340_0 then
				arg_337_1.typewritter.percent = 1

				arg_337_1.typewritter:SetDirty()
				arg_337_1:ShowNextGo(true)
			end
		end
	end,
	Play317021084 = function(arg_341_0, arg_341_1)
		arg_341_1.time_ = 0
		arg_341_1.frameCnt_ = 0
		arg_341_1.state_ = "playing"
		arg_341_1.curTalkId_ = 317021084
		arg_341_1.duration_ = 6.53

		local var_341_0 = {
			zh = 3.8,
			ja = 6.533
		}
		local var_341_1 = manager.audio:GetLocalizationFlag()

		if var_341_0[var_341_1] ~= nil then
			arg_341_1.duration_ = var_341_0[var_341_1]
		end

		SetActive(arg_341_1.tipsGo_, false)

		function arg_341_1.onSingleLineFinish_()
			arg_341_1.onSingleLineUpdate_ = nil
			arg_341_1.onSingleLineFinish_ = nil
			arg_341_1.state_ = "waiting"
		end

		function arg_341_1.playNext_(arg_343_0)
			if arg_343_0 == 1 then
				arg_341_0:Play317021085(arg_341_1)
			end
		end

		function arg_341_1.onSingleLineUpdate_(arg_344_0)
			local var_344_0 = arg_341_1.actors_["1019ui_story"].transform
			local var_344_1 = 0

			if var_344_1 < arg_341_1.time_ and arg_341_1.time_ <= var_344_1 + arg_344_0 then
				arg_341_1.var_.moveOldPos1019ui_story = var_344_0.localPosition
			end

			local var_344_2 = 0.001

			if var_344_1 <= arg_341_1.time_ and arg_341_1.time_ < var_344_1 + var_344_2 then
				local var_344_3 = (arg_341_1.time_ - var_344_1) / var_344_2
				local var_344_4 = Vector3.New(0, 100, 0)

				var_344_0.localPosition = Vector3.Lerp(arg_341_1.var_.moveOldPos1019ui_story, var_344_4, var_344_3)

				local var_344_5 = manager.ui.mainCamera.transform.position - var_344_0.position

				var_344_0.forward = Vector3.New(var_344_5.x, var_344_5.y, var_344_5.z)

				local var_344_6 = var_344_0.localEulerAngles

				var_344_6.z = 0
				var_344_6.x = 0
				var_344_0.localEulerAngles = var_344_6
			end

			if arg_341_1.time_ >= var_344_1 + var_344_2 and arg_341_1.time_ < var_344_1 + var_344_2 + arg_344_0 then
				var_344_0.localPosition = Vector3.New(0, 100, 0)

				local var_344_7 = manager.ui.mainCamera.transform.position - var_344_0.position

				var_344_0.forward = Vector3.New(var_344_7.x, var_344_7.y, var_344_7.z)

				local var_344_8 = var_344_0.localEulerAngles

				var_344_8.z = 0
				var_344_8.x = 0
				var_344_0.localEulerAngles = var_344_8
			end

			local var_344_9 = arg_341_1.actors_["1019ui_story"]
			local var_344_10 = 0

			if var_344_10 < arg_341_1.time_ and arg_341_1.time_ <= var_344_10 + arg_344_0 and not isNil(var_344_9) and arg_341_1.var_.characterEffect1019ui_story == nil then
				arg_341_1.var_.characterEffect1019ui_story = var_344_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_344_11 = 0.200000002980232

			if var_344_10 <= arg_341_1.time_ and arg_341_1.time_ < var_344_10 + var_344_11 and not isNil(var_344_9) then
				local var_344_12 = (arg_341_1.time_ - var_344_10) / var_344_11

				if arg_341_1.var_.characterEffect1019ui_story and not isNil(var_344_9) then
					local var_344_13 = Mathf.Lerp(0, 0.5, var_344_12)

					arg_341_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_341_1.var_.characterEffect1019ui_story.fillRatio = var_344_13
				end
			end

			if arg_341_1.time_ >= var_344_10 + var_344_11 and arg_341_1.time_ < var_344_10 + var_344_11 + arg_344_0 and not isNil(var_344_9) and arg_341_1.var_.characterEffect1019ui_story then
				local var_344_14 = 0.5

				arg_341_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_341_1.var_.characterEffect1019ui_story.fillRatio = var_344_14
			end

			local var_344_15 = arg_341_1.actors_["1093ui_story"].transform
			local var_344_16 = 0

			if var_344_16 < arg_341_1.time_ and arg_341_1.time_ <= var_344_16 + arg_344_0 then
				arg_341_1.var_.moveOldPos1093ui_story = var_344_15.localPosition
			end

			local var_344_17 = 0.001

			if var_344_16 <= arg_341_1.time_ and arg_341_1.time_ < var_344_16 + var_344_17 then
				local var_344_18 = (arg_341_1.time_ - var_344_16) / var_344_17
				local var_344_19 = Vector3.New(-0.7, -1.11, -5.88)

				var_344_15.localPosition = Vector3.Lerp(arg_341_1.var_.moveOldPos1093ui_story, var_344_19, var_344_18)

				local var_344_20 = manager.ui.mainCamera.transform.position - var_344_15.position

				var_344_15.forward = Vector3.New(var_344_20.x, var_344_20.y, var_344_20.z)

				local var_344_21 = var_344_15.localEulerAngles

				var_344_21.z = 0
				var_344_21.x = 0
				var_344_15.localEulerAngles = var_344_21
			end

			if arg_341_1.time_ >= var_344_16 + var_344_17 and arg_341_1.time_ < var_344_16 + var_344_17 + arg_344_0 then
				var_344_15.localPosition = Vector3.New(-0.7, -1.11, -5.88)

				local var_344_22 = manager.ui.mainCamera.transform.position - var_344_15.position

				var_344_15.forward = Vector3.New(var_344_22.x, var_344_22.y, var_344_22.z)

				local var_344_23 = var_344_15.localEulerAngles

				var_344_23.z = 0
				var_344_23.x = 0
				var_344_15.localEulerAngles = var_344_23
			end

			local var_344_24 = arg_341_1.actors_["1093ui_story"]
			local var_344_25 = 0

			if var_344_25 < arg_341_1.time_ and arg_341_1.time_ <= var_344_25 + arg_344_0 and not isNil(var_344_24) and arg_341_1.var_.characterEffect1093ui_story == nil then
				arg_341_1.var_.characterEffect1093ui_story = var_344_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_344_26 = 0.200000002980232

			if var_344_25 <= arg_341_1.time_ and arg_341_1.time_ < var_344_25 + var_344_26 and not isNil(var_344_24) then
				local var_344_27 = (arg_341_1.time_ - var_344_25) / var_344_26

				if arg_341_1.var_.characterEffect1093ui_story and not isNil(var_344_24) then
					arg_341_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_341_1.time_ >= var_344_25 + var_344_26 and arg_341_1.time_ < var_344_25 + var_344_26 + arg_344_0 and not isNil(var_344_24) and arg_341_1.var_.characterEffect1093ui_story then
				arg_341_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_344_28 = 0

			if var_344_28 < arg_341_1.time_ and arg_341_1.time_ <= var_344_28 + arg_344_0 then
				arg_341_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action1_1")
			end

			local var_344_29 = 0

			if var_344_29 < arg_341_1.time_ and arg_341_1.time_ <= var_344_29 + arg_344_0 then
				arg_341_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface3202cva")
			end

			local var_344_30 = arg_341_1.actors_["1050ui_story"].transform
			local var_344_31 = 0

			if var_344_31 < arg_341_1.time_ and arg_341_1.time_ <= var_344_31 + arg_344_0 then
				arg_341_1.var_.moveOldPos1050ui_story = var_344_30.localPosition
			end

			local var_344_32 = 0.001

			if var_344_31 <= arg_341_1.time_ and arg_341_1.time_ < var_344_31 + var_344_32 then
				local var_344_33 = (arg_341_1.time_ - var_344_31) / var_344_32
				local var_344_34 = Vector3.New(0.7, -1, -6.1)

				var_344_30.localPosition = Vector3.Lerp(arg_341_1.var_.moveOldPos1050ui_story, var_344_34, var_344_33)

				local var_344_35 = manager.ui.mainCamera.transform.position - var_344_30.position

				var_344_30.forward = Vector3.New(var_344_35.x, var_344_35.y, var_344_35.z)

				local var_344_36 = var_344_30.localEulerAngles

				var_344_36.z = 0
				var_344_36.x = 0
				var_344_30.localEulerAngles = var_344_36
			end

			if arg_341_1.time_ >= var_344_31 + var_344_32 and arg_341_1.time_ < var_344_31 + var_344_32 + arg_344_0 then
				var_344_30.localPosition = Vector3.New(0.7, -1, -6.1)

				local var_344_37 = manager.ui.mainCamera.transform.position - var_344_30.position

				var_344_30.forward = Vector3.New(var_344_37.x, var_344_37.y, var_344_37.z)

				local var_344_38 = var_344_30.localEulerAngles

				var_344_38.z = 0
				var_344_38.x = 0
				var_344_30.localEulerAngles = var_344_38
			end

			local var_344_39 = arg_341_1.actors_["1050ui_story"]
			local var_344_40 = 0

			if var_344_40 < arg_341_1.time_ and arg_341_1.time_ <= var_344_40 + arg_344_0 and not isNil(var_344_39) and arg_341_1.var_.characterEffect1050ui_story == nil then
				arg_341_1.var_.characterEffect1050ui_story = var_344_39:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_344_41 = 0.200000002980232

			if var_344_40 <= arg_341_1.time_ and arg_341_1.time_ < var_344_40 + var_344_41 and not isNil(var_344_39) then
				local var_344_42 = (arg_341_1.time_ - var_344_40) / var_344_41

				if arg_341_1.var_.characterEffect1050ui_story and not isNil(var_344_39) then
					local var_344_43 = Mathf.Lerp(0, 0.5, var_344_42)

					arg_341_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_341_1.var_.characterEffect1050ui_story.fillRatio = var_344_43
				end
			end

			if arg_341_1.time_ >= var_344_40 + var_344_41 and arg_341_1.time_ < var_344_40 + var_344_41 + arg_344_0 and not isNil(var_344_39) and arg_341_1.var_.characterEffect1050ui_story then
				local var_344_44 = 0.5

				arg_341_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_341_1.var_.characterEffect1050ui_story.fillRatio = var_344_44
			end

			local var_344_45 = 0
			local var_344_46 = 0.575

			if var_344_45 < arg_341_1.time_ and arg_341_1.time_ <= var_344_45 + arg_344_0 then
				arg_341_1.talkMaxDuration = 0
				arg_341_1.dialogCg_.alpha = 1

				arg_341_1.dialog_:SetActive(true)
				SetActive(arg_341_1.leftNameGo_, true)

				local var_344_47 = arg_341_1:FormatText(StoryNameCfg[73].name)

				arg_341_1.leftNameTxt_.text = var_344_47

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_341_1.leftNameTxt_.transform)

				arg_341_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_341_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_341_1:RecordName(arg_341_1.leftNameTxt_.text)
				SetActive(arg_341_1.iconTrs_.gameObject, false)
				arg_341_1.callingController_:SetSelectedState("normal")

				local var_344_48 = arg_341_1:GetWordFromCfg(317021084)
				local var_344_49 = arg_341_1:FormatText(var_344_48.content)

				arg_341_1.text_.text = var_344_49

				LuaForUtil.ClearLinePrefixSymbol(arg_341_1.text_)

				local var_344_50 = 23
				local var_344_51 = utf8.len(var_344_49)
				local var_344_52 = var_344_50 <= 0 and var_344_46 or var_344_46 * (var_344_51 / var_344_50)

				if var_344_52 > 0 and var_344_46 < var_344_52 then
					arg_341_1.talkMaxDuration = var_344_52

					if var_344_52 + var_344_45 > arg_341_1.duration_ then
						arg_341_1.duration_ = var_344_52 + var_344_45
					end
				end

				arg_341_1.text_.text = var_344_49
				arg_341_1.typewritter.percent = 0

				arg_341_1.typewritter:SetDirty()
				arg_341_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021084", "story_v_out_317021.awb") ~= 0 then
					local var_344_53 = manager.audio:GetVoiceLength("story_v_out_317021", "317021084", "story_v_out_317021.awb") / 1000

					if var_344_53 + var_344_45 > arg_341_1.duration_ then
						arg_341_1.duration_ = var_344_53 + var_344_45
					end

					if var_344_48.prefab_name ~= "" and arg_341_1.actors_[var_344_48.prefab_name] ~= nil then
						local var_344_54 = LuaForUtil.PlayVoiceWithCriLipsync(arg_341_1.actors_[var_344_48.prefab_name].transform, "story_v_out_317021", "317021084", "story_v_out_317021.awb")

						arg_341_1:RecordAudio("317021084", var_344_54)
						arg_341_1:RecordAudio("317021084", var_344_54)
					else
						arg_341_1:AudioAction("play", "voice", "story_v_out_317021", "317021084", "story_v_out_317021.awb")
					end

					arg_341_1:RecordHistoryTalkVoice("story_v_out_317021", "317021084", "story_v_out_317021.awb")
				end

				arg_341_1:RecordContent(arg_341_1.text_.text)
			end

			local var_344_55 = math.max(var_344_46, arg_341_1.talkMaxDuration)

			if var_344_45 <= arg_341_1.time_ and arg_341_1.time_ < var_344_45 + var_344_55 then
				arg_341_1.typewritter.percent = (arg_341_1.time_ - var_344_45) / var_344_55

				arg_341_1.typewritter:SetDirty()
			end

			if arg_341_1.time_ >= var_344_45 + var_344_55 and arg_341_1.time_ < var_344_45 + var_344_55 + arg_344_0 then
				arg_341_1.typewritter.percent = 1

				arg_341_1.typewritter:SetDirty()
				arg_341_1:ShowNextGo(true)
			end
		end
	end,
	Play317021085 = function(arg_345_0, arg_345_1)
		arg_345_1.time_ = 0
		arg_345_1.frameCnt_ = 0
		arg_345_1.state_ = "playing"
		arg_345_1.curTalkId_ = 317021085
		arg_345_1.duration_ = 11.13

		local var_345_0 = {
			zh = 9.1,
			ja = 11.133
		}
		local var_345_1 = manager.audio:GetLocalizationFlag()

		if var_345_0[var_345_1] ~= nil then
			arg_345_1.duration_ = var_345_0[var_345_1]
		end

		SetActive(arg_345_1.tipsGo_, false)

		function arg_345_1.onSingleLineFinish_()
			arg_345_1.onSingleLineUpdate_ = nil
			arg_345_1.onSingleLineFinish_ = nil
			arg_345_1.state_ = "waiting"
		end

		function arg_345_1.playNext_(arg_347_0)
			if arg_347_0 == 1 then
				arg_345_0:Play317021086(arg_345_1)
			end
		end

		function arg_345_1.onSingleLineUpdate_(arg_348_0)
			local var_348_0 = arg_345_1.actors_["1093ui_story"].transform
			local var_348_1 = 0

			if var_348_1 < arg_345_1.time_ and arg_345_1.time_ <= var_348_1 + arg_348_0 then
				arg_345_1.var_.moveOldPos1093ui_story = var_348_0.localPosition
			end

			local var_348_2 = 0.001

			if var_348_1 <= arg_345_1.time_ and arg_345_1.time_ < var_348_1 + var_348_2 then
				local var_348_3 = (arg_345_1.time_ - var_348_1) / var_348_2
				local var_348_4 = Vector3.New(-0.7, -1.11, -5.88)

				var_348_0.localPosition = Vector3.Lerp(arg_345_1.var_.moveOldPos1093ui_story, var_348_4, var_348_3)

				local var_348_5 = manager.ui.mainCamera.transform.position - var_348_0.position

				var_348_0.forward = Vector3.New(var_348_5.x, var_348_5.y, var_348_5.z)

				local var_348_6 = var_348_0.localEulerAngles

				var_348_6.z = 0
				var_348_6.x = 0
				var_348_0.localEulerAngles = var_348_6
			end

			if arg_345_1.time_ >= var_348_1 + var_348_2 and arg_345_1.time_ < var_348_1 + var_348_2 + arg_348_0 then
				var_348_0.localPosition = Vector3.New(-0.7, -1.11, -5.88)

				local var_348_7 = manager.ui.mainCamera.transform.position - var_348_0.position

				var_348_0.forward = Vector3.New(var_348_7.x, var_348_7.y, var_348_7.z)

				local var_348_8 = var_348_0.localEulerAngles

				var_348_8.z = 0
				var_348_8.x = 0
				var_348_0.localEulerAngles = var_348_8
			end

			local var_348_9 = arg_345_1.actors_["1093ui_story"]
			local var_348_10 = 0

			if var_348_10 < arg_345_1.time_ and arg_345_1.time_ <= var_348_10 + arg_348_0 and not isNil(var_348_9) and arg_345_1.var_.characterEffect1093ui_story == nil then
				arg_345_1.var_.characterEffect1093ui_story = var_348_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_348_11 = 0.200000002980232

			if var_348_10 <= arg_345_1.time_ and arg_345_1.time_ < var_348_10 + var_348_11 and not isNil(var_348_9) then
				local var_348_12 = (arg_345_1.time_ - var_348_10) / var_348_11

				if arg_345_1.var_.characterEffect1093ui_story and not isNil(var_348_9) then
					local var_348_13 = Mathf.Lerp(0, 0.5, var_348_12)

					arg_345_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_345_1.var_.characterEffect1093ui_story.fillRatio = var_348_13
				end
			end

			if arg_345_1.time_ >= var_348_10 + var_348_11 and arg_345_1.time_ < var_348_10 + var_348_11 + arg_348_0 and not isNil(var_348_9) and arg_345_1.var_.characterEffect1093ui_story then
				local var_348_14 = 0.5

				arg_345_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_345_1.var_.characterEffect1093ui_story.fillRatio = var_348_14
			end

			local var_348_15 = arg_345_1.actors_["1050ui_story"].transform
			local var_348_16 = 0

			if var_348_16 < arg_345_1.time_ and arg_345_1.time_ <= var_348_16 + arg_348_0 then
				arg_345_1.var_.moveOldPos1050ui_story = var_348_15.localPosition
			end

			local var_348_17 = 0.001

			if var_348_16 <= arg_345_1.time_ and arg_345_1.time_ < var_348_16 + var_348_17 then
				local var_348_18 = (arg_345_1.time_ - var_348_16) / var_348_17
				local var_348_19 = Vector3.New(0.7, -1, -6.1)

				var_348_15.localPosition = Vector3.Lerp(arg_345_1.var_.moveOldPos1050ui_story, var_348_19, var_348_18)

				local var_348_20 = manager.ui.mainCamera.transform.position - var_348_15.position

				var_348_15.forward = Vector3.New(var_348_20.x, var_348_20.y, var_348_20.z)

				local var_348_21 = var_348_15.localEulerAngles

				var_348_21.z = 0
				var_348_21.x = 0
				var_348_15.localEulerAngles = var_348_21
			end

			if arg_345_1.time_ >= var_348_16 + var_348_17 and arg_345_1.time_ < var_348_16 + var_348_17 + arg_348_0 then
				var_348_15.localPosition = Vector3.New(0.7, -1, -6.1)

				local var_348_22 = manager.ui.mainCamera.transform.position - var_348_15.position

				var_348_15.forward = Vector3.New(var_348_22.x, var_348_22.y, var_348_22.z)

				local var_348_23 = var_348_15.localEulerAngles

				var_348_23.z = 0
				var_348_23.x = 0
				var_348_15.localEulerAngles = var_348_23
			end

			local var_348_24 = arg_345_1.actors_["1050ui_story"]
			local var_348_25 = 0

			if var_348_25 < arg_345_1.time_ and arg_345_1.time_ <= var_348_25 + arg_348_0 and not isNil(var_348_24) and arg_345_1.var_.characterEffect1050ui_story == nil then
				arg_345_1.var_.characterEffect1050ui_story = var_348_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_348_26 = 0.200000002980232

			if var_348_25 <= arg_345_1.time_ and arg_345_1.time_ < var_348_25 + var_348_26 and not isNil(var_348_24) then
				local var_348_27 = (arg_345_1.time_ - var_348_25) / var_348_26

				if arg_345_1.var_.characterEffect1050ui_story and not isNil(var_348_24) then
					arg_345_1.var_.characterEffect1050ui_story.fillFlat = false
				end
			end

			if arg_345_1.time_ >= var_348_25 + var_348_26 and arg_345_1.time_ < var_348_25 + var_348_26 + arg_348_0 and not isNil(var_348_24) and arg_345_1.var_.characterEffect1050ui_story then
				arg_345_1.var_.characterEffect1050ui_story.fillFlat = false
			end

			local var_348_28 = 0

			if var_348_28 < arg_345_1.time_ and arg_345_1.time_ <= var_348_28 + arg_348_0 then
				arg_345_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/1050/1050action/1050action1_1")
			end

			local var_348_29 = 0

			if var_348_29 < arg_345_1.time_ and arg_345_1.time_ <= var_348_29 + arg_348_0 then
				arg_345_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_348_30 = 0
			local var_348_31 = 1.025

			if var_348_30 < arg_345_1.time_ and arg_345_1.time_ <= var_348_30 + arg_348_0 then
				arg_345_1.talkMaxDuration = 0
				arg_345_1.dialogCg_.alpha = 1

				arg_345_1.dialog_:SetActive(true)
				SetActive(arg_345_1.leftNameGo_, true)

				local var_348_32 = arg_345_1:FormatText(StoryNameCfg[74].name)

				arg_345_1.leftNameTxt_.text = var_348_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_345_1.leftNameTxt_.transform)

				arg_345_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_345_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_345_1:RecordName(arg_345_1.leftNameTxt_.text)
				SetActive(arg_345_1.iconTrs_.gameObject, false)
				arg_345_1.callingController_:SetSelectedState("normal")

				local var_348_33 = arg_345_1:GetWordFromCfg(317021085)
				local var_348_34 = arg_345_1:FormatText(var_348_33.content)

				arg_345_1.text_.text = var_348_34

				LuaForUtil.ClearLinePrefixSymbol(arg_345_1.text_)

				local var_348_35 = 41
				local var_348_36 = utf8.len(var_348_34)
				local var_348_37 = var_348_35 <= 0 and var_348_31 or var_348_31 * (var_348_36 / var_348_35)

				if var_348_37 > 0 and var_348_31 < var_348_37 then
					arg_345_1.talkMaxDuration = var_348_37

					if var_348_37 + var_348_30 > arg_345_1.duration_ then
						arg_345_1.duration_ = var_348_37 + var_348_30
					end
				end

				arg_345_1.text_.text = var_348_34
				arg_345_1.typewritter.percent = 0

				arg_345_1.typewritter:SetDirty()
				arg_345_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021085", "story_v_out_317021.awb") ~= 0 then
					local var_348_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021085", "story_v_out_317021.awb") / 1000

					if var_348_38 + var_348_30 > arg_345_1.duration_ then
						arg_345_1.duration_ = var_348_38 + var_348_30
					end

					if var_348_33.prefab_name ~= "" and arg_345_1.actors_[var_348_33.prefab_name] ~= nil then
						local var_348_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_345_1.actors_[var_348_33.prefab_name].transform, "story_v_out_317021", "317021085", "story_v_out_317021.awb")

						arg_345_1:RecordAudio("317021085", var_348_39)
						arg_345_1:RecordAudio("317021085", var_348_39)
					else
						arg_345_1:AudioAction("play", "voice", "story_v_out_317021", "317021085", "story_v_out_317021.awb")
					end

					arg_345_1:RecordHistoryTalkVoice("story_v_out_317021", "317021085", "story_v_out_317021.awb")
				end

				arg_345_1:RecordContent(arg_345_1.text_.text)
			end

			local var_348_40 = math.max(var_348_31, arg_345_1.talkMaxDuration)

			if var_348_30 <= arg_345_1.time_ and arg_345_1.time_ < var_348_30 + var_348_40 then
				arg_345_1.typewritter.percent = (arg_345_1.time_ - var_348_30) / var_348_40

				arg_345_1.typewritter:SetDirty()
			end

			if arg_345_1.time_ >= var_348_30 + var_348_40 and arg_345_1.time_ < var_348_30 + var_348_40 + arg_348_0 then
				arg_345_1.typewritter.percent = 1

				arg_345_1.typewritter:SetDirty()
				arg_345_1:ShowNextGo(true)
			end
		end
	end,
	Play317021086 = function(arg_349_0, arg_349_1)
		arg_349_1.time_ = 0
		arg_349_1.frameCnt_ = 0
		arg_349_1.state_ = "playing"
		arg_349_1.curTalkId_ = 317021086
		arg_349_1.duration_ = 12.3

		local var_349_0 = {
			zh = 6.366,
			ja = 12.3
		}
		local var_349_1 = manager.audio:GetLocalizationFlag()

		if var_349_0[var_349_1] ~= nil then
			arg_349_1.duration_ = var_349_0[var_349_1]
		end

		SetActive(arg_349_1.tipsGo_, false)

		function arg_349_1.onSingleLineFinish_()
			arg_349_1.onSingleLineUpdate_ = nil
			arg_349_1.onSingleLineFinish_ = nil
			arg_349_1.state_ = "waiting"
		end

		function arg_349_1.playNext_(arg_351_0)
			if arg_351_0 == 1 then
				arg_349_0:Play317021087(arg_349_1)
			end
		end

		function arg_349_1.onSingleLineUpdate_(arg_352_0)
			local var_352_0 = arg_349_1.actors_["1019ui_story"].transform
			local var_352_1 = 0

			if var_352_1 < arg_349_1.time_ and arg_349_1.time_ <= var_352_1 + arg_352_0 then
				arg_349_1.var_.moveOldPos1019ui_story = var_352_0.localPosition
			end

			local var_352_2 = 0.001

			if var_352_1 <= arg_349_1.time_ and arg_349_1.time_ < var_352_1 + var_352_2 then
				local var_352_3 = (arg_349_1.time_ - var_352_1) / var_352_2
				local var_352_4 = Vector3.New(-0.2, -1.08, -5.9)

				var_352_0.localPosition = Vector3.Lerp(arg_349_1.var_.moveOldPos1019ui_story, var_352_4, var_352_3)

				local var_352_5 = manager.ui.mainCamera.transform.position - var_352_0.position

				var_352_0.forward = Vector3.New(var_352_5.x, var_352_5.y, var_352_5.z)

				local var_352_6 = var_352_0.localEulerAngles

				var_352_6.z = 0
				var_352_6.x = 0
				var_352_0.localEulerAngles = var_352_6
			end

			if arg_349_1.time_ >= var_352_1 + var_352_2 and arg_349_1.time_ < var_352_1 + var_352_2 + arg_352_0 then
				var_352_0.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_352_7 = manager.ui.mainCamera.transform.position - var_352_0.position

				var_352_0.forward = Vector3.New(var_352_7.x, var_352_7.y, var_352_7.z)

				local var_352_8 = var_352_0.localEulerAngles

				var_352_8.z = 0
				var_352_8.x = 0
				var_352_0.localEulerAngles = var_352_8
			end

			local var_352_9 = arg_349_1.actors_["1019ui_story"]
			local var_352_10 = 0

			if var_352_10 < arg_349_1.time_ and arg_349_1.time_ <= var_352_10 + arg_352_0 and not isNil(var_352_9) and arg_349_1.var_.characterEffect1019ui_story == nil then
				arg_349_1.var_.characterEffect1019ui_story = var_352_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_352_11 = 0.200000002980232

			if var_352_10 <= arg_349_1.time_ and arg_349_1.time_ < var_352_10 + var_352_11 and not isNil(var_352_9) then
				local var_352_12 = (arg_349_1.time_ - var_352_10) / var_352_11

				if arg_349_1.var_.characterEffect1019ui_story and not isNil(var_352_9) then
					arg_349_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_349_1.time_ >= var_352_10 + var_352_11 and arg_349_1.time_ < var_352_10 + var_352_11 + arg_352_0 and not isNil(var_352_9) and arg_349_1.var_.characterEffect1019ui_story then
				arg_349_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_352_13 = 0

			if var_352_13 < arg_349_1.time_ and arg_349_1.time_ <= var_352_13 + arg_352_0 then
				arg_349_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_352_14 = 0

			if var_352_14 < arg_349_1.time_ and arg_349_1.time_ <= var_352_14 + arg_352_0 then
				arg_349_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_352_15 = arg_349_1.actors_["1093ui_story"].transform
			local var_352_16 = 0

			if var_352_16 < arg_349_1.time_ and arg_349_1.time_ <= var_352_16 + arg_352_0 then
				arg_349_1.var_.moveOldPos1093ui_story = var_352_15.localPosition
			end

			local var_352_17 = 0.001

			if var_352_16 <= arg_349_1.time_ and arg_349_1.time_ < var_352_16 + var_352_17 then
				local var_352_18 = (arg_349_1.time_ - var_352_16) / var_352_17
				local var_352_19 = Vector3.New(0, 100, 0)

				var_352_15.localPosition = Vector3.Lerp(arg_349_1.var_.moveOldPos1093ui_story, var_352_19, var_352_18)

				local var_352_20 = manager.ui.mainCamera.transform.position - var_352_15.position

				var_352_15.forward = Vector3.New(var_352_20.x, var_352_20.y, var_352_20.z)

				local var_352_21 = var_352_15.localEulerAngles

				var_352_21.z = 0
				var_352_21.x = 0
				var_352_15.localEulerAngles = var_352_21
			end

			if arg_349_1.time_ >= var_352_16 + var_352_17 and arg_349_1.time_ < var_352_16 + var_352_17 + arg_352_0 then
				var_352_15.localPosition = Vector3.New(0, 100, 0)

				local var_352_22 = manager.ui.mainCamera.transform.position - var_352_15.position

				var_352_15.forward = Vector3.New(var_352_22.x, var_352_22.y, var_352_22.z)

				local var_352_23 = var_352_15.localEulerAngles

				var_352_23.z = 0
				var_352_23.x = 0
				var_352_15.localEulerAngles = var_352_23
			end

			local var_352_24 = arg_349_1.actors_["1093ui_story"]
			local var_352_25 = 0

			if var_352_25 < arg_349_1.time_ and arg_349_1.time_ <= var_352_25 + arg_352_0 and not isNil(var_352_24) and arg_349_1.var_.characterEffect1093ui_story == nil then
				arg_349_1.var_.characterEffect1093ui_story = var_352_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_352_26 = 0.200000002980232

			if var_352_25 <= arg_349_1.time_ and arg_349_1.time_ < var_352_25 + var_352_26 and not isNil(var_352_24) then
				local var_352_27 = (arg_349_1.time_ - var_352_25) / var_352_26

				if arg_349_1.var_.characterEffect1093ui_story and not isNil(var_352_24) then
					local var_352_28 = Mathf.Lerp(0, 0.5, var_352_27)

					arg_349_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_349_1.var_.characterEffect1093ui_story.fillRatio = var_352_28
				end
			end

			if arg_349_1.time_ >= var_352_25 + var_352_26 and arg_349_1.time_ < var_352_25 + var_352_26 + arg_352_0 and not isNil(var_352_24) and arg_349_1.var_.characterEffect1093ui_story then
				local var_352_29 = 0.5

				arg_349_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_349_1.var_.characterEffect1093ui_story.fillRatio = var_352_29
			end

			local var_352_30 = arg_349_1.actors_["1050ui_story"].transform
			local var_352_31 = 0

			if var_352_31 < arg_349_1.time_ and arg_349_1.time_ <= var_352_31 + arg_352_0 then
				arg_349_1.var_.moveOldPos1050ui_story = var_352_30.localPosition
			end

			local var_352_32 = 0.001

			if var_352_31 <= arg_349_1.time_ and arg_349_1.time_ < var_352_31 + var_352_32 then
				local var_352_33 = (arg_349_1.time_ - var_352_31) / var_352_32
				local var_352_34 = Vector3.New(0, 100, 0)

				var_352_30.localPosition = Vector3.Lerp(arg_349_1.var_.moveOldPos1050ui_story, var_352_34, var_352_33)

				local var_352_35 = manager.ui.mainCamera.transform.position - var_352_30.position

				var_352_30.forward = Vector3.New(var_352_35.x, var_352_35.y, var_352_35.z)

				local var_352_36 = var_352_30.localEulerAngles

				var_352_36.z = 0
				var_352_36.x = 0
				var_352_30.localEulerAngles = var_352_36
			end

			if arg_349_1.time_ >= var_352_31 + var_352_32 and arg_349_1.time_ < var_352_31 + var_352_32 + arg_352_0 then
				var_352_30.localPosition = Vector3.New(0, 100, 0)

				local var_352_37 = manager.ui.mainCamera.transform.position - var_352_30.position

				var_352_30.forward = Vector3.New(var_352_37.x, var_352_37.y, var_352_37.z)

				local var_352_38 = var_352_30.localEulerAngles

				var_352_38.z = 0
				var_352_38.x = 0
				var_352_30.localEulerAngles = var_352_38
			end

			local var_352_39 = arg_349_1.actors_["1050ui_story"]
			local var_352_40 = 0

			if var_352_40 < arg_349_1.time_ and arg_349_1.time_ <= var_352_40 + arg_352_0 and not isNil(var_352_39) and arg_349_1.var_.characterEffect1050ui_story == nil then
				arg_349_1.var_.characterEffect1050ui_story = var_352_39:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_352_41 = 0.200000002980232

			if var_352_40 <= arg_349_1.time_ and arg_349_1.time_ < var_352_40 + var_352_41 and not isNil(var_352_39) then
				local var_352_42 = (arg_349_1.time_ - var_352_40) / var_352_41

				if arg_349_1.var_.characterEffect1050ui_story and not isNil(var_352_39) then
					local var_352_43 = Mathf.Lerp(0, 0.5, var_352_42)

					arg_349_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_349_1.var_.characterEffect1050ui_story.fillRatio = var_352_43
				end
			end

			if arg_349_1.time_ >= var_352_40 + var_352_41 and arg_349_1.time_ < var_352_40 + var_352_41 + arg_352_0 and not isNil(var_352_39) and arg_349_1.var_.characterEffect1050ui_story then
				local var_352_44 = 0.5

				arg_349_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_349_1.var_.characterEffect1050ui_story.fillRatio = var_352_44
			end

			local var_352_45 = 0
			local var_352_46 = 0.75

			if var_352_45 < arg_349_1.time_ and arg_349_1.time_ <= var_352_45 + arg_352_0 then
				arg_349_1.talkMaxDuration = 0
				arg_349_1.dialogCg_.alpha = 1

				arg_349_1.dialog_:SetActive(true)
				SetActive(arg_349_1.leftNameGo_, true)

				local var_352_47 = arg_349_1:FormatText(StoryNameCfg[47].name)

				arg_349_1.leftNameTxt_.text = var_352_47

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_349_1.leftNameTxt_.transform)

				arg_349_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_349_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_349_1:RecordName(arg_349_1.leftNameTxt_.text)
				SetActive(arg_349_1.iconTrs_.gameObject, false)
				arg_349_1.callingController_:SetSelectedState("normal")

				local var_352_48 = arg_349_1:GetWordFromCfg(317021086)
				local var_352_49 = arg_349_1:FormatText(var_352_48.content)

				arg_349_1.text_.text = var_352_49

				LuaForUtil.ClearLinePrefixSymbol(arg_349_1.text_)

				local var_352_50 = 30
				local var_352_51 = utf8.len(var_352_49)
				local var_352_52 = var_352_50 <= 0 and var_352_46 or var_352_46 * (var_352_51 / var_352_50)

				if var_352_52 > 0 and var_352_46 < var_352_52 then
					arg_349_1.talkMaxDuration = var_352_52

					if var_352_52 + var_352_45 > arg_349_1.duration_ then
						arg_349_1.duration_ = var_352_52 + var_352_45
					end
				end

				arg_349_1.text_.text = var_352_49
				arg_349_1.typewritter.percent = 0

				arg_349_1.typewritter:SetDirty()
				arg_349_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021086", "story_v_out_317021.awb") ~= 0 then
					local var_352_53 = manager.audio:GetVoiceLength("story_v_out_317021", "317021086", "story_v_out_317021.awb") / 1000

					if var_352_53 + var_352_45 > arg_349_1.duration_ then
						arg_349_1.duration_ = var_352_53 + var_352_45
					end

					if var_352_48.prefab_name ~= "" and arg_349_1.actors_[var_352_48.prefab_name] ~= nil then
						local var_352_54 = LuaForUtil.PlayVoiceWithCriLipsync(arg_349_1.actors_[var_352_48.prefab_name].transform, "story_v_out_317021", "317021086", "story_v_out_317021.awb")

						arg_349_1:RecordAudio("317021086", var_352_54)
						arg_349_1:RecordAudio("317021086", var_352_54)
					else
						arg_349_1:AudioAction("play", "voice", "story_v_out_317021", "317021086", "story_v_out_317021.awb")
					end

					arg_349_1:RecordHistoryTalkVoice("story_v_out_317021", "317021086", "story_v_out_317021.awb")
				end

				arg_349_1:RecordContent(arg_349_1.text_.text)
			end

			local var_352_55 = math.max(var_352_46, arg_349_1.talkMaxDuration)

			if var_352_45 <= arg_349_1.time_ and arg_349_1.time_ < var_352_45 + var_352_55 then
				arg_349_1.typewritter.percent = (arg_349_1.time_ - var_352_45) / var_352_55

				arg_349_1.typewritter:SetDirty()
			end

			if arg_349_1.time_ >= var_352_45 + var_352_55 and arg_349_1.time_ < var_352_45 + var_352_55 + arg_352_0 then
				arg_349_1.typewritter.percent = 1

				arg_349_1.typewritter:SetDirty()
				arg_349_1:ShowNextGo(true)
			end
		end
	end,
	Play317021087 = function(arg_353_0, arg_353_1)
		arg_353_1.time_ = 0
		arg_353_1.frameCnt_ = 0
		arg_353_1.state_ = "playing"
		arg_353_1.curTalkId_ = 317021087
		arg_353_1.duration_ = 4.2

		local var_353_0 = {
			zh = 3.4,
			ja = 4.2
		}
		local var_353_1 = manager.audio:GetLocalizationFlag()

		if var_353_0[var_353_1] ~= nil then
			arg_353_1.duration_ = var_353_0[var_353_1]
		end

		SetActive(arg_353_1.tipsGo_, false)

		function arg_353_1.onSingleLineFinish_()
			arg_353_1.onSingleLineUpdate_ = nil
			arg_353_1.onSingleLineFinish_ = nil
			arg_353_1.state_ = "waiting"
		end

		function arg_353_1.playNext_(arg_355_0)
			if arg_355_0 == 1 then
				arg_353_0:Play317021088(arg_353_1)
			end
		end

		function arg_353_1.onSingleLineUpdate_(arg_356_0)
			local var_356_0 = arg_353_1.actors_["1019ui_story"].transform
			local var_356_1 = 0

			if var_356_1 < arg_353_1.time_ and arg_353_1.time_ <= var_356_1 + arg_356_0 then
				arg_353_1.var_.moveOldPos1019ui_story = var_356_0.localPosition
			end

			local var_356_2 = 0.001

			if var_356_1 <= arg_353_1.time_ and arg_353_1.time_ < var_356_1 + var_356_2 then
				local var_356_3 = (arg_353_1.time_ - var_356_1) / var_356_2
				local var_356_4 = Vector3.New(0, 100, 0)

				var_356_0.localPosition = Vector3.Lerp(arg_353_1.var_.moveOldPos1019ui_story, var_356_4, var_356_3)

				local var_356_5 = manager.ui.mainCamera.transform.position - var_356_0.position

				var_356_0.forward = Vector3.New(var_356_5.x, var_356_5.y, var_356_5.z)

				local var_356_6 = var_356_0.localEulerAngles

				var_356_6.z = 0
				var_356_6.x = 0
				var_356_0.localEulerAngles = var_356_6
			end

			if arg_353_1.time_ >= var_356_1 + var_356_2 and arg_353_1.time_ < var_356_1 + var_356_2 + arg_356_0 then
				var_356_0.localPosition = Vector3.New(0, 100, 0)

				local var_356_7 = manager.ui.mainCamera.transform.position - var_356_0.position

				var_356_0.forward = Vector3.New(var_356_7.x, var_356_7.y, var_356_7.z)

				local var_356_8 = var_356_0.localEulerAngles

				var_356_8.z = 0
				var_356_8.x = 0
				var_356_0.localEulerAngles = var_356_8
			end

			local var_356_9 = arg_353_1.actors_["1019ui_story"]
			local var_356_10 = 0

			if var_356_10 < arg_353_1.time_ and arg_353_1.time_ <= var_356_10 + arg_356_0 and not isNil(var_356_9) and arg_353_1.var_.characterEffect1019ui_story == nil then
				arg_353_1.var_.characterEffect1019ui_story = var_356_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_356_11 = 0.200000002980232

			if var_356_10 <= arg_353_1.time_ and arg_353_1.time_ < var_356_10 + var_356_11 and not isNil(var_356_9) then
				local var_356_12 = (arg_353_1.time_ - var_356_10) / var_356_11

				if arg_353_1.var_.characterEffect1019ui_story and not isNil(var_356_9) then
					local var_356_13 = Mathf.Lerp(0, 0.5, var_356_12)

					arg_353_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_353_1.var_.characterEffect1019ui_story.fillRatio = var_356_13
				end
			end

			if arg_353_1.time_ >= var_356_10 + var_356_11 and arg_353_1.time_ < var_356_10 + var_356_11 + arg_356_0 and not isNil(var_356_9) and arg_353_1.var_.characterEffect1019ui_story then
				local var_356_14 = 0.5

				arg_353_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_353_1.var_.characterEffect1019ui_story.fillRatio = var_356_14
			end

			local var_356_15 = arg_353_1.actors_["1050ui_story"].transform
			local var_356_16 = 0

			if var_356_16 < arg_353_1.time_ and arg_353_1.time_ <= var_356_16 + arg_356_0 then
				arg_353_1.var_.moveOldPos1050ui_story = var_356_15.localPosition
			end

			local var_356_17 = 0.001

			if var_356_16 <= arg_353_1.time_ and arg_353_1.time_ < var_356_16 + var_356_17 then
				local var_356_18 = (arg_353_1.time_ - var_356_16) / var_356_17
				local var_356_19 = Vector3.New(0, -1, -6.1)

				var_356_15.localPosition = Vector3.Lerp(arg_353_1.var_.moveOldPos1050ui_story, var_356_19, var_356_18)

				local var_356_20 = manager.ui.mainCamera.transform.position - var_356_15.position

				var_356_15.forward = Vector3.New(var_356_20.x, var_356_20.y, var_356_20.z)

				local var_356_21 = var_356_15.localEulerAngles

				var_356_21.z = 0
				var_356_21.x = 0
				var_356_15.localEulerAngles = var_356_21
			end

			if arg_353_1.time_ >= var_356_16 + var_356_17 and arg_353_1.time_ < var_356_16 + var_356_17 + arg_356_0 then
				var_356_15.localPosition = Vector3.New(0, -1, -6.1)

				local var_356_22 = manager.ui.mainCamera.transform.position - var_356_15.position

				var_356_15.forward = Vector3.New(var_356_22.x, var_356_22.y, var_356_22.z)

				local var_356_23 = var_356_15.localEulerAngles

				var_356_23.z = 0
				var_356_23.x = 0
				var_356_15.localEulerAngles = var_356_23
			end

			local var_356_24 = arg_353_1.actors_["1050ui_story"]
			local var_356_25 = 0

			if var_356_25 < arg_353_1.time_ and arg_353_1.time_ <= var_356_25 + arg_356_0 and not isNil(var_356_24) and arg_353_1.var_.characterEffect1050ui_story == nil then
				arg_353_1.var_.characterEffect1050ui_story = var_356_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_356_26 = 0.200000002980232

			if var_356_25 <= arg_353_1.time_ and arg_353_1.time_ < var_356_25 + var_356_26 and not isNil(var_356_24) then
				local var_356_27 = (arg_353_1.time_ - var_356_25) / var_356_26

				if arg_353_1.var_.characterEffect1050ui_story and not isNil(var_356_24) then
					arg_353_1.var_.characterEffect1050ui_story.fillFlat = false
				end
			end

			if arg_353_1.time_ >= var_356_25 + var_356_26 and arg_353_1.time_ < var_356_25 + var_356_26 + arg_356_0 and not isNil(var_356_24) and arg_353_1.var_.characterEffect1050ui_story then
				arg_353_1.var_.characterEffect1050ui_story.fillFlat = false
			end

			local var_356_28 = 0

			if var_356_28 < arg_353_1.time_ and arg_353_1.time_ <= var_356_28 + arg_356_0 then
				arg_353_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/1050/1050action/1050action1_1")
			end

			local var_356_29 = 0

			if var_356_29 < arg_353_1.time_ and arg_353_1.time_ <= var_356_29 + arg_356_0 then
				arg_353_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface2102cva")
			end

			local var_356_30 = 0
			local var_356_31 = 0.3

			if var_356_30 < arg_353_1.time_ and arg_353_1.time_ <= var_356_30 + arg_356_0 then
				arg_353_1.talkMaxDuration = 0
				arg_353_1.dialogCg_.alpha = 1

				arg_353_1.dialog_:SetActive(true)
				SetActive(arg_353_1.leftNameGo_, true)

				local var_356_32 = arg_353_1:FormatText(StoryNameCfg[74].name)

				arg_353_1.leftNameTxt_.text = var_356_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_353_1.leftNameTxt_.transform)

				arg_353_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_353_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_353_1:RecordName(arg_353_1.leftNameTxt_.text)
				SetActive(arg_353_1.iconTrs_.gameObject, false)
				arg_353_1.callingController_:SetSelectedState("normal")

				local var_356_33 = arg_353_1:GetWordFromCfg(317021087)
				local var_356_34 = arg_353_1:FormatText(var_356_33.content)

				arg_353_1.text_.text = var_356_34

				LuaForUtil.ClearLinePrefixSymbol(arg_353_1.text_)

				local var_356_35 = 12
				local var_356_36 = utf8.len(var_356_34)
				local var_356_37 = var_356_35 <= 0 and var_356_31 or var_356_31 * (var_356_36 / var_356_35)

				if var_356_37 > 0 and var_356_31 < var_356_37 then
					arg_353_1.talkMaxDuration = var_356_37

					if var_356_37 + var_356_30 > arg_353_1.duration_ then
						arg_353_1.duration_ = var_356_37 + var_356_30
					end
				end

				arg_353_1.text_.text = var_356_34
				arg_353_1.typewritter.percent = 0

				arg_353_1.typewritter:SetDirty()
				arg_353_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021087", "story_v_out_317021.awb") ~= 0 then
					local var_356_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021087", "story_v_out_317021.awb") / 1000

					if var_356_38 + var_356_30 > arg_353_1.duration_ then
						arg_353_1.duration_ = var_356_38 + var_356_30
					end

					if var_356_33.prefab_name ~= "" and arg_353_1.actors_[var_356_33.prefab_name] ~= nil then
						local var_356_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_353_1.actors_[var_356_33.prefab_name].transform, "story_v_out_317021", "317021087", "story_v_out_317021.awb")

						arg_353_1:RecordAudio("317021087", var_356_39)
						arg_353_1:RecordAudio("317021087", var_356_39)
					else
						arg_353_1:AudioAction("play", "voice", "story_v_out_317021", "317021087", "story_v_out_317021.awb")
					end

					arg_353_1:RecordHistoryTalkVoice("story_v_out_317021", "317021087", "story_v_out_317021.awb")
				end

				arg_353_1:RecordContent(arg_353_1.text_.text)
			end

			local var_356_40 = math.max(var_356_31, arg_353_1.talkMaxDuration)

			if var_356_30 <= arg_353_1.time_ and arg_353_1.time_ < var_356_30 + var_356_40 then
				arg_353_1.typewritter.percent = (arg_353_1.time_ - var_356_30) / var_356_40

				arg_353_1.typewritter:SetDirty()
			end

			if arg_353_1.time_ >= var_356_30 + var_356_40 and arg_353_1.time_ < var_356_30 + var_356_40 + arg_356_0 then
				arg_353_1.typewritter.percent = 1

				arg_353_1.typewritter:SetDirty()
				arg_353_1:ShowNextGo(true)
			end
		end
	end,
	Play317021088 = function(arg_357_0, arg_357_1)
		arg_357_1.time_ = 0
		arg_357_1.frameCnt_ = 0
		arg_357_1.state_ = "playing"
		arg_357_1.curTalkId_ = 317021088
		arg_357_1.duration_ = 8.83

		local var_357_0 = {
			zh = 6.966,
			ja = 8.833
		}
		local var_357_1 = manager.audio:GetLocalizationFlag()

		if var_357_0[var_357_1] ~= nil then
			arg_357_1.duration_ = var_357_0[var_357_1]
		end

		SetActive(arg_357_1.tipsGo_, false)

		function arg_357_1.onSingleLineFinish_()
			arg_357_1.onSingleLineUpdate_ = nil
			arg_357_1.onSingleLineFinish_ = nil
			arg_357_1.state_ = "waiting"
		end

		function arg_357_1.playNext_(arg_359_0)
			if arg_359_0 == 1 then
				arg_357_0:Play317021089(arg_357_1)
			end
		end

		function arg_357_1.onSingleLineUpdate_(arg_360_0)
			local var_360_0 = arg_357_1.actors_["1019ui_story"].transform
			local var_360_1 = 0

			if var_360_1 < arg_357_1.time_ and arg_357_1.time_ <= var_360_1 + arg_360_0 then
				arg_357_1.var_.moveOldPos1019ui_story = var_360_0.localPosition
			end

			local var_360_2 = 0.001

			if var_360_1 <= arg_357_1.time_ and arg_357_1.time_ < var_360_1 + var_360_2 then
				local var_360_3 = (arg_357_1.time_ - var_360_1) / var_360_2
				local var_360_4 = Vector3.New(-0.2, -1.08, -5.9)

				var_360_0.localPosition = Vector3.Lerp(arg_357_1.var_.moveOldPos1019ui_story, var_360_4, var_360_3)

				local var_360_5 = manager.ui.mainCamera.transform.position - var_360_0.position

				var_360_0.forward = Vector3.New(var_360_5.x, var_360_5.y, var_360_5.z)

				local var_360_6 = var_360_0.localEulerAngles

				var_360_6.z = 0
				var_360_6.x = 0
				var_360_0.localEulerAngles = var_360_6
			end

			if arg_357_1.time_ >= var_360_1 + var_360_2 and arg_357_1.time_ < var_360_1 + var_360_2 + arg_360_0 then
				var_360_0.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_360_7 = manager.ui.mainCamera.transform.position - var_360_0.position

				var_360_0.forward = Vector3.New(var_360_7.x, var_360_7.y, var_360_7.z)

				local var_360_8 = var_360_0.localEulerAngles

				var_360_8.z = 0
				var_360_8.x = 0
				var_360_0.localEulerAngles = var_360_8
			end

			local var_360_9 = arg_357_1.actors_["1019ui_story"]
			local var_360_10 = 0

			if var_360_10 < arg_357_1.time_ and arg_357_1.time_ <= var_360_10 + arg_360_0 and not isNil(var_360_9) and arg_357_1.var_.characterEffect1019ui_story == nil then
				arg_357_1.var_.characterEffect1019ui_story = var_360_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_360_11 = 0.200000002980232

			if var_360_10 <= arg_357_1.time_ and arg_357_1.time_ < var_360_10 + var_360_11 and not isNil(var_360_9) then
				local var_360_12 = (arg_357_1.time_ - var_360_10) / var_360_11

				if arg_357_1.var_.characterEffect1019ui_story and not isNil(var_360_9) then
					arg_357_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_357_1.time_ >= var_360_10 + var_360_11 and arg_357_1.time_ < var_360_10 + var_360_11 + arg_360_0 and not isNil(var_360_9) and arg_357_1.var_.characterEffect1019ui_story then
				arg_357_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_360_13 = 0

			if var_360_13 < arg_357_1.time_ and arg_357_1.time_ <= var_360_13 + arg_360_0 then
				arg_357_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_360_14 = 0

			if var_360_14 < arg_357_1.time_ and arg_357_1.time_ <= var_360_14 + arg_360_0 then
				arg_357_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_360_15 = arg_357_1.actors_["1050ui_story"].transform
			local var_360_16 = 0

			if var_360_16 < arg_357_1.time_ and arg_357_1.time_ <= var_360_16 + arg_360_0 then
				arg_357_1.var_.moveOldPos1050ui_story = var_360_15.localPosition
			end

			local var_360_17 = 0.001

			if var_360_16 <= arg_357_1.time_ and arg_357_1.time_ < var_360_16 + var_360_17 then
				local var_360_18 = (arg_357_1.time_ - var_360_16) / var_360_17
				local var_360_19 = Vector3.New(0, 100, 0)

				var_360_15.localPosition = Vector3.Lerp(arg_357_1.var_.moveOldPos1050ui_story, var_360_19, var_360_18)

				local var_360_20 = manager.ui.mainCamera.transform.position - var_360_15.position

				var_360_15.forward = Vector3.New(var_360_20.x, var_360_20.y, var_360_20.z)

				local var_360_21 = var_360_15.localEulerAngles

				var_360_21.z = 0
				var_360_21.x = 0
				var_360_15.localEulerAngles = var_360_21
			end

			if arg_357_1.time_ >= var_360_16 + var_360_17 and arg_357_1.time_ < var_360_16 + var_360_17 + arg_360_0 then
				var_360_15.localPosition = Vector3.New(0, 100, 0)

				local var_360_22 = manager.ui.mainCamera.transform.position - var_360_15.position

				var_360_15.forward = Vector3.New(var_360_22.x, var_360_22.y, var_360_22.z)

				local var_360_23 = var_360_15.localEulerAngles

				var_360_23.z = 0
				var_360_23.x = 0
				var_360_15.localEulerAngles = var_360_23
			end

			local var_360_24 = arg_357_1.actors_["1050ui_story"]
			local var_360_25 = 0

			if var_360_25 < arg_357_1.time_ and arg_357_1.time_ <= var_360_25 + arg_360_0 and not isNil(var_360_24) and arg_357_1.var_.characterEffect1050ui_story == nil then
				arg_357_1.var_.characterEffect1050ui_story = var_360_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_360_26 = 0.200000002980232

			if var_360_25 <= arg_357_1.time_ and arg_357_1.time_ < var_360_25 + var_360_26 and not isNil(var_360_24) then
				local var_360_27 = (arg_357_1.time_ - var_360_25) / var_360_26

				if arg_357_1.var_.characterEffect1050ui_story and not isNil(var_360_24) then
					local var_360_28 = Mathf.Lerp(0, 0.5, var_360_27)

					arg_357_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_357_1.var_.characterEffect1050ui_story.fillRatio = var_360_28
				end
			end

			if arg_357_1.time_ >= var_360_25 + var_360_26 and arg_357_1.time_ < var_360_25 + var_360_26 + arg_360_0 and not isNil(var_360_24) and arg_357_1.var_.characterEffect1050ui_story then
				local var_360_29 = 0.5

				arg_357_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_357_1.var_.characterEffect1050ui_story.fillRatio = var_360_29
			end

			local var_360_30 = 0
			local var_360_31 = 0.925

			if var_360_30 < arg_357_1.time_ and arg_357_1.time_ <= var_360_30 + arg_360_0 then
				arg_357_1.talkMaxDuration = 0
				arg_357_1.dialogCg_.alpha = 1

				arg_357_1.dialog_:SetActive(true)
				SetActive(arg_357_1.leftNameGo_, true)

				local var_360_32 = arg_357_1:FormatText(StoryNameCfg[47].name)

				arg_357_1.leftNameTxt_.text = var_360_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_357_1.leftNameTxt_.transform)

				arg_357_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_357_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_357_1:RecordName(arg_357_1.leftNameTxt_.text)
				SetActive(arg_357_1.iconTrs_.gameObject, false)
				arg_357_1.callingController_:SetSelectedState("normal")

				local var_360_33 = arg_357_1:GetWordFromCfg(317021088)
				local var_360_34 = arg_357_1:FormatText(var_360_33.content)

				arg_357_1.text_.text = var_360_34

				LuaForUtil.ClearLinePrefixSymbol(arg_357_1.text_)

				local var_360_35 = 37
				local var_360_36 = utf8.len(var_360_34)
				local var_360_37 = var_360_35 <= 0 and var_360_31 or var_360_31 * (var_360_36 / var_360_35)

				if var_360_37 > 0 and var_360_31 < var_360_37 then
					arg_357_1.talkMaxDuration = var_360_37

					if var_360_37 + var_360_30 > arg_357_1.duration_ then
						arg_357_1.duration_ = var_360_37 + var_360_30
					end
				end

				arg_357_1.text_.text = var_360_34
				arg_357_1.typewritter.percent = 0

				arg_357_1.typewritter:SetDirty()
				arg_357_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021088", "story_v_out_317021.awb") ~= 0 then
					local var_360_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021088", "story_v_out_317021.awb") / 1000

					if var_360_38 + var_360_30 > arg_357_1.duration_ then
						arg_357_1.duration_ = var_360_38 + var_360_30
					end

					if var_360_33.prefab_name ~= "" and arg_357_1.actors_[var_360_33.prefab_name] ~= nil then
						local var_360_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_357_1.actors_[var_360_33.prefab_name].transform, "story_v_out_317021", "317021088", "story_v_out_317021.awb")

						arg_357_1:RecordAudio("317021088", var_360_39)
						arg_357_1:RecordAudio("317021088", var_360_39)
					else
						arg_357_1:AudioAction("play", "voice", "story_v_out_317021", "317021088", "story_v_out_317021.awb")
					end

					arg_357_1:RecordHistoryTalkVoice("story_v_out_317021", "317021088", "story_v_out_317021.awb")
				end

				arg_357_1:RecordContent(arg_357_1.text_.text)
			end

			local var_360_40 = math.max(var_360_31, arg_357_1.talkMaxDuration)

			if var_360_30 <= arg_357_1.time_ and arg_357_1.time_ < var_360_30 + var_360_40 then
				arg_357_1.typewritter.percent = (arg_357_1.time_ - var_360_30) / var_360_40

				arg_357_1.typewritter:SetDirty()
			end

			if arg_357_1.time_ >= var_360_30 + var_360_40 and arg_357_1.time_ < var_360_30 + var_360_40 + arg_360_0 then
				arg_357_1.typewritter.percent = 1

				arg_357_1.typewritter:SetDirty()
				arg_357_1:ShowNextGo(true)
			end
		end
	end,
	Play317021089 = function(arg_361_0, arg_361_1)
		arg_361_1.time_ = 0
		arg_361_1.frameCnt_ = 0
		arg_361_1.state_ = "playing"
		arg_361_1.curTalkId_ = 317021089
		arg_361_1.duration_ = 2.73

		local var_361_0 = {
			zh = 2.733,
			ja = 1.999999999999
		}
		local var_361_1 = manager.audio:GetLocalizationFlag()

		if var_361_0[var_361_1] ~= nil then
			arg_361_1.duration_ = var_361_0[var_361_1]
		end

		SetActive(arg_361_1.tipsGo_, false)

		function arg_361_1.onSingleLineFinish_()
			arg_361_1.onSingleLineUpdate_ = nil
			arg_361_1.onSingleLineFinish_ = nil
			arg_361_1.state_ = "waiting"
		end

		function arg_361_1.playNext_(arg_363_0)
			if arg_363_0 == 1 then
				arg_361_0:Play317021090(arg_361_1)
			end
		end

		function arg_361_1.onSingleLineUpdate_(arg_364_0)
			local var_364_0 = arg_361_1.actors_["1019ui_story"].transform
			local var_364_1 = 0

			if var_364_1 < arg_361_1.time_ and arg_361_1.time_ <= var_364_1 + arg_364_0 then
				arg_361_1.var_.moveOldPos1019ui_story = var_364_0.localPosition
			end

			local var_364_2 = 0.001

			if var_364_1 <= arg_361_1.time_ and arg_361_1.time_ < var_364_1 + var_364_2 then
				local var_364_3 = (arg_361_1.time_ - var_364_1) / var_364_2
				local var_364_4 = Vector3.New(0, 100, 0)

				var_364_0.localPosition = Vector3.Lerp(arg_361_1.var_.moveOldPos1019ui_story, var_364_4, var_364_3)

				local var_364_5 = manager.ui.mainCamera.transform.position - var_364_0.position

				var_364_0.forward = Vector3.New(var_364_5.x, var_364_5.y, var_364_5.z)

				local var_364_6 = var_364_0.localEulerAngles

				var_364_6.z = 0
				var_364_6.x = 0
				var_364_0.localEulerAngles = var_364_6
			end

			if arg_361_1.time_ >= var_364_1 + var_364_2 and arg_361_1.time_ < var_364_1 + var_364_2 + arg_364_0 then
				var_364_0.localPosition = Vector3.New(0, 100, 0)

				local var_364_7 = manager.ui.mainCamera.transform.position - var_364_0.position

				var_364_0.forward = Vector3.New(var_364_7.x, var_364_7.y, var_364_7.z)

				local var_364_8 = var_364_0.localEulerAngles

				var_364_8.z = 0
				var_364_8.x = 0
				var_364_0.localEulerAngles = var_364_8
			end

			local var_364_9 = arg_361_1.actors_["1019ui_story"]
			local var_364_10 = 0

			if var_364_10 < arg_361_1.time_ and arg_361_1.time_ <= var_364_10 + arg_364_0 and not isNil(var_364_9) and arg_361_1.var_.characterEffect1019ui_story == nil then
				arg_361_1.var_.characterEffect1019ui_story = var_364_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_364_11 = 0.200000002980232

			if var_364_10 <= arg_361_1.time_ and arg_361_1.time_ < var_364_10 + var_364_11 and not isNil(var_364_9) then
				local var_364_12 = (arg_361_1.time_ - var_364_10) / var_364_11

				if arg_361_1.var_.characterEffect1019ui_story and not isNil(var_364_9) then
					local var_364_13 = Mathf.Lerp(0, 0.5, var_364_12)

					arg_361_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_361_1.var_.characterEffect1019ui_story.fillRatio = var_364_13
				end
			end

			if arg_361_1.time_ >= var_364_10 + var_364_11 and arg_361_1.time_ < var_364_10 + var_364_11 + arg_364_0 and not isNil(var_364_9) and arg_361_1.var_.characterEffect1019ui_story then
				local var_364_14 = 0.5

				arg_361_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_361_1.var_.characterEffect1019ui_story.fillRatio = var_364_14
			end

			local var_364_15 = arg_361_1.actors_["1050ui_story"].transform
			local var_364_16 = 0

			if var_364_16 < arg_361_1.time_ and arg_361_1.time_ <= var_364_16 + arg_364_0 then
				arg_361_1.var_.moveOldPos1050ui_story = var_364_15.localPosition
			end

			local var_364_17 = 0.001

			if var_364_16 <= arg_361_1.time_ and arg_361_1.time_ < var_364_16 + var_364_17 then
				local var_364_18 = (arg_361_1.time_ - var_364_16) / var_364_17
				local var_364_19 = Vector3.New(0, -1, -6.1)

				var_364_15.localPosition = Vector3.Lerp(arg_361_1.var_.moveOldPos1050ui_story, var_364_19, var_364_18)

				local var_364_20 = manager.ui.mainCamera.transform.position - var_364_15.position

				var_364_15.forward = Vector3.New(var_364_20.x, var_364_20.y, var_364_20.z)

				local var_364_21 = var_364_15.localEulerAngles

				var_364_21.z = 0
				var_364_21.x = 0
				var_364_15.localEulerAngles = var_364_21
			end

			if arg_361_1.time_ >= var_364_16 + var_364_17 and arg_361_1.time_ < var_364_16 + var_364_17 + arg_364_0 then
				var_364_15.localPosition = Vector3.New(0, -1, -6.1)

				local var_364_22 = manager.ui.mainCamera.transform.position - var_364_15.position

				var_364_15.forward = Vector3.New(var_364_22.x, var_364_22.y, var_364_22.z)

				local var_364_23 = var_364_15.localEulerAngles

				var_364_23.z = 0
				var_364_23.x = 0
				var_364_15.localEulerAngles = var_364_23
			end

			local var_364_24 = arg_361_1.actors_["1050ui_story"]
			local var_364_25 = 0

			if var_364_25 < arg_361_1.time_ and arg_361_1.time_ <= var_364_25 + arg_364_0 and not isNil(var_364_24) and arg_361_1.var_.characterEffect1050ui_story == nil then
				arg_361_1.var_.characterEffect1050ui_story = var_364_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_364_26 = 0.200000002980232

			if var_364_25 <= arg_361_1.time_ and arg_361_1.time_ < var_364_25 + var_364_26 and not isNil(var_364_24) then
				local var_364_27 = (arg_361_1.time_ - var_364_25) / var_364_26

				if arg_361_1.var_.characterEffect1050ui_story and not isNil(var_364_24) then
					arg_361_1.var_.characterEffect1050ui_story.fillFlat = false
				end
			end

			if arg_361_1.time_ >= var_364_25 + var_364_26 and arg_361_1.time_ < var_364_25 + var_364_26 + arg_364_0 and not isNil(var_364_24) and arg_361_1.var_.characterEffect1050ui_story then
				arg_361_1.var_.characterEffect1050ui_story.fillFlat = false
			end

			local var_364_28 = 0

			if var_364_28 < arg_361_1.time_ and arg_361_1.time_ <= var_364_28 + arg_364_0 then
				arg_361_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/1050/1050action/1050action3_1")
			end

			local var_364_29 = 0

			if var_364_29 < arg_361_1.time_ and arg_361_1.time_ <= var_364_29 + arg_364_0 then
				arg_361_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface3202cva")
			end

			local var_364_30 = 0
			local var_364_31 = 0.275

			if var_364_30 < arg_361_1.time_ and arg_361_1.time_ <= var_364_30 + arg_364_0 then
				arg_361_1.talkMaxDuration = 0
				arg_361_1.dialogCg_.alpha = 1

				arg_361_1.dialog_:SetActive(true)
				SetActive(arg_361_1.leftNameGo_, true)

				local var_364_32 = arg_361_1:FormatText(StoryNameCfg[74].name)

				arg_361_1.leftNameTxt_.text = var_364_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_361_1.leftNameTxt_.transform)

				arg_361_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_361_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_361_1:RecordName(arg_361_1.leftNameTxt_.text)
				SetActive(arg_361_1.iconTrs_.gameObject, false)
				arg_361_1.callingController_:SetSelectedState("normal")

				local var_364_33 = arg_361_1:GetWordFromCfg(317021089)
				local var_364_34 = arg_361_1:FormatText(var_364_33.content)

				arg_361_1.text_.text = var_364_34

				LuaForUtil.ClearLinePrefixSymbol(arg_361_1.text_)

				local var_364_35 = 11
				local var_364_36 = utf8.len(var_364_34)
				local var_364_37 = var_364_35 <= 0 and var_364_31 or var_364_31 * (var_364_36 / var_364_35)

				if var_364_37 > 0 and var_364_31 < var_364_37 then
					arg_361_1.talkMaxDuration = var_364_37

					if var_364_37 + var_364_30 > arg_361_1.duration_ then
						arg_361_1.duration_ = var_364_37 + var_364_30
					end
				end

				arg_361_1.text_.text = var_364_34
				arg_361_1.typewritter.percent = 0

				arg_361_1.typewritter:SetDirty()
				arg_361_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021089", "story_v_out_317021.awb") ~= 0 then
					local var_364_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021089", "story_v_out_317021.awb") / 1000

					if var_364_38 + var_364_30 > arg_361_1.duration_ then
						arg_361_1.duration_ = var_364_38 + var_364_30
					end

					if var_364_33.prefab_name ~= "" and arg_361_1.actors_[var_364_33.prefab_name] ~= nil then
						local var_364_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_361_1.actors_[var_364_33.prefab_name].transform, "story_v_out_317021", "317021089", "story_v_out_317021.awb")

						arg_361_1:RecordAudio("317021089", var_364_39)
						arg_361_1:RecordAudio("317021089", var_364_39)
					else
						arg_361_1:AudioAction("play", "voice", "story_v_out_317021", "317021089", "story_v_out_317021.awb")
					end

					arg_361_1:RecordHistoryTalkVoice("story_v_out_317021", "317021089", "story_v_out_317021.awb")
				end

				arg_361_1:RecordContent(arg_361_1.text_.text)
			end

			local var_364_40 = math.max(var_364_31, arg_361_1.talkMaxDuration)

			if var_364_30 <= arg_361_1.time_ and arg_361_1.time_ < var_364_30 + var_364_40 then
				arg_361_1.typewritter.percent = (arg_361_1.time_ - var_364_30) / var_364_40

				arg_361_1.typewritter:SetDirty()
			end

			if arg_361_1.time_ >= var_364_30 + var_364_40 and arg_361_1.time_ < var_364_30 + var_364_40 + arg_364_0 then
				arg_361_1.typewritter.percent = 1

				arg_361_1.typewritter:SetDirty()
				arg_361_1:ShowNextGo(true)
			end
		end
	end,
	Play317021090 = function(arg_365_0, arg_365_1)
		arg_365_1.time_ = 0
		arg_365_1.frameCnt_ = 0
		arg_365_1.state_ = "playing"
		arg_365_1.curTalkId_ = 317021090
		arg_365_1.duration_ = 13.37

		local var_365_0 = {
			zh = 13.366,
			ja = 9.033
		}
		local var_365_1 = manager.audio:GetLocalizationFlag()

		if var_365_0[var_365_1] ~= nil then
			arg_365_1.duration_ = var_365_0[var_365_1]
		end

		SetActive(arg_365_1.tipsGo_, false)

		function arg_365_1.onSingleLineFinish_()
			arg_365_1.onSingleLineUpdate_ = nil
			arg_365_1.onSingleLineFinish_ = nil
			arg_365_1.state_ = "waiting"
		end

		function arg_365_1.playNext_(arg_367_0)
			if arg_367_0 == 1 then
				arg_365_0:Play317021091(arg_365_1)
			end
		end

		function arg_365_1.onSingleLineUpdate_(arg_368_0)
			local var_368_0 = arg_365_1.actors_["1019ui_story"].transform
			local var_368_1 = 0

			if var_368_1 < arg_365_1.time_ and arg_365_1.time_ <= var_368_1 + arg_368_0 then
				arg_365_1.var_.moveOldPos1019ui_story = var_368_0.localPosition
			end

			local var_368_2 = 0.001

			if var_368_1 <= arg_365_1.time_ and arg_365_1.time_ < var_368_1 + var_368_2 then
				local var_368_3 = (arg_365_1.time_ - var_368_1) / var_368_2
				local var_368_4 = Vector3.New(-0.2, -1.08, -5.9)

				var_368_0.localPosition = Vector3.Lerp(arg_365_1.var_.moveOldPos1019ui_story, var_368_4, var_368_3)

				local var_368_5 = manager.ui.mainCamera.transform.position - var_368_0.position

				var_368_0.forward = Vector3.New(var_368_5.x, var_368_5.y, var_368_5.z)

				local var_368_6 = var_368_0.localEulerAngles

				var_368_6.z = 0
				var_368_6.x = 0
				var_368_0.localEulerAngles = var_368_6
			end

			if arg_365_1.time_ >= var_368_1 + var_368_2 and arg_365_1.time_ < var_368_1 + var_368_2 + arg_368_0 then
				var_368_0.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_368_7 = manager.ui.mainCamera.transform.position - var_368_0.position

				var_368_0.forward = Vector3.New(var_368_7.x, var_368_7.y, var_368_7.z)

				local var_368_8 = var_368_0.localEulerAngles

				var_368_8.z = 0
				var_368_8.x = 0
				var_368_0.localEulerAngles = var_368_8
			end

			local var_368_9 = arg_365_1.actors_["1019ui_story"]
			local var_368_10 = 0

			if var_368_10 < arg_365_1.time_ and arg_365_1.time_ <= var_368_10 + arg_368_0 and not isNil(var_368_9) and arg_365_1.var_.characterEffect1019ui_story == nil then
				arg_365_1.var_.characterEffect1019ui_story = var_368_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_368_11 = 0.200000002980232

			if var_368_10 <= arg_365_1.time_ and arg_365_1.time_ < var_368_10 + var_368_11 and not isNil(var_368_9) then
				local var_368_12 = (arg_365_1.time_ - var_368_10) / var_368_11

				if arg_365_1.var_.characterEffect1019ui_story and not isNil(var_368_9) then
					arg_365_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_365_1.time_ >= var_368_10 + var_368_11 and arg_365_1.time_ < var_368_10 + var_368_11 + arg_368_0 and not isNil(var_368_9) and arg_365_1.var_.characterEffect1019ui_story then
				arg_365_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_368_13 = 0

			if var_368_13 < arg_365_1.time_ and arg_365_1.time_ <= var_368_13 + arg_368_0 then
				arg_365_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_368_14 = 0

			if var_368_14 < arg_365_1.time_ and arg_365_1.time_ <= var_368_14 + arg_368_0 then
				arg_365_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_368_15 = arg_365_1.actors_["1050ui_story"].transform
			local var_368_16 = 0

			if var_368_16 < arg_365_1.time_ and arg_365_1.time_ <= var_368_16 + arg_368_0 then
				arg_365_1.var_.moveOldPos1050ui_story = var_368_15.localPosition
			end

			local var_368_17 = 0.001

			if var_368_16 <= arg_365_1.time_ and arg_365_1.time_ < var_368_16 + var_368_17 then
				local var_368_18 = (arg_365_1.time_ - var_368_16) / var_368_17
				local var_368_19 = Vector3.New(0, 100, 0)

				var_368_15.localPosition = Vector3.Lerp(arg_365_1.var_.moveOldPos1050ui_story, var_368_19, var_368_18)

				local var_368_20 = manager.ui.mainCamera.transform.position - var_368_15.position

				var_368_15.forward = Vector3.New(var_368_20.x, var_368_20.y, var_368_20.z)

				local var_368_21 = var_368_15.localEulerAngles

				var_368_21.z = 0
				var_368_21.x = 0
				var_368_15.localEulerAngles = var_368_21
			end

			if arg_365_1.time_ >= var_368_16 + var_368_17 and arg_365_1.time_ < var_368_16 + var_368_17 + arg_368_0 then
				var_368_15.localPosition = Vector3.New(0, 100, 0)

				local var_368_22 = manager.ui.mainCamera.transform.position - var_368_15.position

				var_368_15.forward = Vector3.New(var_368_22.x, var_368_22.y, var_368_22.z)

				local var_368_23 = var_368_15.localEulerAngles

				var_368_23.z = 0
				var_368_23.x = 0
				var_368_15.localEulerAngles = var_368_23
			end

			local var_368_24 = arg_365_1.actors_["1050ui_story"]
			local var_368_25 = 0

			if var_368_25 < arg_365_1.time_ and arg_365_1.time_ <= var_368_25 + arg_368_0 and not isNil(var_368_24) and arg_365_1.var_.characterEffect1050ui_story == nil then
				arg_365_1.var_.characterEffect1050ui_story = var_368_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_368_26 = 0.200000002980232

			if var_368_25 <= arg_365_1.time_ and arg_365_1.time_ < var_368_25 + var_368_26 and not isNil(var_368_24) then
				local var_368_27 = (arg_365_1.time_ - var_368_25) / var_368_26

				if arg_365_1.var_.characterEffect1050ui_story and not isNil(var_368_24) then
					local var_368_28 = Mathf.Lerp(0, 0.5, var_368_27)

					arg_365_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_365_1.var_.characterEffect1050ui_story.fillRatio = var_368_28
				end
			end

			if arg_365_1.time_ >= var_368_25 + var_368_26 and arg_365_1.time_ < var_368_25 + var_368_26 + arg_368_0 and not isNil(var_368_24) and arg_365_1.var_.characterEffect1050ui_story then
				local var_368_29 = 0.5

				arg_365_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_365_1.var_.characterEffect1050ui_story.fillRatio = var_368_29
			end

			local var_368_30 = 0
			local var_368_31 = 1.375

			if var_368_30 < arg_365_1.time_ and arg_365_1.time_ <= var_368_30 + arg_368_0 then
				arg_365_1.talkMaxDuration = 0
				arg_365_1.dialogCg_.alpha = 1

				arg_365_1.dialog_:SetActive(true)
				SetActive(arg_365_1.leftNameGo_, true)

				local var_368_32 = arg_365_1:FormatText(StoryNameCfg[47].name)

				arg_365_1.leftNameTxt_.text = var_368_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_365_1.leftNameTxt_.transform)

				arg_365_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_365_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_365_1:RecordName(arg_365_1.leftNameTxt_.text)
				SetActive(arg_365_1.iconTrs_.gameObject, false)
				arg_365_1.callingController_:SetSelectedState("normal")

				local var_368_33 = arg_365_1:GetWordFromCfg(317021090)
				local var_368_34 = arg_365_1:FormatText(var_368_33.content)

				arg_365_1.text_.text = var_368_34

				LuaForUtil.ClearLinePrefixSymbol(arg_365_1.text_)

				local var_368_35 = 55
				local var_368_36 = utf8.len(var_368_34)
				local var_368_37 = var_368_35 <= 0 and var_368_31 or var_368_31 * (var_368_36 / var_368_35)

				if var_368_37 > 0 and var_368_31 < var_368_37 then
					arg_365_1.talkMaxDuration = var_368_37

					if var_368_37 + var_368_30 > arg_365_1.duration_ then
						arg_365_1.duration_ = var_368_37 + var_368_30
					end
				end

				arg_365_1.text_.text = var_368_34
				arg_365_1.typewritter.percent = 0

				arg_365_1.typewritter:SetDirty()
				arg_365_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021090", "story_v_out_317021.awb") ~= 0 then
					local var_368_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021090", "story_v_out_317021.awb") / 1000

					if var_368_38 + var_368_30 > arg_365_1.duration_ then
						arg_365_1.duration_ = var_368_38 + var_368_30
					end

					if var_368_33.prefab_name ~= "" and arg_365_1.actors_[var_368_33.prefab_name] ~= nil then
						local var_368_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_365_1.actors_[var_368_33.prefab_name].transform, "story_v_out_317021", "317021090", "story_v_out_317021.awb")

						arg_365_1:RecordAudio("317021090", var_368_39)
						arg_365_1:RecordAudio("317021090", var_368_39)
					else
						arg_365_1:AudioAction("play", "voice", "story_v_out_317021", "317021090", "story_v_out_317021.awb")
					end

					arg_365_1:RecordHistoryTalkVoice("story_v_out_317021", "317021090", "story_v_out_317021.awb")
				end

				arg_365_1:RecordContent(arg_365_1.text_.text)
			end

			local var_368_40 = math.max(var_368_31, arg_365_1.talkMaxDuration)

			if var_368_30 <= arg_365_1.time_ and arg_365_1.time_ < var_368_30 + var_368_40 then
				arg_365_1.typewritter.percent = (arg_365_1.time_ - var_368_30) / var_368_40

				arg_365_1.typewritter:SetDirty()
			end

			if arg_365_1.time_ >= var_368_30 + var_368_40 and arg_365_1.time_ < var_368_30 + var_368_40 + arg_368_0 then
				arg_365_1.typewritter.percent = 1

				arg_365_1.typewritter:SetDirty()
				arg_365_1:ShowNextGo(true)
			end
		end
	end,
	Play317021091 = function(arg_369_0, arg_369_1)
		arg_369_1.time_ = 0
		arg_369_1.frameCnt_ = 0
		arg_369_1.state_ = "playing"
		arg_369_1.curTalkId_ = 317021091
		arg_369_1.duration_ = 13.6

		local var_369_0 = {
			zh = 12,
			ja = 13.6
		}
		local var_369_1 = manager.audio:GetLocalizationFlag()

		if var_369_0[var_369_1] ~= nil then
			arg_369_1.duration_ = var_369_0[var_369_1]
		end

		SetActive(arg_369_1.tipsGo_, false)

		function arg_369_1.onSingleLineFinish_()
			arg_369_1.onSingleLineUpdate_ = nil
			arg_369_1.onSingleLineFinish_ = nil
			arg_369_1.state_ = "waiting"
		end

		function arg_369_1.playNext_(arg_371_0)
			if arg_371_0 == 1 then
				arg_369_0:Play317021092(arg_369_1)
			end
		end

		function arg_369_1.onSingleLineUpdate_(arg_372_0)
			local var_372_0 = arg_369_1.actors_["1019ui_story"].transform
			local var_372_1 = 0

			if var_372_1 < arg_369_1.time_ and arg_369_1.time_ <= var_372_1 + arg_372_0 then
				arg_369_1.var_.moveOldPos1019ui_story = var_372_0.localPosition
			end

			local var_372_2 = 0.001

			if var_372_1 <= arg_369_1.time_ and arg_369_1.time_ < var_372_1 + var_372_2 then
				local var_372_3 = (arg_369_1.time_ - var_372_1) / var_372_2
				local var_372_4 = Vector3.New(-0.2, -1.08, -5.9)

				var_372_0.localPosition = Vector3.Lerp(arg_369_1.var_.moveOldPos1019ui_story, var_372_4, var_372_3)

				local var_372_5 = manager.ui.mainCamera.transform.position - var_372_0.position

				var_372_0.forward = Vector3.New(var_372_5.x, var_372_5.y, var_372_5.z)

				local var_372_6 = var_372_0.localEulerAngles

				var_372_6.z = 0
				var_372_6.x = 0
				var_372_0.localEulerAngles = var_372_6
			end

			if arg_369_1.time_ >= var_372_1 + var_372_2 and arg_369_1.time_ < var_372_1 + var_372_2 + arg_372_0 then
				var_372_0.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_372_7 = manager.ui.mainCamera.transform.position - var_372_0.position

				var_372_0.forward = Vector3.New(var_372_7.x, var_372_7.y, var_372_7.z)

				local var_372_8 = var_372_0.localEulerAngles

				var_372_8.z = 0
				var_372_8.x = 0
				var_372_0.localEulerAngles = var_372_8
			end

			local var_372_9 = arg_369_1.actors_["1019ui_story"]
			local var_372_10 = 0

			if var_372_10 < arg_369_1.time_ and arg_369_1.time_ <= var_372_10 + arg_372_0 and not isNil(var_372_9) and arg_369_1.var_.characterEffect1019ui_story == nil then
				arg_369_1.var_.characterEffect1019ui_story = var_372_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_372_11 = 0.200000002980232

			if var_372_10 <= arg_369_1.time_ and arg_369_1.time_ < var_372_10 + var_372_11 and not isNil(var_372_9) then
				local var_372_12 = (arg_369_1.time_ - var_372_10) / var_372_11

				if arg_369_1.var_.characterEffect1019ui_story and not isNil(var_372_9) then
					arg_369_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_369_1.time_ >= var_372_10 + var_372_11 and arg_369_1.time_ < var_372_10 + var_372_11 + arg_372_0 and not isNil(var_372_9) and arg_369_1.var_.characterEffect1019ui_story then
				arg_369_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_372_13 = 0

			if var_372_13 < arg_369_1.time_ and arg_369_1.time_ <= var_372_13 + arg_372_0 then
				arg_369_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_372_14 = 0

			if var_372_14 < arg_369_1.time_ and arg_369_1.time_ <= var_372_14 + arg_372_0 then
				arg_369_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_372_15 = 0
			local var_372_16 = 1.3

			if var_372_15 < arg_369_1.time_ and arg_369_1.time_ <= var_372_15 + arg_372_0 then
				arg_369_1.talkMaxDuration = 0
				arg_369_1.dialogCg_.alpha = 1

				arg_369_1.dialog_:SetActive(true)
				SetActive(arg_369_1.leftNameGo_, true)

				local var_372_17 = arg_369_1:FormatText(StoryNameCfg[47].name)

				arg_369_1.leftNameTxt_.text = var_372_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_369_1.leftNameTxt_.transform)

				arg_369_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_369_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_369_1:RecordName(arg_369_1.leftNameTxt_.text)
				SetActive(arg_369_1.iconTrs_.gameObject, false)
				arg_369_1.callingController_:SetSelectedState("normal")

				local var_372_18 = arg_369_1:GetWordFromCfg(317021091)
				local var_372_19 = arg_369_1:FormatText(var_372_18.content)

				arg_369_1.text_.text = var_372_19

				LuaForUtil.ClearLinePrefixSymbol(arg_369_1.text_)

				local var_372_20 = 52
				local var_372_21 = utf8.len(var_372_19)
				local var_372_22 = var_372_20 <= 0 and var_372_16 or var_372_16 * (var_372_21 / var_372_20)

				if var_372_22 > 0 and var_372_16 < var_372_22 then
					arg_369_1.talkMaxDuration = var_372_22

					if var_372_22 + var_372_15 > arg_369_1.duration_ then
						arg_369_1.duration_ = var_372_22 + var_372_15
					end
				end

				arg_369_1.text_.text = var_372_19
				arg_369_1.typewritter.percent = 0

				arg_369_1.typewritter:SetDirty()
				arg_369_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021091", "story_v_out_317021.awb") ~= 0 then
					local var_372_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021091", "story_v_out_317021.awb") / 1000

					if var_372_23 + var_372_15 > arg_369_1.duration_ then
						arg_369_1.duration_ = var_372_23 + var_372_15
					end

					if var_372_18.prefab_name ~= "" and arg_369_1.actors_[var_372_18.prefab_name] ~= nil then
						local var_372_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_369_1.actors_[var_372_18.prefab_name].transform, "story_v_out_317021", "317021091", "story_v_out_317021.awb")

						arg_369_1:RecordAudio("317021091", var_372_24)
						arg_369_1:RecordAudio("317021091", var_372_24)
					else
						arg_369_1:AudioAction("play", "voice", "story_v_out_317021", "317021091", "story_v_out_317021.awb")
					end

					arg_369_1:RecordHistoryTalkVoice("story_v_out_317021", "317021091", "story_v_out_317021.awb")
				end

				arg_369_1:RecordContent(arg_369_1.text_.text)
			end

			local var_372_25 = math.max(var_372_16, arg_369_1.talkMaxDuration)

			if var_372_15 <= arg_369_1.time_ and arg_369_1.time_ < var_372_15 + var_372_25 then
				arg_369_1.typewritter.percent = (arg_369_1.time_ - var_372_15) / var_372_25

				arg_369_1.typewritter:SetDirty()
			end

			if arg_369_1.time_ >= var_372_15 + var_372_25 and arg_369_1.time_ < var_372_15 + var_372_25 + arg_372_0 then
				arg_369_1.typewritter.percent = 1

				arg_369_1.typewritter:SetDirty()
				arg_369_1:ShowNextGo(true)
			end
		end
	end,
	Play317021092 = function(arg_373_0, arg_373_1)
		arg_373_1.time_ = 0
		arg_373_1.frameCnt_ = 0
		arg_373_1.state_ = "playing"
		arg_373_1.curTalkId_ = 317021092
		arg_373_1.duration_ = 5

		SetActive(arg_373_1.tipsGo_, false)

		function arg_373_1.onSingleLineFinish_()
			arg_373_1.onSingleLineUpdate_ = nil
			arg_373_1.onSingleLineFinish_ = nil
			arg_373_1.state_ = "waiting"
		end

		function arg_373_1.playNext_(arg_375_0)
			if arg_375_0 == 1 then
				arg_373_0:Play317021093(arg_373_1)
			end
		end

		function arg_373_1.onSingleLineUpdate_(arg_376_0)
			local var_376_0 = arg_373_1.actors_["1019ui_story"]
			local var_376_1 = 0

			if var_376_1 < arg_373_1.time_ and arg_373_1.time_ <= var_376_1 + arg_376_0 and not isNil(var_376_0) and arg_373_1.var_.characterEffect1019ui_story == nil then
				arg_373_1.var_.characterEffect1019ui_story = var_376_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_376_2 = 0.200000002980232

			if var_376_1 <= arg_373_1.time_ and arg_373_1.time_ < var_376_1 + var_376_2 and not isNil(var_376_0) then
				local var_376_3 = (arg_373_1.time_ - var_376_1) / var_376_2

				if arg_373_1.var_.characterEffect1019ui_story and not isNil(var_376_0) then
					local var_376_4 = Mathf.Lerp(0, 0.5, var_376_3)

					arg_373_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_373_1.var_.characterEffect1019ui_story.fillRatio = var_376_4
				end
			end

			if arg_373_1.time_ >= var_376_1 + var_376_2 and arg_373_1.time_ < var_376_1 + var_376_2 + arg_376_0 and not isNil(var_376_0) and arg_373_1.var_.characterEffect1019ui_story then
				local var_376_5 = 0.5

				arg_373_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_373_1.var_.characterEffect1019ui_story.fillRatio = var_376_5
			end

			local var_376_6 = 0
			local var_376_7 = 0.2

			if var_376_6 < arg_373_1.time_ and arg_373_1.time_ <= var_376_6 + arg_376_0 then
				arg_373_1.talkMaxDuration = 0
				arg_373_1.dialogCg_.alpha = 1

				arg_373_1.dialog_:SetActive(true)
				SetActive(arg_373_1.leftNameGo_, true)

				local var_376_8 = arg_373_1:FormatText(StoryNameCfg[7].name)

				arg_373_1.leftNameTxt_.text = var_376_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_373_1.leftNameTxt_.transform)

				arg_373_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_373_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_373_1:RecordName(arg_373_1.leftNameTxt_.text)
				SetActive(arg_373_1.iconTrs_.gameObject, false)
				arg_373_1.callingController_:SetSelectedState("normal")

				local var_376_9 = arg_373_1:GetWordFromCfg(317021092)
				local var_376_10 = arg_373_1:FormatText(var_376_9.content)

				arg_373_1.text_.text = var_376_10

				LuaForUtil.ClearLinePrefixSymbol(arg_373_1.text_)

				local var_376_11 = 8
				local var_376_12 = utf8.len(var_376_10)
				local var_376_13 = var_376_11 <= 0 and var_376_7 or var_376_7 * (var_376_12 / var_376_11)

				if var_376_13 > 0 and var_376_7 < var_376_13 then
					arg_373_1.talkMaxDuration = var_376_13

					if var_376_13 + var_376_6 > arg_373_1.duration_ then
						arg_373_1.duration_ = var_376_13 + var_376_6
					end
				end

				arg_373_1.text_.text = var_376_10
				arg_373_1.typewritter.percent = 0

				arg_373_1.typewritter:SetDirty()
				arg_373_1:ShowNextGo(false)
				arg_373_1:RecordContent(arg_373_1.text_.text)
			end

			local var_376_14 = math.max(var_376_7, arg_373_1.talkMaxDuration)

			if var_376_6 <= arg_373_1.time_ and arg_373_1.time_ < var_376_6 + var_376_14 then
				arg_373_1.typewritter.percent = (arg_373_1.time_ - var_376_6) / var_376_14

				arg_373_1.typewritter:SetDirty()
			end

			if arg_373_1.time_ >= var_376_6 + var_376_14 and arg_373_1.time_ < var_376_6 + var_376_14 + arg_376_0 then
				arg_373_1.typewritter.percent = 1

				arg_373_1.typewritter:SetDirty()
				arg_373_1:ShowNextGo(true)
			end
		end
	end,
	Play317021093 = function(arg_377_0, arg_377_1)
		arg_377_1.time_ = 0
		arg_377_1.frameCnt_ = 0
		arg_377_1.state_ = "playing"
		arg_377_1.curTalkId_ = 317021093
		arg_377_1.duration_ = 5

		SetActive(arg_377_1.tipsGo_, false)

		function arg_377_1.onSingleLineFinish_()
			arg_377_1.onSingleLineUpdate_ = nil
			arg_377_1.onSingleLineFinish_ = nil
			arg_377_1.state_ = "waiting"
		end

		function arg_377_1.playNext_(arg_379_0)
			if arg_379_0 == 1 then
				arg_377_0:Play317021094(arg_377_1)
			end
		end

		function arg_377_1.onSingleLineUpdate_(arg_380_0)
			local var_380_0 = 0
			local var_380_1 = 0.7

			if var_380_0 < arg_377_1.time_ and arg_377_1.time_ <= var_380_0 + arg_380_0 then
				arg_377_1.talkMaxDuration = 0
				arg_377_1.dialogCg_.alpha = 1

				arg_377_1.dialog_:SetActive(true)
				SetActive(arg_377_1.leftNameGo_, true)

				local var_380_2 = arg_377_1:FormatText(StoryNameCfg[7].name)

				arg_377_1.leftNameTxt_.text = var_380_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_377_1.leftNameTxt_.transform)

				arg_377_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_377_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_377_1:RecordName(arg_377_1.leftNameTxt_.text)
				SetActive(arg_377_1.iconTrs_.gameObject, false)
				arg_377_1.callingController_:SetSelectedState("normal")

				local var_380_3 = arg_377_1:GetWordFromCfg(317021093)
				local var_380_4 = arg_377_1:FormatText(var_380_3.content)

				arg_377_1.text_.text = var_380_4

				LuaForUtil.ClearLinePrefixSymbol(arg_377_1.text_)

				local var_380_5 = 28
				local var_380_6 = utf8.len(var_380_4)
				local var_380_7 = var_380_5 <= 0 and var_380_1 or var_380_1 * (var_380_6 / var_380_5)

				if var_380_7 > 0 and var_380_1 < var_380_7 then
					arg_377_1.talkMaxDuration = var_380_7

					if var_380_7 + var_380_0 > arg_377_1.duration_ then
						arg_377_1.duration_ = var_380_7 + var_380_0
					end
				end

				arg_377_1.text_.text = var_380_4
				arg_377_1.typewritter.percent = 0

				arg_377_1.typewritter:SetDirty()
				arg_377_1:ShowNextGo(false)
				arg_377_1:RecordContent(arg_377_1.text_.text)
			end

			local var_380_8 = math.max(var_380_1, arg_377_1.talkMaxDuration)

			if var_380_0 <= arg_377_1.time_ and arg_377_1.time_ < var_380_0 + var_380_8 then
				arg_377_1.typewritter.percent = (arg_377_1.time_ - var_380_0) / var_380_8

				arg_377_1.typewritter:SetDirty()
			end

			if arg_377_1.time_ >= var_380_0 + var_380_8 and arg_377_1.time_ < var_380_0 + var_380_8 + arg_380_0 then
				arg_377_1.typewritter.percent = 1

				arg_377_1.typewritter:SetDirty()
				arg_377_1:ShowNextGo(true)
			end
		end
	end,
	Play317021094 = function(arg_381_0, arg_381_1)
		arg_381_1.time_ = 0
		arg_381_1.frameCnt_ = 0
		arg_381_1.state_ = "playing"
		arg_381_1.curTalkId_ = 317021094
		arg_381_1.duration_ = 13.03

		local var_381_0 = {
			zh = 7.566,
			ja = 13.033
		}
		local var_381_1 = manager.audio:GetLocalizationFlag()

		if var_381_0[var_381_1] ~= nil then
			arg_381_1.duration_ = var_381_0[var_381_1]
		end

		SetActive(arg_381_1.tipsGo_, false)

		function arg_381_1.onSingleLineFinish_()
			arg_381_1.onSingleLineUpdate_ = nil
			arg_381_1.onSingleLineFinish_ = nil
			arg_381_1.state_ = "waiting"
		end

		function arg_381_1.playNext_(arg_383_0)
			if arg_383_0 == 1 then
				arg_381_0:Play317021095(arg_381_1)
			end
		end

		function arg_381_1.onSingleLineUpdate_(arg_384_0)
			local var_384_0 = arg_381_1.actors_["1019ui_story"]
			local var_384_1 = 0

			if var_384_1 < arg_381_1.time_ and arg_381_1.time_ <= var_384_1 + arg_384_0 and not isNil(var_384_0) and arg_381_1.var_.characterEffect1019ui_story == nil then
				arg_381_1.var_.characterEffect1019ui_story = var_384_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_384_2 = 0.200000002980232

			if var_384_1 <= arg_381_1.time_ and arg_381_1.time_ < var_384_1 + var_384_2 and not isNil(var_384_0) then
				local var_384_3 = (arg_381_1.time_ - var_384_1) / var_384_2

				if arg_381_1.var_.characterEffect1019ui_story and not isNil(var_384_0) then
					arg_381_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_381_1.time_ >= var_384_1 + var_384_2 and arg_381_1.time_ < var_384_1 + var_384_2 + arg_384_0 and not isNil(var_384_0) and arg_381_1.var_.characterEffect1019ui_story then
				arg_381_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_384_4 = 0
			local var_384_5 = 0.95

			if var_384_4 < arg_381_1.time_ and arg_381_1.time_ <= var_384_4 + arg_384_0 then
				arg_381_1.talkMaxDuration = 0
				arg_381_1.dialogCg_.alpha = 1

				arg_381_1.dialog_:SetActive(true)
				SetActive(arg_381_1.leftNameGo_, true)

				local var_384_6 = arg_381_1:FormatText(StoryNameCfg[47].name)

				arg_381_1.leftNameTxt_.text = var_384_6

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_381_1.leftNameTxt_.transform)

				arg_381_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_381_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_381_1:RecordName(arg_381_1.leftNameTxt_.text)
				SetActive(arg_381_1.iconTrs_.gameObject, false)
				arg_381_1.callingController_:SetSelectedState("normal")

				local var_384_7 = arg_381_1:GetWordFromCfg(317021094)
				local var_384_8 = arg_381_1:FormatText(var_384_7.content)

				arg_381_1.text_.text = var_384_8

				LuaForUtil.ClearLinePrefixSymbol(arg_381_1.text_)

				local var_384_9 = 38
				local var_384_10 = utf8.len(var_384_8)
				local var_384_11 = var_384_9 <= 0 and var_384_5 or var_384_5 * (var_384_10 / var_384_9)

				if var_384_11 > 0 and var_384_5 < var_384_11 then
					arg_381_1.talkMaxDuration = var_384_11

					if var_384_11 + var_384_4 > arg_381_1.duration_ then
						arg_381_1.duration_ = var_384_11 + var_384_4
					end
				end

				arg_381_1.text_.text = var_384_8
				arg_381_1.typewritter.percent = 0

				arg_381_1.typewritter:SetDirty()
				arg_381_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021094", "story_v_out_317021.awb") ~= 0 then
					local var_384_12 = manager.audio:GetVoiceLength("story_v_out_317021", "317021094", "story_v_out_317021.awb") / 1000

					if var_384_12 + var_384_4 > arg_381_1.duration_ then
						arg_381_1.duration_ = var_384_12 + var_384_4
					end

					if var_384_7.prefab_name ~= "" and arg_381_1.actors_[var_384_7.prefab_name] ~= nil then
						local var_384_13 = LuaForUtil.PlayVoiceWithCriLipsync(arg_381_1.actors_[var_384_7.prefab_name].transform, "story_v_out_317021", "317021094", "story_v_out_317021.awb")

						arg_381_1:RecordAudio("317021094", var_384_13)
						arg_381_1:RecordAudio("317021094", var_384_13)
					else
						arg_381_1:AudioAction("play", "voice", "story_v_out_317021", "317021094", "story_v_out_317021.awb")
					end

					arg_381_1:RecordHistoryTalkVoice("story_v_out_317021", "317021094", "story_v_out_317021.awb")
				end

				arg_381_1:RecordContent(arg_381_1.text_.text)
			end

			local var_384_14 = math.max(var_384_5, arg_381_1.talkMaxDuration)

			if var_384_4 <= arg_381_1.time_ and arg_381_1.time_ < var_384_4 + var_384_14 then
				arg_381_1.typewritter.percent = (arg_381_1.time_ - var_384_4) / var_384_14

				arg_381_1.typewritter:SetDirty()
			end

			if arg_381_1.time_ >= var_384_4 + var_384_14 and arg_381_1.time_ < var_384_4 + var_384_14 + arg_384_0 then
				arg_381_1.typewritter.percent = 1

				arg_381_1.typewritter:SetDirty()
				arg_381_1:ShowNextGo(true)
			end
		end
	end,
	Play317021095 = function(arg_385_0, arg_385_1)
		arg_385_1.time_ = 0
		arg_385_1.frameCnt_ = 0
		arg_385_1.state_ = "playing"
		arg_385_1.curTalkId_ = 317021095
		arg_385_1.duration_ = 12.67

		local var_385_0 = {
			zh = 10.9,
			ja = 12.666
		}
		local var_385_1 = manager.audio:GetLocalizationFlag()

		if var_385_0[var_385_1] ~= nil then
			arg_385_1.duration_ = var_385_0[var_385_1]
		end

		SetActive(arg_385_1.tipsGo_, false)

		function arg_385_1.onSingleLineFinish_()
			arg_385_1.onSingleLineUpdate_ = nil
			arg_385_1.onSingleLineFinish_ = nil
			arg_385_1.state_ = "waiting"
		end

		function arg_385_1.playNext_(arg_387_0)
			if arg_387_0 == 1 then
				arg_385_0:Play317021096(arg_385_1)
			end
		end

		function arg_385_1.onSingleLineUpdate_(arg_388_0)
			local var_388_0 = 0
			local var_388_1 = 1.4

			if var_388_0 < arg_385_1.time_ and arg_385_1.time_ <= var_388_0 + arg_388_0 then
				arg_385_1.talkMaxDuration = 0
				arg_385_1.dialogCg_.alpha = 1

				arg_385_1.dialog_:SetActive(true)
				SetActive(arg_385_1.leftNameGo_, true)

				local var_388_2 = arg_385_1:FormatText(StoryNameCfg[47].name)

				arg_385_1.leftNameTxt_.text = var_388_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_385_1.leftNameTxt_.transform)

				arg_385_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_385_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_385_1:RecordName(arg_385_1.leftNameTxt_.text)
				SetActive(arg_385_1.iconTrs_.gameObject, false)
				arg_385_1.callingController_:SetSelectedState("normal")

				local var_388_3 = arg_385_1:GetWordFromCfg(317021095)
				local var_388_4 = arg_385_1:FormatText(var_388_3.content)

				arg_385_1.text_.text = var_388_4

				LuaForUtil.ClearLinePrefixSymbol(arg_385_1.text_)

				local var_388_5 = 56
				local var_388_6 = utf8.len(var_388_4)
				local var_388_7 = var_388_5 <= 0 and var_388_1 or var_388_1 * (var_388_6 / var_388_5)

				if var_388_7 > 0 and var_388_1 < var_388_7 then
					arg_385_1.talkMaxDuration = var_388_7

					if var_388_7 + var_388_0 > arg_385_1.duration_ then
						arg_385_1.duration_ = var_388_7 + var_388_0
					end
				end

				arg_385_1.text_.text = var_388_4
				arg_385_1.typewritter.percent = 0

				arg_385_1.typewritter:SetDirty()
				arg_385_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021095", "story_v_out_317021.awb") ~= 0 then
					local var_388_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021095", "story_v_out_317021.awb") / 1000

					if var_388_8 + var_388_0 > arg_385_1.duration_ then
						arg_385_1.duration_ = var_388_8 + var_388_0
					end

					if var_388_3.prefab_name ~= "" and arg_385_1.actors_[var_388_3.prefab_name] ~= nil then
						local var_388_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_385_1.actors_[var_388_3.prefab_name].transform, "story_v_out_317021", "317021095", "story_v_out_317021.awb")

						arg_385_1:RecordAudio("317021095", var_388_9)
						arg_385_1:RecordAudio("317021095", var_388_9)
					else
						arg_385_1:AudioAction("play", "voice", "story_v_out_317021", "317021095", "story_v_out_317021.awb")
					end

					arg_385_1:RecordHistoryTalkVoice("story_v_out_317021", "317021095", "story_v_out_317021.awb")
				end

				arg_385_1:RecordContent(arg_385_1.text_.text)
			end

			local var_388_10 = math.max(var_388_1, arg_385_1.talkMaxDuration)

			if var_388_0 <= arg_385_1.time_ and arg_385_1.time_ < var_388_0 + var_388_10 then
				arg_385_1.typewritter.percent = (arg_385_1.time_ - var_388_0) / var_388_10

				arg_385_1.typewritter:SetDirty()
			end

			if arg_385_1.time_ >= var_388_0 + var_388_10 and arg_385_1.time_ < var_388_0 + var_388_10 + arg_388_0 then
				arg_385_1.typewritter.percent = 1

				arg_385_1.typewritter:SetDirty()
				arg_385_1:ShowNextGo(true)
			end
		end
	end,
	Play317021096 = function(arg_389_0, arg_389_1)
		arg_389_1.time_ = 0
		arg_389_1.frameCnt_ = 0
		arg_389_1.state_ = "playing"
		arg_389_1.curTalkId_ = 317021096
		arg_389_1.duration_ = 5

		SetActive(arg_389_1.tipsGo_, false)

		function arg_389_1.onSingleLineFinish_()
			arg_389_1.onSingleLineUpdate_ = nil
			arg_389_1.onSingleLineFinish_ = nil
			arg_389_1.state_ = "waiting"
		end

		function arg_389_1.playNext_(arg_391_0)
			if arg_391_0 == 1 then
				arg_389_0:Play317021097(arg_389_1)
			end
		end

		function arg_389_1.onSingleLineUpdate_(arg_392_0)
			local var_392_0 = arg_389_1.actors_["1019ui_story"]
			local var_392_1 = 0

			if var_392_1 < arg_389_1.time_ and arg_389_1.time_ <= var_392_1 + arg_392_0 and not isNil(var_392_0) and arg_389_1.var_.characterEffect1019ui_story == nil then
				arg_389_1.var_.characterEffect1019ui_story = var_392_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_392_2 = 0.200000002980232

			if var_392_1 <= arg_389_1.time_ and arg_389_1.time_ < var_392_1 + var_392_2 and not isNil(var_392_0) then
				local var_392_3 = (arg_389_1.time_ - var_392_1) / var_392_2

				if arg_389_1.var_.characterEffect1019ui_story and not isNil(var_392_0) then
					local var_392_4 = Mathf.Lerp(0, 0.5, var_392_3)

					arg_389_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_389_1.var_.characterEffect1019ui_story.fillRatio = var_392_4
				end
			end

			if arg_389_1.time_ >= var_392_1 + var_392_2 and arg_389_1.time_ < var_392_1 + var_392_2 + arg_392_0 and not isNil(var_392_0) and arg_389_1.var_.characterEffect1019ui_story then
				local var_392_5 = 0.5

				arg_389_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_389_1.var_.characterEffect1019ui_story.fillRatio = var_392_5
			end

			local var_392_6 = 0
			local var_392_7 = 0.2

			if var_392_6 < arg_389_1.time_ and arg_389_1.time_ <= var_392_6 + arg_392_0 then
				arg_389_1.talkMaxDuration = 0
				arg_389_1.dialogCg_.alpha = 1

				arg_389_1.dialog_:SetActive(true)
				SetActive(arg_389_1.leftNameGo_, true)

				local var_392_8 = arg_389_1:FormatText(StoryNameCfg[7].name)

				arg_389_1.leftNameTxt_.text = var_392_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_389_1.leftNameTxt_.transform)

				arg_389_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_389_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_389_1:RecordName(arg_389_1.leftNameTxt_.text)
				SetActive(arg_389_1.iconTrs_.gameObject, false)
				arg_389_1.callingController_:SetSelectedState("normal")

				local var_392_9 = arg_389_1:GetWordFromCfg(317021096)
				local var_392_10 = arg_389_1:FormatText(var_392_9.content)

				arg_389_1.text_.text = var_392_10

				LuaForUtil.ClearLinePrefixSymbol(arg_389_1.text_)

				local var_392_11 = 8
				local var_392_12 = utf8.len(var_392_10)
				local var_392_13 = var_392_11 <= 0 and var_392_7 or var_392_7 * (var_392_12 / var_392_11)

				if var_392_13 > 0 and var_392_7 < var_392_13 then
					arg_389_1.talkMaxDuration = var_392_13

					if var_392_13 + var_392_6 > arg_389_1.duration_ then
						arg_389_1.duration_ = var_392_13 + var_392_6
					end
				end

				arg_389_1.text_.text = var_392_10
				arg_389_1.typewritter.percent = 0

				arg_389_1.typewritter:SetDirty()
				arg_389_1:ShowNextGo(false)
				arg_389_1:RecordContent(arg_389_1.text_.text)
			end

			local var_392_14 = math.max(var_392_7, arg_389_1.talkMaxDuration)

			if var_392_6 <= arg_389_1.time_ and arg_389_1.time_ < var_392_6 + var_392_14 then
				arg_389_1.typewritter.percent = (arg_389_1.time_ - var_392_6) / var_392_14

				arg_389_1.typewritter:SetDirty()
			end

			if arg_389_1.time_ >= var_392_6 + var_392_14 and arg_389_1.time_ < var_392_6 + var_392_14 + arg_392_0 then
				arg_389_1.typewritter.percent = 1

				arg_389_1.typewritter:SetDirty()
				arg_389_1:ShowNextGo(true)
			end
		end
	end,
	Play317021097 = function(arg_393_0, arg_393_1)
		arg_393_1.time_ = 0
		arg_393_1.frameCnt_ = 0
		arg_393_1.state_ = "playing"
		arg_393_1.curTalkId_ = 317021097
		arg_393_1.duration_ = 5

		SetActive(arg_393_1.tipsGo_, false)

		function arg_393_1.onSingleLineFinish_()
			arg_393_1.onSingleLineUpdate_ = nil
			arg_393_1.onSingleLineFinish_ = nil
			arg_393_1.state_ = "waiting"
		end

		function arg_393_1.playNext_(arg_395_0)
			if arg_395_0 == 1 then
				arg_393_0:Play317021098(arg_393_1)
			end
		end

		function arg_393_1.onSingleLineUpdate_(arg_396_0)
			local var_396_0 = 0
			local var_396_1 = 0.825

			if var_396_0 < arg_393_1.time_ and arg_393_1.time_ <= var_396_0 + arg_396_0 then
				arg_393_1.talkMaxDuration = 0
				arg_393_1.dialogCg_.alpha = 1

				arg_393_1.dialog_:SetActive(true)
				SetActive(arg_393_1.leftNameGo_, false)

				arg_393_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_393_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_393_1:RecordName(arg_393_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_393_1.iconTrs_.gameObject, false)
				arg_393_1.callingController_:SetSelectedState("normal")

				local var_396_2 = arg_393_1:GetWordFromCfg(317021097)
				local var_396_3 = arg_393_1:FormatText(var_396_2.content)

				arg_393_1.text_.text = var_396_3

				LuaForUtil.ClearLinePrefixSymbol(arg_393_1.text_)

				local var_396_4 = 33
				local var_396_5 = utf8.len(var_396_3)
				local var_396_6 = var_396_4 <= 0 and var_396_1 or var_396_1 * (var_396_5 / var_396_4)

				if var_396_6 > 0 and var_396_1 < var_396_6 then
					arg_393_1.talkMaxDuration = var_396_6

					if var_396_6 + var_396_0 > arg_393_1.duration_ then
						arg_393_1.duration_ = var_396_6 + var_396_0
					end
				end

				arg_393_1.text_.text = var_396_3
				arg_393_1.typewritter.percent = 0

				arg_393_1.typewritter:SetDirty()
				arg_393_1:ShowNextGo(false)
				arg_393_1:RecordContent(arg_393_1.text_.text)
			end

			local var_396_7 = math.max(var_396_1, arg_393_1.talkMaxDuration)

			if var_396_0 <= arg_393_1.time_ and arg_393_1.time_ < var_396_0 + var_396_7 then
				arg_393_1.typewritter.percent = (arg_393_1.time_ - var_396_0) / var_396_7

				arg_393_1.typewritter:SetDirty()
			end

			if arg_393_1.time_ >= var_396_0 + var_396_7 and arg_393_1.time_ < var_396_0 + var_396_7 + arg_396_0 then
				arg_393_1.typewritter.percent = 1

				arg_393_1.typewritter:SetDirty()
				arg_393_1:ShowNextGo(true)
			end
		end
	end,
	Play317021098 = function(arg_397_0, arg_397_1)
		arg_397_1.time_ = 0
		arg_397_1.frameCnt_ = 0
		arg_397_1.state_ = "playing"
		arg_397_1.curTalkId_ = 317021098
		arg_397_1.duration_ = 8.57

		local var_397_0 = {
			zh = 6.8,
			ja = 8.566
		}
		local var_397_1 = manager.audio:GetLocalizationFlag()

		if var_397_0[var_397_1] ~= nil then
			arg_397_1.duration_ = var_397_0[var_397_1]
		end

		SetActive(arg_397_1.tipsGo_, false)

		function arg_397_1.onSingleLineFinish_()
			arg_397_1.onSingleLineUpdate_ = nil
			arg_397_1.onSingleLineFinish_ = nil
			arg_397_1.state_ = "waiting"
		end

		function arg_397_1.playNext_(arg_399_0)
			if arg_399_0 == 1 then
				arg_397_0:Play317021099(arg_397_1)
			end
		end

		function arg_397_1.onSingleLineUpdate_(arg_400_0)
			local var_400_0 = arg_397_1.actors_["1019ui_story"].transform
			local var_400_1 = 0

			if var_400_1 < arg_397_1.time_ and arg_397_1.time_ <= var_400_1 + arg_400_0 then
				arg_397_1.var_.moveOldPos1019ui_story = var_400_0.localPosition
			end

			local var_400_2 = 0.001

			if var_400_1 <= arg_397_1.time_ and arg_397_1.time_ < var_400_1 + var_400_2 then
				local var_400_3 = (arg_397_1.time_ - var_400_1) / var_400_2
				local var_400_4 = Vector3.New(-0.2, -1.08, -5.9)

				var_400_0.localPosition = Vector3.Lerp(arg_397_1.var_.moveOldPos1019ui_story, var_400_4, var_400_3)

				local var_400_5 = manager.ui.mainCamera.transform.position - var_400_0.position

				var_400_0.forward = Vector3.New(var_400_5.x, var_400_5.y, var_400_5.z)

				local var_400_6 = var_400_0.localEulerAngles

				var_400_6.z = 0
				var_400_6.x = 0
				var_400_0.localEulerAngles = var_400_6
			end

			if arg_397_1.time_ >= var_400_1 + var_400_2 and arg_397_1.time_ < var_400_1 + var_400_2 + arg_400_0 then
				var_400_0.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_400_7 = manager.ui.mainCamera.transform.position - var_400_0.position

				var_400_0.forward = Vector3.New(var_400_7.x, var_400_7.y, var_400_7.z)

				local var_400_8 = var_400_0.localEulerAngles

				var_400_8.z = 0
				var_400_8.x = 0
				var_400_0.localEulerAngles = var_400_8
			end

			local var_400_9 = arg_397_1.actors_["1019ui_story"]
			local var_400_10 = 0

			if var_400_10 < arg_397_1.time_ and arg_397_1.time_ <= var_400_10 + arg_400_0 and not isNil(var_400_9) and arg_397_1.var_.characterEffect1019ui_story == nil then
				arg_397_1.var_.characterEffect1019ui_story = var_400_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_400_11 = 0.200000002980232

			if var_400_10 <= arg_397_1.time_ and arg_397_1.time_ < var_400_10 + var_400_11 and not isNil(var_400_9) then
				local var_400_12 = (arg_397_1.time_ - var_400_10) / var_400_11

				if arg_397_1.var_.characterEffect1019ui_story and not isNil(var_400_9) then
					arg_397_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_397_1.time_ >= var_400_10 + var_400_11 and arg_397_1.time_ < var_400_10 + var_400_11 + arg_400_0 and not isNil(var_400_9) and arg_397_1.var_.characterEffect1019ui_story then
				arg_397_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_400_13 = 0

			if var_400_13 < arg_397_1.time_ and arg_397_1.time_ <= var_400_13 + arg_400_0 then
				arg_397_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_400_14 = 0

			if var_400_14 < arg_397_1.time_ and arg_397_1.time_ <= var_400_14 + arg_400_0 then
				arg_397_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_400_15 = 0
			local var_400_16 = 0.825

			if var_400_15 < arg_397_1.time_ and arg_397_1.time_ <= var_400_15 + arg_400_0 then
				arg_397_1.talkMaxDuration = 0
				arg_397_1.dialogCg_.alpha = 1

				arg_397_1.dialog_:SetActive(true)
				SetActive(arg_397_1.leftNameGo_, true)

				local var_400_17 = arg_397_1:FormatText(StoryNameCfg[47].name)

				arg_397_1.leftNameTxt_.text = var_400_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_397_1.leftNameTxt_.transform)

				arg_397_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_397_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_397_1:RecordName(arg_397_1.leftNameTxt_.text)
				SetActive(arg_397_1.iconTrs_.gameObject, false)
				arg_397_1.callingController_:SetSelectedState("normal")

				local var_400_18 = arg_397_1:GetWordFromCfg(317021098)
				local var_400_19 = arg_397_1:FormatText(var_400_18.content)

				arg_397_1.text_.text = var_400_19

				LuaForUtil.ClearLinePrefixSymbol(arg_397_1.text_)

				local var_400_20 = 33
				local var_400_21 = utf8.len(var_400_19)
				local var_400_22 = var_400_20 <= 0 and var_400_16 or var_400_16 * (var_400_21 / var_400_20)

				if var_400_22 > 0 and var_400_16 < var_400_22 then
					arg_397_1.talkMaxDuration = var_400_22

					if var_400_22 + var_400_15 > arg_397_1.duration_ then
						arg_397_1.duration_ = var_400_22 + var_400_15
					end
				end

				arg_397_1.text_.text = var_400_19
				arg_397_1.typewritter.percent = 0

				arg_397_1.typewritter:SetDirty()
				arg_397_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021098", "story_v_out_317021.awb") ~= 0 then
					local var_400_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021098", "story_v_out_317021.awb") / 1000

					if var_400_23 + var_400_15 > arg_397_1.duration_ then
						arg_397_1.duration_ = var_400_23 + var_400_15
					end

					if var_400_18.prefab_name ~= "" and arg_397_1.actors_[var_400_18.prefab_name] ~= nil then
						local var_400_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_397_1.actors_[var_400_18.prefab_name].transform, "story_v_out_317021", "317021098", "story_v_out_317021.awb")

						arg_397_1:RecordAudio("317021098", var_400_24)
						arg_397_1:RecordAudio("317021098", var_400_24)
					else
						arg_397_1:AudioAction("play", "voice", "story_v_out_317021", "317021098", "story_v_out_317021.awb")
					end

					arg_397_1:RecordHistoryTalkVoice("story_v_out_317021", "317021098", "story_v_out_317021.awb")
				end

				arg_397_1:RecordContent(arg_397_1.text_.text)
			end

			local var_400_25 = math.max(var_400_16, arg_397_1.talkMaxDuration)

			if var_400_15 <= arg_397_1.time_ and arg_397_1.time_ < var_400_15 + var_400_25 then
				arg_397_1.typewritter.percent = (arg_397_1.time_ - var_400_15) / var_400_25

				arg_397_1.typewritter:SetDirty()
			end

			if arg_397_1.time_ >= var_400_15 + var_400_25 and arg_397_1.time_ < var_400_15 + var_400_25 + arg_400_0 then
				arg_397_1.typewritter.percent = 1

				arg_397_1.typewritter:SetDirty()
				arg_397_1:ShowNextGo(true)
			end
		end
	end,
	Play317021099 = function(arg_401_0, arg_401_1)
		arg_401_1.time_ = 0
		arg_401_1.frameCnt_ = 0
		arg_401_1.state_ = "playing"
		arg_401_1.curTalkId_ = 317021099
		arg_401_1.duration_ = 3.87

		local var_401_0 = {
			zh = 3.866,
			ja = 2.433
		}
		local var_401_1 = manager.audio:GetLocalizationFlag()

		if var_401_0[var_401_1] ~= nil then
			arg_401_1.duration_ = var_401_0[var_401_1]
		end

		SetActive(arg_401_1.tipsGo_, false)

		function arg_401_1.onSingleLineFinish_()
			arg_401_1.onSingleLineUpdate_ = nil
			arg_401_1.onSingleLineFinish_ = nil
			arg_401_1.state_ = "waiting"
		end

		function arg_401_1.playNext_(arg_403_0)
			if arg_403_0 == 1 then
				arg_401_0:Play317021100(arg_401_1)
			end
		end

		function arg_401_1.onSingleLineUpdate_(arg_404_0)
			local var_404_0 = arg_401_1.actors_["1019ui_story"].transform
			local var_404_1 = 0

			if var_404_1 < arg_401_1.time_ and arg_401_1.time_ <= var_404_1 + arg_404_0 then
				arg_401_1.var_.moveOldPos1019ui_story = var_404_0.localPosition
			end

			local var_404_2 = 0.001

			if var_404_1 <= arg_401_1.time_ and arg_401_1.time_ < var_404_1 + var_404_2 then
				local var_404_3 = (arg_401_1.time_ - var_404_1) / var_404_2
				local var_404_4 = Vector3.New(0, 100, 0)

				var_404_0.localPosition = Vector3.Lerp(arg_401_1.var_.moveOldPos1019ui_story, var_404_4, var_404_3)

				local var_404_5 = manager.ui.mainCamera.transform.position - var_404_0.position

				var_404_0.forward = Vector3.New(var_404_5.x, var_404_5.y, var_404_5.z)

				local var_404_6 = var_404_0.localEulerAngles

				var_404_6.z = 0
				var_404_6.x = 0
				var_404_0.localEulerAngles = var_404_6
			end

			if arg_401_1.time_ >= var_404_1 + var_404_2 and arg_401_1.time_ < var_404_1 + var_404_2 + arg_404_0 then
				var_404_0.localPosition = Vector3.New(0, 100, 0)

				local var_404_7 = manager.ui.mainCamera.transform.position - var_404_0.position

				var_404_0.forward = Vector3.New(var_404_7.x, var_404_7.y, var_404_7.z)

				local var_404_8 = var_404_0.localEulerAngles

				var_404_8.z = 0
				var_404_8.x = 0
				var_404_0.localEulerAngles = var_404_8
			end

			local var_404_9 = arg_401_1.actors_["1019ui_story"]
			local var_404_10 = 0

			if var_404_10 < arg_401_1.time_ and arg_401_1.time_ <= var_404_10 + arg_404_0 and not isNil(var_404_9) and arg_401_1.var_.characterEffect1019ui_story == nil then
				arg_401_1.var_.characterEffect1019ui_story = var_404_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_404_11 = 0.200000002980232

			if var_404_10 <= arg_401_1.time_ and arg_401_1.time_ < var_404_10 + var_404_11 and not isNil(var_404_9) then
				local var_404_12 = (arg_401_1.time_ - var_404_10) / var_404_11

				if arg_401_1.var_.characterEffect1019ui_story and not isNil(var_404_9) then
					local var_404_13 = Mathf.Lerp(0, 0.5, var_404_12)

					arg_401_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_401_1.var_.characterEffect1019ui_story.fillRatio = var_404_13
				end
			end

			if arg_401_1.time_ >= var_404_10 + var_404_11 and arg_401_1.time_ < var_404_10 + var_404_11 + arg_404_0 and not isNil(var_404_9) and arg_401_1.var_.characterEffect1019ui_story then
				local var_404_14 = 0.5

				arg_401_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_401_1.var_.characterEffect1019ui_story.fillRatio = var_404_14
			end

			local var_404_15 = arg_401_1.actors_["1050ui_story"].transform
			local var_404_16 = 0

			if var_404_16 < arg_401_1.time_ and arg_401_1.time_ <= var_404_16 + arg_404_0 then
				arg_401_1.var_.moveOldPos1050ui_story = var_404_15.localPosition
			end

			local var_404_17 = 0.001

			if var_404_16 <= arg_401_1.time_ and arg_401_1.time_ < var_404_16 + var_404_17 then
				local var_404_18 = (arg_401_1.time_ - var_404_16) / var_404_17
				local var_404_19 = Vector3.New(0, -1, -6.1)

				var_404_15.localPosition = Vector3.Lerp(arg_401_1.var_.moveOldPos1050ui_story, var_404_19, var_404_18)

				local var_404_20 = manager.ui.mainCamera.transform.position - var_404_15.position

				var_404_15.forward = Vector3.New(var_404_20.x, var_404_20.y, var_404_20.z)

				local var_404_21 = var_404_15.localEulerAngles

				var_404_21.z = 0
				var_404_21.x = 0
				var_404_15.localEulerAngles = var_404_21
			end

			if arg_401_1.time_ >= var_404_16 + var_404_17 and arg_401_1.time_ < var_404_16 + var_404_17 + arg_404_0 then
				var_404_15.localPosition = Vector3.New(0, -1, -6.1)

				local var_404_22 = manager.ui.mainCamera.transform.position - var_404_15.position

				var_404_15.forward = Vector3.New(var_404_22.x, var_404_22.y, var_404_22.z)

				local var_404_23 = var_404_15.localEulerAngles

				var_404_23.z = 0
				var_404_23.x = 0
				var_404_15.localEulerAngles = var_404_23
			end

			local var_404_24 = arg_401_1.actors_["1050ui_story"]
			local var_404_25 = 0

			if var_404_25 < arg_401_1.time_ and arg_401_1.time_ <= var_404_25 + arg_404_0 and not isNil(var_404_24) and arg_401_1.var_.characterEffect1050ui_story == nil then
				arg_401_1.var_.characterEffect1050ui_story = var_404_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_404_26 = 0.200000002980232

			if var_404_25 <= arg_401_1.time_ and arg_401_1.time_ < var_404_25 + var_404_26 and not isNil(var_404_24) then
				local var_404_27 = (arg_401_1.time_ - var_404_25) / var_404_26

				if arg_401_1.var_.characterEffect1050ui_story and not isNil(var_404_24) then
					arg_401_1.var_.characterEffect1050ui_story.fillFlat = false
				end
			end

			if arg_401_1.time_ >= var_404_25 + var_404_26 and arg_401_1.time_ < var_404_25 + var_404_26 + arg_404_0 and not isNil(var_404_24) and arg_401_1.var_.characterEffect1050ui_story then
				arg_401_1.var_.characterEffect1050ui_story.fillFlat = false
			end

			local var_404_28 = 0

			if var_404_28 < arg_401_1.time_ and arg_401_1.time_ <= var_404_28 + arg_404_0 then
				arg_401_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/1050/1050action/1050action1_1")
			end

			local var_404_29 = 0

			if var_404_29 < arg_401_1.time_ and arg_401_1.time_ <= var_404_29 + arg_404_0 then
				arg_401_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_404_30 = 0
			local var_404_31 = 0.325

			if var_404_30 < arg_401_1.time_ and arg_401_1.time_ <= var_404_30 + arg_404_0 then
				arg_401_1.talkMaxDuration = 0
				arg_401_1.dialogCg_.alpha = 1

				arg_401_1.dialog_:SetActive(true)
				SetActive(arg_401_1.leftNameGo_, true)

				local var_404_32 = arg_401_1:FormatText(StoryNameCfg[74].name)

				arg_401_1.leftNameTxt_.text = var_404_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_401_1.leftNameTxt_.transform)

				arg_401_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_401_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_401_1:RecordName(arg_401_1.leftNameTxt_.text)
				SetActive(arg_401_1.iconTrs_.gameObject, false)
				arg_401_1.callingController_:SetSelectedState("normal")

				local var_404_33 = arg_401_1:GetWordFromCfg(317021099)
				local var_404_34 = arg_401_1:FormatText(var_404_33.content)

				arg_401_1.text_.text = var_404_34

				LuaForUtil.ClearLinePrefixSymbol(arg_401_1.text_)

				local var_404_35 = 13
				local var_404_36 = utf8.len(var_404_34)
				local var_404_37 = var_404_35 <= 0 and var_404_31 or var_404_31 * (var_404_36 / var_404_35)

				if var_404_37 > 0 and var_404_31 < var_404_37 then
					arg_401_1.talkMaxDuration = var_404_37

					if var_404_37 + var_404_30 > arg_401_1.duration_ then
						arg_401_1.duration_ = var_404_37 + var_404_30
					end
				end

				arg_401_1.text_.text = var_404_34
				arg_401_1.typewritter.percent = 0

				arg_401_1.typewritter:SetDirty()
				arg_401_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021099", "story_v_out_317021.awb") ~= 0 then
					local var_404_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021099", "story_v_out_317021.awb") / 1000

					if var_404_38 + var_404_30 > arg_401_1.duration_ then
						arg_401_1.duration_ = var_404_38 + var_404_30
					end

					if var_404_33.prefab_name ~= "" and arg_401_1.actors_[var_404_33.prefab_name] ~= nil then
						local var_404_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_401_1.actors_[var_404_33.prefab_name].transform, "story_v_out_317021", "317021099", "story_v_out_317021.awb")

						arg_401_1:RecordAudio("317021099", var_404_39)
						arg_401_1:RecordAudio("317021099", var_404_39)
					else
						arg_401_1:AudioAction("play", "voice", "story_v_out_317021", "317021099", "story_v_out_317021.awb")
					end

					arg_401_1:RecordHistoryTalkVoice("story_v_out_317021", "317021099", "story_v_out_317021.awb")
				end

				arg_401_1:RecordContent(arg_401_1.text_.text)
			end

			local var_404_40 = math.max(var_404_31, arg_401_1.talkMaxDuration)

			if var_404_30 <= arg_401_1.time_ and arg_401_1.time_ < var_404_30 + var_404_40 then
				arg_401_1.typewritter.percent = (arg_401_1.time_ - var_404_30) / var_404_40

				arg_401_1.typewritter:SetDirty()
			end

			if arg_401_1.time_ >= var_404_30 + var_404_40 and arg_401_1.time_ < var_404_30 + var_404_40 + arg_404_0 then
				arg_401_1.typewritter.percent = 1

				arg_401_1.typewritter:SetDirty()
				arg_401_1:ShowNextGo(true)
			end
		end
	end,
	Play317021100 = function(arg_405_0, arg_405_1)
		arg_405_1.time_ = 0
		arg_405_1.frameCnt_ = 0
		arg_405_1.state_ = "playing"
		arg_405_1.curTalkId_ = 317021100
		arg_405_1.duration_ = 3

		local var_405_0 = {
			zh = 3,
			ja = 2.666
		}
		local var_405_1 = manager.audio:GetLocalizationFlag()

		if var_405_0[var_405_1] ~= nil then
			arg_405_1.duration_ = var_405_0[var_405_1]
		end

		SetActive(arg_405_1.tipsGo_, false)

		function arg_405_1.onSingleLineFinish_()
			arg_405_1.onSingleLineUpdate_ = nil
			arg_405_1.onSingleLineFinish_ = nil
			arg_405_1.state_ = "waiting"
		end

		function arg_405_1.playNext_(arg_407_0)
			if arg_407_0 == 1 then
				arg_405_0:Play317021101(arg_405_1)
			end
		end

		function arg_405_1.onSingleLineUpdate_(arg_408_0)
			local var_408_0 = arg_405_1.actors_["1019ui_story"].transform
			local var_408_1 = 0

			if var_408_1 < arg_405_1.time_ and arg_405_1.time_ <= var_408_1 + arg_408_0 then
				arg_405_1.var_.moveOldPos1019ui_story = var_408_0.localPosition
			end

			local var_408_2 = 0.001

			if var_408_1 <= arg_405_1.time_ and arg_405_1.time_ < var_408_1 + var_408_2 then
				local var_408_3 = (arg_405_1.time_ - var_408_1) / var_408_2
				local var_408_4 = Vector3.New(-0.2, -1.08, -5.9)

				var_408_0.localPosition = Vector3.Lerp(arg_405_1.var_.moveOldPos1019ui_story, var_408_4, var_408_3)

				local var_408_5 = manager.ui.mainCamera.transform.position - var_408_0.position

				var_408_0.forward = Vector3.New(var_408_5.x, var_408_5.y, var_408_5.z)

				local var_408_6 = var_408_0.localEulerAngles

				var_408_6.z = 0
				var_408_6.x = 0
				var_408_0.localEulerAngles = var_408_6
			end

			if arg_405_1.time_ >= var_408_1 + var_408_2 and arg_405_1.time_ < var_408_1 + var_408_2 + arg_408_0 then
				var_408_0.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_408_7 = manager.ui.mainCamera.transform.position - var_408_0.position

				var_408_0.forward = Vector3.New(var_408_7.x, var_408_7.y, var_408_7.z)

				local var_408_8 = var_408_0.localEulerAngles

				var_408_8.z = 0
				var_408_8.x = 0
				var_408_0.localEulerAngles = var_408_8
			end

			local var_408_9 = arg_405_1.actors_["1019ui_story"]
			local var_408_10 = 0

			if var_408_10 < arg_405_1.time_ and arg_405_1.time_ <= var_408_10 + arg_408_0 and not isNil(var_408_9) and arg_405_1.var_.characterEffect1019ui_story == nil then
				arg_405_1.var_.characterEffect1019ui_story = var_408_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_408_11 = 0.200000002980232

			if var_408_10 <= arg_405_1.time_ and arg_405_1.time_ < var_408_10 + var_408_11 and not isNil(var_408_9) then
				local var_408_12 = (arg_405_1.time_ - var_408_10) / var_408_11

				if arg_405_1.var_.characterEffect1019ui_story and not isNil(var_408_9) then
					arg_405_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_405_1.time_ >= var_408_10 + var_408_11 and arg_405_1.time_ < var_408_10 + var_408_11 + arg_408_0 and not isNil(var_408_9) and arg_405_1.var_.characterEffect1019ui_story then
				arg_405_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_408_13 = 0

			if var_408_13 < arg_405_1.time_ and arg_405_1.time_ <= var_408_13 + arg_408_0 then
				arg_405_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action6_1")
			end

			local var_408_14 = 0

			if var_408_14 < arg_405_1.time_ and arg_405_1.time_ <= var_408_14 + arg_408_0 then
				arg_405_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_408_15 = arg_405_1.actors_["1050ui_story"].transform
			local var_408_16 = 0

			if var_408_16 < arg_405_1.time_ and arg_405_1.time_ <= var_408_16 + arg_408_0 then
				arg_405_1.var_.moveOldPos1050ui_story = var_408_15.localPosition
			end

			local var_408_17 = 0.001

			if var_408_16 <= arg_405_1.time_ and arg_405_1.time_ < var_408_16 + var_408_17 then
				local var_408_18 = (arg_405_1.time_ - var_408_16) / var_408_17
				local var_408_19 = Vector3.New(0, 100, 0)

				var_408_15.localPosition = Vector3.Lerp(arg_405_1.var_.moveOldPos1050ui_story, var_408_19, var_408_18)

				local var_408_20 = manager.ui.mainCamera.transform.position - var_408_15.position

				var_408_15.forward = Vector3.New(var_408_20.x, var_408_20.y, var_408_20.z)

				local var_408_21 = var_408_15.localEulerAngles

				var_408_21.z = 0
				var_408_21.x = 0
				var_408_15.localEulerAngles = var_408_21
			end

			if arg_405_1.time_ >= var_408_16 + var_408_17 and arg_405_1.time_ < var_408_16 + var_408_17 + arg_408_0 then
				var_408_15.localPosition = Vector3.New(0, 100, 0)

				local var_408_22 = manager.ui.mainCamera.transform.position - var_408_15.position

				var_408_15.forward = Vector3.New(var_408_22.x, var_408_22.y, var_408_22.z)

				local var_408_23 = var_408_15.localEulerAngles

				var_408_23.z = 0
				var_408_23.x = 0
				var_408_15.localEulerAngles = var_408_23
			end

			local var_408_24 = arg_405_1.actors_["1050ui_story"]
			local var_408_25 = 0

			if var_408_25 < arg_405_1.time_ and arg_405_1.time_ <= var_408_25 + arg_408_0 and not isNil(var_408_24) and arg_405_1.var_.characterEffect1050ui_story == nil then
				arg_405_1.var_.characterEffect1050ui_story = var_408_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_408_26 = 0.200000002980232

			if var_408_25 <= arg_405_1.time_ and arg_405_1.time_ < var_408_25 + var_408_26 and not isNil(var_408_24) then
				local var_408_27 = (arg_405_1.time_ - var_408_25) / var_408_26

				if arg_405_1.var_.characterEffect1050ui_story and not isNil(var_408_24) then
					local var_408_28 = Mathf.Lerp(0, 0.5, var_408_27)

					arg_405_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_405_1.var_.characterEffect1050ui_story.fillRatio = var_408_28
				end
			end

			if arg_405_1.time_ >= var_408_25 + var_408_26 and arg_405_1.time_ < var_408_25 + var_408_26 + arg_408_0 and not isNil(var_408_24) and arg_405_1.var_.characterEffect1050ui_story then
				local var_408_29 = 0.5

				arg_405_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_405_1.var_.characterEffect1050ui_story.fillRatio = var_408_29
			end

			local var_408_30 = 0
			local var_408_31 = 0.325

			if var_408_30 < arg_405_1.time_ and arg_405_1.time_ <= var_408_30 + arg_408_0 then
				arg_405_1.talkMaxDuration = 0
				arg_405_1.dialogCg_.alpha = 1

				arg_405_1.dialog_:SetActive(true)
				SetActive(arg_405_1.leftNameGo_, true)

				local var_408_32 = arg_405_1:FormatText(StoryNameCfg[47].name)

				arg_405_1.leftNameTxt_.text = var_408_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_405_1.leftNameTxt_.transform)

				arg_405_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_405_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_405_1:RecordName(arg_405_1.leftNameTxt_.text)
				SetActive(arg_405_1.iconTrs_.gameObject, false)
				arg_405_1.callingController_:SetSelectedState("normal")

				local var_408_33 = arg_405_1:GetWordFromCfg(317021100)
				local var_408_34 = arg_405_1:FormatText(var_408_33.content)

				arg_405_1.text_.text = var_408_34

				LuaForUtil.ClearLinePrefixSymbol(arg_405_1.text_)

				local var_408_35 = 13
				local var_408_36 = utf8.len(var_408_34)
				local var_408_37 = var_408_35 <= 0 and var_408_31 or var_408_31 * (var_408_36 / var_408_35)

				if var_408_37 > 0 and var_408_31 < var_408_37 then
					arg_405_1.talkMaxDuration = var_408_37

					if var_408_37 + var_408_30 > arg_405_1.duration_ then
						arg_405_1.duration_ = var_408_37 + var_408_30
					end
				end

				arg_405_1.text_.text = var_408_34
				arg_405_1.typewritter.percent = 0

				arg_405_1.typewritter:SetDirty()
				arg_405_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021100", "story_v_out_317021.awb") ~= 0 then
					local var_408_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021100", "story_v_out_317021.awb") / 1000

					if var_408_38 + var_408_30 > arg_405_1.duration_ then
						arg_405_1.duration_ = var_408_38 + var_408_30
					end

					if var_408_33.prefab_name ~= "" and arg_405_1.actors_[var_408_33.prefab_name] ~= nil then
						local var_408_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_405_1.actors_[var_408_33.prefab_name].transform, "story_v_out_317021", "317021100", "story_v_out_317021.awb")

						arg_405_1:RecordAudio("317021100", var_408_39)
						arg_405_1:RecordAudio("317021100", var_408_39)
					else
						arg_405_1:AudioAction("play", "voice", "story_v_out_317021", "317021100", "story_v_out_317021.awb")
					end

					arg_405_1:RecordHistoryTalkVoice("story_v_out_317021", "317021100", "story_v_out_317021.awb")
				end

				arg_405_1:RecordContent(arg_405_1.text_.text)
			end

			local var_408_40 = math.max(var_408_31, arg_405_1.talkMaxDuration)

			if var_408_30 <= arg_405_1.time_ and arg_405_1.time_ < var_408_30 + var_408_40 then
				arg_405_1.typewritter.percent = (arg_405_1.time_ - var_408_30) / var_408_40

				arg_405_1.typewritter:SetDirty()
			end

			if arg_405_1.time_ >= var_408_30 + var_408_40 and arg_405_1.time_ < var_408_30 + var_408_40 + arg_408_0 then
				arg_405_1.typewritter.percent = 1

				arg_405_1.typewritter:SetDirty()
				arg_405_1:ShowNextGo(true)
			end
		end
	end,
	Play317021101 = function(arg_409_0, arg_409_1)
		arg_409_1.time_ = 0
		arg_409_1.frameCnt_ = 0
		arg_409_1.state_ = "playing"
		arg_409_1.curTalkId_ = 317021101
		arg_409_1.duration_ = 2.27

		local var_409_0 = {
			zh = 2.266,
			ja = 1.999999999999
		}
		local var_409_1 = manager.audio:GetLocalizationFlag()

		if var_409_0[var_409_1] ~= nil then
			arg_409_1.duration_ = var_409_0[var_409_1]
		end

		SetActive(arg_409_1.tipsGo_, false)

		function arg_409_1.onSingleLineFinish_()
			arg_409_1.onSingleLineUpdate_ = nil
			arg_409_1.onSingleLineFinish_ = nil
			arg_409_1.state_ = "waiting"
		end

		function arg_409_1.playNext_(arg_411_0)
			if arg_411_0 == 1 then
				arg_409_0:Play317021102(arg_409_1)
			end
		end

		function arg_409_1.onSingleLineUpdate_(arg_412_0)
			local var_412_0 = arg_409_1.actors_["1019ui_story"].transform
			local var_412_1 = 0

			if var_412_1 < arg_409_1.time_ and arg_409_1.time_ <= var_412_1 + arg_412_0 then
				arg_409_1.var_.moveOldPos1019ui_story = var_412_0.localPosition
			end

			local var_412_2 = 0.001

			if var_412_1 <= arg_409_1.time_ and arg_409_1.time_ < var_412_1 + var_412_2 then
				local var_412_3 = (arg_409_1.time_ - var_412_1) / var_412_2
				local var_412_4 = Vector3.New(0, 100, 0)

				var_412_0.localPosition = Vector3.Lerp(arg_409_1.var_.moveOldPos1019ui_story, var_412_4, var_412_3)

				local var_412_5 = manager.ui.mainCamera.transform.position - var_412_0.position

				var_412_0.forward = Vector3.New(var_412_5.x, var_412_5.y, var_412_5.z)

				local var_412_6 = var_412_0.localEulerAngles

				var_412_6.z = 0
				var_412_6.x = 0
				var_412_0.localEulerAngles = var_412_6
			end

			if arg_409_1.time_ >= var_412_1 + var_412_2 and arg_409_1.time_ < var_412_1 + var_412_2 + arg_412_0 then
				var_412_0.localPosition = Vector3.New(0, 100, 0)

				local var_412_7 = manager.ui.mainCamera.transform.position - var_412_0.position

				var_412_0.forward = Vector3.New(var_412_7.x, var_412_7.y, var_412_7.z)

				local var_412_8 = var_412_0.localEulerAngles

				var_412_8.z = 0
				var_412_8.x = 0
				var_412_0.localEulerAngles = var_412_8
			end

			local var_412_9 = arg_409_1.actors_["1019ui_story"]
			local var_412_10 = 0

			if var_412_10 < arg_409_1.time_ and arg_409_1.time_ <= var_412_10 + arg_412_0 and not isNil(var_412_9) and arg_409_1.var_.characterEffect1019ui_story == nil then
				arg_409_1.var_.characterEffect1019ui_story = var_412_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_412_11 = 0.200000002980232

			if var_412_10 <= arg_409_1.time_ and arg_409_1.time_ < var_412_10 + var_412_11 and not isNil(var_412_9) then
				local var_412_12 = (arg_409_1.time_ - var_412_10) / var_412_11

				if arg_409_1.var_.characterEffect1019ui_story and not isNil(var_412_9) then
					local var_412_13 = Mathf.Lerp(0, 0.5, var_412_12)

					arg_409_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_409_1.var_.characterEffect1019ui_story.fillRatio = var_412_13
				end
			end

			if arg_409_1.time_ >= var_412_10 + var_412_11 and arg_409_1.time_ < var_412_10 + var_412_11 + arg_412_0 and not isNil(var_412_9) and arg_409_1.var_.characterEffect1019ui_story then
				local var_412_14 = 0.5

				arg_409_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_409_1.var_.characterEffect1019ui_story.fillRatio = var_412_14
			end

			local var_412_15 = arg_409_1.actors_["1050ui_story"].transform
			local var_412_16 = 0

			if var_412_16 < arg_409_1.time_ and arg_409_1.time_ <= var_412_16 + arg_412_0 then
				arg_409_1.var_.moveOldPos1050ui_story = var_412_15.localPosition
			end

			local var_412_17 = 0.001

			if var_412_16 <= arg_409_1.time_ and arg_409_1.time_ < var_412_16 + var_412_17 then
				local var_412_18 = (arg_409_1.time_ - var_412_16) / var_412_17
				local var_412_19 = Vector3.New(0, -1, -6.1)

				var_412_15.localPosition = Vector3.Lerp(arg_409_1.var_.moveOldPos1050ui_story, var_412_19, var_412_18)

				local var_412_20 = manager.ui.mainCamera.transform.position - var_412_15.position

				var_412_15.forward = Vector3.New(var_412_20.x, var_412_20.y, var_412_20.z)

				local var_412_21 = var_412_15.localEulerAngles

				var_412_21.z = 0
				var_412_21.x = 0
				var_412_15.localEulerAngles = var_412_21
			end

			if arg_409_1.time_ >= var_412_16 + var_412_17 and arg_409_1.time_ < var_412_16 + var_412_17 + arg_412_0 then
				var_412_15.localPosition = Vector3.New(0, -1, -6.1)

				local var_412_22 = manager.ui.mainCamera.transform.position - var_412_15.position

				var_412_15.forward = Vector3.New(var_412_22.x, var_412_22.y, var_412_22.z)

				local var_412_23 = var_412_15.localEulerAngles

				var_412_23.z = 0
				var_412_23.x = 0
				var_412_15.localEulerAngles = var_412_23
			end

			local var_412_24 = arg_409_1.actors_["1050ui_story"]
			local var_412_25 = 0

			if var_412_25 < arg_409_1.time_ and arg_409_1.time_ <= var_412_25 + arg_412_0 and not isNil(var_412_24) and arg_409_1.var_.characterEffect1050ui_story == nil then
				arg_409_1.var_.characterEffect1050ui_story = var_412_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_412_26 = 0.200000002980232

			if var_412_25 <= arg_409_1.time_ and arg_409_1.time_ < var_412_25 + var_412_26 and not isNil(var_412_24) then
				local var_412_27 = (arg_409_1.time_ - var_412_25) / var_412_26

				if arg_409_1.var_.characterEffect1050ui_story and not isNil(var_412_24) then
					arg_409_1.var_.characterEffect1050ui_story.fillFlat = false
				end
			end

			if arg_409_1.time_ >= var_412_25 + var_412_26 and arg_409_1.time_ < var_412_25 + var_412_26 + arg_412_0 and not isNil(var_412_24) and arg_409_1.var_.characterEffect1050ui_story then
				arg_409_1.var_.characterEffect1050ui_story.fillFlat = false
			end

			local var_412_28 = 0

			if var_412_28 < arg_409_1.time_ and arg_409_1.time_ <= var_412_28 + arg_412_0 then
				arg_409_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/1050/1050action/1050action3_1")
			end

			local var_412_29 = 0

			if var_412_29 < arg_409_1.time_ and arg_409_1.time_ <= var_412_29 + arg_412_0 then
				arg_409_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface3201cva")
			end

			local var_412_30 = 0
			local var_412_31 = 0.05

			if var_412_30 < arg_409_1.time_ and arg_409_1.time_ <= var_412_30 + arg_412_0 then
				arg_409_1.talkMaxDuration = 0
				arg_409_1.dialogCg_.alpha = 1

				arg_409_1.dialog_:SetActive(true)
				SetActive(arg_409_1.leftNameGo_, true)

				local var_412_32 = arg_409_1:FormatText(StoryNameCfg[74].name)

				arg_409_1.leftNameTxt_.text = var_412_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_409_1.leftNameTxt_.transform)

				arg_409_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_409_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_409_1:RecordName(arg_409_1.leftNameTxt_.text)
				SetActive(arg_409_1.iconTrs_.gameObject, false)
				arg_409_1.callingController_:SetSelectedState("normal")

				local var_412_33 = arg_409_1:GetWordFromCfg(317021101)
				local var_412_34 = arg_409_1:FormatText(var_412_33.content)

				arg_409_1.text_.text = var_412_34

				LuaForUtil.ClearLinePrefixSymbol(arg_409_1.text_)

				local var_412_35 = 2
				local var_412_36 = utf8.len(var_412_34)
				local var_412_37 = var_412_35 <= 0 and var_412_31 or var_412_31 * (var_412_36 / var_412_35)

				if var_412_37 > 0 and var_412_31 < var_412_37 then
					arg_409_1.talkMaxDuration = var_412_37

					if var_412_37 + var_412_30 > arg_409_1.duration_ then
						arg_409_1.duration_ = var_412_37 + var_412_30
					end
				end

				arg_409_1.text_.text = var_412_34
				arg_409_1.typewritter.percent = 0

				arg_409_1.typewritter:SetDirty()
				arg_409_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021101", "story_v_out_317021.awb") ~= 0 then
					local var_412_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021101", "story_v_out_317021.awb") / 1000

					if var_412_38 + var_412_30 > arg_409_1.duration_ then
						arg_409_1.duration_ = var_412_38 + var_412_30
					end

					if var_412_33.prefab_name ~= "" and arg_409_1.actors_[var_412_33.prefab_name] ~= nil then
						local var_412_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_409_1.actors_[var_412_33.prefab_name].transform, "story_v_out_317021", "317021101", "story_v_out_317021.awb")

						arg_409_1:RecordAudio("317021101", var_412_39)
						arg_409_1:RecordAudio("317021101", var_412_39)
					else
						arg_409_1:AudioAction("play", "voice", "story_v_out_317021", "317021101", "story_v_out_317021.awb")
					end

					arg_409_1:RecordHistoryTalkVoice("story_v_out_317021", "317021101", "story_v_out_317021.awb")
				end

				arg_409_1:RecordContent(arg_409_1.text_.text)
			end

			local var_412_40 = math.max(var_412_31, arg_409_1.talkMaxDuration)

			if var_412_30 <= arg_409_1.time_ and arg_409_1.time_ < var_412_30 + var_412_40 then
				arg_409_1.typewritter.percent = (arg_409_1.time_ - var_412_30) / var_412_40

				arg_409_1.typewritter:SetDirty()
			end

			if arg_409_1.time_ >= var_412_30 + var_412_40 and arg_409_1.time_ < var_412_30 + var_412_40 + arg_412_0 then
				arg_409_1.typewritter.percent = 1

				arg_409_1.typewritter:SetDirty()
				arg_409_1:ShowNextGo(true)
			end
		end
	end,
	Play317021102 = function(arg_413_0, arg_413_1)
		arg_413_1.time_ = 0
		arg_413_1.frameCnt_ = 0
		arg_413_1.state_ = "playing"
		arg_413_1.curTalkId_ = 317021102
		arg_413_1.duration_ = 5

		SetActive(arg_413_1.tipsGo_, false)

		function arg_413_1.onSingleLineFinish_()
			arg_413_1.onSingleLineUpdate_ = nil
			arg_413_1.onSingleLineFinish_ = nil
			arg_413_1.state_ = "waiting"
		end

		function arg_413_1.playNext_(arg_415_0)
			if arg_415_0 == 1 then
				arg_413_0:Play317021103(arg_413_1)
			end
		end

		function arg_413_1.onSingleLineUpdate_(arg_416_0)
			local var_416_0 = arg_413_1.actors_["1050ui_story"]
			local var_416_1 = 0

			if var_416_1 < arg_413_1.time_ and arg_413_1.time_ <= var_416_1 + arg_416_0 and not isNil(var_416_0) and arg_413_1.var_.characterEffect1050ui_story == nil then
				arg_413_1.var_.characterEffect1050ui_story = var_416_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_416_2 = 0.200000002980232

			if var_416_1 <= arg_413_1.time_ and arg_413_1.time_ < var_416_1 + var_416_2 and not isNil(var_416_0) then
				local var_416_3 = (arg_413_1.time_ - var_416_1) / var_416_2

				if arg_413_1.var_.characterEffect1050ui_story and not isNil(var_416_0) then
					local var_416_4 = Mathf.Lerp(0, 0.5, var_416_3)

					arg_413_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_413_1.var_.characterEffect1050ui_story.fillRatio = var_416_4
				end
			end

			if arg_413_1.time_ >= var_416_1 + var_416_2 and arg_413_1.time_ < var_416_1 + var_416_2 + arg_416_0 and not isNil(var_416_0) and arg_413_1.var_.characterEffect1050ui_story then
				local var_416_5 = 0.5

				arg_413_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_413_1.var_.characterEffect1050ui_story.fillRatio = var_416_5
			end

			local var_416_6 = 0

			if var_416_6 < arg_413_1.time_ and arg_413_1.time_ <= var_416_6 + arg_416_0 then
				arg_413_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/1050/1050action/1050action3_2")
			end

			local var_416_7 = 0
			local var_416_8 = 0.55

			if var_416_7 < arg_413_1.time_ and arg_413_1.time_ <= var_416_7 + arg_416_0 then
				arg_413_1.talkMaxDuration = 0
				arg_413_1.dialogCg_.alpha = 1

				arg_413_1.dialog_:SetActive(true)
				SetActive(arg_413_1.leftNameGo_, false)

				arg_413_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_413_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_413_1:RecordName(arg_413_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_413_1.iconTrs_.gameObject, false)
				arg_413_1.callingController_:SetSelectedState("normal")

				local var_416_9 = arg_413_1:GetWordFromCfg(317021102)
				local var_416_10 = arg_413_1:FormatText(var_416_9.content)

				arg_413_1.text_.text = var_416_10

				LuaForUtil.ClearLinePrefixSymbol(arg_413_1.text_)

				local var_416_11 = 22
				local var_416_12 = utf8.len(var_416_10)
				local var_416_13 = var_416_11 <= 0 and var_416_8 or var_416_8 * (var_416_12 / var_416_11)

				if var_416_13 > 0 and var_416_8 < var_416_13 then
					arg_413_1.talkMaxDuration = var_416_13

					if var_416_13 + var_416_7 > arg_413_1.duration_ then
						arg_413_1.duration_ = var_416_13 + var_416_7
					end
				end

				arg_413_1.text_.text = var_416_10
				arg_413_1.typewritter.percent = 0

				arg_413_1.typewritter:SetDirty()
				arg_413_1:ShowNextGo(false)
				arg_413_1:RecordContent(arg_413_1.text_.text)
			end

			local var_416_14 = math.max(var_416_8, arg_413_1.talkMaxDuration)

			if var_416_7 <= arg_413_1.time_ and arg_413_1.time_ < var_416_7 + var_416_14 then
				arg_413_1.typewritter.percent = (arg_413_1.time_ - var_416_7) / var_416_14

				arg_413_1.typewritter:SetDirty()
			end

			if arg_413_1.time_ >= var_416_7 + var_416_14 and arg_413_1.time_ < var_416_7 + var_416_14 + arg_416_0 then
				arg_413_1.typewritter.percent = 1

				arg_413_1.typewritter:SetDirty()
				arg_413_1:ShowNextGo(true)
			end
		end
	end,
	Play317021103 = function(arg_417_0, arg_417_1)
		arg_417_1.time_ = 0
		arg_417_1.frameCnt_ = 0
		arg_417_1.state_ = "playing"
		arg_417_1.curTalkId_ = 317021103
		arg_417_1.duration_ = 9.5

		local var_417_0 = {
			zh = 6.2,
			ja = 9.5
		}
		local var_417_1 = manager.audio:GetLocalizationFlag()

		if var_417_0[var_417_1] ~= nil then
			arg_417_1.duration_ = var_417_0[var_417_1]
		end

		SetActive(arg_417_1.tipsGo_, false)

		function arg_417_1.onSingleLineFinish_()
			arg_417_1.onSingleLineUpdate_ = nil
			arg_417_1.onSingleLineFinish_ = nil
			arg_417_1.state_ = "waiting"
		end

		function arg_417_1.playNext_(arg_419_0)
			if arg_419_0 == 1 then
				arg_417_0:Play317021104(arg_417_1)
			end
		end

		function arg_417_1.onSingleLineUpdate_(arg_420_0)
			local var_420_0 = arg_417_1.actors_["1019ui_story"].transform
			local var_420_1 = 0

			if var_420_1 < arg_417_1.time_ and arg_417_1.time_ <= var_420_1 + arg_420_0 then
				arg_417_1.var_.moveOldPos1019ui_story = var_420_0.localPosition
			end

			local var_420_2 = 0.001

			if var_420_1 <= arg_417_1.time_ and arg_417_1.time_ < var_420_1 + var_420_2 then
				local var_420_3 = (arg_417_1.time_ - var_420_1) / var_420_2
				local var_420_4 = Vector3.New(-0.2, -1.08, -5.9)

				var_420_0.localPosition = Vector3.Lerp(arg_417_1.var_.moveOldPos1019ui_story, var_420_4, var_420_3)

				local var_420_5 = manager.ui.mainCamera.transform.position - var_420_0.position

				var_420_0.forward = Vector3.New(var_420_5.x, var_420_5.y, var_420_5.z)

				local var_420_6 = var_420_0.localEulerAngles

				var_420_6.z = 0
				var_420_6.x = 0
				var_420_0.localEulerAngles = var_420_6
			end

			if arg_417_1.time_ >= var_420_1 + var_420_2 and arg_417_1.time_ < var_420_1 + var_420_2 + arg_420_0 then
				var_420_0.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_420_7 = manager.ui.mainCamera.transform.position - var_420_0.position

				var_420_0.forward = Vector3.New(var_420_7.x, var_420_7.y, var_420_7.z)

				local var_420_8 = var_420_0.localEulerAngles

				var_420_8.z = 0
				var_420_8.x = 0
				var_420_0.localEulerAngles = var_420_8
			end

			local var_420_9 = arg_417_1.actors_["1019ui_story"]
			local var_420_10 = 0

			if var_420_10 < arg_417_1.time_ and arg_417_1.time_ <= var_420_10 + arg_420_0 and not isNil(var_420_9) and arg_417_1.var_.characterEffect1019ui_story == nil then
				arg_417_1.var_.characterEffect1019ui_story = var_420_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_420_11 = 0.200000002980232

			if var_420_10 <= arg_417_1.time_ and arg_417_1.time_ < var_420_10 + var_420_11 and not isNil(var_420_9) then
				local var_420_12 = (arg_417_1.time_ - var_420_10) / var_420_11

				if arg_417_1.var_.characterEffect1019ui_story and not isNil(var_420_9) then
					arg_417_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_417_1.time_ >= var_420_10 + var_420_11 and arg_417_1.time_ < var_420_10 + var_420_11 + arg_420_0 and not isNil(var_420_9) and arg_417_1.var_.characterEffect1019ui_story then
				arg_417_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_420_13 = 0

			if var_420_13 < arg_417_1.time_ and arg_417_1.time_ <= var_420_13 + arg_420_0 then
				arg_417_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_420_14 = 0

			if var_420_14 < arg_417_1.time_ and arg_417_1.time_ <= var_420_14 + arg_420_0 then
				arg_417_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_420_15 = arg_417_1.actors_["1050ui_story"].transform
			local var_420_16 = 0

			if var_420_16 < arg_417_1.time_ and arg_417_1.time_ <= var_420_16 + arg_420_0 then
				arg_417_1.var_.moveOldPos1050ui_story = var_420_15.localPosition
			end

			local var_420_17 = 0.001

			if var_420_16 <= arg_417_1.time_ and arg_417_1.time_ < var_420_16 + var_420_17 then
				local var_420_18 = (arg_417_1.time_ - var_420_16) / var_420_17
				local var_420_19 = Vector3.New(0, 100, 0)

				var_420_15.localPosition = Vector3.Lerp(arg_417_1.var_.moveOldPos1050ui_story, var_420_19, var_420_18)

				local var_420_20 = manager.ui.mainCamera.transform.position - var_420_15.position

				var_420_15.forward = Vector3.New(var_420_20.x, var_420_20.y, var_420_20.z)

				local var_420_21 = var_420_15.localEulerAngles

				var_420_21.z = 0
				var_420_21.x = 0
				var_420_15.localEulerAngles = var_420_21
			end

			if arg_417_1.time_ >= var_420_16 + var_420_17 and arg_417_1.time_ < var_420_16 + var_420_17 + arg_420_0 then
				var_420_15.localPosition = Vector3.New(0, 100, 0)

				local var_420_22 = manager.ui.mainCamera.transform.position - var_420_15.position

				var_420_15.forward = Vector3.New(var_420_22.x, var_420_22.y, var_420_22.z)

				local var_420_23 = var_420_15.localEulerAngles

				var_420_23.z = 0
				var_420_23.x = 0
				var_420_15.localEulerAngles = var_420_23
			end

			local var_420_24 = arg_417_1.actors_["1050ui_story"]
			local var_420_25 = 0

			if var_420_25 < arg_417_1.time_ and arg_417_1.time_ <= var_420_25 + arg_420_0 and not isNil(var_420_24) and arg_417_1.var_.characterEffect1050ui_story == nil then
				arg_417_1.var_.characterEffect1050ui_story = var_420_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_420_26 = 0.200000002980232

			if var_420_25 <= arg_417_1.time_ and arg_417_1.time_ < var_420_25 + var_420_26 and not isNil(var_420_24) then
				local var_420_27 = (arg_417_1.time_ - var_420_25) / var_420_26

				if arg_417_1.var_.characterEffect1050ui_story and not isNil(var_420_24) then
					local var_420_28 = Mathf.Lerp(0, 0.5, var_420_27)

					arg_417_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_417_1.var_.characterEffect1050ui_story.fillRatio = var_420_28
				end
			end

			if arg_417_1.time_ >= var_420_25 + var_420_26 and arg_417_1.time_ < var_420_25 + var_420_26 + arg_420_0 and not isNil(var_420_24) and arg_417_1.var_.characterEffect1050ui_story then
				local var_420_29 = 0.5

				arg_417_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_417_1.var_.characterEffect1050ui_story.fillRatio = var_420_29
			end

			local var_420_30 = 0
			local var_420_31 = 0.775

			if var_420_30 < arg_417_1.time_ and arg_417_1.time_ <= var_420_30 + arg_420_0 then
				arg_417_1.talkMaxDuration = 0
				arg_417_1.dialogCg_.alpha = 1

				arg_417_1.dialog_:SetActive(true)
				SetActive(arg_417_1.leftNameGo_, true)

				local var_420_32 = arg_417_1:FormatText(StoryNameCfg[47].name)

				arg_417_1.leftNameTxt_.text = var_420_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_417_1.leftNameTxt_.transform)

				arg_417_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_417_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_417_1:RecordName(arg_417_1.leftNameTxt_.text)
				SetActive(arg_417_1.iconTrs_.gameObject, false)
				arg_417_1.callingController_:SetSelectedState("normal")

				local var_420_33 = arg_417_1:GetWordFromCfg(317021103)
				local var_420_34 = arg_417_1:FormatText(var_420_33.content)

				arg_417_1.text_.text = var_420_34

				LuaForUtil.ClearLinePrefixSymbol(arg_417_1.text_)

				local var_420_35 = 31
				local var_420_36 = utf8.len(var_420_34)
				local var_420_37 = var_420_35 <= 0 and var_420_31 or var_420_31 * (var_420_36 / var_420_35)

				if var_420_37 > 0 and var_420_31 < var_420_37 then
					arg_417_1.talkMaxDuration = var_420_37

					if var_420_37 + var_420_30 > arg_417_1.duration_ then
						arg_417_1.duration_ = var_420_37 + var_420_30
					end
				end

				arg_417_1.text_.text = var_420_34
				arg_417_1.typewritter.percent = 0

				arg_417_1.typewritter:SetDirty()
				arg_417_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021103", "story_v_out_317021.awb") ~= 0 then
					local var_420_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021103", "story_v_out_317021.awb") / 1000

					if var_420_38 + var_420_30 > arg_417_1.duration_ then
						arg_417_1.duration_ = var_420_38 + var_420_30
					end

					if var_420_33.prefab_name ~= "" and arg_417_1.actors_[var_420_33.prefab_name] ~= nil then
						local var_420_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_417_1.actors_[var_420_33.prefab_name].transform, "story_v_out_317021", "317021103", "story_v_out_317021.awb")

						arg_417_1:RecordAudio("317021103", var_420_39)
						arg_417_1:RecordAudio("317021103", var_420_39)
					else
						arg_417_1:AudioAction("play", "voice", "story_v_out_317021", "317021103", "story_v_out_317021.awb")
					end

					arg_417_1:RecordHistoryTalkVoice("story_v_out_317021", "317021103", "story_v_out_317021.awb")
				end

				arg_417_1:RecordContent(arg_417_1.text_.text)
			end

			local var_420_40 = math.max(var_420_31, arg_417_1.talkMaxDuration)

			if var_420_30 <= arg_417_1.time_ and arg_417_1.time_ < var_420_30 + var_420_40 then
				arg_417_1.typewritter.percent = (arg_417_1.time_ - var_420_30) / var_420_40

				arg_417_1.typewritter:SetDirty()
			end

			if arg_417_1.time_ >= var_420_30 + var_420_40 and arg_417_1.time_ < var_420_30 + var_420_40 + arg_420_0 then
				arg_417_1.typewritter.percent = 1

				arg_417_1.typewritter:SetDirty()
				arg_417_1:ShowNextGo(true)
			end
		end
	end,
	Play317021104 = function(arg_421_0, arg_421_1)
		arg_421_1.time_ = 0
		arg_421_1.frameCnt_ = 0
		arg_421_1.state_ = "playing"
		arg_421_1.curTalkId_ = 317021104
		arg_421_1.duration_ = 12

		local var_421_0 = {
			zh = 7.8,
			ja = 12
		}
		local var_421_1 = manager.audio:GetLocalizationFlag()

		if var_421_0[var_421_1] ~= nil then
			arg_421_1.duration_ = var_421_0[var_421_1]
		end

		SetActive(arg_421_1.tipsGo_, false)

		function arg_421_1.onSingleLineFinish_()
			arg_421_1.onSingleLineUpdate_ = nil
			arg_421_1.onSingleLineFinish_ = nil
			arg_421_1.state_ = "waiting"
		end

		function arg_421_1.playNext_(arg_423_0)
			if arg_423_0 == 1 then
				arg_421_0:Play317021105(arg_421_1)
			end
		end

		function arg_421_1.onSingleLineUpdate_(arg_424_0)
			local var_424_0 = 0
			local var_424_1 = 0.975

			if var_424_0 < arg_421_1.time_ and arg_421_1.time_ <= var_424_0 + arg_424_0 then
				arg_421_1.talkMaxDuration = 0
				arg_421_1.dialogCg_.alpha = 1

				arg_421_1.dialog_:SetActive(true)
				SetActive(arg_421_1.leftNameGo_, true)

				local var_424_2 = arg_421_1:FormatText(StoryNameCfg[47].name)

				arg_421_1.leftNameTxt_.text = var_424_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_421_1.leftNameTxt_.transform)

				arg_421_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_421_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_421_1:RecordName(arg_421_1.leftNameTxt_.text)
				SetActive(arg_421_1.iconTrs_.gameObject, false)
				arg_421_1.callingController_:SetSelectedState("normal")

				local var_424_3 = arg_421_1:GetWordFromCfg(317021104)
				local var_424_4 = arg_421_1:FormatText(var_424_3.content)

				arg_421_1.text_.text = var_424_4

				LuaForUtil.ClearLinePrefixSymbol(arg_421_1.text_)

				local var_424_5 = 39
				local var_424_6 = utf8.len(var_424_4)
				local var_424_7 = var_424_5 <= 0 and var_424_1 or var_424_1 * (var_424_6 / var_424_5)

				if var_424_7 > 0 and var_424_1 < var_424_7 then
					arg_421_1.talkMaxDuration = var_424_7

					if var_424_7 + var_424_0 > arg_421_1.duration_ then
						arg_421_1.duration_ = var_424_7 + var_424_0
					end
				end

				arg_421_1.text_.text = var_424_4
				arg_421_1.typewritter.percent = 0

				arg_421_1.typewritter:SetDirty()
				arg_421_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021104", "story_v_out_317021.awb") ~= 0 then
					local var_424_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021104", "story_v_out_317021.awb") / 1000

					if var_424_8 + var_424_0 > arg_421_1.duration_ then
						arg_421_1.duration_ = var_424_8 + var_424_0
					end

					if var_424_3.prefab_name ~= "" and arg_421_1.actors_[var_424_3.prefab_name] ~= nil then
						local var_424_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_421_1.actors_[var_424_3.prefab_name].transform, "story_v_out_317021", "317021104", "story_v_out_317021.awb")

						arg_421_1:RecordAudio("317021104", var_424_9)
						arg_421_1:RecordAudio("317021104", var_424_9)
					else
						arg_421_1:AudioAction("play", "voice", "story_v_out_317021", "317021104", "story_v_out_317021.awb")
					end

					arg_421_1:RecordHistoryTalkVoice("story_v_out_317021", "317021104", "story_v_out_317021.awb")
				end

				arg_421_1:RecordContent(arg_421_1.text_.text)
			end

			local var_424_10 = math.max(var_424_1, arg_421_1.talkMaxDuration)

			if var_424_0 <= arg_421_1.time_ and arg_421_1.time_ < var_424_0 + var_424_10 then
				arg_421_1.typewritter.percent = (arg_421_1.time_ - var_424_0) / var_424_10

				arg_421_1.typewritter:SetDirty()
			end

			if arg_421_1.time_ >= var_424_0 + var_424_10 and arg_421_1.time_ < var_424_0 + var_424_10 + arg_424_0 then
				arg_421_1.typewritter.percent = 1

				arg_421_1.typewritter:SetDirty()
				arg_421_1:ShowNextGo(true)
			end
		end
	end,
	Play317021105 = function(arg_425_0, arg_425_1)
		arg_425_1.time_ = 0
		arg_425_1.frameCnt_ = 0
		arg_425_1.state_ = "playing"
		arg_425_1.curTalkId_ = 317021105
		arg_425_1.duration_ = 10.8

		local var_425_0 = {
			zh = 10.8,
			ja = 8.033
		}
		local var_425_1 = manager.audio:GetLocalizationFlag()

		if var_425_0[var_425_1] ~= nil then
			arg_425_1.duration_ = var_425_0[var_425_1]
		end

		SetActive(arg_425_1.tipsGo_, false)

		function arg_425_1.onSingleLineFinish_()
			arg_425_1.onSingleLineUpdate_ = nil
			arg_425_1.onSingleLineFinish_ = nil
			arg_425_1.state_ = "waiting"
		end

		function arg_425_1.playNext_(arg_427_0)
			if arg_427_0 == 1 then
				arg_425_0:Play317021106(arg_425_1)
			end
		end

		function arg_425_1.onSingleLineUpdate_(arg_428_0)
			local var_428_0 = 0
			local var_428_1 = 1.325

			if var_428_0 < arg_425_1.time_ and arg_425_1.time_ <= var_428_0 + arg_428_0 then
				arg_425_1.talkMaxDuration = 0
				arg_425_1.dialogCg_.alpha = 1

				arg_425_1.dialog_:SetActive(true)
				SetActive(arg_425_1.leftNameGo_, true)

				local var_428_2 = arg_425_1:FormatText(StoryNameCfg[47].name)

				arg_425_1.leftNameTxt_.text = var_428_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_425_1.leftNameTxt_.transform)

				arg_425_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_425_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_425_1:RecordName(arg_425_1.leftNameTxt_.text)
				SetActive(arg_425_1.iconTrs_.gameObject, false)
				arg_425_1.callingController_:SetSelectedState("normal")

				local var_428_3 = arg_425_1:GetWordFromCfg(317021105)
				local var_428_4 = arg_425_1:FormatText(var_428_3.content)

				arg_425_1.text_.text = var_428_4

				LuaForUtil.ClearLinePrefixSymbol(arg_425_1.text_)

				local var_428_5 = 53
				local var_428_6 = utf8.len(var_428_4)
				local var_428_7 = var_428_5 <= 0 and var_428_1 or var_428_1 * (var_428_6 / var_428_5)

				if var_428_7 > 0 and var_428_1 < var_428_7 then
					arg_425_1.talkMaxDuration = var_428_7

					if var_428_7 + var_428_0 > arg_425_1.duration_ then
						arg_425_1.duration_ = var_428_7 + var_428_0
					end
				end

				arg_425_1.text_.text = var_428_4
				arg_425_1.typewritter.percent = 0

				arg_425_1.typewritter:SetDirty()
				arg_425_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021105", "story_v_out_317021.awb") ~= 0 then
					local var_428_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021105", "story_v_out_317021.awb") / 1000

					if var_428_8 + var_428_0 > arg_425_1.duration_ then
						arg_425_1.duration_ = var_428_8 + var_428_0
					end

					if var_428_3.prefab_name ~= "" and arg_425_1.actors_[var_428_3.prefab_name] ~= nil then
						local var_428_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_425_1.actors_[var_428_3.prefab_name].transform, "story_v_out_317021", "317021105", "story_v_out_317021.awb")

						arg_425_1:RecordAudio("317021105", var_428_9)
						arg_425_1:RecordAudio("317021105", var_428_9)
					else
						arg_425_1:AudioAction("play", "voice", "story_v_out_317021", "317021105", "story_v_out_317021.awb")
					end

					arg_425_1:RecordHistoryTalkVoice("story_v_out_317021", "317021105", "story_v_out_317021.awb")
				end

				arg_425_1:RecordContent(arg_425_1.text_.text)
			end

			local var_428_10 = math.max(var_428_1, arg_425_1.talkMaxDuration)

			if var_428_0 <= arg_425_1.time_ and arg_425_1.time_ < var_428_0 + var_428_10 then
				arg_425_1.typewritter.percent = (arg_425_1.time_ - var_428_0) / var_428_10

				arg_425_1.typewritter:SetDirty()
			end

			if arg_425_1.time_ >= var_428_0 + var_428_10 and arg_425_1.time_ < var_428_0 + var_428_10 + arg_428_0 then
				arg_425_1.typewritter.percent = 1

				arg_425_1.typewritter:SetDirty()
				arg_425_1:ShowNextGo(true)
			end
		end
	end,
	Play317021106 = function(arg_429_0, arg_429_1)
		arg_429_1.time_ = 0
		arg_429_1.frameCnt_ = 0
		arg_429_1.state_ = "playing"
		arg_429_1.curTalkId_ = 317021106
		arg_429_1.duration_ = 3.73

		local var_429_0 = {
			zh = 3.733,
			ja = 3.033
		}
		local var_429_1 = manager.audio:GetLocalizationFlag()

		if var_429_0[var_429_1] ~= nil then
			arg_429_1.duration_ = var_429_0[var_429_1]
		end

		SetActive(arg_429_1.tipsGo_, false)

		function arg_429_1.onSingleLineFinish_()
			arg_429_1.onSingleLineUpdate_ = nil
			arg_429_1.onSingleLineFinish_ = nil
			arg_429_1.state_ = "waiting"
		end

		function arg_429_1.playNext_(arg_431_0)
			if arg_431_0 == 1 then
				arg_429_0:Play317021107(arg_429_1)
			end
		end

		function arg_429_1.onSingleLineUpdate_(arg_432_0)
			local var_432_0 = 0
			local var_432_1 = 0.475

			if var_432_0 < arg_429_1.time_ and arg_429_1.time_ <= var_432_0 + arg_432_0 then
				arg_429_1.talkMaxDuration = 0
				arg_429_1.dialogCg_.alpha = 1

				arg_429_1.dialog_:SetActive(true)
				SetActive(arg_429_1.leftNameGo_, true)

				local var_432_2 = arg_429_1:FormatText(StoryNameCfg[47].name)

				arg_429_1.leftNameTxt_.text = var_432_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_429_1.leftNameTxt_.transform)

				arg_429_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_429_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_429_1:RecordName(arg_429_1.leftNameTxt_.text)
				SetActive(arg_429_1.iconTrs_.gameObject, false)
				arg_429_1.callingController_:SetSelectedState("normal")

				local var_432_3 = arg_429_1:GetWordFromCfg(317021106)
				local var_432_4 = arg_429_1:FormatText(var_432_3.content)

				arg_429_1.text_.text = var_432_4

				LuaForUtil.ClearLinePrefixSymbol(arg_429_1.text_)

				local var_432_5 = 19
				local var_432_6 = utf8.len(var_432_4)
				local var_432_7 = var_432_5 <= 0 and var_432_1 or var_432_1 * (var_432_6 / var_432_5)

				if var_432_7 > 0 and var_432_1 < var_432_7 then
					arg_429_1.talkMaxDuration = var_432_7

					if var_432_7 + var_432_0 > arg_429_1.duration_ then
						arg_429_1.duration_ = var_432_7 + var_432_0
					end
				end

				arg_429_1.text_.text = var_432_4
				arg_429_1.typewritter.percent = 0

				arg_429_1.typewritter:SetDirty()
				arg_429_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021106", "story_v_out_317021.awb") ~= 0 then
					local var_432_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021106", "story_v_out_317021.awb") / 1000

					if var_432_8 + var_432_0 > arg_429_1.duration_ then
						arg_429_1.duration_ = var_432_8 + var_432_0
					end

					if var_432_3.prefab_name ~= "" and arg_429_1.actors_[var_432_3.prefab_name] ~= nil then
						local var_432_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_429_1.actors_[var_432_3.prefab_name].transform, "story_v_out_317021", "317021106", "story_v_out_317021.awb")

						arg_429_1:RecordAudio("317021106", var_432_9)
						arg_429_1:RecordAudio("317021106", var_432_9)
					else
						arg_429_1:AudioAction("play", "voice", "story_v_out_317021", "317021106", "story_v_out_317021.awb")
					end

					arg_429_1:RecordHistoryTalkVoice("story_v_out_317021", "317021106", "story_v_out_317021.awb")
				end

				arg_429_1:RecordContent(arg_429_1.text_.text)
			end

			local var_432_10 = math.max(var_432_1, arg_429_1.talkMaxDuration)

			if var_432_0 <= arg_429_1.time_ and arg_429_1.time_ < var_432_0 + var_432_10 then
				arg_429_1.typewritter.percent = (arg_429_1.time_ - var_432_0) / var_432_10

				arg_429_1.typewritter:SetDirty()
			end

			if arg_429_1.time_ >= var_432_0 + var_432_10 and arg_429_1.time_ < var_432_0 + var_432_10 + arg_432_0 then
				arg_429_1.typewritter.percent = 1

				arg_429_1.typewritter:SetDirty()
				arg_429_1:ShowNextGo(true)
			end
		end
	end,
	Play317021107 = function(arg_433_0, arg_433_1)
		arg_433_1.time_ = 0
		arg_433_1.frameCnt_ = 0
		arg_433_1.state_ = "playing"
		arg_433_1.curTalkId_ = 317021107
		arg_433_1.duration_ = 3.43

		local var_433_0 = {
			zh = 1.999999999999,
			ja = 3.433
		}
		local var_433_1 = manager.audio:GetLocalizationFlag()

		if var_433_0[var_433_1] ~= nil then
			arg_433_1.duration_ = var_433_0[var_433_1]
		end

		SetActive(arg_433_1.tipsGo_, false)

		function arg_433_1.onSingleLineFinish_()
			arg_433_1.onSingleLineUpdate_ = nil
			arg_433_1.onSingleLineFinish_ = nil
			arg_433_1.state_ = "waiting"
		end

		function arg_433_1.playNext_(arg_435_0)
			if arg_435_0 == 1 then
				arg_433_0:Play317021108(arg_433_1)
			end
		end

		function arg_433_1.onSingleLineUpdate_(arg_436_0)
			local var_436_0 = arg_433_1.actors_["1019ui_story"].transform
			local var_436_1 = 0

			if var_436_1 < arg_433_1.time_ and arg_433_1.time_ <= var_436_1 + arg_436_0 then
				arg_433_1.var_.moveOldPos1019ui_story = var_436_0.localPosition
			end

			local var_436_2 = 0.001

			if var_436_1 <= arg_433_1.time_ and arg_433_1.time_ < var_436_1 + var_436_2 then
				local var_436_3 = (arg_433_1.time_ - var_436_1) / var_436_2
				local var_436_4 = Vector3.New(0, 100, 0)

				var_436_0.localPosition = Vector3.Lerp(arg_433_1.var_.moveOldPos1019ui_story, var_436_4, var_436_3)

				local var_436_5 = manager.ui.mainCamera.transform.position - var_436_0.position

				var_436_0.forward = Vector3.New(var_436_5.x, var_436_5.y, var_436_5.z)

				local var_436_6 = var_436_0.localEulerAngles

				var_436_6.z = 0
				var_436_6.x = 0
				var_436_0.localEulerAngles = var_436_6
			end

			if arg_433_1.time_ >= var_436_1 + var_436_2 and arg_433_1.time_ < var_436_1 + var_436_2 + arg_436_0 then
				var_436_0.localPosition = Vector3.New(0, 100, 0)

				local var_436_7 = manager.ui.mainCamera.transform.position - var_436_0.position

				var_436_0.forward = Vector3.New(var_436_7.x, var_436_7.y, var_436_7.z)

				local var_436_8 = var_436_0.localEulerAngles

				var_436_8.z = 0
				var_436_8.x = 0
				var_436_0.localEulerAngles = var_436_8
			end

			local var_436_9 = arg_433_1.actors_["1019ui_story"]
			local var_436_10 = 0

			if var_436_10 < arg_433_1.time_ and arg_433_1.time_ <= var_436_10 + arg_436_0 and not isNil(var_436_9) and arg_433_1.var_.characterEffect1019ui_story == nil then
				arg_433_1.var_.characterEffect1019ui_story = var_436_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_436_11 = 0.200000002980232

			if var_436_10 <= arg_433_1.time_ and arg_433_1.time_ < var_436_10 + var_436_11 and not isNil(var_436_9) then
				local var_436_12 = (arg_433_1.time_ - var_436_10) / var_436_11

				if arg_433_1.var_.characterEffect1019ui_story and not isNil(var_436_9) then
					local var_436_13 = Mathf.Lerp(0, 0.5, var_436_12)

					arg_433_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_433_1.var_.characterEffect1019ui_story.fillRatio = var_436_13
				end
			end

			if arg_433_1.time_ >= var_436_10 + var_436_11 and arg_433_1.time_ < var_436_10 + var_436_11 + arg_436_0 and not isNil(var_436_9) and arg_433_1.var_.characterEffect1019ui_story then
				local var_436_14 = 0.5

				arg_433_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_433_1.var_.characterEffect1019ui_story.fillRatio = var_436_14
			end

			local var_436_15 = arg_433_1.actors_["1050ui_story"].transform
			local var_436_16 = 0

			if var_436_16 < arg_433_1.time_ and arg_433_1.time_ <= var_436_16 + arg_436_0 then
				arg_433_1.var_.moveOldPos1050ui_story = var_436_15.localPosition
			end

			local var_436_17 = 0.001

			if var_436_16 <= arg_433_1.time_ and arg_433_1.time_ < var_436_16 + var_436_17 then
				local var_436_18 = (arg_433_1.time_ - var_436_16) / var_436_17
				local var_436_19 = Vector3.New(0, -1, -6.1)

				var_436_15.localPosition = Vector3.Lerp(arg_433_1.var_.moveOldPos1050ui_story, var_436_19, var_436_18)

				local var_436_20 = manager.ui.mainCamera.transform.position - var_436_15.position

				var_436_15.forward = Vector3.New(var_436_20.x, var_436_20.y, var_436_20.z)

				local var_436_21 = var_436_15.localEulerAngles

				var_436_21.z = 0
				var_436_21.x = 0
				var_436_15.localEulerAngles = var_436_21
			end

			if arg_433_1.time_ >= var_436_16 + var_436_17 and arg_433_1.time_ < var_436_16 + var_436_17 + arg_436_0 then
				var_436_15.localPosition = Vector3.New(0, -1, -6.1)

				local var_436_22 = manager.ui.mainCamera.transform.position - var_436_15.position

				var_436_15.forward = Vector3.New(var_436_22.x, var_436_22.y, var_436_22.z)

				local var_436_23 = var_436_15.localEulerAngles

				var_436_23.z = 0
				var_436_23.x = 0
				var_436_15.localEulerAngles = var_436_23
			end

			local var_436_24 = arg_433_1.actors_["1050ui_story"]
			local var_436_25 = 0

			if var_436_25 < arg_433_1.time_ and arg_433_1.time_ <= var_436_25 + arg_436_0 and not isNil(var_436_24) and arg_433_1.var_.characterEffect1050ui_story == nil then
				arg_433_1.var_.characterEffect1050ui_story = var_436_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_436_26 = 0.200000002980232

			if var_436_25 <= arg_433_1.time_ and arg_433_1.time_ < var_436_25 + var_436_26 and not isNil(var_436_24) then
				local var_436_27 = (arg_433_1.time_ - var_436_25) / var_436_26

				if arg_433_1.var_.characterEffect1050ui_story and not isNil(var_436_24) then
					arg_433_1.var_.characterEffect1050ui_story.fillFlat = false
				end
			end

			if arg_433_1.time_ >= var_436_25 + var_436_26 and arg_433_1.time_ < var_436_25 + var_436_26 + arg_436_0 and not isNil(var_436_24) and arg_433_1.var_.characterEffect1050ui_story then
				arg_433_1.var_.characterEffect1050ui_story.fillFlat = false
			end

			local var_436_28 = 0

			if var_436_28 < arg_433_1.time_ and arg_433_1.time_ <= var_436_28 + arg_436_0 then
				arg_433_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/1050/1050action/1050action5_1")
			end

			local var_436_29 = 0

			if var_436_29 < arg_433_1.time_ and arg_433_1.time_ <= var_436_29 + arg_436_0 then
				arg_433_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface3102cva")
			end

			local var_436_30 = 0
			local var_436_31 = 0.2

			if var_436_30 < arg_433_1.time_ and arg_433_1.time_ <= var_436_30 + arg_436_0 then
				arg_433_1.talkMaxDuration = 0
				arg_433_1.dialogCg_.alpha = 1

				arg_433_1.dialog_:SetActive(true)
				SetActive(arg_433_1.leftNameGo_, true)

				local var_436_32 = arg_433_1:FormatText(StoryNameCfg[74].name)

				arg_433_1.leftNameTxt_.text = var_436_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_433_1.leftNameTxt_.transform)

				arg_433_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_433_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_433_1:RecordName(arg_433_1.leftNameTxt_.text)
				SetActive(arg_433_1.iconTrs_.gameObject, false)
				arg_433_1.callingController_:SetSelectedState("normal")

				local var_436_33 = arg_433_1:GetWordFromCfg(317021107)
				local var_436_34 = arg_433_1:FormatText(var_436_33.content)

				arg_433_1.text_.text = var_436_34

				LuaForUtil.ClearLinePrefixSymbol(arg_433_1.text_)

				local var_436_35 = 8
				local var_436_36 = utf8.len(var_436_34)
				local var_436_37 = var_436_35 <= 0 and var_436_31 or var_436_31 * (var_436_36 / var_436_35)

				if var_436_37 > 0 and var_436_31 < var_436_37 then
					arg_433_1.talkMaxDuration = var_436_37

					if var_436_37 + var_436_30 > arg_433_1.duration_ then
						arg_433_1.duration_ = var_436_37 + var_436_30
					end
				end

				arg_433_1.text_.text = var_436_34
				arg_433_1.typewritter.percent = 0

				arg_433_1.typewritter:SetDirty()
				arg_433_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021107", "story_v_out_317021.awb") ~= 0 then
					local var_436_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021107", "story_v_out_317021.awb") / 1000

					if var_436_38 + var_436_30 > arg_433_1.duration_ then
						arg_433_1.duration_ = var_436_38 + var_436_30
					end

					if var_436_33.prefab_name ~= "" and arg_433_1.actors_[var_436_33.prefab_name] ~= nil then
						local var_436_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_433_1.actors_[var_436_33.prefab_name].transform, "story_v_out_317021", "317021107", "story_v_out_317021.awb")

						arg_433_1:RecordAudio("317021107", var_436_39)
						arg_433_1:RecordAudio("317021107", var_436_39)
					else
						arg_433_1:AudioAction("play", "voice", "story_v_out_317021", "317021107", "story_v_out_317021.awb")
					end

					arg_433_1:RecordHistoryTalkVoice("story_v_out_317021", "317021107", "story_v_out_317021.awb")
				end

				arg_433_1:RecordContent(arg_433_1.text_.text)
			end

			local var_436_40 = math.max(var_436_31, arg_433_1.talkMaxDuration)

			if var_436_30 <= arg_433_1.time_ and arg_433_1.time_ < var_436_30 + var_436_40 then
				arg_433_1.typewritter.percent = (arg_433_1.time_ - var_436_30) / var_436_40

				arg_433_1.typewritter:SetDirty()
			end

			if arg_433_1.time_ >= var_436_30 + var_436_40 and arg_433_1.time_ < var_436_30 + var_436_40 + arg_436_0 then
				arg_433_1.typewritter.percent = 1

				arg_433_1.typewritter:SetDirty()
				arg_433_1:ShowNextGo(true)
			end
		end
	end,
	Play317021108 = function(arg_437_0, arg_437_1)
		arg_437_1.time_ = 0
		arg_437_1.frameCnt_ = 0
		arg_437_1.state_ = "playing"
		arg_437_1.curTalkId_ = 317021108
		arg_437_1.duration_ = 4.27

		local var_437_0 = {
			zh = 2.9,
			ja = 4.266
		}
		local var_437_1 = manager.audio:GetLocalizationFlag()

		if var_437_0[var_437_1] ~= nil then
			arg_437_1.duration_ = var_437_0[var_437_1]
		end

		SetActive(arg_437_1.tipsGo_, false)

		function arg_437_1.onSingleLineFinish_()
			arg_437_1.onSingleLineUpdate_ = nil
			arg_437_1.onSingleLineFinish_ = nil
			arg_437_1.state_ = "waiting"
		end

		function arg_437_1.playNext_(arg_439_0)
			if arg_439_0 == 1 then
				arg_437_0:Play317021109(arg_437_1)
			end
		end

		function arg_437_1.onSingleLineUpdate_(arg_440_0)
			local var_440_0 = arg_437_1.actors_["1019ui_story"].transform
			local var_440_1 = 0

			if var_440_1 < arg_437_1.time_ and arg_437_1.time_ <= var_440_1 + arg_440_0 then
				arg_437_1.var_.moveOldPos1019ui_story = var_440_0.localPosition
			end

			local var_440_2 = 0.001

			if var_440_1 <= arg_437_1.time_ and arg_437_1.time_ < var_440_1 + var_440_2 then
				local var_440_3 = (arg_437_1.time_ - var_440_1) / var_440_2
				local var_440_4 = Vector3.New(-0.2, -1.08, -5.9)

				var_440_0.localPosition = Vector3.Lerp(arg_437_1.var_.moveOldPos1019ui_story, var_440_4, var_440_3)

				local var_440_5 = manager.ui.mainCamera.transform.position - var_440_0.position

				var_440_0.forward = Vector3.New(var_440_5.x, var_440_5.y, var_440_5.z)

				local var_440_6 = var_440_0.localEulerAngles

				var_440_6.z = 0
				var_440_6.x = 0
				var_440_0.localEulerAngles = var_440_6
			end

			if arg_437_1.time_ >= var_440_1 + var_440_2 and arg_437_1.time_ < var_440_1 + var_440_2 + arg_440_0 then
				var_440_0.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_440_7 = manager.ui.mainCamera.transform.position - var_440_0.position

				var_440_0.forward = Vector3.New(var_440_7.x, var_440_7.y, var_440_7.z)

				local var_440_8 = var_440_0.localEulerAngles

				var_440_8.z = 0
				var_440_8.x = 0
				var_440_0.localEulerAngles = var_440_8
			end

			local var_440_9 = arg_437_1.actors_["1019ui_story"]
			local var_440_10 = 0

			if var_440_10 < arg_437_1.time_ and arg_437_1.time_ <= var_440_10 + arg_440_0 and not isNil(var_440_9) and arg_437_1.var_.characterEffect1019ui_story == nil then
				arg_437_1.var_.characterEffect1019ui_story = var_440_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_440_11 = 0.200000002980232

			if var_440_10 <= arg_437_1.time_ and arg_437_1.time_ < var_440_10 + var_440_11 and not isNil(var_440_9) then
				local var_440_12 = (arg_437_1.time_ - var_440_10) / var_440_11

				if arg_437_1.var_.characterEffect1019ui_story and not isNil(var_440_9) then
					arg_437_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_437_1.time_ >= var_440_10 + var_440_11 and arg_437_1.time_ < var_440_10 + var_440_11 + arg_440_0 and not isNil(var_440_9) and arg_437_1.var_.characterEffect1019ui_story then
				arg_437_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_440_13 = 0

			if var_440_13 < arg_437_1.time_ and arg_437_1.time_ <= var_440_13 + arg_440_0 then
				arg_437_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_440_14 = 0

			if var_440_14 < arg_437_1.time_ and arg_437_1.time_ <= var_440_14 + arg_440_0 then
				arg_437_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface1102cva")
			end

			local var_440_15 = arg_437_1.actors_["1050ui_story"].transform
			local var_440_16 = 0

			if var_440_16 < arg_437_1.time_ and arg_437_1.time_ <= var_440_16 + arg_440_0 then
				arg_437_1.var_.moveOldPos1050ui_story = var_440_15.localPosition
			end

			local var_440_17 = 0.001

			if var_440_16 <= arg_437_1.time_ and arg_437_1.time_ < var_440_16 + var_440_17 then
				local var_440_18 = (arg_437_1.time_ - var_440_16) / var_440_17
				local var_440_19 = Vector3.New(0, 100, 0)

				var_440_15.localPosition = Vector3.Lerp(arg_437_1.var_.moveOldPos1050ui_story, var_440_19, var_440_18)

				local var_440_20 = manager.ui.mainCamera.transform.position - var_440_15.position

				var_440_15.forward = Vector3.New(var_440_20.x, var_440_20.y, var_440_20.z)

				local var_440_21 = var_440_15.localEulerAngles

				var_440_21.z = 0
				var_440_21.x = 0
				var_440_15.localEulerAngles = var_440_21
			end

			if arg_437_1.time_ >= var_440_16 + var_440_17 and arg_437_1.time_ < var_440_16 + var_440_17 + arg_440_0 then
				var_440_15.localPosition = Vector3.New(0, 100, 0)

				local var_440_22 = manager.ui.mainCamera.transform.position - var_440_15.position

				var_440_15.forward = Vector3.New(var_440_22.x, var_440_22.y, var_440_22.z)

				local var_440_23 = var_440_15.localEulerAngles

				var_440_23.z = 0
				var_440_23.x = 0
				var_440_15.localEulerAngles = var_440_23
			end

			local var_440_24 = arg_437_1.actors_["1050ui_story"]
			local var_440_25 = 0

			if var_440_25 < arg_437_1.time_ and arg_437_1.time_ <= var_440_25 + arg_440_0 and not isNil(var_440_24) and arg_437_1.var_.characterEffect1050ui_story == nil then
				arg_437_1.var_.characterEffect1050ui_story = var_440_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_440_26 = 0.200000002980232

			if var_440_25 <= arg_437_1.time_ and arg_437_1.time_ < var_440_25 + var_440_26 and not isNil(var_440_24) then
				local var_440_27 = (arg_437_1.time_ - var_440_25) / var_440_26

				if arg_437_1.var_.characterEffect1050ui_story and not isNil(var_440_24) then
					local var_440_28 = Mathf.Lerp(0, 0.5, var_440_27)

					arg_437_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_437_1.var_.characterEffect1050ui_story.fillRatio = var_440_28
				end
			end

			if arg_437_1.time_ >= var_440_25 + var_440_26 and arg_437_1.time_ < var_440_25 + var_440_26 + arg_440_0 and not isNil(var_440_24) and arg_437_1.var_.characterEffect1050ui_story then
				local var_440_29 = 0.5

				arg_437_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_437_1.var_.characterEffect1050ui_story.fillRatio = var_440_29
			end

			local var_440_30 = 0
			local var_440_31 = 0.3

			if var_440_30 < arg_437_1.time_ and arg_437_1.time_ <= var_440_30 + arg_440_0 then
				arg_437_1.talkMaxDuration = 0
				arg_437_1.dialogCg_.alpha = 1

				arg_437_1.dialog_:SetActive(true)
				SetActive(arg_437_1.leftNameGo_, true)

				local var_440_32 = arg_437_1:FormatText(StoryNameCfg[47].name)

				arg_437_1.leftNameTxt_.text = var_440_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_437_1.leftNameTxt_.transform)

				arg_437_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_437_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_437_1:RecordName(arg_437_1.leftNameTxt_.text)
				SetActive(arg_437_1.iconTrs_.gameObject, false)
				arg_437_1.callingController_:SetSelectedState("normal")

				local var_440_33 = arg_437_1:GetWordFromCfg(317021108)
				local var_440_34 = arg_437_1:FormatText(var_440_33.content)

				arg_437_1.text_.text = var_440_34

				LuaForUtil.ClearLinePrefixSymbol(arg_437_1.text_)

				local var_440_35 = 12
				local var_440_36 = utf8.len(var_440_34)
				local var_440_37 = var_440_35 <= 0 and var_440_31 or var_440_31 * (var_440_36 / var_440_35)

				if var_440_37 > 0 and var_440_31 < var_440_37 then
					arg_437_1.talkMaxDuration = var_440_37

					if var_440_37 + var_440_30 > arg_437_1.duration_ then
						arg_437_1.duration_ = var_440_37 + var_440_30
					end
				end

				arg_437_1.text_.text = var_440_34
				arg_437_1.typewritter.percent = 0

				arg_437_1.typewritter:SetDirty()
				arg_437_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021108", "story_v_out_317021.awb") ~= 0 then
					local var_440_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021108", "story_v_out_317021.awb") / 1000

					if var_440_38 + var_440_30 > arg_437_1.duration_ then
						arg_437_1.duration_ = var_440_38 + var_440_30
					end

					if var_440_33.prefab_name ~= "" and arg_437_1.actors_[var_440_33.prefab_name] ~= nil then
						local var_440_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_437_1.actors_[var_440_33.prefab_name].transform, "story_v_out_317021", "317021108", "story_v_out_317021.awb")

						arg_437_1:RecordAudio("317021108", var_440_39)
						arg_437_1:RecordAudio("317021108", var_440_39)
					else
						arg_437_1:AudioAction("play", "voice", "story_v_out_317021", "317021108", "story_v_out_317021.awb")
					end

					arg_437_1:RecordHistoryTalkVoice("story_v_out_317021", "317021108", "story_v_out_317021.awb")
				end

				arg_437_1:RecordContent(arg_437_1.text_.text)
			end

			local var_440_40 = math.max(var_440_31, arg_437_1.talkMaxDuration)

			if var_440_30 <= arg_437_1.time_ and arg_437_1.time_ < var_440_30 + var_440_40 then
				arg_437_1.typewritter.percent = (arg_437_1.time_ - var_440_30) / var_440_40

				arg_437_1.typewritter:SetDirty()
			end

			if arg_437_1.time_ >= var_440_30 + var_440_40 and arg_437_1.time_ < var_440_30 + var_440_40 + arg_440_0 then
				arg_437_1.typewritter.percent = 1

				arg_437_1.typewritter:SetDirty()
				arg_437_1:ShowNextGo(true)
			end
		end
	end,
	Play317021109 = function(arg_441_0, arg_441_1)
		arg_441_1.time_ = 0
		arg_441_1.frameCnt_ = 0
		arg_441_1.state_ = "playing"
		arg_441_1.curTalkId_ = 317021109
		arg_441_1.duration_ = 9.43

		local var_441_0 = {
			zh = 4.3,
			ja = 9.433
		}
		local var_441_1 = manager.audio:GetLocalizationFlag()

		if var_441_0[var_441_1] ~= nil then
			arg_441_1.duration_ = var_441_0[var_441_1]
		end

		SetActive(arg_441_1.tipsGo_, false)

		function arg_441_1.onSingleLineFinish_()
			arg_441_1.onSingleLineUpdate_ = nil
			arg_441_1.onSingleLineFinish_ = nil
			arg_441_1.state_ = "waiting"
		end

		function arg_441_1.playNext_(arg_443_0)
			if arg_443_0 == 1 then
				arg_441_0:Play317021112(arg_441_1)
			end
		end

		function arg_441_1.onSingleLineUpdate_(arg_444_0)
			local var_444_0 = 0
			local var_444_1 = 0.625

			if var_444_0 < arg_441_1.time_ and arg_441_1.time_ <= var_444_0 + arg_444_0 then
				arg_441_1.talkMaxDuration = 0
				arg_441_1.dialogCg_.alpha = 1

				arg_441_1.dialog_:SetActive(true)
				SetActive(arg_441_1.leftNameGo_, true)

				local var_444_2 = arg_441_1:FormatText(StoryNameCfg[47].name)

				arg_441_1.leftNameTxt_.text = var_444_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_441_1.leftNameTxt_.transform)

				arg_441_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_441_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_441_1:RecordName(arg_441_1.leftNameTxt_.text)
				SetActive(arg_441_1.iconTrs_.gameObject, false)
				arg_441_1.callingController_:SetSelectedState("normal")

				local var_444_3 = arg_441_1:GetWordFromCfg(317021109)
				local var_444_4 = arg_441_1:FormatText(var_444_3.content)

				arg_441_1.text_.text = var_444_4

				LuaForUtil.ClearLinePrefixSymbol(arg_441_1.text_)

				local var_444_5 = 25
				local var_444_6 = utf8.len(var_444_4)
				local var_444_7 = var_444_5 <= 0 and var_444_1 or var_444_1 * (var_444_6 / var_444_5)

				if var_444_7 > 0 and var_444_1 < var_444_7 then
					arg_441_1.talkMaxDuration = var_444_7

					if var_444_7 + var_444_0 > arg_441_1.duration_ then
						arg_441_1.duration_ = var_444_7 + var_444_0
					end
				end

				arg_441_1.text_.text = var_444_4
				arg_441_1.typewritter.percent = 0

				arg_441_1.typewritter:SetDirty()
				arg_441_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021109", "story_v_out_317021.awb") ~= 0 then
					local var_444_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021109", "story_v_out_317021.awb") / 1000

					if var_444_8 + var_444_0 > arg_441_1.duration_ then
						arg_441_1.duration_ = var_444_8 + var_444_0
					end

					if var_444_3.prefab_name ~= "" and arg_441_1.actors_[var_444_3.prefab_name] ~= nil then
						local var_444_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_441_1.actors_[var_444_3.prefab_name].transform, "story_v_out_317021", "317021109", "story_v_out_317021.awb")

						arg_441_1:RecordAudio("317021109", var_444_9)
						arg_441_1:RecordAudio("317021109", var_444_9)
					else
						arg_441_1:AudioAction("play", "voice", "story_v_out_317021", "317021109", "story_v_out_317021.awb")
					end

					arg_441_1:RecordHistoryTalkVoice("story_v_out_317021", "317021109", "story_v_out_317021.awb")
				end

				arg_441_1:RecordContent(arg_441_1.text_.text)
			end

			local var_444_10 = math.max(var_444_1, arg_441_1.talkMaxDuration)

			if var_444_0 <= arg_441_1.time_ and arg_441_1.time_ < var_444_0 + var_444_10 then
				arg_441_1.typewritter.percent = (arg_441_1.time_ - var_444_0) / var_444_10

				arg_441_1.typewritter:SetDirty()
			end

			if arg_441_1.time_ >= var_444_0 + var_444_10 and arg_441_1.time_ < var_444_0 + var_444_10 + arg_444_0 then
				arg_441_1.typewritter.percent = 1

				arg_441_1.typewritter:SetDirty()
				arg_441_1:ShowNextGo(true)
			end
		end
	end,
	Play317021112 = function(arg_445_0, arg_445_1)
		arg_445_1.time_ = 0
		arg_445_1.frameCnt_ = 0
		arg_445_1.state_ = "playing"
		arg_445_1.curTalkId_ = 317021112
		arg_445_1.duration_ = 5.17

		local var_445_0 = {
			zh = 2.566,
			ja = 5.166
		}
		local var_445_1 = manager.audio:GetLocalizationFlag()

		if var_445_0[var_445_1] ~= nil then
			arg_445_1.duration_ = var_445_0[var_445_1]
		end

		SetActive(arg_445_1.tipsGo_, false)

		function arg_445_1.onSingleLineFinish_()
			arg_445_1.onSingleLineUpdate_ = nil
			arg_445_1.onSingleLineFinish_ = nil
			arg_445_1.state_ = "waiting"
		end

		function arg_445_1.playNext_(arg_447_0)
			if arg_447_0 == 1 then
				arg_445_0:Play317021113(arg_445_1)
			end
		end

		function arg_445_1.onSingleLineUpdate_(arg_448_0)
			local var_448_0 = arg_445_1.actors_["1019ui_story"].transform
			local var_448_1 = 0

			if var_448_1 < arg_445_1.time_ and arg_445_1.time_ <= var_448_1 + arg_448_0 then
				arg_445_1.var_.moveOldPos1019ui_story = var_448_0.localPosition
			end

			local var_448_2 = 0.001

			if var_448_1 <= arg_445_1.time_ and arg_445_1.time_ < var_448_1 + var_448_2 then
				local var_448_3 = (arg_445_1.time_ - var_448_1) / var_448_2
				local var_448_4 = Vector3.New(0, 100, 0)

				var_448_0.localPosition = Vector3.Lerp(arg_445_1.var_.moveOldPos1019ui_story, var_448_4, var_448_3)

				local var_448_5 = manager.ui.mainCamera.transform.position - var_448_0.position

				var_448_0.forward = Vector3.New(var_448_5.x, var_448_5.y, var_448_5.z)

				local var_448_6 = var_448_0.localEulerAngles

				var_448_6.z = 0
				var_448_6.x = 0
				var_448_0.localEulerAngles = var_448_6
			end

			if arg_445_1.time_ >= var_448_1 + var_448_2 and arg_445_1.time_ < var_448_1 + var_448_2 + arg_448_0 then
				var_448_0.localPosition = Vector3.New(0, 100, 0)

				local var_448_7 = manager.ui.mainCamera.transform.position - var_448_0.position

				var_448_0.forward = Vector3.New(var_448_7.x, var_448_7.y, var_448_7.z)

				local var_448_8 = var_448_0.localEulerAngles

				var_448_8.z = 0
				var_448_8.x = 0
				var_448_0.localEulerAngles = var_448_8
			end

			local var_448_9 = arg_445_1.actors_["1019ui_story"]
			local var_448_10 = 0

			if var_448_10 < arg_445_1.time_ and arg_445_1.time_ <= var_448_10 + arg_448_0 and not isNil(var_448_9) and arg_445_1.var_.characterEffect1019ui_story == nil then
				arg_445_1.var_.characterEffect1019ui_story = var_448_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_448_11 = 0.200000002980232

			if var_448_10 <= arg_445_1.time_ and arg_445_1.time_ < var_448_10 + var_448_11 and not isNil(var_448_9) then
				local var_448_12 = (arg_445_1.time_ - var_448_10) / var_448_11

				if arg_445_1.var_.characterEffect1019ui_story and not isNil(var_448_9) then
					local var_448_13 = Mathf.Lerp(0, 0.5, var_448_12)

					arg_445_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_445_1.var_.characterEffect1019ui_story.fillRatio = var_448_13
				end
			end

			if arg_445_1.time_ >= var_448_10 + var_448_11 and arg_445_1.time_ < var_448_10 + var_448_11 + arg_448_0 and not isNil(var_448_9) and arg_445_1.var_.characterEffect1019ui_story then
				local var_448_14 = 0.5

				arg_445_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_445_1.var_.characterEffect1019ui_story.fillRatio = var_448_14
			end

			local var_448_15 = arg_445_1.actors_["1050ui_story"].transform
			local var_448_16 = 0

			if var_448_16 < arg_445_1.time_ and arg_445_1.time_ <= var_448_16 + arg_448_0 then
				arg_445_1.var_.moveOldPos1050ui_story = var_448_15.localPosition
			end

			local var_448_17 = 0.001

			if var_448_16 <= arg_445_1.time_ and arg_445_1.time_ < var_448_16 + var_448_17 then
				local var_448_18 = (arg_445_1.time_ - var_448_16) / var_448_17
				local var_448_19 = Vector3.New(0, -1, -6.1)

				var_448_15.localPosition = Vector3.Lerp(arg_445_1.var_.moveOldPos1050ui_story, var_448_19, var_448_18)

				local var_448_20 = manager.ui.mainCamera.transform.position - var_448_15.position

				var_448_15.forward = Vector3.New(var_448_20.x, var_448_20.y, var_448_20.z)

				local var_448_21 = var_448_15.localEulerAngles

				var_448_21.z = 0
				var_448_21.x = 0
				var_448_15.localEulerAngles = var_448_21
			end

			if arg_445_1.time_ >= var_448_16 + var_448_17 and arg_445_1.time_ < var_448_16 + var_448_17 + arg_448_0 then
				var_448_15.localPosition = Vector3.New(0, -1, -6.1)

				local var_448_22 = manager.ui.mainCamera.transform.position - var_448_15.position

				var_448_15.forward = Vector3.New(var_448_22.x, var_448_22.y, var_448_22.z)

				local var_448_23 = var_448_15.localEulerAngles

				var_448_23.z = 0
				var_448_23.x = 0
				var_448_15.localEulerAngles = var_448_23
			end

			local var_448_24 = arg_445_1.actors_["1050ui_story"]
			local var_448_25 = 0

			if var_448_25 < arg_445_1.time_ and arg_445_1.time_ <= var_448_25 + arg_448_0 and not isNil(var_448_24) and arg_445_1.var_.characterEffect1050ui_story == nil then
				arg_445_1.var_.characterEffect1050ui_story = var_448_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_448_26 = 0.200000002980232

			if var_448_25 <= arg_445_1.time_ and arg_445_1.time_ < var_448_25 + var_448_26 and not isNil(var_448_24) then
				local var_448_27 = (arg_445_1.time_ - var_448_25) / var_448_26

				if arg_445_1.var_.characterEffect1050ui_story and not isNil(var_448_24) then
					arg_445_1.var_.characterEffect1050ui_story.fillFlat = false
				end
			end

			if arg_445_1.time_ >= var_448_25 + var_448_26 and arg_445_1.time_ < var_448_25 + var_448_26 + arg_448_0 and not isNil(var_448_24) and arg_445_1.var_.characterEffect1050ui_story then
				arg_445_1.var_.characterEffect1050ui_story.fillFlat = false
			end

			local var_448_28 = 0

			if var_448_28 < arg_445_1.time_ and arg_445_1.time_ <= var_448_28 + arg_448_0 then
				arg_445_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/1050/1050action/1050action1_1")
			end

			local var_448_29 = 0

			if var_448_29 < arg_445_1.time_ and arg_445_1.time_ <= var_448_29 + arg_448_0 then
				arg_445_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface3102cva")
			end

			local var_448_30 = 0
			local var_448_31 = 0.25

			if var_448_30 < arg_445_1.time_ and arg_445_1.time_ <= var_448_30 + arg_448_0 then
				arg_445_1.talkMaxDuration = 0
				arg_445_1.dialogCg_.alpha = 1

				arg_445_1.dialog_:SetActive(true)
				SetActive(arg_445_1.leftNameGo_, true)

				local var_448_32 = arg_445_1:FormatText(StoryNameCfg[74].name)

				arg_445_1.leftNameTxt_.text = var_448_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_445_1.leftNameTxt_.transform)

				arg_445_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_445_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_445_1:RecordName(arg_445_1.leftNameTxt_.text)
				SetActive(arg_445_1.iconTrs_.gameObject, false)
				arg_445_1.callingController_:SetSelectedState("normal")

				local var_448_33 = arg_445_1:GetWordFromCfg(317021112)
				local var_448_34 = arg_445_1:FormatText(var_448_33.content)

				arg_445_1.text_.text = var_448_34

				LuaForUtil.ClearLinePrefixSymbol(arg_445_1.text_)

				local var_448_35 = 10
				local var_448_36 = utf8.len(var_448_34)
				local var_448_37 = var_448_35 <= 0 and var_448_31 or var_448_31 * (var_448_36 / var_448_35)

				if var_448_37 > 0 and var_448_31 < var_448_37 then
					arg_445_1.talkMaxDuration = var_448_37

					if var_448_37 + var_448_30 > arg_445_1.duration_ then
						arg_445_1.duration_ = var_448_37 + var_448_30
					end
				end

				arg_445_1.text_.text = var_448_34
				arg_445_1.typewritter.percent = 0

				arg_445_1.typewritter:SetDirty()
				arg_445_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021112", "story_v_out_317021.awb") ~= 0 then
					local var_448_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021112", "story_v_out_317021.awb") / 1000

					if var_448_38 + var_448_30 > arg_445_1.duration_ then
						arg_445_1.duration_ = var_448_38 + var_448_30
					end

					if var_448_33.prefab_name ~= "" and arg_445_1.actors_[var_448_33.prefab_name] ~= nil then
						local var_448_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_445_1.actors_[var_448_33.prefab_name].transform, "story_v_out_317021", "317021112", "story_v_out_317021.awb")

						arg_445_1:RecordAudio("317021112", var_448_39)
						arg_445_1:RecordAudio("317021112", var_448_39)
					else
						arg_445_1:AudioAction("play", "voice", "story_v_out_317021", "317021112", "story_v_out_317021.awb")
					end

					arg_445_1:RecordHistoryTalkVoice("story_v_out_317021", "317021112", "story_v_out_317021.awb")
				end

				arg_445_1:RecordContent(arg_445_1.text_.text)
			end

			local var_448_40 = math.max(var_448_31, arg_445_1.talkMaxDuration)

			if var_448_30 <= arg_445_1.time_ and arg_445_1.time_ < var_448_30 + var_448_40 then
				arg_445_1.typewritter.percent = (arg_445_1.time_ - var_448_30) / var_448_40

				arg_445_1.typewritter:SetDirty()
			end

			if arg_445_1.time_ >= var_448_30 + var_448_40 and arg_445_1.time_ < var_448_30 + var_448_40 + arg_448_0 then
				arg_445_1.typewritter.percent = 1

				arg_445_1.typewritter:SetDirty()
				arg_445_1:ShowNextGo(true)
			end
		end
	end,
	Play317021113 = function(arg_449_0, arg_449_1)
		arg_449_1.time_ = 0
		arg_449_1.frameCnt_ = 0
		arg_449_1.state_ = "playing"
		arg_449_1.curTalkId_ = 317021113
		arg_449_1.duration_ = 5

		SetActive(arg_449_1.tipsGo_, false)

		function arg_449_1.onSingleLineFinish_()
			arg_449_1.onSingleLineUpdate_ = nil
			arg_449_1.onSingleLineFinish_ = nil
			arg_449_1.state_ = "waiting"
		end

		function arg_449_1.playNext_(arg_451_0)
			if arg_451_0 == 1 then
				arg_449_0:Play317021114(arg_449_1)
			end
		end

		function arg_449_1.onSingleLineUpdate_(arg_452_0)
			local var_452_0 = arg_449_1.actors_["1050ui_story"].transform
			local var_452_1 = 0

			if var_452_1 < arg_449_1.time_ and arg_449_1.time_ <= var_452_1 + arg_452_0 then
				arg_449_1.var_.moveOldPos1050ui_story = var_452_0.localPosition
			end

			local var_452_2 = 0.001

			if var_452_1 <= arg_449_1.time_ and arg_449_1.time_ < var_452_1 + var_452_2 then
				local var_452_3 = (arg_449_1.time_ - var_452_1) / var_452_2
				local var_452_4 = Vector3.New(0, 100, 0)

				var_452_0.localPosition = Vector3.Lerp(arg_449_1.var_.moveOldPos1050ui_story, var_452_4, var_452_3)

				local var_452_5 = manager.ui.mainCamera.transform.position - var_452_0.position

				var_452_0.forward = Vector3.New(var_452_5.x, var_452_5.y, var_452_5.z)

				local var_452_6 = var_452_0.localEulerAngles

				var_452_6.z = 0
				var_452_6.x = 0
				var_452_0.localEulerAngles = var_452_6
			end

			if arg_449_1.time_ >= var_452_1 + var_452_2 and arg_449_1.time_ < var_452_1 + var_452_2 + arg_452_0 then
				var_452_0.localPosition = Vector3.New(0, 100, 0)

				local var_452_7 = manager.ui.mainCamera.transform.position - var_452_0.position

				var_452_0.forward = Vector3.New(var_452_7.x, var_452_7.y, var_452_7.z)

				local var_452_8 = var_452_0.localEulerAngles

				var_452_8.z = 0
				var_452_8.x = 0
				var_452_0.localEulerAngles = var_452_8
			end

			local var_452_9 = 0
			local var_452_10 = 0.65

			if var_452_9 < arg_449_1.time_ and arg_449_1.time_ <= var_452_9 + arg_452_0 then
				arg_449_1.talkMaxDuration = 0
				arg_449_1.dialogCg_.alpha = 1

				arg_449_1.dialog_:SetActive(true)
				SetActive(arg_449_1.leftNameGo_, false)

				arg_449_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_449_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_449_1:RecordName(arg_449_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_449_1.iconTrs_.gameObject, false)
				arg_449_1.callingController_:SetSelectedState("normal")

				local var_452_11 = arg_449_1:GetWordFromCfg(317021113)
				local var_452_12 = arg_449_1:FormatText(var_452_11.content)

				arg_449_1.text_.text = var_452_12

				LuaForUtil.ClearLinePrefixSymbol(arg_449_1.text_)

				local var_452_13 = 26
				local var_452_14 = utf8.len(var_452_12)
				local var_452_15 = var_452_13 <= 0 and var_452_10 or var_452_10 * (var_452_14 / var_452_13)

				if var_452_15 > 0 and var_452_10 < var_452_15 then
					arg_449_1.talkMaxDuration = var_452_15

					if var_452_15 + var_452_9 > arg_449_1.duration_ then
						arg_449_1.duration_ = var_452_15 + var_452_9
					end
				end

				arg_449_1.text_.text = var_452_12
				arg_449_1.typewritter.percent = 0

				arg_449_1.typewritter:SetDirty()
				arg_449_1:ShowNextGo(false)
				arg_449_1:RecordContent(arg_449_1.text_.text)
			end

			local var_452_16 = math.max(var_452_10, arg_449_1.talkMaxDuration)

			if var_452_9 <= arg_449_1.time_ and arg_449_1.time_ < var_452_9 + var_452_16 then
				arg_449_1.typewritter.percent = (arg_449_1.time_ - var_452_9) / var_452_16

				arg_449_1.typewritter:SetDirty()
			end

			if arg_449_1.time_ >= var_452_9 + var_452_16 and arg_449_1.time_ < var_452_9 + var_452_16 + arg_452_0 then
				arg_449_1.typewritter.percent = 1

				arg_449_1.typewritter:SetDirty()
				arg_449_1:ShowNextGo(true)
			end
		end
	end,
	Play317021114 = function(arg_453_0, arg_453_1)
		arg_453_1.time_ = 0
		arg_453_1.frameCnt_ = 0
		arg_453_1.state_ = "playing"
		arg_453_1.curTalkId_ = 317021114
		arg_453_1.duration_ = 4.2

		local var_453_0 = {
			zh = 4.2,
			ja = 3.133
		}
		local var_453_1 = manager.audio:GetLocalizationFlag()

		if var_453_0[var_453_1] ~= nil then
			arg_453_1.duration_ = var_453_0[var_453_1]
		end

		SetActive(arg_453_1.tipsGo_, false)

		function arg_453_1.onSingleLineFinish_()
			arg_453_1.onSingleLineUpdate_ = nil
			arg_453_1.onSingleLineFinish_ = nil
			arg_453_1.state_ = "waiting"
		end

		function arg_453_1.playNext_(arg_455_0)
			if arg_455_0 == 1 then
				arg_453_0:Play317021115(arg_453_1)
			end
		end

		function arg_453_1.onSingleLineUpdate_(arg_456_0)
			local var_456_0 = arg_453_1.actors_["1019ui_story"].transform
			local var_456_1 = 0

			if var_456_1 < arg_453_1.time_ and arg_453_1.time_ <= var_456_1 + arg_456_0 then
				arg_453_1.var_.moveOldPos1019ui_story = var_456_0.localPosition
			end

			local var_456_2 = 0.001

			if var_456_1 <= arg_453_1.time_ and arg_453_1.time_ < var_456_1 + var_456_2 then
				local var_456_3 = (arg_453_1.time_ - var_456_1) / var_456_2
				local var_456_4 = Vector3.New(-0.2, -1.08, -5.9)

				var_456_0.localPosition = Vector3.Lerp(arg_453_1.var_.moveOldPos1019ui_story, var_456_4, var_456_3)

				local var_456_5 = manager.ui.mainCamera.transform.position - var_456_0.position

				var_456_0.forward = Vector3.New(var_456_5.x, var_456_5.y, var_456_5.z)

				local var_456_6 = var_456_0.localEulerAngles

				var_456_6.z = 0
				var_456_6.x = 0
				var_456_0.localEulerAngles = var_456_6
			end

			if arg_453_1.time_ >= var_456_1 + var_456_2 and arg_453_1.time_ < var_456_1 + var_456_2 + arg_456_0 then
				var_456_0.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_456_7 = manager.ui.mainCamera.transform.position - var_456_0.position

				var_456_0.forward = Vector3.New(var_456_7.x, var_456_7.y, var_456_7.z)

				local var_456_8 = var_456_0.localEulerAngles

				var_456_8.z = 0
				var_456_8.x = 0
				var_456_0.localEulerAngles = var_456_8
			end

			local var_456_9 = arg_453_1.actors_["1019ui_story"]
			local var_456_10 = 0

			if var_456_10 < arg_453_1.time_ and arg_453_1.time_ <= var_456_10 + arg_456_0 and not isNil(var_456_9) and arg_453_1.var_.characterEffect1019ui_story == nil then
				arg_453_1.var_.characterEffect1019ui_story = var_456_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_456_11 = 0.200000002980232

			if var_456_10 <= arg_453_1.time_ and arg_453_1.time_ < var_456_10 + var_456_11 and not isNil(var_456_9) then
				local var_456_12 = (arg_453_1.time_ - var_456_10) / var_456_11

				if arg_453_1.var_.characterEffect1019ui_story and not isNil(var_456_9) then
					arg_453_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_453_1.time_ >= var_456_10 + var_456_11 and arg_453_1.time_ < var_456_10 + var_456_11 + arg_456_0 and not isNil(var_456_9) and arg_453_1.var_.characterEffect1019ui_story then
				arg_453_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_456_13 = 0

			if var_456_13 < arg_453_1.time_ and arg_453_1.time_ <= var_456_13 + arg_456_0 then
				arg_453_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_456_14 = 0

			if var_456_14 < arg_453_1.time_ and arg_453_1.time_ <= var_456_14 + arg_456_0 then
				arg_453_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_456_15 = 0
			local var_456_16 = 0.525

			if var_456_15 < arg_453_1.time_ and arg_453_1.time_ <= var_456_15 + arg_456_0 then
				arg_453_1.talkMaxDuration = 0
				arg_453_1.dialogCg_.alpha = 1

				arg_453_1.dialog_:SetActive(true)
				SetActive(arg_453_1.leftNameGo_, true)

				local var_456_17 = arg_453_1:FormatText(StoryNameCfg[47].name)

				arg_453_1.leftNameTxt_.text = var_456_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_453_1.leftNameTxt_.transform)

				arg_453_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_453_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_453_1:RecordName(arg_453_1.leftNameTxt_.text)
				SetActive(arg_453_1.iconTrs_.gameObject, false)
				arg_453_1.callingController_:SetSelectedState("normal")

				local var_456_18 = arg_453_1:GetWordFromCfg(317021114)
				local var_456_19 = arg_453_1:FormatText(var_456_18.content)

				arg_453_1.text_.text = var_456_19

				LuaForUtil.ClearLinePrefixSymbol(arg_453_1.text_)

				local var_456_20 = 21
				local var_456_21 = utf8.len(var_456_19)
				local var_456_22 = var_456_20 <= 0 and var_456_16 or var_456_16 * (var_456_21 / var_456_20)

				if var_456_22 > 0 and var_456_16 < var_456_22 then
					arg_453_1.talkMaxDuration = var_456_22

					if var_456_22 + var_456_15 > arg_453_1.duration_ then
						arg_453_1.duration_ = var_456_22 + var_456_15
					end
				end

				arg_453_1.text_.text = var_456_19
				arg_453_1.typewritter.percent = 0

				arg_453_1.typewritter:SetDirty()
				arg_453_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021114", "story_v_out_317021.awb") ~= 0 then
					local var_456_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021114", "story_v_out_317021.awb") / 1000

					if var_456_23 + var_456_15 > arg_453_1.duration_ then
						arg_453_1.duration_ = var_456_23 + var_456_15
					end

					if var_456_18.prefab_name ~= "" and arg_453_1.actors_[var_456_18.prefab_name] ~= nil then
						local var_456_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_453_1.actors_[var_456_18.prefab_name].transform, "story_v_out_317021", "317021114", "story_v_out_317021.awb")

						arg_453_1:RecordAudio("317021114", var_456_24)
						arg_453_1:RecordAudio("317021114", var_456_24)
					else
						arg_453_1:AudioAction("play", "voice", "story_v_out_317021", "317021114", "story_v_out_317021.awb")
					end

					arg_453_1:RecordHistoryTalkVoice("story_v_out_317021", "317021114", "story_v_out_317021.awb")
				end

				arg_453_1:RecordContent(arg_453_1.text_.text)
			end

			local var_456_25 = math.max(var_456_16, arg_453_1.talkMaxDuration)

			if var_456_15 <= arg_453_1.time_ and arg_453_1.time_ < var_456_15 + var_456_25 then
				arg_453_1.typewritter.percent = (arg_453_1.time_ - var_456_15) / var_456_25

				arg_453_1.typewritter:SetDirty()
			end

			if arg_453_1.time_ >= var_456_15 + var_456_25 and arg_453_1.time_ < var_456_15 + var_456_25 + arg_456_0 then
				arg_453_1.typewritter.percent = 1

				arg_453_1.typewritter:SetDirty()
				arg_453_1:ShowNextGo(true)
			end
		end
	end,
	Play317021115 = function(arg_457_0, arg_457_1)
		arg_457_1.time_ = 0
		arg_457_1.frameCnt_ = 0
		arg_457_1.state_ = "playing"
		arg_457_1.curTalkId_ = 317021115
		arg_457_1.duration_ = 5

		SetActive(arg_457_1.tipsGo_, false)

		function arg_457_1.onSingleLineFinish_()
			arg_457_1.onSingleLineUpdate_ = nil
			arg_457_1.onSingleLineFinish_ = nil
			arg_457_1.state_ = "waiting"
		end

		function arg_457_1.playNext_(arg_459_0)
			if arg_459_0 == 1 then
				arg_457_0:Play317021116(arg_457_1)
			end
		end

		function arg_457_1.onSingleLineUpdate_(arg_460_0)
			local var_460_0 = arg_457_1.actors_["1019ui_story"]
			local var_460_1 = 0

			if var_460_1 < arg_457_1.time_ and arg_457_1.time_ <= var_460_1 + arg_460_0 and not isNil(var_460_0) and arg_457_1.var_.characterEffect1019ui_story == nil then
				arg_457_1.var_.characterEffect1019ui_story = var_460_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_460_2 = 0.200000002980232

			if var_460_1 <= arg_457_1.time_ and arg_457_1.time_ < var_460_1 + var_460_2 and not isNil(var_460_0) then
				local var_460_3 = (arg_457_1.time_ - var_460_1) / var_460_2

				if arg_457_1.var_.characterEffect1019ui_story and not isNil(var_460_0) then
					local var_460_4 = Mathf.Lerp(0, 0.5, var_460_3)

					arg_457_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_457_1.var_.characterEffect1019ui_story.fillRatio = var_460_4
				end
			end

			if arg_457_1.time_ >= var_460_1 + var_460_2 and arg_457_1.time_ < var_460_1 + var_460_2 + arg_460_0 and not isNil(var_460_0) and arg_457_1.var_.characterEffect1019ui_story then
				local var_460_5 = 0.5

				arg_457_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_457_1.var_.characterEffect1019ui_story.fillRatio = var_460_5
			end

			local var_460_6 = 0
			local var_460_7 = 0.5

			if var_460_6 < arg_457_1.time_ and arg_457_1.time_ <= var_460_6 + arg_460_0 then
				arg_457_1.talkMaxDuration = 0
				arg_457_1.dialogCg_.alpha = 1

				arg_457_1.dialog_:SetActive(true)
				SetActive(arg_457_1.leftNameGo_, true)

				local var_460_8 = arg_457_1:FormatText(StoryNameCfg[7].name)

				arg_457_1.leftNameTxt_.text = var_460_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_457_1.leftNameTxt_.transform)

				arg_457_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_457_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_457_1:RecordName(arg_457_1.leftNameTxt_.text)
				SetActive(arg_457_1.iconTrs_.gameObject, false)
				arg_457_1.callingController_:SetSelectedState("normal")

				local var_460_9 = arg_457_1:GetWordFromCfg(317021115)
				local var_460_10 = arg_457_1:FormatText(var_460_9.content)

				arg_457_1.text_.text = var_460_10

				LuaForUtil.ClearLinePrefixSymbol(arg_457_1.text_)

				local var_460_11 = 20
				local var_460_12 = utf8.len(var_460_10)
				local var_460_13 = var_460_11 <= 0 and var_460_7 or var_460_7 * (var_460_12 / var_460_11)

				if var_460_13 > 0 and var_460_7 < var_460_13 then
					arg_457_1.talkMaxDuration = var_460_13

					if var_460_13 + var_460_6 > arg_457_1.duration_ then
						arg_457_1.duration_ = var_460_13 + var_460_6
					end
				end

				arg_457_1.text_.text = var_460_10
				arg_457_1.typewritter.percent = 0

				arg_457_1.typewritter:SetDirty()
				arg_457_1:ShowNextGo(false)
				arg_457_1:RecordContent(arg_457_1.text_.text)
			end

			local var_460_14 = math.max(var_460_7, arg_457_1.talkMaxDuration)

			if var_460_6 <= arg_457_1.time_ and arg_457_1.time_ < var_460_6 + var_460_14 then
				arg_457_1.typewritter.percent = (arg_457_1.time_ - var_460_6) / var_460_14

				arg_457_1.typewritter:SetDirty()
			end

			if arg_457_1.time_ >= var_460_6 + var_460_14 and arg_457_1.time_ < var_460_6 + var_460_14 + arg_460_0 then
				arg_457_1.typewritter.percent = 1

				arg_457_1.typewritter:SetDirty()
				arg_457_1:ShowNextGo(true)
			end
		end
	end,
	Play317021116 = function(arg_461_0, arg_461_1)
		arg_461_1.time_ = 0
		arg_461_1.frameCnt_ = 0
		arg_461_1.state_ = "playing"
		arg_461_1.curTalkId_ = 317021116
		arg_461_1.duration_ = 5

		SetActive(arg_461_1.tipsGo_, false)

		function arg_461_1.onSingleLineFinish_()
			arg_461_1.onSingleLineUpdate_ = nil
			arg_461_1.onSingleLineFinish_ = nil
			arg_461_1.state_ = "waiting"
		end

		function arg_461_1.playNext_(arg_463_0)
			if arg_463_0 == 1 then
				arg_461_0:Play317021117(arg_461_1)
			end
		end

		function arg_461_1.onSingleLineUpdate_(arg_464_0)
			local var_464_0 = 0
			local var_464_1 = 0.7

			if var_464_0 < arg_461_1.time_ and arg_461_1.time_ <= var_464_0 + arg_464_0 then
				arg_461_1.talkMaxDuration = 0
				arg_461_1.dialogCg_.alpha = 1

				arg_461_1.dialog_:SetActive(true)
				SetActive(arg_461_1.leftNameGo_, true)

				local var_464_2 = arg_461_1:FormatText(StoryNameCfg[7].name)

				arg_461_1.leftNameTxt_.text = var_464_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_461_1.leftNameTxt_.transform)

				arg_461_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_461_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_461_1:RecordName(arg_461_1.leftNameTxt_.text)
				SetActive(arg_461_1.iconTrs_.gameObject, false)
				arg_461_1.callingController_:SetSelectedState("normal")

				local var_464_3 = arg_461_1:GetWordFromCfg(317021116)
				local var_464_4 = arg_461_1:FormatText(var_464_3.content)

				arg_461_1.text_.text = var_464_4

				LuaForUtil.ClearLinePrefixSymbol(arg_461_1.text_)

				local var_464_5 = 28
				local var_464_6 = utf8.len(var_464_4)
				local var_464_7 = var_464_5 <= 0 and var_464_1 or var_464_1 * (var_464_6 / var_464_5)

				if var_464_7 > 0 and var_464_1 < var_464_7 then
					arg_461_1.talkMaxDuration = var_464_7

					if var_464_7 + var_464_0 > arg_461_1.duration_ then
						arg_461_1.duration_ = var_464_7 + var_464_0
					end
				end

				arg_461_1.text_.text = var_464_4
				arg_461_1.typewritter.percent = 0

				arg_461_1.typewritter:SetDirty()
				arg_461_1:ShowNextGo(false)
				arg_461_1:RecordContent(arg_461_1.text_.text)
			end

			local var_464_8 = math.max(var_464_1, arg_461_1.talkMaxDuration)

			if var_464_0 <= arg_461_1.time_ and arg_461_1.time_ < var_464_0 + var_464_8 then
				arg_461_1.typewritter.percent = (arg_461_1.time_ - var_464_0) / var_464_8

				arg_461_1.typewritter:SetDirty()
			end

			if arg_461_1.time_ >= var_464_0 + var_464_8 and arg_461_1.time_ < var_464_0 + var_464_8 + arg_464_0 then
				arg_461_1.typewritter.percent = 1

				arg_461_1.typewritter:SetDirty()
				arg_461_1:ShowNextGo(true)
			end
		end
	end,
	Play317021117 = function(arg_465_0, arg_465_1)
		arg_465_1.time_ = 0
		arg_465_1.frameCnt_ = 0
		arg_465_1.state_ = "playing"
		arg_465_1.curTalkId_ = 317021117
		arg_465_1.duration_ = 6.33

		local var_465_0 = {
			zh = 5.233,
			ja = 6.333
		}
		local var_465_1 = manager.audio:GetLocalizationFlag()

		if var_465_0[var_465_1] ~= nil then
			arg_465_1.duration_ = var_465_0[var_465_1]
		end

		SetActive(arg_465_1.tipsGo_, false)

		function arg_465_1.onSingleLineFinish_()
			arg_465_1.onSingleLineUpdate_ = nil
			arg_465_1.onSingleLineFinish_ = nil
			arg_465_1.state_ = "waiting"
		end

		function arg_465_1.playNext_(arg_467_0)
			if arg_467_0 == 1 then
				arg_465_0:Play317021118(arg_465_1)
			end
		end

		function arg_465_1.onSingleLineUpdate_(arg_468_0)
			local var_468_0 = arg_465_1.actors_["1019ui_story"].transform
			local var_468_1 = 0

			if var_468_1 < arg_465_1.time_ and arg_465_1.time_ <= var_468_1 + arg_468_0 then
				arg_465_1.var_.moveOldPos1019ui_story = var_468_0.localPosition
			end

			local var_468_2 = 0.001

			if var_468_1 <= arg_465_1.time_ and arg_465_1.time_ < var_468_1 + var_468_2 then
				local var_468_3 = (arg_465_1.time_ - var_468_1) / var_468_2
				local var_468_4 = Vector3.New(0, 100, 0)

				var_468_0.localPosition = Vector3.Lerp(arg_465_1.var_.moveOldPos1019ui_story, var_468_4, var_468_3)

				local var_468_5 = manager.ui.mainCamera.transform.position - var_468_0.position

				var_468_0.forward = Vector3.New(var_468_5.x, var_468_5.y, var_468_5.z)

				local var_468_6 = var_468_0.localEulerAngles

				var_468_6.z = 0
				var_468_6.x = 0
				var_468_0.localEulerAngles = var_468_6
			end

			if arg_465_1.time_ >= var_468_1 + var_468_2 and arg_465_1.time_ < var_468_1 + var_468_2 + arg_468_0 then
				var_468_0.localPosition = Vector3.New(0, 100, 0)

				local var_468_7 = manager.ui.mainCamera.transform.position - var_468_0.position

				var_468_0.forward = Vector3.New(var_468_7.x, var_468_7.y, var_468_7.z)

				local var_468_8 = var_468_0.localEulerAngles

				var_468_8.z = 0
				var_468_8.x = 0
				var_468_0.localEulerAngles = var_468_8
			end

			local var_468_9 = arg_465_1.actors_["1019ui_story"]
			local var_468_10 = 0

			if var_468_10 < arg_465_1.time_ and arg_465_1.time_ <= var_468_10 + arg_468_0 and not isNil(var_468_9) and arg_465_1.var_.characterEffect1019ui_story == nil then
				arg_465_1.var_.characterEffect1019ui_story = var_468_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_468_11 = 0.200000002980232

			if var_468_10 <= arg_465_1.time_ and arg_465_1.time_ < var_468_10 + var_468_11 and not isNil(var_468_9) then
				local var_468_12 = (arg_465_1.time_ - var_468_10) / var_468_11

				if arg_465_1.var_.characterEffect1019ui_story and not isNil(var_468_9) then
					local var_468_13 = Mathf.Lerp(0, 0.5, var_468_12)

					arg_465_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_465_1.var_.characterEffect1019ui_story.fillRatio = var_468_13
				end
			end

			if arg_465_1.time_ >= var_468_10 + var_468_11 and arg_465_1.time_ < var_468_10 + var_468_11 + arg_468_0 and not isNil(var_468_9) and arg_465_1.var_.characterEffect1019ui_story then
				local var_468_14 = 0.5

				arg_465_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_465_1.var_.characterEffect1019ui_story.fillRatio = var_468_14
			end

			local var_468_15 = arg_465_1.actors_["1093ui_story"].transform
			local var_468_16 = 0

			if var_468_16 < arg_465_1.time_ and arg_465_1.time_ <= var_468_16 + arg_468_0 then
				arg_465_1.var_.moveOldPos1093ui_story = var_468_15.localPosition
			end

			local var_468_17 = 0.001

			if var_468_16 <= arg_465_1.time_ and arg_465_1.time_ < var_468_16 + var_468_17 then
				local var_468_18 = (arg_465_1.time_ - var_468_16) / var_468_17
				local var_468_19 = Vector3.New(0, -1.11, -5.88)

				var_468_15.localPosition = Vector3.Lerp(arg_465_1.var_.moveOldPos1093ui_story, var_468_19, var_468_18)

				local var_468_20 = manager.ui.mainCamera.transform.position - var_468_15.position

				var_468_15.forward = Vector3.New(var_468_20.x, var_468_20.y, var_468_20.z)

				local var_468_21 = var_468_15.localEulerAngles

				var_468_21.z = 0
				var_468_21.x = 0
				var_468_15.localEulerAngles = var_468_21
			end

			if arg_465_1.time_ >= var_468_16 + var_468_17 and arg_465_1.time_ < var_468_16 + var_468_17 + arg_468_0 then
				var_468_15.localPosition = Vector3.New(0, -1.11, -5.88)

				local var_468_22 = manager.ui.mainCamera.transform.position - var_468_15.position

				var_468_15.forward = Vector3.New(var_468_22.x, var_468_22.y, var_468_22.z)

				local var_468_23 = var_468_15.localEulerAngles

				var_468_23.z = 0
				var_468_23.x = 0
				var_468_15.localEulerAngles = var_468_23
			end

			local var_468_24 = arg_465_1.actors_["1093ui_story"]
			local var_468_25 = 0

			if var_468_25 < arg_465_1.time_ and arg_465_1.time_ <= var_468_25 + arg_468_0 and not isNil(var_468_24) and arg_465_1.var_.characterEffect1093ui_story == nil then
				arg_465_1.var_.characterEffect1093ui_story = var_468_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_468_26 = 0.200000002980232

			if var_468_25 <= arg_465_1.time_ and arg_465_1.time_ < var_468_25 + var_468_26 and not isNil(var_468_24) then
				local var_468_27 = (arg_465_1.time_ - var_468_25) / var_468_26

				if arg_465_1.var_.characterEffect1093ui_story and not isNil(var_468_24) then
					arg_465_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_465_1.time_ >= var_468_25 + var_468_26 and arg_465_1.time_ < var_468_25 + var_468_26 + arg_468_0 and not isNil(var_468_24) and arg_465_1.var_.characterEffect1093ui_story then
				arg_465_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_468_28 = 0

			if var_468_28 < arg_465_1.time_ and arg_465_1.time_ <= var_468_28 + arg_468_0 then
				arg_465_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action1_1")
			end

			local var_468_29 = 0

			if var_468_29 < arg_465_1.time_ and arg_465_1.time_ <= var_468_29 + arg_468_0 then
				arg_465_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_468_30 = 0
			local var_468_31 = 0.675

			if var_468_30 < arg_465_1.time_ and arg_465_1.time_ <= var_468_30 + arg_468_0 then
				arg_465_1.talkMaxDuration = 0
				arg_465_1.dialogCg_.alpha = 1

				arg_465_1.dialog_:SetActive(true)
				SetActive(arg_465_1.leftNameGo_, true)

				local var_468_32 = arg_465_1:FormatText(StoryNameCfg[73].name)

				arg_465_1.leftNameTxt_.text = var_468_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_465_1.leftNameTxt_.transform)

				arg_465_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_465_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_465_1:RecordName(arg_465_1.leftNameTxt_.text)
				SetActive(arg_465_1.iconTrs_.gameObject, false)
				arg_465_1.callingController_:SetSelectedState("normal")

				local var_468_33 = arg_465_1:GetWordFromCfg(317021117)
				local var_468_34 = arg_465_1:FormatText(var_468_33.content)

				arg_465_1.text_.text = var_468_34

				LuaForUtil.ClearLinePrefixSymbol(arg_465_1.text_)

				local var_468_35 = 27
				local var_468_36 = utf8.len(var_468_34)
				local var_468_37 = var_468_35 <= 0 and var_468_31 or var_468_31 * (var_468_36 / var_468_35)

				if var_468_37 > 0 and var_468_31 < var_468_37 then
					arg_465_1.talkMaxDuration = var_468_37

					if var_468_37 + var_468_30 > arg_465_1.duration_ then
						arg_465_1.duration_ = var_468_37 + var_468_30
					end
				end

				arg_465_1.text_.text = var_468_34
				arg_465_1.typewritter.percent = 0

				arg_465_1.typewritter:SetDirty()
				arg_465_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021117", "story_v_out_317021.awb") ~= 0 then
					local var_468_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021117", "story_v_out_317021.awb") / 1000

					if var_468_38 + var_468_30 > arg_465_1.duration_ then
						arg_465_1.duration_ = var_468_38 + var_468_30
					end

					if var_468_33.prefab_name ~= "" and arg_465_1.actors_[var_468_33.prefab_name] ~= nil then
						local var_468_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_465_1.actors_[var_468_33.prefab_name].transform, "story_v_out_317021", "317021117", "story_v_out_317021.awb")

						arg_465_1:RecordAudio("317021117", var_468_39)
						arg_465_1:RecordAudio("317021117", var_468_39)
					else
						arg_465_1:AudioAction("play", "voice", "story_v_out_317021", "317021117", "story_v_out_317021.awb")
					end

					arg_465_1:RecordHistoryTalkVoice("story_v_out_317021", "317021117", "story_v_out_317021.awb")
				end

				arg_465_1:RecordContent(arg_465_1.text_.text)
			end

			local var_468_40 = math.max(var_468_31, arg_465_1.talkMaxDuration)

			if var_468_30 <= arg_465_1.time_ and arg_465_1.time_ < var_468_30 + var_468_40 then
				arg_465_1.typewritter.percent = (arg_465_1.time_ - var_468_30) / var_468_40

				arg_465_1.typewritter:SetDirty()
			end

			if arg_465_1.time_ >= var_468_30 + var_468_40 and arg_465_1.time_ < var_468_30 + var_468_40 + arg_468_0 then
				arg_465_1.typewritter.percent = 1

				arg_465_1.typewritter:SetDirty()
				arg_465_1:ShowNextGo(true)
			end
		end
	end,
	Play317021118 = function(arg_469_0, arg_469_1)
		arg_469_1.time_ = 0
		arg_469_1.frameCnt_ = 0
		arg_469_1.state_ = "playing"
		arg_469_1.curTalkId_ = 317021118
		arg_469_1.duration_ = 2

		SetActive(arg_469_1.tipsGo_, false)

		function arg_469_1.onSingleLineFinish_()
			arg_469_1.onSingleLineUpdate_ = nil
			arg_469_1.onSingleLineFinish_ = nil
			arg_469_1.state_ = "waiting"
		end

		function arg_469_1.playNext_(arg_471_0)
			if arg_471_0 == 1 then
				arg_469_0:Play317021119(arg_469_1)
			end
		end

		function arg_469_1.onSingleLineUpdate_(arg_472_0)
			local var_472_0 = arg_469_1.actors_["1093ui_story"].transform
			local var_472_1 = 0

			if var_472_1 < arg_469_1.time_ and arg_469_1.time_ <= var_472_1 + arg_472_0 then
				arg_469_1.var_.moveOldPos1093ui_story = var_472_0.localPosition
			end

			local var_472_2 = 0.001

			if var_472_1 <= arg_469_1.time_ and arg_469_1.time_ < var_472_1 + var_472_2 then
				local var_472_3 = (arg_469_1.time_ - var_472_1) / var_472_2
				local var_472_4 = Vector3.New(0, 100, 0)

				var_472_0.localPosition = Vector3.Lerp(arg_469_1.var_.moveOldPos1093ui_story, var_472_4, var_472_3)

				local var_472_5 = manager.ui.mainCamera.transform.position - var_472_0.position

				var_472_0.forward = Vector3.New(var_472_5.x, var_472_5.y, var_472_5.z)

				local var_472_6 = var_472_0.localEulerAngles

				var_472_6.z = 0
				var_472_6.x = 0
				var_472_0.localEulerAngles = var_472_6
			end

			if arg_469_1.time_ >= var_472_1 + var_472_2 and arg_469_1.time_ < var_472_1 + var_472_2 + arg_472_0 then
				var_472_0.localPosition = Vector3.New(0, 100, 0)

				local var_472_7 = manager.ui.mainCamera.transform.position - var_472_0.position

				var_472_0.forward = Vector3.New(var_472_7.x, var_472_7.y, var_472_7.z)

				local var_472_8 = var_472_0.localEulerAngles

				var_472_8.z = 0
				var_472_8.x = 0
				var_472_0.localEulerAngles = var_472_8
			end

			local var_472_9 = arg_469_1.actors_["1093ui_story"]
			local var_472_10 = 0

			if var_472_10 < arg_469_1.time_ and arg_469_1.time_ <= var_472_10 + arg_472_0 and not isNil(var_472_9) and arg_469_1.var_.characterEffect1093ui_story == nil then
				arg_469_1.var_.characterEffect1093ui_story = var_472_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_472_11 = 0.200000002980232

			if var_472_10 <= arg_469_1.time_ and arg_469_1.time_ < var_472_10 + var_472_11 and not isNil(var_472_9) then
				local var_472_12 = (arg_469_1.time_ - var_472_10) / var_472_11

				if arg_469_1.var_.characterEffect1093ui_story and not isNil(var_472_9) then
					local var_472_13 = Mathf.Lerp(0, 0.5, var_472_12)

					arg_469_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_469_1.var_.characterEffect1093ui_story.fillRatio = var_472_13
				end
			end

			if arg_469_1.time_ >= var_472_10 + var_472_11 and arg_469_1.time_ < var_472_10 + var_472_11 + arg_472_0 and not isNil(var_472_9) and arg_469_1.var_.characterEffect1093ui_story then
				local var_472_14 = 0.5

				arg_469_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_469_1.var_.characterEffect1093ui_story.fillRatio = var_472_14
			end

			local var_472_15 = arg_469_1.actors_["1019ui_story"].transform
			local var_472_16 = 0

			if var_472_16 < arg_469_1.time_ and arg_469_1.time_ <= var_472_16 + arg_472_0 then
				arg_469_1.var_.moveOldPos1019ui_story = var_472_15.localPosition
			end

			local var_472_17 = 0.001

			if var_472_16 <= arg_469_1.time_ and arg_469_1.time_ < var_472_16 + var_472_17 then
				local var_472_18 = (arg_469_1.time_ - var_472_16) / var_472_17
				local var_472_19 = Vector3.New(-0.2, -1.08, -5.9)

				var_472_15.localPosition = Vector3.Lerp(arg_469_1.var_.moveOldPos1019ui_story, var_472_19, var_472_18)

				local var_472_20 = manager.ui.mainCamera.transform.position - var_472_15.position

				var_472_15.forward = Vector3.New(var_472_20.x, var_472_20.y, var_472_20.z)

				local var_472_21 = var_472_15.localEulerAngles

				var_472_21.z = 0
				var_472_21.x = 0
				var_472_15.localEulerAngles = var_472_21
			end

			if arg_469_1.time_ >= var_472_16 + var_472_17 and arg_469_1.time_ < var_472_16 + var_472_17 + arg_472_0 then
				var_472_15.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_472_22 = manager.ui.mainCamera.transform.position - var_472_15.position

				var_472_15.forward = Vector3.New(var_472_22.x, var_472_22.y, var_472_22.z)

				local var_472_23 = var_472_15.localEulerAngles

				var_472_23.z = 0
				var_472_23.x = 0
				var_472_15.localEulerAngles = var_472_23
			end

			local var_472_24 = arg_469_1.actors_["1019ui_story"]
			local var_472_25 = 0

			if var_472_25 < arg_469_1.time_ and arg_469_1.time_ <= var_472_25 + arg_472_0 and not isNil(var_472_24) and arg_469_1.var_.characterEffect1019ui_story == nil then
				arg_469_1.var_.characterEffect1019ui_story = var_472_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_472_26 = 0.200000002980232

			if var_472_25 <= arg_469_1.time_ and arg_469_1.time_ < var_472_25 + var_472_26 and not isNil(var_472_24) then
				local var_472_27 = (arg_469_1.time_ - var_472_25) / var_472_26

				if arg_469_1.var_.characterEffect1019ui_story and not isNil(var_472_24) then
					arg_469_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_469_1.time_ >= var_472_25 + var_472_26 and arg_469_1.time_ < var_472_25 + var_472_26 + arg_472_0 and not isNil(var_472_24) and arg_469_1.var_.characterEffect1019ui_story then
				arg_469_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_472_28 = 0

			if var_472_28 < arg_469_1.time_ and arg_469_1.time_ <= var_472_28 + arg_472_0 then
				arg_469_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_472_29 = 0

			if var_472_29 < arg_469_1.time_ and arg_469_1.time_ <= var_472_29 + arg_472_0 then
				arg_469_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0202cva")
			end

			local var_472_30 = 0
			local var_472_31 = 0.075

			if var_472_30 < arg_469_1.time_ and arg_469_1.time_ <= var_472_30 + arg_472_0 then
				arg_469_1.talkMaxDuration = 0
				arg_469_1.dialogCg_.alpha = 1

				arg_469_1.dialog_:SetActive(true)
				SetActive(arg_469_1.leftNameGo_, true)

				local var_472_32 = arg_469_1:FormatText(StoryNameCfg[47].name)

				arg_469_1.leftNameTxt_.text = var_472_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_469_1.leftNameTxt_.transform)

				arg_469_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_469_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_469_1:RecordName(arg_469_1.leftNameTxt_.text)
				SetActive(arg_469_1.iconTrs_.gameObject, false)
				arg_469_1.callingController_:SetSelectedState("normal")

				local var_472_33 = arg_469_1:GetWordFromCfg(317021118)
				local var_472_34 = arg_469_1:FormatText(var_472_33.content)

				arg_469_1.text_.text = var_472_34

				LuaForUtil.ClearLinePrefixSymbol(arg_469_1.text_)

				local var_472_35 = 3
				local var_472_36 = utf8.len(var_472_34)
				local var_472_37 = var_472_35 <= 0 and var_472_31 or var_472_31 * (var_472_36 / var_472_35)

				if var_472_37 > 0 and var_472_31 < var_472_37 then
					arg_469_1.talkMaxDuration = var_472_37

					if var_472_37 + var_472_30 > arg_469_1.duration_ then
						arg_469_1.duration_ = var_472_37 + var_472_30
					end
				end

				arg_469_1.text_.text = var_472_34
				arg_469_1.typewritter.percent = 0

				arg_469_1.typewritter:SetDirty()
				arg_469_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021118", "story_v_out_317021.awb") ~= 0 then
					local var_472_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021118", "story_v_out_317021.awb") / 1000

					if var_472_38 + var_472_30 > arg_469_1.duration_ then
						arg_469_1.duration_ = var_472_38 + var_472_30
					end

					if var_472_33.prefab_name ~= "" and arg_469_1.actors_[var_472_33.prefab_name] ~= nil then
						local var_472_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_469_1.actors_[var_472_33.prefab_name].transform, "story_v_out_317021", "317021118", "story_v_out_317021.awb")

						arg_469_1:RecordAudio("317021118", var_472_39)
						arg_469_1:RecordAudio("317021118", var_472_39)
					else
						arg_469_1:AudioAction("play", "voice", "story_v_out_317021", "317021118", "story_v_out_317021.awb")
					end

					arg_469_1:RecordHistoryTalkVoice("story_v_out_317021", "317021118", "story_v_out_317021.awb")
				end

				arg_469_1:RecordContent(arg_469_1.text_.text)
			end

			local var_472_40 = math.max(var_472_31, arg_469_1.talkMaxDuration)

			if var_472_30 <= arg_469_1.time_ and arg_469_1.time_ < var_472_30 + var_472_40 then
				arg_469_1.typewritter.percent = (arg_469_1.time_ - var_472_30) / var_472_40

				arg_469_1.typewritter:SetDirty()
			end

			if arg_469_1.time_ >= var_472_30 + var_472_40 and arg_469_1.time_ < var_472_30 + var_472_40 + arg_472_0 then
				arg_469_1.typewritter.percent = 1

				arg_469_1.typewritter:SetDirty()
				arg_469_1:ShowNextGo(true)
			end
		end
	end,
	Play317021119 = function(arg_473_0, arg_473_1)
		arg_473_1.time_ = 0
		arg_473_1.frameCnt_ = 0
		arg_473_1.state_ = "playing"
		arg_473_1.curTalkId_ = 317021119
		arg_473_1.duration_ = 5

		SetActive(arg_473_1.tipsGo_, false)

		function arg_473_1.onSingleLineFinish_()
			arg_473_1.onSingleLineUpdate_ = nil
			arg_473_1.onSingleLineFinish_ = nil
			arg_473_1.state_ = "waiting"
		end

		function arg_473_1.playNext_(arg_475_0)
			if arg_475_0 == 1 then
				arg_473_0:Play317021120(arg_473_1)
			end
		end

		function arg_473_1.onSingleLineUpdate_(arg_476_0)
			local var_476_0 = arg_473_1.actors_["1019ui_story"]
			local var_476_1 = 0

			if var_476_1 < arg_473_1.time_ and arg_473_1.time_ <= var_476_1 + arg_476_0 and not isNil(var_476_0) and arg_473_1.var_.characterEffect1019ui_story == nil then
				arg_473_1.var_.characterEffect1019ui_story = var_476_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_476_2 = 0.200000002980232

			if var_476_1 <= arg_473_1.time_ and arg_473_1.time_ < var_476_1 + var_476_2 and not isNil(var_476_0) then
				local var_476_3 = (arg_473_1.time_ - var_476_1) / var_476_2

				if arg_473_1.var_.characterEffect1019ui_story and not isNil(var_476_0) then
					local var_476_4 = Mathf.Lerp(0, 0.5, var_476_3)

					arg_473_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_473_1.var_.characterEffect1019ui_story.fillRatio = var_476_4
				end
			end

			if arg_473_1.time_ >= var_476_1 + var_476_2 and arg_473_1.time_ < var_476_1 + var_476_2 + arg_476_0 and not isNil(var_476_0) and arg_473_1.var_.characterEffect1019ui_story then
				local var_476_5 = 0.5

				arg_473_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_473_1.var_.characterEffect1019ui_story.fillRatio = var_476_5
			end

			local var_476_6 = 0
			local var_476_7 = 0.55

			if var_476_6 < arg_473_1.time_ and arg_473_1.time_ <= var_476_6 + arg_476_0 then
				arg_473_1.talkMaxDuration = 0
				arg_473_1.dialogCg_.alpha = 1

				arg_473_1.dialog_:SetActive(true)
				SetActive(arg_473_1.leftNameGo_, false)

				arg_473_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_473_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_473_1:RecordName(arg_473_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_473_1.iconTrs_.gameObject, false)
				arg_473_1.callingController_:SetSelectedState("normal")

				local var_476_8 = arg_473_1:GetWordFromCfg(317021119)
				local var_476_9 = arg_473_1:FormatText(var_476_8.content)

				arg_473_1.text_.text = var_476_9

				LuaForUtil.ClearLinePrefixSymbol(arg_473_1.text_)

				local var_476_10 = 22
				local var_476_11 = utf8.len(var_476_9)
				local var_476_12 = var_476_10 <= 0 and var_476_7 or var_476_7 * (var_476_11 / var_476_10)

				if var_476_12 > 0 and var_476_7 < var_476_12 then
					arg_473_1.talkMaxDuration = var_476_12

					if var_476_12 + var_476_6 > arg_473_1.duration_ then
						arg_473_1.duration_ = var_476_12 + var_476_6
					end
				end

				arg_473_1.text_.text = var_476_9
				arg_473_1.typewritter.percent = 0

				arg_473_1.typewritter:SetDirty()
				arg_473_1:ShowNextGo(false)
				arg_473_1:RecordContent(arg_473_1.text_.text)
			end

			local var_476_13 = math.max(var_476_7, arg_473_1.talkMaxDuration)

			if var_476_6 <= arg_473_1.time_ and arg_473_1.time_ < var_476_6 + var_476_13 then
				arg_473_1.typewritter.percent = (arg_473_1.time_ - var_476_6) / var_476_13

				arg_473_1.typewritter:SetDirty()
			end

			if arg_473_1.time_ >= var_476_6 + var_476_13 and arg_473_1.time_ < var_476_6 + var_476_13 + arg_476_0 then
				arg_473_1.typewritter.percent = 1

				arg_473_1.typewritter:SetDirty()
				arg_473_1:ShowNextGo(true)
			end
		end
	end,
	Play317021120 = function(arg_477_0, arg_477_1)
		arg_477_1.time_ = 0
		arg_477_1.frameCnt_ = 0
		arg_477_1.state_ = "playing"
		arg_477_1.curTalkId_ = 317021120
		arg_477_1.duration_ = 9.93

		local var_477_0 = {
			zh = 9.933,
			ja = 8
		}
		local var_477_1 = manager.audio:GetLocalizationFlag()

		if var_477_0[var_477_1] ~= nil then
			arg_477_1.duration_ = var_477_0[var_477_1]
		end

		SetActive(arg_477_1.tipsGo_, false)

		function arg_477_1.onSingleLineFinish_()
			arg_477_1.onSingleLineUpdate_ = nil
			arg_477_1.onSingleLineFinish_ = nil
			arg_477_1.state_ = "waiting"
		end

		function arg_477_1.playNext_(arg_479_0)
			if arg_479_0 == 1 then
				arg_477_0:Play317021121(arg_477_1)
			end
		end

		function arg_477_1.onSingleLineUpdate_(arg_480_0)
			local var_480_0 = arg_477_1.actors_["1019ui_story"]
			local var_480_1 = 0

			if var_480_1 < arg_477_1.time_ and arg_477_1.time_ <= var_480_1 + arg_480_0 and not isNil(var_480_0) and arg_477_1.var_.characterEffect1019ui_story == nil then
				arg_477_1.var_.characterEffect1019ui_story = var_480_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_480_2 = 0.200000002980232

			if var_480_1 <= arg_477_1.time_ and arg_477_1.time_ < var_480_1 + var_480_2 and not isNil(var_480_0) then
				local var_480_3 = (arg_477_1.time_ - var_480_1) / var_480_2

				if arg_477_1.var_.characterEffect1019ui_story and not isNil(var_480_0) then
					arg_477_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_477_1.time_ >= var_480_1 + var_480_2 and arg_477_1.time_ < var_480_1 + var_480_2 + arg_480_0 and not isNil(var_480_0) and arg_477_1.var_.characterEffect1019ui_story then
				arg_477_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_480_4 = 0

			if var_480_4 < arg_477_1.time_ and arg_477_1.time_ <= var_480_4 + arg_480_0 then
				arg_477_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_480_5 = 0
			local var_480_6 = 1.3

			if var_480_5 < arg_477_1.time_ and arg_477_1.time_ <= var_480_5 + arg_480_0 then
				arg_477_1.talkMaxDuration = 0
				arg_477_1.dialogCg_.alpha = 1

				arg_477_1.dialog_:SetActive(true)
				SetActive(arg_477_1.leftNameGo_, true)

				local var_480_7 = arg_477_1:FormatText(StoryNameCfg[47].name)

				arg_477_1.leftNameTxt_.text = var_480_7

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_477_1.leftNameTxt_.transform)

				arg_477_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_477_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_477_1:RecordName(arg_477_1.leftNameTxt_.text)
				SetActive(arg_477_1.iconTrs_.gameObject, false)
				arg_477_1.callingController_:SetSelectedState("normal")

				local var_480_8 = arg_477_1:GetWordFromCfg(317021120)
				local var_480_9 = arg_477_1:FormatText(var_480_8.content)

				arg_477_1.text_.text = var_480_9

				LuaForUtil.ClearLinePrefixSymbol(arg_477_1.text_)

				local var_480_10 = 52
				local var_480_11 = utf8.len(var_480_9)
				local var_480_12 = var_480_10 <= 0 and var_480_6 or var_480_6 * (var_480_11 / var_480_10)

				if var_480_12 > 0 and var_480_6 < var_480_12 then
					arg_477_1.talkMaxDuration = var_480_12

					if var_480_12 + var_480_5 > arg_477_1.duration_ then
						arg_477_1.duration_ = var_480_12 + var_480_5
					end
				end

				arg_477_1.text_.text = var_480_9
				arg_477_1.typewritter.percent = 0

				arg_477_1.typewritter:SetDirty()
				arg_477_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021120", "story_v_out_317021.awb") ~= 0 then
					local var_480_13 = manager.audio:GetVoiceLength("story_v_out_317021", "317021120", "story_v_out_317021.awb") / 1000

					if var_480_13 + var_480_5 > arg_477_1.duration_ then
						arg_477_1.duration_ = var_480_13 + var_480_5
					end

					if var_480_8.prefab_name ~= "" and arg_477_1.actors_[var_480_8.prefab_name] ~= nil then
						local var_480_14 = LuaForUtil.PlayVoiceWithCriLipsync(arg_477_1.actors_[var_480_8.prefab_name].transform, "story_v_out_317021", "317021120", "story_v_out_317021.awb")

						arg_477_1:RecordAudio("317021120", var_480_14)
						arg_477_1:RecordAudio("317021120", var_480_14)
					else
						arg_477_1:AudioAction("play", "voice", "story_v_out_317021", "317021120", "story_v_out_317021.awb")
					end

					arg_477_1:RecordHistoryTalkVoice("story_v_out_317021", "317021120", "story_v_out_317021.awb")
				end

				arg_477_1:RecordContent(arg_477_1.text_.text)
			end

			local var_480_15 = math.max(var_480_6, arg_477_1.talkMaxDuration)

			if var_480_5 <= arg_477_1.time_ and arg_477_1.time_ < var_480_5 + var_480_15 then
				arg_477_1.typewritter.percent = (arg_477_1.time_ - var_480_5) / var_480_15

				arg_477_1.typewritter:SetDirty()
			end

			if arg_477_1.time_ >= var_480_5 + var_480_15 and arg_477_1.time_ < var_480_5 + var_480_15 + arg_480_0 then
				arg_477_1.typewritter.percent = 1

				arg_477_1.typewritter:SetDirty()
				arg_477_1:ShowNextGo(true)
			end
		end
	end,
	Play317021121 = function(arg_481_0, arg_481_1)
		arg_481_1.time_ = 0
		arg_481_1.frameCnt_ = 0
		arg_481_1.state_ = "playing"
		arg_481_1.curTalkId_ = 317021121
		arg_481_1.duration_ = 11.33

		local var_481_0 = {
			zh = 11.333,
			ja = 9.366
		}
		local var_481_1 = manager.audio:GetLocalizationFlag()

		if var_481_0[var_481_1] ~= nil then
			arg_481_1.duration_ = var_481_0[var_481_1]
		end

		SetActive(arg_481_1.tipsGo_, false)

		function arg_481_1.onSingleLineFinish_()
			arg_481_1.onSingleLineUpdate_ = nil
			arg_481_1.onSingleLineFinish_ = nil
			arg_481_1.state_ = "waiting"
		end

		function arg_481_1.playNext_(arg_483_0)
			if arg_483_0 == 1 then
				arg_481_0:Play317021122(arg_481_1)
			end
		end

		function arg_481_1.onSingleLineUpdate_(arg_484_0)
			local var_484_0 = arg_481_1.actors_["1019ui_story"].transform
			local var_484_1 = 0

			if var_484_1 < arg_481_1.time_ and arg_481_1.time_ <= var_484_1 + arg_484_0 then
				arg_481_1.var_.moveOldPos1019ui_story = var_484_0.localPosition
			end

			local var_484_2 = 0.001

			if var_484_1 <= arg_481_1.time_ and arg_481_1.time_ < var_484_1 + var_484_2 then
				local var_484_3 = (arg_481_1.time_ - var_484_1) / var_484_2
				local var_484_4 = Vector3.New(-0.2, -1.08, -5.9)

				var_484_0.localPosition = Vector3.Lerp(arg_481_1.var_.moveOldPos1019ui_story, var_484_4, var_484_3)

				local var_484_5 = manager.ui.mainCamera.transform.position - var_484_0.position

				var_484_0.forward = Vector3.New(var_484_5.x, var_484_5.y, var_484_5.z)

				local var_484_6 = var_484_0.localEulerAngles

				var_484_6.z = 0
				var_484_6.x = 0
				var_484_0.localEulerAngles = var_484_6
			end

			if arg_481_1.time_ >= var_484_1 + var_484_2 and arg_481_1.time_ < var_484_1 + var_484_2 + arg_484_0 then
				var_484_0.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_484_7 = manager.ui.mainCamera.transform.position - var_484_0.position

				var_484_0.forward = Vector3.New(var_484_7.x, var_484_7.y, var_484_7.z)

				local var_484_8 = var_484_0.localEulerAngles

				var_484_8.z = 0
				var_484_8.x = 0
				var_484_0.localEulerAngles = var_484_8
			end

			local var_484_9 = arg_481_1.actors_["1019ui_story"]
			local var_484_10 = 0

			if var_484_10 < arg_481_1.time_ and arg_481_1.time_ <= var_484_10 + arg_484_0 and not isNil(var_484_9) and arg_481_1.var_.characterEffect1019ui_story == nil then
				arg_481_1.var_.characterEffect1019ui_story = var_484_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_484_11 = 0.200000002980232

			if var_484_10 <= arg_481_1.time_ and arg_481_1.time_ < var_484_10 + var_484_11 and not isNil(var_484_9) then
				local var_484_12 = (arg_481_1.time_ - var_484_10) / var_484_11

				if arg_481_1.var_.characterEffect1019ui_story and not isNil(var_484_9) then
					arg_481_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_481_1.time_ >= var_484_10 + var_484_11 and arg_481_1.time_ < var_484_10 + var_484_11 + arg_484_0 and not isNil(var_484_9) and arg_481_1.var_.characterEffect1019ui_story then
				arg_481_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_484_13 = 0

			if var_484_13 < arg_481_1.time_ and arg_481_1.time_ <= var_484_13 + arg_484_0 then
				arg_481_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_484_14 = 0

			if var_484_14 < arg_481_1.time_ and arg_481_1.time_ <= var_484_14 + arg_484_0 then
				arg_481_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_484_15 = 0
			local var_484_16 = 0.975

			if var_484_15 < arg_481_1.time_ and arg_481_1.time_ <= var_484_15 + arg_484_0 then
				arg_481_1.talkMaxDuration = 0
				arg_481_1.dialogCg_.alpha = 1

				arg_481_1.dialog_:SetActive(true)
				SetActive(arg_481_1.leftNameGo_, true)

				local var_484_17 = arg_481_1:FormatText(StoryNameCfg[47].name)

				arg_481_1.leftNameTxt_.text = var_484_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_481_1.leftNameTxt_.transform)

				arg_481_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_481_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_481_1:RecordName(arg_481_1.leftNameTxt_.text)
				SetActive(arg_481_1.iconTrs_.gameObject, false)
				arg_481_1.callingController_:SetSelectedState("normal")

				local var_484_18 = arg_481_1:GetWordFromCfg(317021121)
				local var_484_19 = arg_481_1:FormatText(var_484_18.content)

				arg_481_1.text_.text = var_484_19

				LuaForUtil.ClearLinePrefixSymbol(arg_481_1.text_)

				local var_484_20 = 39
				local var_484_21 = utf8.len(var_484_19)
				local var_484_22 = var_484_20 <= 0 and var_484_16 or var_484_16 * (var_484_21 / var_484_20)

				if var_484_22 > 0 and var_484_16 < var_484_22 then
					arg_481_1.talkMaxDuration = var_484_22

					if var_484_22 + var_484_15 > arg_481_1.duration_ then
						arg_481_1.duration_ = var_484_22 + var_484_15
					end
				end

				arg_481_1.text_.text = var_484_19
				arg_481_1.typewritter.percent = 0

				arg_481_1.typewritter:SetDirty()
				arg_481_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021121", "story_v_out_317021.awb") ~= 0 then
					local var_484_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021121", "story_v_out_317021.awb") / 1000

					if var_484_23 + var_484_15 > arg_481_1.duration_ then
						arg_481_1.duration_ = var_484_23 + var_484_15
					end

					if var_484_18.prefab_name ~= "" and arg_481_1.actors_[var_484_18.prefab_name] ~= nil then
						local var_484_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_481_1.actors_[var_484_18.prefab_name].transform, "story_v_out_317021", "317021121", "story_v_out_317021.awb")

						arg_481_1:RecordAudio("317021121", var_484_24)
						arg_481_1:RecordAudio("317021121", var_484_24)
					else
						arg_481_1:AudioAction("play", "voice", "story_v_out_317021", "317021121", "story_v_out_317021.awb")
					end

					arg_481_1:RecordHistoryTalkVoice("story_v_out_317021", "317021121", "story_v_out_317021.awb")
				end

				arg_481_1:RecordContent(arg_481_1.text_.text)
			end

			local var_484_25 = math.max(var_484_16, arg_481_1.talkMaxDuration)

			if var_484_15 <= arg_481_1.time_ and arg_481_1.time_ < var_484_15 + var_484_25 then
				arg_481_1.typewritter.percent = (arg_481_1.time_ - var_484_15) / var_484_25

				arg_481_1.typewritter:SetDirty()
			end

			if arg_481_1.time_ >= var_484_15 + var_484_25 and arg_481_1.time_ < var_484_15 + var_484_25 + arg_484_0 then
				arg_481_1.typewritter.percent = 1

				arg_481_1.typewritter:SetDirty()
				arg_481_1:ShowNextGo(true)
			end
		end
	end,
	Play317021122 = function(arg_485_0, arg_485_1)
		arg_485_1.time_ = 0
		arg_485_1.frameCnt_ = 0
		arg_485_1.state_ = "playing"
		arg_485_1.curTalkId_ = 317021122
		arg_485_1.duration_ = 9

		local var_485_0 = {
			zh = 6.2,
			ja = 9
		}
		local var_485_1 = manager.audio:GetLocalizationFlag()

		if var_485_0[var_485_1] ~= nil then
			arg_485_1.duration_ = var_485_0[var_485_1]
		end

		SetActive(arg_485_1.tipsGo_, false)

		function arg_485_1.onSingleLineFinish_()
			arg_485_1.onSingleLineUpdate_ = nil
			arg_485_1.onSingleLineFinish_ = nil
			arg_485_1.state_ = "waiting"
		end

		function arg_485_1.playNext_(arg_487_0)
			if arg_487_0 == 1 then
				arg_485_0:Play317021123(arg_485_1)
			end
		end

		function arg_485_1.onSingleLineUpdate_(arg_488_0)
			local var_488_0 = 0
			local var_488_1 = 0.725

			if var_488_0 < arg_485_1.time_ and arg_485_1.time_ <= var_488_0 + arg_488_0 then
				arg_485_1.talkMaxDuration = 0
				arg_485_1.dialogCg_.alpha = 1

				arg_485_1.dialog_:SetActive(true)
				SetActive(arg_485_1.leftNameGo_, true)

				local var_488_2 = arg_485_1:FormatText(StoryNameCfg[47].name)

				arg_485_1.leftNameTxt_.text = var_488_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_485_1.leftNameTxt_.transform)

				arg_485_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_485_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_485_1:RecordName(arg_485_1.leftNameTxt_.text)
				SetActive(arg_485_1.iconTrs_.gameObject, false)
				arg_485_1.callingController_:SetSelectedState("normal")

				local var_488_3 = arg_485_1:GetWordFromCfg(317021122)
				local var_488_4 = arg_485_1:FormatText(var_488_3.content)

				arg_485_1.text_.text = var_488_4

				LuaForUtil.ClearLinePrefixSymbol(arg_485_1.text_)

				local var_488_5 = 29
				local var_488_6 = utf8.len(var_488_4)
				local var_488_7 = var_488_5 <= 0 and var_488_1 or var_488_1 * (var_488_6 / var_488_5)

				if var_488_7 > 0 and var_488_1 < var_488_7 then
					arg_485_1.talkMaxDuration = var_488_7

					if var_488_7 + var_488_0 > arg_485_1.duration_ then
						arg_485_1.duration_ = var_488_7 + var_488_0
					end
				end

				arg_485_1.text_.text = var_488_4
				arg_485_1.typewritter.percent = 0

				arg_485_1.typewritter:SetDirty()
				arg_485_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021122", "story_v_out_317021.awb") ~= 0 then
					local var_488_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021122", "story_v_out_317021.awb") / 1000

					if var_488_8 + var_488_0 > arg_485_1.duration_ then
						arg_485_1.duration_ = var_488_8 + var_488_0
					end

					if var_488_3.prefab_name ~= "" and arg_485_1.actors_[var_488_3.prefab_name] ~= nil then
						local var_488_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_485_1.actors_[var_488_3.prefab_name].transform, "story_v_out_317021", "317021122", "story_v_out_317021.awb")

						arg_485_1:RecordAudio("317021122", var_488_9)
						arg_485_1:RecordAudio("317021122", var_488_9)
					else
						arg_485_1:AudioAction("play", "voice", "story_v_out_317021", "317021122", "story_v_out_317021.awb")
					end

					arg_485_1:RecordHistoryTalkVoice("story_v_out_317021", "317021122", "story_v_out_317021.awb")
				end

				arg_485_1:RecordContent(arg_485_1.text_.text)
			end

			local var_488_10 = math.max(var_488_1, arg_485_1.talkMaxDuration)

			if var_488_0 <= arg_485_1.time_ and arg_485_1.time_ < var_488_0 + var_488_10 then
				arg_485_1.typewritter.percent = (arg_485_1.time_ - var_488_0) / var_488_10

				arg_485_1.typewritter:SetDirty()
			end

			if arg_485_1.time_ >= var_488_0 + var_488_10 and arg_485_1.time_ < var_488_0 + var_488_10 + arg_488_0 then
				arg_485_1.typewritter.percent = 1

				arg_485_1.typewritter:SetDirty()
				arg_485_1:ShowNextGo(true)
			end
		end
	end,
	Play317021123 = function(arg_489_0, arg_489_1)
		arg_489_1.time_ = 0
		arg_489_1.frameCnt_ = 0
		arg_489_1.state_ = "playing"
		arg_489_1.curTalkId_ = 317021123
		arg_489_1.duration_ = 5

		SetActive(arg_489_1.tipsGo_, false)

		function arg_489_1.onSingleLineFinish_()
			arg_489_1.onSingleLineUpdate_ = nil
			arg_489_1.onSingleLineFinish_ = nil
			arg_489_1.state_ = "waiting"
		end

		function arg_489_1.playNext_(arg_491_0)
			if arg_491_0 == 1 then
				arg_489_0:Play317021124(arg_489_1)
			end
		end

		function arg_489_1.onSingleLineUpdate_(arg_492_0)
			local var_492_0 = arg_489_1.actors_["1019ui_story"]
			local var_492_1 = 0

			if var_492_1 < arg_489_1.time_ and arg_489_1.time_ <= var_492_1 + arg_492_0 and not isNil(var_492_0) and arg_489_1.var_.characterEffect1019ui_story == nil then
				arg_489_1.var_.characterEffect1019ui_story = var_492_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_492_2 = 0.200000002980232

			if var_492_1 <= arg_489_1.time_ and arg_489_1.time_ < var_492_1 + var_492_2 and not isNil(var_492_0) then
				local var_492_3 = (arg_489_1.time_ - var_492_1) / var_492_2

				if arg_489_1.var_.characterEffect1019ui_story and not isNil(var_492_0) then
					local var_492_4 = Mathf.Lerp(0, 0.5, var_492_3)

					arg_489_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_489_1.var_.characterEffect1019ui_story.fillRatio = var_492_4
				end
			end

			if arg_489_1.time_ >= var_492_1 + var_492_2 and arg_489_1.time_ < var_492_1 + var_492_2 + arg_492_0 and not isNil(var_492_0) and arg_489_1.var_.characterEffect1019ui_story then
				local var_492_5 = 0.5

				arg_489_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_489_1.var_.characterEffect1019ui_story.fillRatio = var_492_5
			end

			local var_492_6 = 0
			local var_492_7 = 1.4

			if var_492_6 < arg_489_1.time_ and arg_489_1.time_ <= var_492_6 + arg_492_0 then
				arg_489_1.talkMaxDuration = 0
				arg_489_1.dialogCg_.alpha = 1

				arg_489_1.dialog_:SetActive(true)
				SetActive(arg_489_1.leftNameGo_, false)

				arg_489_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_489_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_489_1:RecordName(arg_489_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_489_1.iconTrs_.gameObject, false)
				arg_489_1.callingController_:SetSelectedState("normal")

				local var_492_8 = arg_489_1:GetWordFromCfg(317021123)
				local var_492_9 = arg_489_1:FormatText(var_492_8.content)

				arg_489_1.text_.text = var_492_9

				LuaForUtil.ClearLinePrefixSymbol(arg_489_1.text_)

				local var_492_10 = 56
				local var_492_11 = utf8.len(var_492_9)
				local var_492_12 = var_492_10 <= 0 and var_492_7 or var_492_7 * (var_492_11 / var_492_10)

				if var_492_12 > 0 and var_492_7 < var_492_12 then
					arg_489_1.talkMaxDuration = var_492_12

					if var_492_12 + var_492_6 > arg_489_1.duration_ then
						arg_489_1.duration_ = var_492_12 + var_492_6
					end
				end

				arg_489_1.text_.text = var_492_9
				arg_489_1.typewritter.percent = 0

				arg_489_1.typewritter:SetDirty()
				arg_489_1:ShowNextGo(false)
				arg_489_1:RecordContent(arg_489_1.text_.text)
			end

			local var_492_13 = math.max(var_492_7, arg_489_1.talkMaxDuration)

			if var_492_6 <= arg_489_1.time_ and arg_489_1.time_ < var_492_6 + var_492_13 then
				arg_489_1.typewritter.percent = (arg_489_1.time_ - var_492_6) / var_492_13

				arg_489_1.typewritter:SetDirty()
			end

			if arg_489_1.time_ >= var_492_6 + var_492_13 and arg_489_1.time_ < var_492_6 + var_492_13 + arg_492_0 then
				arg_489_1.typewritter.percent = 1

				arg_489_1.typewritter:SetDirty()
				arg_489_1:ShowNextGo(true)
			end
		end
	end,
	Play317021124 = function(arg_493_0, arg_493_1)
		arg_493_1.time_ = 0
		arg_493_1.frameCnt_ = 0
		arg_493_1.state_ = "playing"
		arg_493_1.curTalkId_ = 317021124
		arg_493_1.duration_ = 5

		SetActive(arg_493_1.tipsGo_, false)

		function arg_493_1.onSingleLineFinish_()
			arg_493_1.onSingleLineUpdate_ = nil
			arg_493_1.onSingleLineFinish_ = nil
			arg_493_1.state_ = "waiting"
		end

		function arg_493_1.playNext_(arg_495_0)
			if arg_495_0 == 1 then
				arg_493_0:Play317021125(arg_493_1)
			end
		end

		function arg_493_1.onSingleLineUpdate_(arg_496_0)
			local var_496_0 = 0
			local var_496_1 = 0.475

			if var_496_0 < arg_493_1.time_ and arg_493_1.time_ <= var_496_0 + arg_496_0 then
				arg_493_1.talkMaxDuration = 0
				arg_493_1.dialogCg_.alpha = 1

				arg_493_1.dialog_:SetActive(true)
				SetActive(arg_493_1.leftNameGo_, true)

				local var_496_2 = arg_493_1:FormatText(StoryNameCfg[7].name)

				arg_493_1.leftNameTxt_.text = var_496_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_493_1.leftNameTxt_.transform)

				arg_493_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_493_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_493_1:RecordName(arg_493_1.leftNameTxt_.text)
				SetActive(arg_493_1.iconTrs_.gameObject, false)
				arg_493_1.callingController_:SetSelectedState("normal")

				local var_496_3 = arg_493_1:GetWordFromCfg(317021124)
				local var_496_4 = arg_493_1:FormatText(var_496_3.content)

				arg_493_1.text_.text = var_496_4

				LuaForUtil.ClearLinePrefixSymbol(arg_493_1.text_)

				local var_496_5 = 19
				local var_496_6 = utf8.len(var_496_4)
				local var_496_7 = var_496_5 <= 0 and var_496_1 or var_496_1 * (var_496_6 / var_496_5)

				if var_496_7 > 0 and var_496_1 < var_496_7 then
					arg_493_1.talkMaxDuration = var_496_7

					if var_496_7 + var_496_0 > arg_493_1.duration_ then
						arg_493_1.duration_ = var_496_7 + var_496_0
					end
				end

				arg_493_1.text_.text = var_496_4
				arg_493_1.typewritter.percent = 0

				arg_493_1.typewritter:SetDirty()
				arg_493_1:ShowNextGo(false)
				arg_493_1:RecordContent(arg_493_1.text_.text)
			end

			local var_496_8 = math.max(var_496_1, arg_493_1.talkMaxDuration)

			if var_496_0 <= arg_493_1.time_ and arg_493_1.time_ < var_496_0 + var_496_8 then
				arg_493_1.typewritter.percent = (arg_493_1.time_ - var_496_0) / var_496_8

				arg_493_1.typewritter:SetDirty()
			end

			if arg_493_1.time_ >= var_496_0 + var_496_8 and arg_493_1.time_ < var_496_0 + var_496_8 + arg_496_0 then
				arg_493_1.typewritter.percent = 1

				arg_493_1.typewritter:SetDirty()
				arg_493_1:ShowNextGo(true)
			end
		end
	end,
	Play317021125 = function(arg_497_0, arg_497_1)
		arg_497_1.time_ = 0
		arg_497_1.frameCnt_ = 0
		arg_497_1.state_ = "playing"
		arg_497_1.curTalkId_ = 317021125
		arg_497_1.duration_ = 1.03

		local var_497_0 = {
			zh = 1.033,
			ja = 0.999999999999
		}
		local var_497_1 = manager.audio:GetLocalizationFlag()

		if var_497_0[var_497_1] ~= nil then
			arg_497_1.duration_ = var_497_0[var_497_1]
		end

		SetActive(arg_497_1.tipsGo_, false)

		function arg_497_1.onSingleLineFinish_()
			arg_497_1.onSingleLineUpdate_ = nil
			arg_497_1.onSingleLineFinish_ = nil
			arg_497_1.state_ = "waiting"
		end

		function arg_497_1.playNext_(arg_499_0)
			if arg_499_0 == 1 then
				arg_497_0:Play317021126(arg_497_1)
			end
		end

		function arg_497_1.onSingleLineUpdate_(arg_500_0)
			local var_500_0 = arg_497_1.actors_["1019ui_story"].transform
			local var_500_1 = 0

			if var_500_1 < arg_497_1.time_ and arg_497_1.time_ <= var_500_1 + arg_500_0 then
				arg_497_1.var_.moveOldPos1019ui_story = var_500_0.localPosition
			end

			local var_500_2 = 0.001

			if var_500_1 <= arg_497_1.time_ and arg_497_1.time_ < var_500_1 + var_500_2 then
				local var_500_3 = (arg_497_1.time_ - var_500_1) / var_500_2
				local var_500_4 = Vector3.New(-0.2, -1.08, -5.9)

				var_500_0.localPosition = Vector3.Lerp(arg_497_1.var_.moveOldPos1019ui_story, var_500_4, var_500_3)

				local var_500_5 = manager.ui.mainCamera.transform.position - var_500_0.position

				var_500_0.forward = Vector3.New(var_500_5.x, var_500_5.y, var_500_5.z)

				local var_500_6 = var_500_0.localEulerAngles

				var_500_6.z = 0
				var_500_6.x = 0
				var_500_0.localEulerAngles = var_500_6
			end

			if arg_497_1.time_ >= var_500_1 + var_500_2 and arg_497_1.time_ < var_500_1 + var_500_2 + arg_500_0 then
				var_500_0.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_500_7 = manager.ui.mainCamera.transform.position - var_500_0.position

				var_500_0.forward = Vector3.New(var_500_7.x, var_500_7.y, var_500_7.z)

				local var_500_8 = var_500_0.localEulerAngles

				var_500_8.z = 0
				var_500_8.x = 0
				var_500_0.localEulerAngles = var_500_8
			end

			local var_500_9 = arg_497_1.actors_["1019ui_story"]
			local var_500_10 = 0

			if var_500_10 < arg_497_1.time_ and arg_497_1.time_ <= var_500_10 + arg_500_0 and not isNil(var_500_9) and arg_497_1.var_.characterEffect1019ui_story == nil then
				arg_497_1.var_.characterEffect1019ui_story = var_500_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_500_11 = 0.200000002980232

			if var_500_10 <= arg_497_1.time_ and arg_497_1.time_ < var_500_10 + var_500_11 and not isNil(var_500_9) then
				local var_500_12 = (arg_497_1.time_ - var_500_10) / var_500_11

				if arg_497_1.var_.characterEffect1019ui_story and not isNil(var_500_9) then
					arg_497_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_497_1.time_ >= var_500_10 + var_500_11 and arg_497_1.time_ < var_500_10 + var_500_11 + arg_500_0 and not isNil(var_500_9) and arg_497_1.var_.characterEffect1019ui_story then
				arg_497_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_500_13 = 0

			if var_500_13 < arg_497_1.time_ and arg_497_1.time_ <= var_500_13 + arg_500_0 then
				arg_497_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_500_14 = 0

			if var_500_14 < arg_497_1.time_ and arg_497_1.time_ <= var_500_14 + arg_500_0 then
				arg_497_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_500_15 = 0
			local var_500_16 = 0.1

			if var_500_15 < arg_497_1.time_ and arg_497_1.time_ <= var_500_15 + arg_500_0 then
				arg_497_1.talkMaxDuration = 0
				arg_497_1.dialogCg_.alpha = 1

				arg_497_1.dialog_:SetActive(true)
				SetActive(arg_497_1.leftNameGo_, true)

				local var_500_17 = arg_497_1:FormatText(StoryNameCfg[47].name)

				arg_497_1.leftNameTxt_.text = var_500_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_497_1.leftNameTxt_.transform)

				arg_497_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_497_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_497_1:RecordName(arg_497_1.leftNameTxt_.text)
				SetActive(arg_497_1.iconTrs_.gameObject, false)
				arg_497_1.callingController_:SetSelectedState("normal")

				local var_500_18 = arg_497_1:GetWordFromCfg(317021125)
				local var_500_19 = arg_497_1:FormatText(var_500_18.content)

				arg_497_1.text_.text = var_500_19

				LuaForUtil.ClearLinePrefixSymbol(arg_497_1.text_)

				local var_500_20 = 4
				local var_500_21 = utf8.len(var_500_19)
				local var_500_22 = var_500_20 <= 0 and var_500_16 or var_500_16 * (var_500_21 / var_500_20)

				if var_500_22 > 0 and var_500_16 < var_500_22 then
					arg_497_1.talkMaxDuration = var_500_22

					if var_500_22 + var_500_15 > arg_497_1.duration_ then
						arg_497_1.duration_ = var_500_22 + var_500_15
					end
				end

				arg_497_1.text_.text = var_500_19
				arg_497_1.typewritter.percent = 0

				arg_497_1.typewritter:SetDirty()
				arg_497_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021125", "story_v_out_317021.awb") ~= 0 then
					local var_500_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021125", "story_v_out_317021.awb") / 1000

					if var_500_23 + var_500_15 > arg_497_1.duration_ then
						arg_497_1.duration_ = var_500_23 + var_500_15
					end

					if var_500_18.prefab_name ~= "" and arg_497_1.actors_[var_500_18.prefab_name] ~= nil then
						local var_500_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_497_1.actors_[var_500_18.prefab_name].transform, "story_v_out_317021", "317021125", "story_v_out_317021.awb")

						arg_497_1:RecordAudio("317021125", var_500_24)
						arg_497_1:RecordAudio("317021125", var_500_24)
					else
						arg_497_1:AudioAction("play", "voice", "story_v_out_317021", "317021125", "story_v_out_317021.awb")
					end

					arg_497_1:RecordHistoryTalkVoice("story_v_out_317021", "317021125", "story_v_out_317021.awb")
				end

				arg_497_1:RecordContent(arg_497_1.text_.text)
			end

			local var_500_25 = math.max(var_500_16, arg_497_1.talkMaxDuration)

			if var_500_15 <= arg_497_1.time_ and arg_497_1.time_ < var_500_15 + var_500_25 then
				arg_497_1.typewritter.percent = (arg_497_1.time_ - var_500_15) / var_500_25

				arg_497_1.typewritter:SetDirty()
			end

			if arg_497_1.time_ >= var_500_15 + var_500_25 and arg_497_1.time_ < var_500_15 + var_500_25 + arg_500_0 then
				arg_497_1.typewritter.percent = 1

				arg_497_1.typewritter:SetDirty()
				arg_497_1:ShowNextGo(true)
			end
		end
	end,
	Play317021126 = function(arg_501_0, arg_501_1)
		arg_501_1.time_ = 0
		arg_501_1.frameCnt_ = 0
		arg_501_1.state_ = "playing"
		arg_501_1.curTalkId_ = 317021126
		arg_501_1.duration_ = 2

		local var_501_0 = {
			zh = 1.6,
			ja = 2
		}
		local var_501_1 = manager.audio:GetLocalizationFlag()

		if var_501_0[var_501_1] ~= nil then
			arg_501_1.duration_ = var_501_0[var_501_1]
		end

		SetActive(arg_501_1.tipsGo_, false)

		function arg_501_1.onSingleLineFinish_()
			arg_501_1.onSingleLineUpdate_ = nil
			arg_501_1.onSingleLineFinish_ = nil
			arg_501_1.state_ = "waiting"
		end

		function arg_501_1.playNext_(arg_503_0)
			if arg_503_0 == 1 then
				arg_501_0:Play317021127(arg_501_1)
			end
		end

		function arg_501_1.onSingleLineUpdate_(arg_504_0)
			local var_504_0 = 0
			local var_504_1 = 0.2

			if var_504_0 < arg_501_1.time_ and arg_501_1.time_ <= var_504_0 + arg_504_0 then
				arg_501_1.talkMaxDuration = 0
				arg_501_1.dialogCg_.alpha = 1

				arg_501_1.dialog_:SetActive(true)
				SetActive(arg_501_1.leftNameGo_, true)

				local var_504_2 = arg_501_1:FormatText(StoryNameCfg[47].name)

				arg_501_1.leftNameTxt_.text = var_504_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_501_1.leftNameTxt_.transform)

				arg_501_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_501_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_501_1:RecordName(arg_501_1.leftNameTxt_.text)
				SetActive(arg_501_1.iconTrs_.gameObject, false)
				arg_501_1.callingController_:SetSelectedState("normal")

				local var_504_3 = arg_501_1:GetWordFromCfg(317021126)
				local var_504_4 = arg_501_1:FormatText(var_504_3.content)

				arg_501_1.text_.text = var_504_4

				LuaForUtil.ClearLinePrefixSymbol(arg_501_1.text_)

				local var_504_5 = 8
				local var_504_6 = utf8.len(var_504_4)
				local var_504_7 = var_504_5 <= 0 and var_504_1 or var_504_1 * (var_504_6 / var_504_5)

				if var_504_7 > 0 and var_504_1 < var_504_7 then
					arg_501_1.talkMaxDuration = var_504_7

					if var_504_7 + var_504_0 > arg_501_1.duration_ then
						arg_501_1.duration_ = var_504_7 + var_504_0
					end
				end

				arg_501_1.text_.text = var_504_4
				arg_501_1.typewritter.percent = 0

				arg_501_1.typewritter:SetDirty()
				arg_501_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021126", "story_v_out_317021.awb") ~= 0 then
					local var_504_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021126", "story_v_out_317021.awb") / 1000

					if var_504_8 + var_504_0 > arg_501_1.duration_ then
						arg_501_1.duration_ = var_504_8 + var_504_0
					end

					if var_504_3.prefab_name ~= "" and arg_501_1.actors_[var_504_3.prefab_name] ~= nil then
						local var_504_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_501_1.actors_[var_504_3.prefab_name].transform, "story_v_out_317021", "317021126", "story_v_out_317021.awb")

						arg_501_1:RecordAudio("317021126", var_504_9)
						arg_501_1:RecordAudio("317021126", var_504_9)
					else
						arg_501_1:AudioAction("play", "voice", "story_v_out_317021", "317021126", "story_v_out_317021.awb")
					end

					arg_501_1:RecordHistoryTalkVoice("story_v_out_317021", "317021126", "story_v_out_317021.awb")
				end

				arg_501_1:RecordContent(arg_501_1.text_.text)
			end

			local var_504_10 = math.max(var_504_1, arg_501_1.talkMaxDuration)

			if var_504_0 <= arg_501_1.time_ and arg_501_1.time_ < var_504_0 + var_504_10 then
				arg_501_1.typewritter.percent = (arg_501_1.time_ - var_504_0) / var_504_10

				arg_501_1.typewritter:SetDirty()
			end

			if arg_501_1.time_ >= var_504_0 + var_504_10 and arg_501_1.time_ < var_504_0 + var_504_10 + arg_504_0 then
				arg_501_1.typewritter.percent = 1

				arg_501_1.typewritter:SetDirty()
				arg_501_1:ShowNextGo(true)
			end
		end
	end,
	Play317021127 = function(arg_505_0, arg_505_1)
		arg_505_1.time_ = 0
		arg_505_1.frameCnt_ = 0
		arg_505_1.state_ = "playing"
		arg_505_1.curTalkId_ = 317021127
		arg_505_1.duration_ = 5

		SetActive(arg_505_1.tipsGo_, false)

		function arg_505_1.onSingleLineFinish_()
			arg_505_1.onSingleLineUpdate_ = nil
			arg_505_1.onSingleLineFinish_ = nil
			arg_505_1.state_ = "waiting"
		end

		function arg_505_1.playNext_(arg_507_0)
			if arg_507_0 == 1 then
				arg_505_0:Play317021128(arg_505_1)
			end
		end

		function arg_505_1.onSingleLineUpdate_(arg_508_0)
			local var_508_0 = arg_505_1.actors_["1019ui_story"]
			local var_508_1 = 0

			if var_508_1 < arg_505_1.time_ and arg_505_1.time_ <= var_508_1 + arg_508_0 and not isNil(var_508_0) and arg_505_1.var_.characterEffect1019ui_story == nil then
				arg_505_1.var_.characterEffect1019ui_story = var_508_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_508_2 = 0.200000002980232

			if var_508_1 <= arg_505_1.time_ and arg_505_1.time_ < var_508_1 + var_508_2 and not isNil(var_508_0) then
				local var_508_3 = (arg_505_1.time_ - var_508_1) / var_508_2

				if arg_505_1.var_.characterEffect1019ui_story and not isNil(var_508_0) then
					local var_508_4 = Mathf.Lerp(0, 0.5, var_508_3)

					arg_505_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_505_1.var_.characterEffect1019ui_story.fillRatio = var_508_4
				end
			end

			if arg_505_1.time_ >= var_508_1 + var_508_2 and arg_505_1.time_ < var_508_1 + var_508_2 + arg_508_0 and not isNil(var_508_0) and arg_505_1.var_.characterEffect1019ui_story then
				local var_508_5 = 0.5

				arg_505_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_505_1.var_.characterEffect1019ui_story.fillRatio = var_508_5
			end

			local var_508_6 = 0
			local var_508_7 = 0.225

			if var_508_6 < arg_505_1.time_ and arg_505_1.time_ <= var_508_6 + arg_508_0 then
				arg_505_1.talkMaxDuration = 0
				arg_505_1.dialogCg_.alpha = 1

				arg_505_1.dialog_:SetActive(true)
				SetActive(arg_505_1.leftNameGo_, true)

				local var_508_8 = arg_505_1:FormatText(StoryNameCfg[7].name)

				arg_505_1.leftNameTxt_.text = var_508_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_505_1.leftNameTxt_.transform)

				arg_505_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_505_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_505_1:RecordName(arg_505_1.leftNameTxt_.text)
				SetActive(arg_505_1.iconTrs_.gameObject, false)
				arg_505_1.callingController_:SetSelectedState("normal")

				local var_508_9 = arg_505_1:GetWordFromCfg(317021127)
				local var_508_10 = arg_505_1:FormatText(var_508_9.content)

				arg_505_1.text_.text = var_508_10

				LuaForUtil.ClearLinePrefixSymbol(arg_505_1.text_)

				local var_508_11 = 9
				local var_508_12 = utf8.len(var_508_10)
				local var_508_13 = var_508_11 <= 0 and var_508_7 or var_508_7 * (var_508_12 / var_508_11)

				if var_508_13 > 0 and var_508_7 < var_508_13 then
					arg_505_1.talkMaxDuration = var_508_13

					if var_508_13 + var_508_6 > arg_505_1.duration_ then
						arg_505_1.duration_ = var_508_13 + var_508_6
					end
				end

				arg_505_1.text_.text = var_508_10
				arg_505_1.typewritter.percent = 0

				arg_505_1.typewritter:SetDirty()
				arg_505_1:ShowNextGo(false)
				arg_505_1:RecordContent(arg_505_1.text_.text)
			end

			local var_508_14 = math.max(var_508_7, arg_505_1.talkMaxDuration)

			if var_508_6 <= arg_505_1.time_ and arg_505_1.time_ < var_508_6 + var_508_14 then
				arg_505_1.typewritter.percent = (arg_505_1.time_ - var_508_6) / var_508_14

				arg_505_1.typewritter:SetDirty()
			end

			if arg_505_1.time_ >= var_508_6 + var_508_14 and arg_505_1.time_ < var_508_6 + var_508_14 + arg_508_0 then
				arg_505_1.typewritter.percent = 1

				arg_505_1.typewritter:SetDirty()
				arg_505_1:ShowNextGo(true)
			end
		end
	end,
	Play317021128 = function(arg_509_0, arg_509_1)
		arg_509_1.time_ = 0
		arg_509_1.frameCnt_ = 0
		arg_509_1.state_ = "playing"
		arg_509_1.curTalkId_ = 317021128
		arg_509_1.duration_ = 5

		SetActive(arg_509_1.tipsGo_, false)

		function arg_509_1.onSingleLineFinish_()
			arg_509_1.onSingleLineUpdate_ = nil
			arg_509_1.onSingleLineFinish_ = nil
			arg_509_1.state_ = "waiting"
		end

		function arg_509_1.playNext_(arg_511_0)
			if arg_511_0 == 1 then
				arg_509_0:Play317021129(arg_509_1)
			end
		end

		function arg_509_1.onSingleLineUpdate_(arg_512_0)
			local var_512_0 = 0
			local var_512_1 = 0.225

			if var_512_0 < arg_509_1.time_ and arg_509_1.time_ <= var_512_0 + arg_512_0 then
				arg_509_1.talkMaxDuration = 0
				arg_509_1.dialogCg_.alpha = 1

				arg_509_1.dialog_:SetActive(true)
				SetActive(arg_509_1.leftNameGo_, true)

				local var_512_2 = arg_509_1:FormatText(StoryNameCfg[7].name)

				arg_509_1.leftNameTxt_.text = var_512_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_509_1.leftNameTxt_.transform)

				arg_509_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_509_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_509_1:RecordName(arg_509_1.leftNameTxt_.text)
				SetActive(arg_509_1.iconTrs_.gameObject, false)
				arg_509_1.callingController_:SetSelectedState("normal")

				local var_512_3 = arg_509_1:GetWordFromCfg(317021128)
				local var_512_4 = arg_509_1:FormatText(var_512_3.content)

				arg_509_1.text_.text = var_512_4

				LuaForUtil.ClearLinePrefixSymbol(arg_509_1.text_)

				local var_512_5 = 9
				local var_512_6 = utf8.len(var_512_4)
				local var_512_7 = var_512_5 <= 0 and var_512_1 or var_512_1 * (var_512_6 / var_512_5)

				if var_512_7 > 0 and var_512_1 < var_512_7 then
					arg_509_1.talkMaxDuration = var_512_7

					if var_512_7 + var_512_0 > arg_509_1.duration_ then
						arg_509_1.duration_ = var_512_7 + var_512_0
					end
				end

				arg_509_1.text_.text = var_512_4
				arg_509_1.typewritter.percent = 0

				arg_509_1.typewritter:SetDirty()
				arg_509_1:ShowNextGo(false)
				arg_509_1:RecordContent(arg_509_1.text_.text)
			end

			local var_512_8 = math.max(var_512_1, arg_509_1.talkMaxDuration)

			if var_512_0 <= arg_509_1.time_ and arg_509_1.time_ < var_512_0 + var_512_8 then
				arg_509_1.typewritter.percent = (arg_509_1.time_ - var_512_0) / var_512_8

				arg_509_1.typewritter:SetDirty()
			end

			if arg_509_1.time_ >= var_512_0 + var_512_8 and arg_509_1.time_ < var_512_0 + var_512_8 + arg_512_0 then
				arg_509_1.typewritter.percent = 1

				arg_509_1.typewritter:SetDirty()
				arg_509_1:ShowNextGo(true)
			end
		end
	end,
	Play317021129 = function(arg_513_0, arg_513_1)
		arg_513_1.time_ = 0
		arg_513_1.frameCnt_ = 0
		arg_513_1.state_ = "playing"
		arg_513_1.curTalkId_ = 317021129
		arg_513_1.duration_ = 11.4

		local var_513_0 = {
			zh = 8.7,
			ja = 11.4
		}
		local var_513_1 = manager.audio:GetLocalizationFlag()

		if var_513_0[var_513_1] ~= nil then
			arg_513_1.duration_ = var_513_0[var_513_1]
		end

		SetActive(arg_513_1.tipsGo_, false)

		function arg_513_1.onSingleLineFinish_()
			arg_513_1.onSingleLineUpdate_ = nil
			arg_513_1.onSingleLineFinish_ = nil
			arg_513_1.state_ = "waiting"
		end

		function arg_513_1.playNext_(arg_515_0)
			if arg_515_0 == 1 then
				arg_513_0:Play317021130(arg_513_1)
			end
		end

		function arg_513_1.onSingleLineUpdate_(arg_516_0)
			local var_516_0 = arg_513_1.actors_["1019ui_story"].transform
			local var_516_1 = 0

			if var_516_1 < arg_513_1.time_ and arg_513_1.time_ <= var_516_1 + arg_516_0 then
				arg_513_1.var_.moveOldPos1019ui_story = var_516_0.localPosition
			end

			local var_516_2 = 0.001

			if var_516_1 <= arg_513_1.time_ and arg_513_1.time_ < var_516_1 + var_516_2 then
				local var_516_3 = (arg_513_1.time_ - var_516_1) / var_516_2
				local var_516_4 = Vector3.New(-0.2, -1.08, -5.9)

				var_516_0.localPosition = Vector3.Lerp(arg_513_1.var_.moveOldPos1019ui_story, var_516_4, var_516_3)

				local var_516_5 = manager.ui.mainCamera.transform.position - var_516_0.position

				var_516_0.forward = Vector3.New(var_516_5.x, var_516_5.y, var_516_5.z)

				local var_516_6 = var_516_0.localEulerAngles

				var_516_6.z = 0
				var_516_6.x = 0
				var_516_0.localEulerAngles = var_516_6
			end

			if arg_513_1.time_ >= var_516_1 + var_516_2 and arg_513_1.time_ < var_516_1 + var_516_2 + arg_516_0 then
				var_516_0.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_516_7 = manager.ui.mainCamera.transform.position - var_516_0.position

				var_516_0.forward = Vector3.New(var_516_7.x, var_516_7.y, var_516_7.z)

				local var_516_8 = var_516_0.localEulerAngles

				var_516_8.z = 0
				var_516_8.x = 0
				var_516_0.localEulerAngles = var_516_8
			end

			local var_516_9 = arg_513_1.actors_["1019ui_story"]
			local var_516_10 = 0

			if var_516_10 < arg_513_1.time_ and arg_513_1.time_ <= var_516_10 + arg_516_0 and not isNil(var_516_9) and arg_513_1.var_.characterEffect1019ui_story == nil then
				arg_513_1.var_.characterEffect1019ui_story = var_516_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_516_11 = 0.200000002980232

			if var_516_10 <= arg_513_1.time_ and arg_513_1.time_ < var_516_10 + var_516_11 and not isNil(var_516_9) then
				local var_516_12 = (arg_513_1.time_ - var_516_10) / var_516_11

				if arg_513_1.var_.characterEffect1019ui_story and not isNil(var_516_9) then
					arg_513_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_513_1.time_ >= var_516_10 + var_516_11 and arg_513_1.time_ < var_516_10 + var_516_11 + arg_516_0 and not isNil(var_516_9) and arg_513_1.var_.characterEffect1019ui_story then
				arg_513_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_516_13 = 0

			if var_516_13 < arg_513_1.time_ and arg_513_1.time_ <= var_516_13 + arg_516_0 then
				arg_513_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_516_14 = 0

			if var_516_14 < arg_513_1.time_ and arg_513_1.time_ <= var_516_14 + arg_516_0 then
				arg_513_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_516_15 = 0
			local var_516_16 = 0.95

			if var_516_15 < arg_513_1.time_ and arg_513_1.time_ <= var_516_15 + arg_516_0 then
				arg_513_1.talkMaxDuration = 0
				arg_513_1.dialogCg_.alpha = 1

				arg_513_1.dialog_:SetActive(true)
				SetActive(arg_513_1.leftNameGo_, true)

				local var_516_17 = arg_513_1:FormatText(StoryNameCfg[47].name)

				arg_513_1.leftNameTxt_.text = var_516_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_513_1.leftNameTxt_.transform)

				arg_513_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_513_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_513_1:RecordName(arg_513_1.leftNameTxt_.text)
				SetActive(arg_513_1.iconTrs_.gameObject, false)
				arg_513_1.callingController_:SetSelectedState("normal")

				local var_516_18 = arg_513_1:GetWordFromCfg(317021129)
				local var_516_19 = arg_513_1:FormatText(var_516_18.content)

				arg_513_1.text_.text = var_516_19

				LuaForUtil.ClearLinePrefixSymbol(arg_513_1.text_)

				local var_516_20 = 38
				local var_516_21 = utf8.len(var_516_19)
				local var_516_22 = var_516_20 <= 0 and var_516_16 or var_516_16 * (var_516_21 / var_516_20)

				if var_516_22 > 0 and var_516_16 < var_516_22 then
					arg_513_1.talkMaxDuration = var_516_22

					if var_516_22 + var_516_15 > arg_513_1.duration_ then
						arg_513_1.duration_ = var_516_22 + var_516_15
					end
				end

				arg_513_1.text_.text = var_516_19
				arg_513_1.typewritter.percent = 0

				arg_513_1.typewritter:SetDirty()
				arg_513_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021129", "story_v_out_317021.awb") ~= 0 then
					local var_516_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021129", "story_v_out_317021.awb") / 1000

					if var_516_23 + var_516_15 > arg_513_1.duration_ then
						arg_513_1.duration_ = var_516_23 + var_516_15
					end

					if var_516_18.prefab_name ~= "" and arg_513_1.actors_[var_516_18.prefab_name] ~= nil then
						local var_516_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_513_1.actors_[var_516_18.prefab_name].transform, "story_v_out_317021", "317021129", "story_v_out_317021.awb")

						arg_513_1:RecordAudio("317021129", var_516_24)
						arg_513_1:RecordAudio("317021129", var_516_24)
					else
						arg_513_1:AudioAction("play", "voice", "story_v_out_317021", "317021129", "story_v_out_317021.awb")
					end

					arg_513_1:RecordHistoryTalkVoice("story_v_out_317021", "317021129", "story_v_out_317021.awb")
				end

				arg_513_1:RecordContent(arg_513_1.text_.text)
			end

			local var_516_25 = math.max(var_516_16, arg_513_1.talkMaxDuration)

			if var_516_15 <= arg_513_1.time_ and arg_513_1.time_ < var_516_15 + var_516_25 then
				arg_513_1.typewritter.percent = (arg_513_1.time_ - var_516_15) / var_516_25

				arg_513_1.typewritter:SetDirty()
			end

			if arg_513_1.time_ >= var_516_15 + var_516_25 and arg_513_1.time_ < var_516_15 + var_516_25 + arg_516_0 then
				arg_513_1.typewritter.percent = 1

				arg_513_1.typewritter:SetDirty()
				arg_513_1:ShowNextGo(true)
			end
		end
	end,
	Play317021130 = function(arg_517_0, arg_517_1)
		arg_517_1.time_ = 0
		arg_517_1.frameCnt_ = 0
		arg_517_1.state_ = "playing"
		arg_517_1.curTalkId_ = 317021130
		arg_517_1.duration_ = 10.47

		local var_517_0 = {
			zh = 5.5,
			ja = 10.466
		}
		local var_517_1 = manager.audio:GetLocalizationFlag()

		if var_517_0[var_517_1] ~= nil then
			arg_517_1.duration_ = var_517_0[var_517_1]
		end

		SetActive(arg_517_1.tipsGo_, false)

		function arg_517_1.onSingleLineFinish_()
			arg_517_1.onSingleLineUpdate_ = nil
			arg_517_1.onSingleLineFinish_ = nil
			arg_517_1.state_ = "waiting"
		end

		function arg_517_1.playNext_(arg_519_0)
			if arg_519_0 == 1 then
				arg_517_0:Play317021131(arg_517_1)
			end
		end

		function arg_517_1.onSingleLineUpdate_(arg_520_0)
			local var_520_0 = 0
			local var_520_1 = 0.8

			if var_520_0 < arg_517_1.time_ and arg_517_1.time_ <= var_520_0 + arg_520_0 then
				arg_517_1.talkMaxDuration = 0
				arg_517_1.dialogCg_.alpha = 1

				arg_517_1.dialog_:SetActive(true)
				SetActive(arg_517_1.leftNameGo_, true)

				local var_520_2 = arg_517_1:FormatText(StoryNameCfg[47].name)

				arg_517_1.leftNameTxt_.text = var_520_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_517_1.leftNameTxt_.transform)

				arg_517_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_517_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_517_1:RecordName(arg_517_1.leftNameTxt_.text)
				SetActive(arg_517_1.iconTrs_.gameObject, false)
				arg_517_1.callingController_:SetSelectedState("normal")

				local var_520_3 = arg_517_1:GetWordFromCfg(317021130)
				local var_520_4 = arg_517_1:FormatText(var_520_3.content)

				arg_517_1.text_.text = var_520_4

				LuaForUtil.ClearLinePrefixSymbol(arg_517_1.text_)

				local var_520_5 = 32
				local var_520_6 = utf8.len(var_520_4)
				local var_520_7 = var_520_5 <= 0 and var_520_1 or var_520_1 * (var_520_6 / var_520_5)

				if var_520_7 > 0 and var_520_1 < var_520_7 then
					arg_517_1.talkMaxDuration = var_520_7

					if var_520_7 + var_520_0 > arg_517_1.duration_ then
						arg_517_1.duration_ = var_520_7 + var_520_0
					end
				end

				arg_517_1.text_.text = var_520_4
				arg_517_1.typewritter.percent = 0

				arg_517_1.typewritter:SetDirty()
				arg_517_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021130", "story_v_out_317021.awb") ~= 0 then
					local var_520_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021130", "story_v_out_317021.awb") / 1000

					if var_520_8 + var_520_0 > arg_517_1.duration_ then
						arg_517_1.duration_ = var_520_8 + var_520_0
					end

					if var_520_3.prefab_name ~= "" and arg_517_1.actors_[var_520_3.prefab_name] ~= nil then
						local var_520_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_517_1.actors_[var_520_3.prefab_name].transform, "story_v_out_317021", "317021130", "story_v_out_317021.awb")

						arg_517_1:RecordAudio("317021130", var_520_9)
						arg_517_1:RecordAudio("317021130", var_520_9)
					else
						arg_517_1:AudioAction("play", "voice", "story_v_out_317021", "317021130", "story_v_out_317021.awb")
					end

					arg_517_1:RecordHistoryTalkVoice("story_v_out_317021", "317021130", "story_v_out_317021.awb")
				end

				arg_517_1:RecordContent(arg_517_1.text_.text)
			end

			local var_520_10 = math.max(var_520_1, arg_517_1.talkMaxDuration)

			if var_520_0 <= arg_517_1.time_ and arg_517_1.time_ < var_520_0 + var_520_10 then
				arg_517_1.typewritter.percent = (arg_517_1.time_ - var_520_0) / var_520_10

				arg_517_1.typewritter:SetDirty()
			end

			if arg_517_1.time_ >= var_520_0 + var_520_10 and arg_517_1.time_ < var_520_0 + var_520_10 + arg_520_0 then
				arg_517_1.typewritter.percent = 1

				arg_517_1.typewritter:SetDirty()
				arg_517_1:ShowNextGo(true)
			end
		end
	end,
	Play317021131 = function(arg_521_0, arg_521_1)
		arg_521_1.time_ = 0
		arg_521_1.frameCnt_ = 0
		arg_521_1.state_ = "playing"
		arg_521_1.curTalkId_ = 317021131
		arg_521_1.duration_ = 5

		SetActive(arg_521_1.tipsGo_, false)

		function arg_521_1.onSingleLineFinish_()
			arg_521_1.onSingleLineUpdate_ = nil
			arg_521_1.onSingleLineFinish_ = nil
			arg_521_1.state_ = "waiting"
		end

		function arg_521_1.playNext_(arg_523_0)
			if arg_523_0 == 1 then
				arg_521_0:Play317021132(arg_521_1)
			end
		end

		function arg_521_1.onSingleLineUpdate_(arg_524_0)
			local var_524_0 = arg_521_1.actors_["1019ui_story"]
			local var_524_1 = 0

			if var_524_1 < arg_521_1.time_ and arg_521_1.time_ <= var_524_1 + arg_524_0 and not isNil(var_524_0) and arg_521_1.var_.characterEffect1019ui_story == nil then
				arg_521_1.var_.characterEffect1019ui_story = var_524_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_524_2 = 0.200000002980232

			if var_524_1 <= arg_521_1.time_ and arg_521_1.time_ < var_524_1 + var_524_2 and not isNil(var_524_0) then
				local var_524_3 = (arg_521_1.time_ - var_524_1) / var_524_2

				if arg_521_1.var_.characterEffect1019ui_story and not isNil(var_524_0) then
					local var_524_4 = Mathf.Lerp(0, 0.5, var_524_3)

					arg_521_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_521_1.var_.characterEffect1019ui_story.fillRatio = var_524_4
				end
			end

			if arg_521_1.time_ >= var_524_1 + var_524_2 and arg_521_1.time_ < var_524_1 + var_524_2 + arg_524_0 and not isNil(var_524_0) and arg_521_1.var_.characterEffect1019ui_story then
				local var_524_5 = 0.5

				arg_521_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_521_1.var_.characterEffect1019ui_story.fillRatio = var_524_5
			end

			local var_524_6 = 0
			local var_524_7 = 0.25

			if var_524_6 < arg_521_1.time_ and arg_521_1.time_ <= var_524_6 + arg_524_0 then
				arg_521_1.talkMaxDuration = 0
				arg_521_1.dialogCg_.alpha = 1

				arg_521_1.dialog_:SetActive(true)
				SetActive(arg_521_1.leftNameGo_, true)

				local var_524_8 = arg_521_1:FormatText(StoryNameCfg[7].name)

				arg_521_1.leftNameTxt_.text = var_524_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_521_1.leftNameTxt_.transform)

				arg_521_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_521_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_521_1:RecordName(arg_521_1.leftNameTxt_.text)
				SetActive(arg_521_1.iconTrs_.gameObject, false)
				arg_521_1.callingController_:SetSelectedState("normal")

				local var_524_9 = arg_521_1:GetWordFromCfg(317021131)
				local var_524_10 = arg_521_1:FormatText(var_524_9.content)

				arg_521_1.text_.text = var_524_10

				LuaForUtil.ClearLinePrefixSymbol(arg_521_1.text_)

				local var_524_11 = 10
				local var_524_12 = utf8.len(var_524_10)
				local var_524_13 = var_524_11 <= 0 and var_524_7 or var_524_7 * (var_524_12 / var_524_11)

				if var_524_13 > 0 and var_524_7 < var_524_13 then
					arg_521_1.talkMaxDuration = var_524_13

					if var_524_13 + var_524_6 > arg_521_1.duration_ then
						arg_521_1.duration_ = var_524_13 + var_524_6
					end
				end

				arg_521_1.text_.text = var_524_10
				arg_521_1.typewritter.percent = 0

				arg_521_1.typewritter:SetDirty()
				arg_521_1:ShowNextGo(false)
				arg_521_1:RecordContent(arg_521_1.text_.text)
			end

			local var_524_14 = math.max(var_524_7, arg_521_1.talkMaxDuration)

			if var_524_6 <= arg_521_1.time_ and arg_521_1.time_ < var_524_6 + var_524_14 then
				arg_521_1.typewritter.percent = (arg_521_1.time_ - var_524_6) / var_524_14

				arg_521_1.typewritter:SetDirty()
			end

			if arg_521_1.time_ >= var_524_6 + var_524_14 and arg_521_1.time_ < var_524_6 + var_524_14 + arg_524_0 then
				arg_521_1.typewritter.percent = 1

				arg_521_1.typewritter:SetDirty()
				arg_521_1:ShowNextGo(true)
			end
		end
	end,
	Play317021132 = function(arg_525_0, arg_525_1)
		arg_525_1.time_ = 0
		arg_525_1.frameCnt_ = 0
		arg_525_1.state_ = "playing"
		arg_525_1.curTalkId_ = 317021132
		arg_525_1.duration_ = 5.97

		local var_525_0 = {
			zh = 5.2,
			ja = 5.966
		}
		local var_525_1 = manager.audio:GetLocalizationFlag()

		if var_525_0[var_525_1] ~= nil then
			arg_525_1.duration_ = var_525_0[var_525_1]
		end

		SetActive(arg_525_1.tipsGo_, false)

		function arg_525_1.onSingleLineFinish_()
			arg_525_1.onSingleLineUpdate_ = nil
			arg_525_1.onSingleLineFinish_ = nil
			arg_525_1.state_ = "waiting"
		end

		function arg_525_1.playNext_(arg_527_0)
			if arg_527_0 == 1 then
				arg_525_0:Play317021133(arg_525_1)
			end
		end

		function arg_525_1.onSingleLineUpdate_(arg_528_0)
			local var_528_0 = arg_525_1.actors_["1019ui_story"].transform
			local var_528_1 = 0

			if var_528_1 < arg_525_1.time_ and arg_525_1.time_ <= var_528_1 + arg_528_0 then
				arg_525_1.var_.moveOldPos1019ui_story = var_528_0.localPosition
			end

			local var_528_2 = 0.001

			if var_528_1 <= arg_525_1.time_ and arg_525_1.time_ < var_528_1 + var_528_2 then
				local var_528_3 = (arg_525_1.time_ - var_528_1) / var_528_2
				local var_528_4 = Vector3.New(-0.2, -1.08, -5.9)

				var_528_0.localPosition = Vector3.Lerp(arg_525_1.var_.moveOldPos1019ui_story, var_528_4, var_528_3)

				local var_528_5 = manager.ui.mainCamera.transform.position - var_528_0.position

				var_528_0.forward = Vector3.New(var_528_5.x, var_528_5.y, var_528_5.z)

				local var_528_6 = var_528_0.localEulerAngles

				var_528_6.z = 0
				var_528_6.x = 0
				var_528_0.localEulerAngles = var_528_6
			end

			if arg_525_1.time_ >= var_528_1 + var_528_2 and arg_525_1.time_ < var_528_1 + var_528_2 + arg_528_0 then
				var_528_0.localPosition = Vector3.New(-0.2, -1.08, -5.9)

				local var_528_7 = manager.ui.mainCamera.transform.position - var_528_0.position

				var_528_0.forward = Vector3.New(var_528_7.x, var_528_7.y, var_528_7.z)

				local var_528_8 = var_528_0.localEulerAngles

				var_528_8.z = 0
				var_528_8.x = 0
				var_528_0.localEulerAngles = var_528_8
			end

			local var_528_9 = arg_525_1.actors_["1019ui_story"]
			local var_528_10 = 0

			if var_528_10 < arg_525_1.time_ and arg_525_1.time_ <= var_528_10 + arg_528_0 and not isNil(var_528_9) and arg_525_1.var_.characterEffect1019ui_story == nil then
				arg_525_1.var_.characterEffect1019ui_story = var_528_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_528_11 = 0.200000002980232

			if var_528_10 <= arg_525_1.time_ and arg_525_1.time_ < var_528_10 + var_528_11 and not isNil(var_528_9) then
				local var_528_12 = (arg_525_1.time_ - var_528_10) / var_528_11

				if arg_525_1.var_.characterEffect1019ui_story and not isNil(var_528_9) then
					arg_525_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_525_1.time_ >= var_528_10 + var_528_11 and arg_525_1.time_ < var_528_10 + var_528_11 + arg_528_0 and not isNil(var_528_9) and arg_525_1.var_.characterEffect1019ui_story then
				arg_525_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_528_13 = 0

			if var_528_13 < arg_525_1.time_ and arg_525_1.time_ <= var_528_13 + arg_528_0 then
				arg_525_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_528_14 = 0

			if var_528_14 < arg_525_1.time_ and arg_525_1.time_ <= var_528_14 + arg_528_0 then
				arg_525_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface1102cva")
			end

			local var_528_15 = 0
			local var_528_16 = 0.675

			if var_528_15 < arg_525_1.time_ and arg_525_1.time_ <= var_528_15 + arg_528_0 then
				arg_525_1.talkMaxDuration = 0
				arg_525_1.dialogCg_.alpha = 1

				arg_525_1.dialog_:SetActive(true)
				SetActive(arg_525_1.leftNameGo_, true)

				local var_528_17 = arg_525_1:FormatText(StoryNameCfg[47].name)

				arg_525_1.leftNameTxt_.text = var_528_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_525_1.leftNameTxt_.transform)

				arg_525_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_525_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_525_1:RecordName(arg_525_1.leftNameTxt_.text)
				SetActive(arg_525_1.iconTrs_.gameObject, false)
				arg_525_1.callingController_:SetSelectedState("normal")

				local var_528_18 = arg_525_1:GetWordFromCfg(317021132)
				local var_528_19 = arg_525_1:FormatText(var_528_18.content)

				arg_525_1.text_.text = var_528_19

				LuaForUtil.ClearLinePrefixSymbol(arg_525_1.text_)

				local var_528_20 = 27
				local var_528_21 = utf8.len(var_528_19)
				local var_528_22 = var_528_20 <= 0 and var_528_16 or var_528_16 * (var_528_21 / var_528_20)

				if var_528_22 > 0 and var_528_16 < var_528_22 then
					arg_525_1.talkMaxDuration = var_528_22

					if var_528_22 + var_528_15 > arg_525_1.duration_ then
						arg_525_1.duration_ = var_528_22 + var_528_15
					end
				end

				arg_525_1.text_.text = var_528_19
				arg_525_1.typewritter.percent = 0

				arg_525_1.typewritter:SetDirty()
				arg_525_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021132", "story_v_out_317021.awb") ~= 0 then
					local var_528_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021132", "story_v_out_317021.awb") / 1000

					if var_528_23 + var_528_15 > arg_525_1.duration_ then
						arg_525_1.duration_ = var_528_23 + var_528_15
					end

					if var_528_18.prefab_name ~= "" and arg_525_1.actors_[var_528_18.prefab_name] ~= nil then
						local var_528_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_525_1.actors_[var_528_18.prefab_name].transform, "story_v_out_317021", "317021132", "story_v_out_317021.awb")

						arg_525_1:RecordAudio("317021132", var_528_24)
						arg_525_1:RecordAudio("317021132", var_528_24)
					else
						arg_525_1:AudioAction("play", "voice", "story_v_out_317021", "317021132", "story_v_out_317021.awb")
					end

					arg_525_1:RecordHistoryTalkVoice("story_v_out_317021", "317021132", "story_v_out_317021.awb")
				end

				arg_525_1:RecordContent(arg_525_1.text_.text)
			end

			local var_528_25 = math.max(var_528_16, arg_525_1.talkMaxDuration)

			if var_528_15 <= arg_525_1.time_ and arg_525_1.time_ < var_528_15 + var_528_25 then
				arg_525_1.typewritter.percent = (arg_525_1.time_ - var_528_15) / var_528_25

				arg_525_1.typewritter:SetDirty()
			end

			if arg_525_1.time_ >= var_528_15 + var_528_25 and arg_525_1.time_ < var_528_15 + var_528_25 + arg_528_0 then
				arg_525_1.typewritter.percent = 1

				arg_525_1.typewritter:SetDirty()
				arg_525_1:ShowNextGo(true)
			end
		end
	end,
	Play317021133 = function(arg_529_0, arg_529_1)
		arg_529_1.time_ = 0
		arg_529_1.frameCnt_ = 0
		arg_529_1.state_ = "playing"
		arg_529_1.curTalkId_ = 317021133
		arg_529_1.duration_ = 6.13

		local var_529_0 = {
			zh = 3.733,
			ja = 6.133
		}
		local var_529_1 = manager.audio:GetLocalizationFlag()

		if var_529_0[var_529_1] ~= nil then
			arg_529_1.duration_ = var_529_0[var_529_1]
		end

		SetActive(arg_529_1.tipsGo_, false)

		function arg_529_1.onSingleLineFinish_()
			arg_529_1.onSingleLineUpdate_ = nil
			arg_529_1.onSingleLineFinish_ = nil
			arg_529_1.state_ = "waiting"
		end

		function arg_529_1.playNext_(arg_531_0)
			if arg_531_0 == 1 then
				arg_529_0:Play317021134(arg_529_1)
			end
		end

		function arg_529_1.onSingleLineUpdate_(arg_532_0)
			local var_532_0 = 0
			local var_532_1 = 0.45

			if var_532_0 < arg_529_1.time_ and arg_529_1.time_ <= var_532_0 + arg_532_0 then
				arg_529_1.talkMaxDuration = 0
				arg_529_1.dialogCg_.alpha = 1

				arg_529_1.dialog_:SetActive(true)
				SetActive(arg_529_1.leftNameGo_, true)

				local var_532_2 = arg_529_1:FormatText(StoryNameCfg[47].name)

				arg_529_1.leftNameTxt_.text = var_532_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_529_1.leftNameTxt_.transform)

				arg_529_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_529_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_529_1:RecordName(arg_529_1.leftNameTxt_.text)
				SetActive(arg_529_1.iconTrs_.gameObject, false)
				arg_529_1.callingController_:SetSelectedState("normal")

				local var_532_3 = arg_529_1:GetWordFromCfg(317021133)
				local var_532_4 = arg_529_1:FormatText(var_532_3.content)

				arg_529_1.text_.text = var_532_4

				LuaForUtil.ClearLinePrefixSymbol(arg_529_1.text_)

				local var_532_5 = 18
				local var_532_6 = utf8.len(var_532_4)
				local var_532_7 = var_532_5 <= 0 and var_532_1 or var_532_1 * (var_532_6 / var_532_5)

				if var_532_7 > 0 and var_532_1 < var_532_7 then
					arg_529_1.talkMaxDuration = var_532_7

					if var_532_7 + var_532_0 > arg_529_1.duration_ then
						arg_529_1.duration_ = var_532_7 + var_532_0
					end
				end

				arg_529_1.text_.text = var_532_4
				arg_529_1.typewritter.percent = 0

				arg_529_1.typewritter:SetDirty()
				arg_529_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021133", "story_v_out_317021.awb") ~= 0 then
					local var_532_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021133", "story_v_out_317021.awb") / 1000

					if var_532_8 + var_532_0 > arg_529_1.duration_ then
						arg_529_1.duration_ = var_532_8 + var_532_0
					end

					if var_532_3.prefab_name ~= "" and arg_529_1.actors_[var_532_3.prefab_name] ~= nil then
						local var_532_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_529_1.actors_[var_532_3.prefab_name].transform, "story_v_out_317021", "317021133", "story_v_out_317021.awb")

						arg_529_1:RecordAudio("317021133", var_532_9)
						arg_529_1:RecordAudio("317021133", var_532_9)
					else
						arg_529_1:AudioAction("play", "voice", "story_v_out_317021", "317021133", "story_v_out_317021.awb")
					end

					arg_529_1:RecordHistoryTalkVoice("story_v_out_317021", "317021133", "story_v_out_317021.awb")
				end

				arg_529_1:RecordContent(arg_529_1.text_.text)
			end

			local var_532_10 = math.max(var_532_1, arg_529_1.talkMaxDuration)

			if var_532_0 <= arg_529_1.time_ and arg_529_1.time_ < var_532_0 + var_532_10 then
				arg_529_1.typewritter.percent = (arg_529_1.time_ - var_532_0) / var_532_10

				arg_529_1.typewritter:SetDirty()
			end

			if arg_529_1.time_ >= var_532_0 + var_532_10 and arg_529_1.time_ < var_532_0 + var_532_10 + arg_532_0 then
				arg_529_1.typewritter.percent = 1

				arg_529_1.typewritter:SetDirty()
				arg_529_1:ShowNextGo(true)
			end
		end
	end,
	Play317021134 = function(arg_533_0, arg_533_1)
		arg_533_1.time_ = 0
		arg_533_1.frameCnt_ = 0
		arg_533_1.state_ = "playing"
		arg_533_1.curTalkId_ = 317021134
		arg_533_1.duration_ = 9

		SetActive(arg_533_1.tipsGo_, false)

		function arg_533_1.onSingleLineFinish_()
			arg_533_1.onSingleLineUpdate_ = nil
			arg_533_1.onSingleLineFinish_ = nil
			arg_533_1.state_ = "waiting"
		end

		function arg_533_1.playNext_(arg_535_0)
			if arg_535_0 == 1 then
				arg_533_0:Play317021135(arg_533_1)
			end
		end

		function arg_533_1.onSingleLineUpdate_(arg_536_0)
			local var_536_0 = "ST12"

			if arg_533_1.bgs_[var_536_0] == nil then
				local var_536_1 = Object.Instantiate(arg_533_1.paintGo_)

				var_536_1:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_536_0)
				var_536_1.name = var_536_0
				var_536_1.transform.parent = arg_533_1.stage_.transform
				var_536_1.transform.localPosition = Vector3.New(0, 100, 0)
				arg_533_1.bgs_[var_536_0] = var_536_1
			end

			local var_536_2 = 2

			if var_536_2 < arg_533_1.time_ and arg_533_1.time_ <= var_536_2 + arg_536_0 then
				local var_536_3 = manager.ui.mainCamera.transform.localPosition
				local var_536_4 = Vector3.New(0, 0, 10) + Vector3.New(var_536_3.x, var_536_3.y, 0)
				local var_536_5 = arg_533_1.bgs_.ST12

				var_536_5.transform.localPosition = var_536_4
				var_536_5.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_536_6 = var_536_5:GetComponent("SpriteRenderer")

				if var_536_6 and var_536_6.sprite then
					local var_536_7 = (var_536_5.transform.localPosition - var_536_3).z
					local var_536_8 = manager.ui.mainCameraCom_
					local var_536_9 = 2 * var_536_7 * Mathf.Tan(var_536_8.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_536_10 = var_536_9 * var_536_8.aspect
					local var_536_11 = var_536_6.sprite.bounds.size.x
					local var_536_12 = var_536_6.sprite.bounds.size.y
					local var_536_13 = var_536_10 / var_536_11
					local var_536_14 = var_536_9 / var_536_12
					local var_536_15 = var_536_14 < var_536_13 and var_536_13 or var_536_14

					var_536_5.transform.localScale = Vector3.New(var_536_15, var_536_15, 0)
				end

				for iter_536_0, iter_536_1 in pairs(arg_533_1.bgs_) do
					if iter_536_0 ~= "ST12" then
						iter_536_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_536_16 = 0

			if var_536_16 < arg_533_1.time_ and arg_533_1.time_ <= var_536_16 + arg_536_0 then
				arg_533_1.mask_.enabled = true
				arg_533_1.mask_.raycastTarget = true

				arg_533_1:SetGaussion(false)
			end

			local var_536_17 = 2

			if var_536_16 <= arg_533_1.time_ and arg_533_1.time_ < var_536_16 + var_536_17 then
				local var_536_18 = (arg_533_1.time_ - var_536_16) / var_536_17
				local var_536_19 = Color.New(0, 0, 0)

				var_536_19.a = Mathf.Lerp(0, 1, var_536_18)
				arg_533_1.mask_.color = var_536_19
			end

			if arg_533_1.time_ >= var_536_16 + var_536_17 and arg_533_1.time_ < var_536_16 + var_536_17 + arg_536_0 then
				local var_536_20 = Color.New(0, 0, 0)

				var_536_20.a = 1
				arg_533_1.mask_.color = var_536_20
			end

			local var_536_21 = 2

			if var_536_21 < arg_533_1.time_ and arg_533_1.time_ <= var_536_21 + arg_536_0 then
				arg_533_1.mask_.enabled = true
				arg_533_1.mask_.raycastTarget = true

				arg_533_1:SetGaussion(false)
			end

			local var_536_22 = 2

			if var_536_21 <= arg_533_1.time_ and arg_533_1.time_ < var_536_21 + var_536_22 then
				local var_536_23 = (arg_533_1.time_ - var_536_21) / var_536_22
				local var_536_24 = Color.New(0, 0, 0)

				var_536_24.a = Mathf.Lerp(1, 0, var_536_23)
				arg_533_1.mask_.color = var_536_24
			end

			if arg_533_1.time_ >= var_536_21 + var_536_22 and arg_533_1.time_ < var_536_21 + var_536_22 + arg_536_0 then
				local var_536_25 = Color.New(0, 0, 0)
				local var_536_26 = 0

				arg_533_1.mask_.enabled = false
				var_536_25.a = var_536_26
				arg_533_1.mask_.color = var_536_25
			end

			local var_536_27 = arg_533_1.actors_["1019ui_story"].transform
			local var_536_28 = 2

			if var_536_28 < arg_533_1.time_ and arg_533_1.time_ <= var_536_28 + arg_536_0 then
				arg_533_1.var_.moveOldPos1019ui_story = var_536_27.localPosition
			end

			local var_536_29 = 0.001

			if var_536_28 <= arg_533_1.time_ and arg_533_1.time_ < var_536_28 + var_536_29 then
				local var_536_30 = (arg_533_1.time_ - var_536_28) / var_536_29
				local var_536_31 = Vector3.New(0, 100, 0)

				var_536_27.localPosition = Vector3.Lerp(arg_533_1.var_.moveOldPos1019ui_story, var_536_31, var_536_30)

				local var_536_32 = manager.ui.mainCamera.transform.position - var_536_27.position

				var_536_27.forward = Vector3.New(var_536_32.x, var_536_32.y, var_536_32.z)

				local var_536_33 = var_536_27.localEulerAngles

				var_536_33.z = 0
				var_536_33.x = 0
				var_536_27.localEulerAngles = var_536_33
			end

			if arg_533_1.time_ >= var_536_28 + var_536_29 and arg_533_1.time_ < var_536_28 + var_536_29 + arg_536_0 then
				var_536_27.localPosition = Vector3.New(0, 100, 0)

				local var_536_34 = manager.ui.mainCamera.transform.position - var_536_27.position

				var_536_27.forward = Vector3.New(var_536_34.x, var_536_34.y, var_536_34.z)

				local var_536_35 = var_536_27.localEulerAngles

				var_536_35.z = 0
				var_536_35.x = 0
				var_536_27.localEulerAngles = var_536_35
			end

			if arg_533_1.frameCnt_ <= 1 then
				arg_533_1.dialog_:SetActive(false)
			end

			local var_536_36 = 4
			local var_536_37 = 1.325

			if var_536_36 < arg_533_1.time_ and arg_533_1.time_ <= var_536_36 + arg_536_0 then
				arg_533_1.talkMaxDuration = 0

				arg_533_1.dialog_:SetActive(true)

				local var_536_38 = LeanTween.value(arg_533_1.dialog_, 0, 1, 0.3)

				var_536_38:setOnUpdate(LuaHelper.FloatAction(function(arg_537_0)
					arg_533_1.dialogCg_.alpha = arg_537_0
				end))
				var_536_38:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_533_1.dialog_)
					var_536_38:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_533_1.duration_ = arg_533_1.duration_ + 0.3

				SetActive(arg_533_1.leftNameGo_, false)

				arg_533_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_533_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_533_1:RecordName(arg_533_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_533_1.iconTrs_.gameObject, false)
				arg_533_1.callingController_:SetSelectedState("normal")

				local var_536_39 = arg_533_1:GetWordFromCfg(317021134)
				local var_536_40 = arg_533_1:FormatText(var_536_39.content)

				arg_533_1.text_.text = var_536_40

				LuaForUtil.ClearLinePrefixSymbol(arg_533_1.text_)

				local var_536_41 = 53
				local var_536_42 = utf8.len(var_536_40)
				local var_536_43 = var_536_41 <= 0 and var_536_37 or var_536_37 * (var_536_42 / var_536_41)

				if var_536_43 > 0 and var_536_37 < var_536_43 then
					arg_533_1.talkMaxDuration = var_536_43
					var_536_36 = var_536_36 + 0.3

					if var_536_43 + var_536_36 > arg_533_1.duration_ then
						arg_533_1.duration_ = var_536_43 + var_536_36
					end
				end

				arg_533_1.text_.text = var_536_40
				arg_533_1.typewritter.percent = 0

				arg_533_1.typewritter:SetDirty()
				arg_533_1:ShowNextGo(false)
				arg_533_1:RecordContent(arg_533_1.text_.text)
			end

			local var_536_44 = var_536_36 + 0.3
			local var_536_45 = math.max(var_536_37, arg_533_1.talkMaxDuration)

			if var_536_44 <= arg_533_1.time_ and arg_533_1.time_ < var_536_44 + var_536_45 then
				arg_533_1.typewritter.percent = (arg_533_1.time_ - var_536_44) / var_536_45

				arg_533_1.typewritter:SetDirty()
			end

			if arg_533_1.time_ >= var_536_44 + var_536_45 and arg_533_1.time_ < var_536_44 + var_536_45 + arg_536_0 then
				arg_533_1.typewritter.percent = 1

				arg_533_1.typewritter:SetDirty()
				arg_533_1:ShowNextGo(true)
			end
		end
	end,
	Play317021135 = function(arg_539_0, arg_539_1)
		arg_539_1.time_ = 0
		arg_539_1.frameCnt_ = 0
		arg_539_1.state_ = "playing"
		arg_539_1.curTalkId_ = 317021135
		arg_539_1.duration_ = 8.43

		local var_539_0 = {
			zh = 8.433,
			ja = 6.033
		}
		local var_539_1 = manager.audio:GetLocalizationFlag()

		if var_539_0[var_539_1] ~= nil then
			arg_539_1.duration_ = var_539_0[var_539_1]
		end

		SetActive(arg_539_1.tipsGo_, false)

		function arg_539_1.onSingleLineFinish_()
			arg_539_1.onSingleLineUpdate_ = nil
			arg_539_1.onSingleLineFinish_ = nil
			arg_539_1.state_ = "waiting"
		end

		function arg_539_1.playNext_(arg_541_0)
			if arg_541_0 == 1 then
				arg_539_0:Play317021136(arg_539_1)
			end
		end

		function arg_539_1.onSingleLineUpdate_(arg_542_0)
			local var_542_0 = arg_539_1.actors_["1019ui_story"].transform
			local var_542_1 = 0

			if var_542_1 < arg_539_1.time_ and arg_539_1.time_ <= var_542_1 + arg_542_0 then
				arg_539_1.var_.moveOldPos1019ui_story = var_542_0.localPosition
			end

			local var_542_2 = 0.001

			if var_542_1 <= arg_539_1.time_ and arg_539_1.time_ < var_542_1 + var_542_2 then
				local var_542_3 = (arg_539_1.time_ - var_542_1) / var_542_2
				local var_542_4 = Vector3.New(-0.7, -1.08, -5.9)

				var_542_0.localPosition = Vector3.Lerp(arg_539_1.var_.moveOldPos1019ui_story, var_542_4, var_542_3)

				local var_542_5 = manager.ui.mainCamera.transform.position - var_542_0.position

				var_542_0.forward = Vector3.New(var_542_5.x, var_542_5.y, var_542_5.z)

				local var_542_6 = var_542_0.localEulerAngles

				var_542_6.z = 0
				var_542_6.x = 0
				var_542_0.localEulerAngles = var_542_6
			end

			if arg_539_1.time_ >= var_542_1 + var_542_2 and arg_539_1.time_ < var_542_1 + var_542_2 + arg_542_0 then
				var_542_0.localPosition = Vector3.New(-0.7, -1.08, -5.9)

				local var_542_7 = manager.ui.mainCamera.transform.position - var_542_0.position

				var_542_0.forward = Vector3.New(var_542_7.x, var_542_7.y, var_542_7.z)

				local var_542_8 = var_542_0.localEulerAngles

				var_542_8.z = 0
				var_542_8.x = 0
				var_542_0.localEulerAngles = var_542_8
			end

			local var_542_9 = arg_539_1.actors_["1019ui_story"]
			local var_542_10 = 0

			if var_542_10 < arg_539_1.time_ and arg_539_1.time_ <= var_542_10 + arg_542_0 and not isNil(var_542_9) and arg_539_1.var_.characterEffect1019ui_story == nil then
				arg_539_1.var_.characterEffect1019ui_story = var_542_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_542_11 = 0.200000002980232

			if var_542_10 <= arg_539_1.time_ and arg_539_1.time_ < var_542_10 + var_542_11 and not isNil(var_542_9) then
				local var_542_12 = (arg_539_1.time_ - var_542_10) / var_542_11

				if arg_539_1.var_.characterEffect1019ui_story and not isNil(var_542_9) then
					arg_539_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_539_1.time_ >= var_542_10 + var_542_11 and arg_539_1.time_ < var_542_10 + var_542_11 + arg_542_0 and not isNil(var_542_9) and arg_539_1.var_.characterEffect1019ui_story then
				arg_539_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_542_13 = 0

			if var_542_13 < arg_539_1.time_ and arg_539_1.time_ <= var_542_13 + arg_542_0 then
				arg_539_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_542_14 = 0

			if var_542_14 < arg_539_1.time_ and arg_539_1.time_ <= var_542_14 + arg_542_0 then
				arg_539_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_542_15 = arg_539_1.actors_["1019ui_story"]
			local var_542_16 = 0

			if var_542_16 < arg_539_1.time_ and arg_539_1.time_ <= var_542_16 + arg_542_0 then
				if arg_539_1.var_.characterEffect1019ui_story == nil then
					arg_539_1.var_.characterEffect1019ui_story = var_542_15:GetComponentInChildren(typeof(CharacterEffect))
				end

				local var_542_17 = arg_539_1.var_.characterEffect1019ui_story

				var_542_17.imageEffect:turnOff()

				var_542_17.interferenceEffect.enabled = false
				var_542_17.interferenceEffect.noise = 0.001
				var_542_17.interferenceEffect.simTimeScale = 1
				var_542_17.interferenceEffect.geometryOutlineColor = Color.New(0.3725, 0.88, 1, 1)
			end

			local var_542_18 = 0
			local var_542_19 = 0.55

			if var_542_18 < arg_539_1.time_ and arg_539_1.time_ <= var_542_18 + arg_542_0 then
				arg_539_1.talkMaxDuration = 0
				arg_539_1.dialogCg_.alpha = 1

				arg_539_1.dialog_:SetActive(true)
				SetActive(arg_539_1.leftNameGo_, true)

				local var_542_20 = arg_539_1:FormatText(StoryNameCfg[47].name)

				arg_539_1.leftNameTxt_.text = var_542_20

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_539_1.leftNameTxt_.transform)

				arg_539_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_539_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_539_1:RecordName(arg_539_1.leftNameTxt_.text)
				SetActive(arg_539_1.iconTrs_.gameObject, false)
				arg_539_1.callingController_:SetSelectedState("normal")

				local var_542_21 = arg_539_1:GetWordFromCfg(317021135)
				local var_542_22 = arg_539_1:FormatText(var_542_21.content)

				arg_539_1.text_.text = var_542_22

				LuaForUtil.ClearLinePrefixSymbol(arg_539_1.text_)

				local var_542_23 = 22
				local var_542_24 = utf8.len(var_542_22)
				local var_542_25 = var_542_23 <= 0 and var_542_19 or var_542_19 * (var_542_24 / var_542_23)

				if var_542_25 > 0 and var_542_19 < var_542_25 then
					arg_539_1.talkMaxDuration = var_542_25

					if var_542_25 + var_542_18 > arg_539_1.duration_ then
						arg_539_1.duration_ = var_542_25 + var_542_18
					end
				end

				arg_539_1.text_.text = var_542_22
				arg_539_1.typewritter.percent = 0

				arg_539_1.typewritter:SetDirty()
				arg_539_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021135", "story_v_out_317021.awb") ~= 0 then
					local var_542_26 = manager.audio:GetVoiceLength("story_v_out_317021", "317021135", "story_v_out_317021.awb") / 1000

					if var_542_26 + var_542_18 > arg_539_1.duration_ then
						arg_539_1.duration_ = var_542_26 + var_542_18
					end

					if var_542_21.prefab_name ~= "" and arg_539_1.actors_[var_542_21.prefab_name] ~= nil then
						local var_542_27 = LuaForUtil.PlayVoiceWithCriLipsync(arg_539_1.actors_[var_542_21.prefab_name].transform, "story_v_out_317021", "317021135", "story_v_out_317021.awb")

						arg_539_1:RecordAudio("317021135", var_542_27)
						arg_539_1:RecordAudio("317021135", var_542_27)
					else
						arg_539_1:AudioAction("play", "voice", "story_v_out_317021", "317021135", "story_v_out_317021.awb")
					end

					arg_539_1:RecordHistoryTalkVoice("story_v_out_317021", "317021135", "story_v_out_317021.awb")
				end

				arg_539_1:RecordContent(arg_539_1.text_.text)
			end

			local var_542_28 = math.max(var_542_19, arg_539_1.talkMaxDuration)

			if var_542_18 <= arg_539_1.time_ and arg_539_1.time_ < var_542_18 + var_542_28 then
				arg_539_1.typewritter.percent = (arg_539_1.time_ - var_542_18) / var_542_28

				arg_539_1.typewritter:SetDirty()
			end

			if arg_539_1.time_ >= var_542_18 + var_542_28 and arg_539_1.time_ < var_542_18 + var_542_28 + arg_542_0 then
				arg_539_1.typewritter.percent = 1

				arg_539_1.typewritter:SetDirty()
				arg_539_1:ShowNextGo(true)
			end
		end
	end,
	Play317021136 = function(arg_543_0, arg_543_1)
		arg_543_1.time_ = 0
		arg_543_1.frameCnt_ = 0
		arg_543_1.state_ = "playing"
		arg_543_1.curTalkId_ = 317021136
		arg_543_1.duration_ = 5.5

		local var_543_0 = {
			zh = 4.4,
			ja = 5.5
		}
		local var_543_1 = manager.audio:GetLocalizationFlag()

		if var_543_0[var_543_1] ~= nil then
			arg_543_1.duration_ = var_543_0[var_543_1]
		end

		SetActive(arg_543_1.tipsGo_, false)

		function arg_543_1.onSingleLineFinish_()
			arg_543_1.onSingleLineUpdate_ = nil
			arg_543_1.onSingleLineFinish_ = nil
			arg_543_1.state_ = "waiting"
		end

		function arg_543_1.playNext_(arg_545_0)
			if arg_545_0 == 1 then
				arg_543_0:Play317021137(arg_543_1)
			end
		end

		function arg_543_1.onSingleLineUpdate_(arg_546_0)
			local var_546_0 = "1029ui_story"

			if arg_543_1.actors_[var_546_0] == nil then
				local var_546_1 = Asset.Load("Char/" .. "1029ui_story")

				if not isNil(var_546_1) then
					local var_546_2 = Object.Instantiate(Asset.Load("Char/" .. "1029ui_story"), arg_543_1.stage_.transform)

					var_546_2.name = var_546_0
					var_546_2.transform.localPosition = Vector3.New(0, 100, 0)
					arg_543_1.actors_[var_546_0] = var_546_2

					local var_546_3 = var_546_2:GetComponentInChildren(typeof(CharacterEffect))

					var_546_3.enabled = true

					local var_546_4 = GameObjectTools.GetOrAddComponent(var_546_2, typeof(DynamicBoneHelper))

					if var_546_4 then
						var_546_4:EnableDynamicBone(false)
					end

					arg_543_1:ShowWeapon(var_546_3.transform, false)

					arg_543_1.var_[var_546_0 .. "Animator"] = var_546_3.gameObject:GetComponent(typeof(UnityEngine.Animator))
					arg_543_1.var_[var_546_0 .. "Animator"].applyRootMotion = true
					arg_543_1.var_[var_546_0 .. "LipSync"] = var_546_3.gameObject:GetComponentInChildren(typeof(RogoDigital.Lipsync.LipSync))
				end
			end

			local var_546_5 = arg_543_1.actors_["1029ui_story"].transform
			local var_546_6 = 0

			if var_546_6 < arg_543_1.time_ and arg_543_1.time_ <= var_546_6 + arg_546_0 then
				arg_543_1.var_.moveOldPos1029ui_story = var_546_5.localPosition
			end

			local var_546_7 = 0.001

			if var_546_6 <= arg_543_1.time_ and arg_543_1.time_ < var_546_6 + var_546_7 then
				local var_546_8 = (arg_543_1.time_ - var_546_6) / var_546_7
				local var_546_9 = Vector3.New(0.7, -1.09, -6.2)

				var_546_5.localPosition = Vector3.Lerp(arg_543_1.var_.moveOldPos1029ui_story, var_546_9, var_546_8)

				local var_546_10 = manager.ui.mainCamera.transform.position - var_546_5.position

				var_546_5.forward = Vector3.New(var_546_10.x, var_546_10.y, var_546_10.z)

				local var_546_11 = var_546_5.localEulerAngles

				var_546_11.z = 0
				var_546_11.x = 0
				var_546_5.localEulerAngles = var_546_11
			end

			if arg_543_1.time_ >= var_546_6 + var_546_7 and arg_543_1.time_ < var_546_6 + var_546_7 + arg_546_0 then
				var_546_5.localPosition = Vector3.New(0.7, -1.09, -6.2)

				local var_546_12 = manager.ui.mainCamera.transform.position - var_546_5.position

				var_546_5.forward = Vector3.New(var_546_12.x, var_546_12.y, var_546_12.z)

				local var_546_13 = var_546_5.localEulerAngles

				var_546_13.z = 0
				var_546_13.x = 0
				var_546_5.localEulerAngles = var_546_13
			end

			local var_546_14 = arg_543_1.actors_["1029ui_story"]
			local var_546_15 = 0

			if var_546_15 < arg_543_1.time_ and arg_543_1.time_ <= var_546_15 + arg_546_0 and not isNil(var_546_14) and arg_543_1.var_.characterEffect1029ui_story == nil then
				arg_543_1.var_.characterEffect1029ui_story = var_546_14:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_546_16 = 0.200000002980232

			if var_546_15 <= arg_543_1.time_ and arg_543_1.time_ < var_546_15 + var_546_16 and not isNil(var_546_14) then
				local var_546_17 = (arg_543_1.time_ - var_546_15) / var_546_16

				if arg_543_1.var_.characterEffect1029ui_story and not isNil(var_546_14) then
					arg_543_1.var_.characterEffect1029ui_story.fillFlat = false
				end
			end

			if arg_543_1.time_ >= var_546_15 + var_546_16 and arg_543_1.time_ < var_546_15 + var_546_16 + arg_546_0 and not isNil(var_546_14) and arg_543_1.var_.characterEffect1029ui_story then
				arg_543_1.var_.characterEffect1029ui_story.fillFlat = false
			end

			local var_546_18 = 0

			if var_546_18 < arg_543_1.time_ and arg_543_1.time_ <= var_546_18 + arg_546_0 then
				arg_543_1:PlayTimeline("1029ui_story", "StoryTimeline/CharAction/story1029/1029action/1029action1_1")
			end

			local var_546_19 = 0

			if var_546_19 < arg_543_1.time_ and arg_543_1.time_ <= var_546_19 + arg_546_0 then
				arg_543_1:PlayTimeline("1029ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_546_20 = arg_543_1.actors_["1019ui_story"]
			local var_546_21 = 0

			if var_546_21 < arg_543_1.time_ and arg_543_1.time_ <= var_546_21 + arg_546_0 and not isNil(var_546_20) and arg_543_1.var_.characterEffect1019ui_story == nil then
				arg_543_1.var_.characterEffect1019ui_story = var_546_20:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_546_22 = 0.200000002980232

			if var_546_21 <= arg_543_1.time_ and arg_543_1.time_ < var_546_21 + var_546_22 and not isNil(var_546_20) then
				local var_546_23 = (arg_543_1.time_ - var_546_21) / var_546_22

				if arg_543_1.var_.characterEffect1019ui_story and not isNil(var_546_20) then
					local var_546_24 = Mathf.Lerp(0, 0.5, var_546_23)

					arg_543_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_543_1.var_.characterEffect1019ui_story.fillRatio = var_546_24
				end
			end

			if arg_543_1.time_ >= var_546_21 + var_546_22 and arg_543_1.time_ < var_546_21 + var_546_22 + arg_546_0 and not isNil(var_546_20) and arg_543_1.var_.characterEffect1019ui_story then
				local var_546_25 = 0.5

				arg_543_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_543_1.var_.characterEffect1019ui_story.fillRatio = var_546_25
			end

			local var_546_26 = 0
			local var_546_27 = 0.525

			if var_546_26 < arg_543_1.time_ and arg_543_1.time_ <= var_546_26 + arg_546_0 then
				arg_543_1.talkMaxDuration = 0
				arg_543_1.dialogCg_.alpha = 1

				arg_543_1.dialog_:SetActive(true)
				SetActive(arg_543_1.leftNameGo_, true)

				local var_546_28 = arg_543_1:FormatText(StoryNameCfg[319].name)

				arg_543_1.leftNameTxt_.text = var_546_28

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_543_1.leftNameTxt_.transform)

				arg_543_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_543_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_543_1:RecordName(arg_543_1.leftNameTxt_.text)
				SetActive(arg_543_1.iconTrs_.gameObject, false)
				arg_543_1.callingController_:SetSelectedState("normal")

				local var_546_29 = arg_543_1:GetWordFromCfg(317021136)
				local var_546_30 = arg_543_1:FormatText(var_546_29.content)

				arg_543_1.text_.text = var_546_30

				LuaForUtil.ClearLinePrefixSymbol(arg_543_1.text_)

				local var_546_31 = 21
				local var_546_32 = utf8.len(var_546_30)
				local var_546_33 = var_546_31 <= 0 and var_546_27 or var_546_27 * (var_546_32 / var_546_31)

				if var_546_33 > 0 and var_546_27 < var_546_33 then
					arg_543_1.talkMaxDuration = var_546_33

					if var_546_33 + var_546_26 > arg_543_1.duration_ then
						arg_543_1.duration_ = var_546_33 + var_546_26
					end
				end

				arg_543_1.text_.text = var_546_30
				arg_543_1.typewritter.percent = 0

				arg_543_1.typewritter:SetDirty()
				arg_543_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021136", "story_v_out_317021.awb") ~= 0 then
					local var_546_34 = manager.audio:GetVoiceLength("story_v_out_317021", "317021136", "story_v_out_317021.awb") / 1000

					if var_546_34 + var_546_26 > arg_543_1.duration_ then
						arg_543_1.duration_ = var_546_34 + var_546_26
					end

					if var_546_29.prefab_name ~= "" and arg_543_1.actors_[var_546_29.prefab_name] ~= nil then
						local var_546_35 = LuaForUtil.PlayVoiceWithCriLipsync(arg_543_1.actors_[var_546_29.prefab_name].transform, "story_v_out_317021", "317021136", "story_v_out_317021.awb")

						arg_543_1:RecordAudio("317021136", var_546_35)
						arg_543_1:RecordAudio("317021136", var_546_35)
					else
						arg_543_1:AudioAction("play", "voice", "story_v_out_317021", "317021136", "story_v_out_317021.awb")
					end

					arg_543_1:RecordHistoryTalkVoice("story_v_out_317021", "317021136", "story_v_out_317021.awb")
				end

				arg_543_1:RecordContent(arg_543_1.text_.text)
			end

			local var_546_36 = math.max(var_546_27, arg_543_1.talkMaxDuration)

			if var_546_26 <= arg_543_1.time_ and arg_543_1.time_ < var_546_26 + var_546_36 then
				arg_543_1.typewritter.percent = (arg_543_1.time_ - var_546_26) / var_546_36

				arg_543_1.typewritter:SetDirty()
			end

			if arg_543_1.time_ >= var_546_26 + var_546_36 and arg_543_1.time_ < var_546_26 + var_546_36 + arg_546_0 then
				arg_543_1.typewritter.percent = 1

				arg_543_1.typewritter:SetDirty()
				arg_543_1:ShowNextGo(true)
			end
		end
	end,
	Play317021137 = function(arg_547_0, arg_547_1)
		arg_547_1.time_ = 0
		arg_547_1.frameCnt_ = 0
		arg_547_1.state_ = "playing"
		arg_547_1.curTalkId_ = 317021137
		arg_547_1.duration_ = 6.07

		local var_547_0 = {
			zh = 5.233,
			ja = 6.066
		}
		local var_547_1 = manager.audio:GetLocalizationFlag()

		if var_547_0[var_547_1] ~= nil then
			arg_547_1.duration_ = var_547_0[var_547_1]
		end

		SetActive(arg_547_1.tipsGo_, false)

		function arg_547_1.onSingleLineFinish_()
			arg_547_1.onSingleLineUpdate_ = nil
			arg_547_1.onSingleLineFinish_ = nil
			arg_547_1.state_ = "waiting"
		end

		function arg_547_1.playNext_(arg_549_0)
			if arg_549_0 == 1 then
				arg_547_0:Play317021138(arg_547_1)
			end
		end

		function arg_547_1.onSingleLineUpdate_(arg_550_0)
			local var_550_0 = arg_547_1.actors_["1019ui_story"].transform
			local var_550_1 = 0

			if var_550_1 < arg_547_1.time_ and arg_547_1.time_ <= var_550_1 + arg_550_0 then
				arg_547_1.var_.moveOldPos1019ui_story = var_550_0.localPosition
			end

			local var_550_2 = 0.001

			if var_550_1 <= arg_547_1.time_ and arg_547_1.time_ < var_550_1 + var_550_2 then
				local var_550_3 = (arg_547_1.time_ - var_550_1) / var_550_2
				local var_550_4 = Vector3.New(-0.7, -1.08, -5.9)

				var_550_0.localPosition = Vector3.Lerp(arg_547_1.var_.moveOldPos1019ui_story, var_550_4, var_550_3)

				local var_550_5 = manager.ui.mainCamera.transform.position - var_550_0.position

				var_550_0.forward = Vector3.New(var_550_5.x, var_550_5.y, var_550_5.z)

				local var_550_6 = var_550_0.localEulerAngles

				var_550_6.z = 0
				var_550_6.x = 0
				var_550_0.localEulerAngles = var_550_6
			end

			if arg_547_1.time_ >= var_550_1 + var_550_2 and arg_547_1.time_ < var_550_1 + var_550_2 + arg_550_0 then
				var_550_0.localPosition = Vector3.New(-0.7, -1.08, -5.9)

				local var_550_7 = manager.ui.mainCamera.transform.position - var_550_0.position

				var_550_0.forward = Vector3.New(var_550_7.x, var_550_7.y, var_550_7.z)

				local var_550_8 = var_550_0.localEulerAngles

				var_550_8.z = 0
				var_550_8.x = 0
				var_550_0.localEulerAngles = var_550_8
			end

			local var_550_9 = arg_547_1.actors_["1019ui_story"]
			local var_550_10 = 0

			if var_550_10 < arg_547_1.time_ and arg_547_1.time_ <= var_550_10 + arg_550_0 and not isNil(var_550_9) and arg_547_1.var_.characterEffect1019ui_story == nil then
				arg_547_1.var_.characterEffect1019ui_story = var_550_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_550_11 = 0.200000002980232

			if var_550_10 <= arg_547_1.time_ and arg_547_1.time_ < var_550_10 + var_550_11 and not isNil(var_550_9) then
				local var_550_12 = (arg_547_1.time_ - var_550_10) / var_550_11

				if arg_547_1.var_.characterEffect1019ui_story and not isNil(var_550_9) then
					arg_547_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_547_1.time_ >= var_550_10 + var_550_11 and arg_547_1.time_ < var_550_10 + var_550_11 + arg_550_0 and not isNil(var_550_9) and arg_547_1.var_.characterEffect1019ui_story then
				arg_547_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_550_13 = 0

			if var_550_13 < arg_547_1.time_ and arg_547_1.time_ <= var_550_13 + arg_550_0 then
				arg_547_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_550_14 = 0

			if var_550_14 < arg_547_1.time_ and arg_547_1.time_ <= var_550_14 + arg_550_0 then
				arg_547_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_550_15 = arg_547_1.actors_["1029ui_story"].transform
			local var_550_16 = 0

			if var_550_16 < arg_547_1.time_ and arg_547_1.time_ <= var_550_16 + arg_550_0 then
				arg_547_1.var_.moveOldPos1029ui_story = var_550_15.localPosition
			end

			local var_550_17 = 0.001

			if var_550_16 <= arg_547_1.time_ and arg_547_1.time_ < var_550_16 + var_550_17 then
				local var_550_18 = (arg_547_1.time_ - var_550_16) / var_550_17
				local var_550_19 = Vector3.New(0.7, -1.09, -6.2)

				var_550_15.localPosition = Vector3.Lerp(arg_547_1.var_.moveOldPos1029ui_story, var_550_19, var_550_18)

				local var_550_20 = manager.ui.mainCamera.transform.position - var_550_15.position

				var_550_15.forward = Vector3.New(var_550_20.x, var_550_20.y, var_550_20.z)

				local var_550_21 = var_550_15.localEulerAngles

				var_550_21.z = 0
				var_550_21.x = 0
				var_550_15.localEulerAngles = var_550_21
			end

			if arg_547_1.time_ >= var_550_16 + var_550_17 and arg_547_1.time_ < var_550_16 + var_550_17 + arg_550_0 then
				var_550_15.localPosition = Vector3.New(0.7, -1.09, -6.2)

				local var_550_22 = manager.ui.mainCamera.transform.position - var_550_15.position

				var_550_15.forward = Vector3.New(var_550_22.x, var_550_22.y, var_550_22.z)

				local var_550_23 = var_550_15.localEulerAngles

				var_550_23.z = 0
				var_550_23.x = 0
				var_550_15.localEulerAngles = var_550_23
			end

			local var_550_24 = arg_547_1.actors_["1029ui_story"]
			local var_550_25 = 0

			if var_550_25 < arg_547_1.time_ and arg_547_1.time_ <= var_550_25 + arg_550_0 and not isNil(var_550_24) and arg_547_1.var_.characterEffect1029ui_story == nil then
				arg_547_1.var_.characterEffect1029ui_story = var_550_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_550_26 = 0.200000002980232

			if var_550_25 <= arg_547_1.time_ and arg_547_1.time_ < var_550_25 + var_550_26 and not isNil(var_550_24) then
				local var_550_27 = (arg_547_1.time_ - var_550_25) / var_550_26

				if arg_547_1.var_.characterEffect1029ui_story and not isNil(var_550_24) then
					local var_550_28 = Mathf.Lerp(0, 0.5, var_550_27)

					arg_547_1.var_.characterEffect1029ui_story.fillFlat = true
					arg_547_1.var_.characterEffect1029ui_story.fillRatio = var_550_28
				end
			end

			if arg_547_1.time_ >= var_550_25 + var_550_26 and arg_547_1.time_ < var_550_25 + var_550_26 + arg_550_0 and not isNil(var_550_24) and arg_547_1.var_.characterEffect1029ui_story then
				local var_550_29 = 0.5

				arg_547_1.var_.characterEffect1029ui_story.fillFlat = true
				arg_547_1.var_.characterEffect1029ui_story.fillRatio = var_550_29
			end

			local var_550_30 = 0
			local var_550_31 = 0.775

			if var_550_30 < arg_547_1.time_ and arg_547_1.time_ <= var_550_30 + arg_550_0 then
				arg_547_1.talkMaxDuration = 0
				arg_547_1.dialogCg_.alpha = 1

				arg_547_1.dialog_:SetActive(true)
				SetActive(arg_547_1.leftNameGo_, true)

				local var_550_32 = arg_547_1:FormatText(StoryNameCfg[47].name)

				arg_547_1.leftNameTxt_.text = var_550_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_547_1.leftNameTxt_.transform)

				arg_547_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_547_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_547_1:RecordName(arg_547_1.leftNameTxt_.text)
				SetActive(arg_547_1.iconTrs_.gameObject, false)
				arg_547_1.callingController_:SetSelectedState("normal")

				local var_550_33 = arg_547_1:GetWordFromCfg(317021137)
				local var_550_34 = arg_547_1:FormatText(var_550_33.content)

				arg_547_1.text_.text = var_550_34

				LuaForUtil.ClearLinePrefixSymbol(arg_547_1.text_)

				local var_550_35 = 31
				local var_550_36 = utf8.len(var_550_34)
				local var_550_37 = var_550_35 <= 0 and var_550_31 or var_550_31 * (var_550_36 / var_550_35)

				if var_550_37 > 0 and var_550_31 < var_550_37 then
					arg_547_1.talkMaxDuration = var_550_37

					if var_550_37 + var_550_30 > arg_547_1.duration_ then
						arg_547_1.duration_ = var_550_37 + var_550_30
					end
				end

				arg_547_1.text_.text = var_550_34
				arg_547_1.typewritter.percent = 0

				arg_547_1.typewritter:SetDirty()
				arg_547_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021137", "story_v_out_317021.awb") ~= 0 then
					local var_550_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021137", "story_v_out_317021.awb") / 1000

					if var_550_38 + var_550_30 > arg_547_1.duration_ then
						arg_547_1.duration_ = var_550_38 + var_550_30
					end

					if var_550_33.prefab_name ~= "" and arg_547_1.actors_[var_550_33.prefab_name] ~= nil then
						local var_550_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_547_1.actors_[var_550_33.prefab_name].transform, "story_v_out_317021", "317021137", "story_v_out_317021.awb")

						arg_547_1:RecordAudio("317021137", var_550_39)
						arg_547_1:RecordAudio("317021137", var_550_39)
					else
						arg_547_1:AudioAction("play", "voice", "story_v_out_317021", "317021137", "story_v_out_317021.awb")
					end

					arg_547_1:RecordHistoryTalkVoice("story_v_out_317021", "317021137", "story_v_out_317021.awb")
				end

				arg_547_1:RecordContent(arg_547_1.text_.text)
			end

			local var_550_40 = math.max(var_550_31, arg_547_1.talkMaxDuration)

			if var_550_30 <= arg_547_1.time_ and arg_547_1.time_ < var_550_30 + var_550_40 then
				arg_547_1.typewritter.percent = (arg_547_1.time_ - var_550_30) / var_550_40

				arg_547_1.typewritter:SetDirty()
			end

			if arg_547_1.time_ >= var_550_30 + var_550_40 and arg_547_1.time_ < var_550_30 + var_550_40 + arg_550_0 then
				arg_547_1.typewritter.percent = 1

				arg_547_1.typewritter:SetDirty()
				arg_547_1:ShowNextGo(true)
			end
		end
	end,
	Play317021138 = function(arg_551_0, arg_551_1)
		arg_551_1.time_ = 0
		arg_551_1.frameCnt_ = 0
		arg_551_1.state_ = "playing"
		arg_551_1.curTalkId_ = 317021138
		arg_551_1.duration_ = 10.2

		local var_551_0 = {
			zh = 10.2,
			ja = 7.633
		}
		local var_551_1 = manager.audio:GetLocalizationFlag()

		if var_551_0[var_551_1] ~= nil then
			arg_551_1.duration_ = var_551_0[var_551_1]
		end

		SetActive(arg_551_1.tipsGo_, false)

		function arg_551_1.onSingleLineFinish_()
			arg_551_1.onSingleLineUpdate_ = nil
			arg_551_1.onSingleLineFinish_ = nil
			arg_551_1.state_ = "waiting"
		end

		function arg_551_1.playNext_(arg_553_0)
			if arg_553_0 == 1 then
				arg_551_0:Play317021139(arg_551_1)
			end
		end

		function arg_551_1.onSingleLineUpdate_(arg_554_0)
			local var_554_0 = 0
			local var_554_1 = 1.4

			if var_554_0 < arg_551_1.time_ and arg_551_1.time_ <= var_554_0 + arg_554_0 then
				arg_551_1.talkMaxDuration = 0
				arg_551_1.dialogCg_.alpha = 1

				arg_551_1.dialog_:SetActive(true)
				SetActive(arg_551_1.leftNameGo_, true)

				local var_554_2 = arg_551_1:FormatText(StoryNameCfg[47].name)

				arg_551_1.leftNameTxt_.text = var_554_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_551_1.leftNameTxt_.transform)

				arg_551_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_551_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_551_1:RecordName(arg_551_1.leftNameTxt_.text)
				SetActive(arg_551_1.iconTrs_.gameObject, false)
				arg_551_1.callingController_:SetSelectedState("normal")

				local var_554_3 = arg_551_1:GetWordFromCfg(317021138)
				local var_554_4 = arg_551_1:FormatText(var_554_3.content)

				arg_551_1.text_.text = var_554_4

				LuaForUtil.ClearLinePrefixSymbol(arg_551_1.text_)

				local var_554_5 = 56
				local var_554_6 = utf8.len(var_554_4)
				local var_554_7 = var_554_5 <= 0 and var_554_1 or var_554_1 * (var_554_6 / var_554_5)

				if var_554_7 > 0 and var_554_1 < var_554_7 then
					arg_551_1.talkMaxDuration = var_554_7

					if var_554_7 + var_554_0 > arg_551_1.duration_ then
						arg_551_1.duration_ = var_554_7 + var_554_0
					end
				end

				arg_551_1.text_.text = var_554_4
				arg_551_1.typewritter.percent = 0

				arg_551_1.typewritter:SetDirty()
				arg_551_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021138", "story_v_out_317021.awb") ~= 0 then
					local var_554_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021138", "story_v_out_317021.awb") / 1000

					if var_554_8 + var_554_0 > arg_551_1.duration_ then
						arg_551_1.duration_ = var_554_8 + var_554_0
					end

					if var_554_3.prefab_name ~= "" and arg_551_1.actors_[var_554_3.prefab_name] ~= nil then
						local var_554_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_551_1.actors_[var_554_3.prefab_name].transform, "story_v_out_317021", "317021138", "story_v_out_317021.awb")

						arg_551_1:RecordAudio("317021138", var_554_9)
						arg_551_1:RecordAudio("317021138", var_554_9)
					else
						arg_551_1:AudioAction("play", "voice", "story_v_out_317021", "317021138", "story_v_out_317021.awb")
					end

					arg_551_1:RecordHistoryTalkVoice("story_v_out_317021", "317021138", "story_v_out_317021.awb")
				end

				arg_551_1:RecordContent(arg_551_1.text_.text)
			end

			local var_554_10 = math.max(var_554_1, arg_551_1.talkMaxDuration)

			if var_554_0 <= arg_551_1.time_ and arg_551_1.time_ < var_554_0 + var_554_10 then
				arg_551_1.typewritter.percent = (arg_551_1.time_ - var_554_0) / var_554_10

				arg_551_1.typewritter:SetDirty()
			end

			if arg_551_1.time_ >= var_554_0 + var_554_10 and arg_551_1.time_ < var_554_0 + var_554_10 + arg_554_0 then
				arg_551_1.typewritter.percent = 1

				arg_551_1.typewritter:SetDirty()
				arg_551_1:ShowNextGo(true)
			end
		end
	end,
	Play317021139 = function(arg_555_0, arg_555_1)
		arg_555_1.time_ = 0
		arg_555_1.frameCnt_ = 0
		arg_555_1.state_ = "playing"
		arg_555_1.curTalkId_ = 317021139
		arg_555_1.duration_ = 8.1

		local var_555_0 = {
			zh = 6.166,
			ja = 8.1
		}
		local var_555_1 = manager.audio:GetLocalizationFlag()

		if var_555_0[var_555_1] ~= nil then
			arg_555_1.duration_ = var_555_0[var_555_1]
		end

		SetActive(arg_555_1.tipsGo_, false)

		function arg_555_1.onSingleLineFinish_()
			arg_555_1.onSingleLineUpdate_ = nil
			arg_555_1.onSingleLineFinish_ = nil
			arg_555_1.state_ = "waiting"
		end

		function arg_555_1.playNext_(arg_557_0)
			if arg_557_0 == 1 then
				arg_555_0:Play317021140(arg_555_1)
			end
		end

		function arg_555_1.onSingleLineUpdate_(arg_558_0)
			local var_558_0 = 0
			local var_558_1 = 0.825

			if var_558_0 < arg_555_1.time_ and arg_555_1.time_ <= var_558_0 + arg_558_0 then
				arg_555_1.talkMaxDuration = 0
				arg_555_1.dialogCg_.alpha = 1

				arg_555_1.dialog_:SetActive(true)
				SetActive(arg_555_1.leftNameGo_, true)

				local var_558_2 = arg_555_1:FormatText(StoryNameCfg[47].name)

				arg_555_1.leftNameTxt_.text = var_558_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_555_1.leftNameTxt_.transform)

				arg_555_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_555_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_555_1:RecordName(arg_555_1.leftNameTxt_.text)
				SetActive(arg_555_1.iconTrs_.gameObject, false)
				arg_555_1.callingController_:SetSelectedState("normal")

				local var_558_3 = arg_555_1:GetWordFromCfg(317021139)
				local var_558_4 = arg_555_1:FormatText(var_558_3.content)

				arg_555_1.text_.text = var_558_4

				LuaForUtil.ClearLinePrefixSymbol(arg_555_1.text_)

				local var_558_5 = 33
				local var_558_6 = utf8.len(var_558_4)
				local var_558_7 = var_558_5 <= 0 and var_558_1 or var_558_1 * (var_558_6 / var_558_5)

				if var_558_7 > 0 and var_558_1 < var_558_7 then
					arg_555_1.talkMaxDuration = var_558_7

					if var_558_7 + var_558_0 > arg_555_1.duration_ then
						arg_555_1.duration_ = var_558_7 + var_558_0
					end
				end

				arg_555_1.text_.text = var_558_4
				arg_555_1.typewritter.percent = 0

				arg_555_1.typewritter:SetDirty()
				arg_555_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021139", "story_v_out_317021.awb") ~= 0 then
					local var_558_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021139", "story_v_out_317021.awb") / 1000

					if var_558_8 + var_558_0 > arg_555_1.duration_ then
						arg_555_1.duration_ = var_558_8 + var_558_0
					end

					if var_558_3.prefab_name ~= "" and arg_555_1.actors_[var_558_3.prefab_name] ~= nil then
						local var_558_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_555_1.actors_[var_558_3.prefab_name].transform, "story_v_out_317021", "317021139", "story_v_out_317021.awb")

						arg_555_1:RecordAudio("317021139", var_558_9)
						arg_555_1:RecordAudio("317021139", var_558_9)
					else
						arg_555_1:AudioAction("play", "voice", "story_v_out_317021", "317021139", "story_v_out_317021.awb")
					end

					arg_555_1:RecordHistoryTalkVoice("story_v_out_317021", "317021139", "story_v_out_317021.awb")
				end

				arg_555_1:RecordContent(arg_555_1.text_.text)
			end

			local var_558_10 = math.max(var_558_1, arg_555_1.talkMaxDuration)

			if var_558_0 <= arg_555_1.time_ and arg_555_1.time_ < var_558_0 + var_558_10 then
				arg_555_1.typewritter.percent = (arg_555_1.time_ - var_558_0) / var_558_10

				arg_555_1.typewritter:SetDirty()
			end

			if arg_555_1.time_ >= var_558_0 + var_558_10 and arg_555_1.time_ < var_558_0 + var_558_10 + arg_558_0 then
				arg_555_1.typewritter.percent = 1

				arg_555_1.typewritter:SetDirty()
				arg_555_1:ShowNextGo(true)
			end
		end
	end,
	Play317021140 = function(arg_559_0, arg_559_1)
		arg_559_1.time_ = 0
		arg_559_1.frameCnt_ = 0
		arg_559_1.state_ = "playing"
		arg_559_1.curTalkId_ = 317021140
		arg_559_1.duration_ = 1.1

		local var_559_0 = {
			zh = 1.033,
			ja = 1.1
		}
		local var_559_1 = manager.audio:GetLocalizationFlag()

		if var_559_0[var_559_1] ~= nil then
			arg_559_1.duration_ = var_559_0[var_559_1]
		end

		SetActive(arg_559_1.tipsGo_, false)

		function arg_559_1.onSingleLineFinish_()
			arg_559_1.onSingleLineUpdate_ = nil
			arg_559_1.onSingleLineFinish_ = nil
			arg_559_1.state_ = "waiting"
		end

		function arg_559_1.playNext_(arg_561_0)
			if arg_561_0 == 1 then
				arg_559_0:Play317021141(arg_559_1)
			end
		end

		function arg_559_1.onSingleLineUpdate_(arg_562_0)
			local var_562_0 = arg_559_1.actors_["1019ui_story"].transform
			local var_562_1 = 0

			if var_562_1 < arg_559_1.time_ and arg_559_1.time_ <= var_562_1 + arg_562_0 then
				arg_559_1.var_.moveOldPos1019ui_story = var_562_0.localPosition
			end

			local var_562_2 = 0.001

			if var_562_1 <= arg_559_1.time_ and arg_559_1.time_ < var_562_1 + var_562_2 then
				local var_562_3 = (arg_559_1.time_ - var_562_1) / var_562_2
				local var_562_4 = Vector3.New(-0.7, -1.08, -5.9)

				var_562_0.localPosition = Vector3.Lerp(arg_559_1.var_.moveOldPos1019ui_story, var_562_4, var_562_3)

				local var_562_5 = manager.ui.mainCamera.transform.position - var_562_0.position

				var_562_0.forward = Vector3.New(var_562_5.x, var_562_5.y, var_562_5.z)

				local var_562_6 = var_562_0.localEulerAngles

				var_562_6.z = 0
				var_562_6.x = 0
				var_562_0.localEulerAngles = var_562_6
			end

			if arg_559_1.time_ >= var_562_1 + var_562_2 and arg_559_1.time_ < var_562_1 + var_562_2 + arg_562_0 then
				var_562_0.localPosition = Vector3.New(-0.7, -1.08, -5.9)

				local var_562_7 = manager.ui.mainCamera.transform.position - var_562_0.position

				var_562_0.forward = Vector3.New(var_562_7.x, var_562_7.y, var_562_7.z)

				local var_562_8 = var_562_0.localEulerAngles

				var_562_8.z = 0
				var_562_8.x = 0
				var_562_0.localEulerAngles = var_562_8
			end

			local var_562_9 = arg_559_1.actors_["1019ui_story"]
			local var_562_10 = 0

			if var_562_10 < arg_559_1.time_ and arg_559_1.time_ <= var_562_10 + arg_562_0 and not isNil(var_562_9) and arg_559_1.var_.characterEffect1019ui_story == nil then
				arg_559_1.var_.characterEffect1019ui_story = var_562_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_562_11 = 0.200000002980232

			if var_562_10 <= arg_559_1.time_ and arg_559_1.time_ < var_562_10 + var_562_11 and not isNil(var_562_9) then
				local var_562_12 = (arg_559_1.time_ - var_562_10) / var_562_11

				if arg_559_1.var_.characterEffect1019ui_story and not isNil(var_562_9) then
					local var_562_13 = Mathf.Lerp(0, 0.5, var_562_12)

					arg_559_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_559_1.var_.characterEffect1019ui_story.fillRatio = var_562_13
				end
			end

			if arg_559_1.time_ >= var_562_10 + var_562_11 and arg_559_1.time_ < var_562_10 + var_562_11 + arg_562_0 and not isNil(var_562_9) and arg_559_1.var_.characterEffect1019ui_story then
				local var_562_14 = 0.5

				arg_559_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_559_1.var_.characterEffect1019ui_story.fillRatio = var_562_14
			end

			local var_562_15 = arg_559_1.actors_["1029ui_story"].transform
			local var_562_16 = 0

			if var_562_16 < arg_559_1.time_ and arg_559_1.time_ <= var_562_16 + arg_562_0 then
				arg_559_1.var_.moveOldPos1029ui_story = var_562_15.localPosition
			end

			local var_562_17 = 0.001

			if var_562_16 <= arg_559_1.time_ and arg_559_1.time_ < var_562_16 + var_562_17 then
				local var_562_18 = (arg_559_1.time_ - var_562_16) / var_562_17
				local var_562_19 = Vector3.New(0.7, -1.09, -6.2)

				var_562_15.localPosition = Vector3.Lerp(arg_559_1.var_.moveOldPos1029ui_story, var_562_19, var_562_18)

				local var_562_20 = manager.ui.mainCamera.transform.position - var_562_15.position

				var_562_15.forward = Vector3.New(var_562_20.x, var_562_20.y, var_562_20.z)

				local var_562_21 = var_562_15.localEulerAngles

				var_562_21.z = 0
				var_562_21.x = 0
				var_562_15.localEulerAngles = var_562_21
			end

			if arg_559_1.time_ >= var_562_16 + var_562_17 and arg_559_1.time_ < var_562_16 + var_562_17 + arg_562_0 then
				var_562_15.localPosition = Vector3.New(0.7, -1.09, -6.2)

				local var_562_22 = manager.ui.mainCamera.transform.position - var_562_15.position

				var_562_15.forward = Vector3.New(var_562_22.x, var_562_22.y, var_562_22.z)

				local var_562_23 = var_562_15.localEulerAngles

				var_562_23.z = 0
				var_562_23.x = 0
				var_562_15.localEulerAngles = var_562_23
			end

			local var_562_24 = arg_559_1.actors_["1029ui_story"]
			local var_562_25 = 0

			if var_562_25 < arg_559_1.time_ and arg_559_1.time_ <= var_562_25 + arg_562_0 and not isNil(var_562_24) and arg_559_1.var_.characterEffect1029ui_story == nil then
				arg_559_1.var_.characterEffect1029ui_story = var_562_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_562_26 = 0.200000002980232

			if var_562_25 <= arg_559_1.time_ and arg_559_1.time_ < var_562_25 + var_562_26 and not isNil(var_562_24) then
				local var_562_27 = (arg_559_1.time_ - var_562_25) / var_562_26

				if arg_559_1.var_.characterEffect1029ui_story and not isNil(var_562_24) then
					arg_559_1.var_.characterEffect1029ui_story.fillFlat = false
				end
			end

			if arg_559_1.time_ >= var_562_25 + var_562_26 and arg_559_1.time_ < var_562_25 + var_562_26 + arg_562_0 and not isNil(var_562_24) and arg_559_1.var_.characterEffect1029ui_story then
				arg_559_1.var_.characterEffect1029ui_story.fillFlat = false
			end

			local var_562_28 = 0

			if var_562_28 < arg_559_1.time_ and arg_559_1.time_ <= var_562_28 + arg_562_0 then
				arg_559_1:PlayTimeline("1029ui_story", "StoryTimeline/CharAction/story1029/1029action/1029action1_1")
			end

			local var_562_29 = 0

			if var_562_29 < arg_559_1.time_ and arg_559_1.time_ <= var_562_29 + arg_562_0 then
				arg_559_1:PlayTimeline("1029ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_562_30 = 0
			local var_562_31 = 0.05

			if var_562_30 < arg_559_1.time_ and arg_559_1.time_ <= var_562_30 + arg_562_0 then
				arg_559_1.talkMaxDuration = 0
				arg_559_1.dialogCg_.alpha = 1

				arg_559_1.dialog_:SetActive(true)
				SetActive(arg_559_1.leftNameGo_, true)

				local var_562_32 = arg_559_1:FormatText(StoryNameCfg[319].name)

				arg_559_1.leftNameTxt_.text = var_562_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_559_1.leftNameTxt_.transform)

				arg_559_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_559_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_559_1:RecordName(arg_559_1.leftNameTxt_.text)
				SetActive(arg_559_1.iconTrs_.gameObject, false)
				arg_559_1.callingController_:SetSelectedState("normal")

				local var_562_33 = arg_559_1:GetWordFromCfg(317021140)
				local var_562_34 = arg_559_1:FormatText(var_562_33.content)

				arg_559_1.text_.text = var_562_34

				LuaForUtil.ClearLinePrefixSymbol(arg_559_1.text_)

				local var_562_35 = 2
				local var_562_36 = utf8.len(var_562_34)
				local var_562_37 = var_562_35 <= 0 and var_562_31 or var_562_31 * (var_562_36 / var_562_35)

				if var_562_37 > 0 and var_562_31 < var_562_37 then
					arg_559_1.talkMaxDuration = var_562_37

					if var_562_37 + var_562_30 > arg_559_1.duration_ then
						arg_559_1.duration_ = var_562_37 + var_562_30
					end
				end

				arg_559_1.text_.text = var_562_34
				arg_559_1.typewritter.percent = 0

				arg_559_1.typewritter:SetDirty()
				arg_559_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021140", "story_v_out_317021.awb") ~= 0 then
					local var_562_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021140", "story_v_out_317021.awb") / 1000

					if var_562_38 + var_562_30 > arg_559_1.duration_ then
						arg_559_1.duration_ = var_562_38 + var_562_30
					end

					if var_562_33.prefab_name ~= "" and arg_559_1.actors_[var_562_33.prefab_name] ~= nil then
						local var_562_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_559_1.actors_[var_562_33.prefab_name].transform, "story_v_out_317021", "317021140", "story_v_out_317021.awb")

						arg_559_1:RecordAudio("317021140", var_562_39)
						arg_559_1:RecordAudio("317021140", var_562_39)
					else
						arg_559_1:AudioAction("play", "voice", "story_v_out_317021", "317021140", "story_v_out_317021.awb")
					end

					arg_559_1:RecordHistoryTalkVoice("story_v_out_317021", "317021140", "story_v_out_317021.awb")
				end

				arg_559_1:RecordContent(arg_559_1.text_.text)
			end

			local var_562_40 = math.max(var_562_31, arg_559_1.talkMaxDuration)

			if var_562_30 <= arg_559_1.time_ and arg_559_1.time_ < var_562_30 + var_562_40 then
				arg_559_1.typewritter.percent = (arg_559_1.time_ - var_562_30) / var_562_40

				arg_559_1.typewritter:SetDirty()
			end

			if arg_559_1.time_ >= var_562_30 + var_562_40 and arg_559_1.time_ < var_562_30 + var_562_40 + arg_562_0 then
				arg_559_1.typewritter.percent = 1

				arg_559_1.typewritter:SetDirty()
				arg_559_1:ShowNextGo(true)
			end
		end
	end,
	Play317021141 = function(arg_563_0, arg_563_1)
		arg_563_1.time_ = 0
		arg_563_1.frameCnt_ = 0
		arg_563_1.state_ = "playing"
		arg_563_1.curTalkId_ = 317021141
		arg_563_1.duration_ = 5

		SetActive(arg_563_1.tipsGo_, false)

		function arg_563_1.onSingleLineFinish_()
			arg_563_1.onSingleLineUpdate_ = nil
			arg_563_1.onSingleLineFinish_ = nil
			arg_563_1.state_ = "waiting"
		end

		function arg_563_1.playNext_(arg_565_0)
			if arg_565_0 == 1 then
				arg_563_0:Play317021142(arg_563_1)
			end
		end

		function arg_563_1.onSingleLineUpdate_(arg_566_0)
			local var_566_0 = arg_563_1.actors_["1019ui_story"].transform
			local var_566_1 = 0

			if var_566_1 < arg_563_1.time_ and arg_563_1.time_ <= var_566_1 + arg_566_0 then
				arg_563_1.var_.moveOldPos1019ui_story = var_566_0.localPosition
			end

			local var_566_2 = 0.001

			if var_566_1 <= arg_563_1.time_ and arg_563_1.time_ < var_566_1 + var_566_2 then
				local var_566_3 = (arg_563_1.time_ - var_566_1) / var_566_2
				local var_566_4 = Vector3.New(0, 100, 0)

				var_566_0.localPosition = Vector3.Lerp(arg_563_1.var_.moveOldPos1019ui_story, var_566_4, var_566_3)

				local var_566_5 = manager.ui.mainCamera.transform.position - var_566_0.position

				var_566_0.forward = Vector3.New(var_566_5.x, var_566_5.y, var_566_5.z)

				local var_566_6 = var_566_0.localEulerAngles

				var_566_6.z = 0
				var_566_6.x = 0
				var_566_0.localEulerAngles = var_566_6
			end

			if arg_563_1.time_ >= var_566_1 + var_566_2 and arg_563_1.time_ < var_566_1 + var_566_2 + arg_566_0 then
				var_566_0.localPosition = Vector3.New(0, 100, 0)

				local var_566_7 = manager.ui.mainCamera.transform.position - var_566_0.position

				var_566_0.forward = Vector3.New(var_566_7.x, var_566_7.y, var_566_7.z)

				local var_566_8 = var_566_0.localEulerAngles

				var_566_8.z = 0
				var_566_8.x = 0
				var_566_0.localEulerAngles = var_566_8
			end

			local var_566_9 = arg_563_1.actors_["1019ui_story"]
			local var_566_10 = 0

			if var_566_10 < arg_563_1.time_ and arg_563_1.time_ <= var_566_10 + arg_566_0 and not isNil(var_566_9) and arg_563_1.var_.characterEffect1019ui_story == nil then
				arg_563_1.var_.characterEffect1019ui_story = var_566_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_566_11 = 0.200000002980232

			if var_566_10 <= arg_563_1.time_ and arg_563_1.time_ < var_566_10 + var_566_11 and not isNil(var_566_9) then
				local var_566_12 = (arg_563_1.time_ - var_566_10) / var_566_11

				if arg_563_1.var_.characterEffect1019ui_story and not isNil(var_566_9) then
					local var_566_13 = Mathf.Lerp(0, 0.5, var_566_12)

					arg_563_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_563_1.var_.characterEffect1019ui_story.fillRatio = var_566_13
				end
			end

			if arg_563_1.time_ >= var_566_10 + var_566_11 and arg_563_1.time_ < var_566_10 + var_566_11 + arg_566_0 and not isNil(var_566_9) and arg_563_1.var_.characterEffect1019ui_story then
				local var_566_14 = 0.5

				arg_563_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_563_1.var_.characterEffect1019ui_story.fillRatio = var_566_14
			end

			local var_566_15 = arg_563_1.actors_["1029ui_story"].transform
			local var_566_16 = 0

			if var_566_16 < arg_563_1.time_ and arg_563_1.time_ <= var_566_16 + arg_566_0 then
				arg_563_1.var_.moveOldPos1029ui_story = var_566_15.localPosition
			end

			local var_566_17 = 0.001

			if var_566_16 <= arg_563_1.time_ and arg_563_1.time_ < var_566_16 + var_566_17 then
				local var_566_18 = (arg_563_1.time_ - var_566_16) / var_566_17
				local var_566_19 = Vector3.New(0, 100, 0)

				var_566_15.localPosition = Vector3.Lerp(arg_563_1.var_.moveOldPos1029ui_story, var_566_19, var_566_18)

				local var_566_20 = manager.ui.mainCamera.transform.position - var_566_15.position

				var_566_15.forward = Vector3.New(var_566_20.x, var_566_20.y, var_566_20.z)

				local var_566_21 = var_566_15.localEulerAngles

				var_566_21.z = 0
				var_566_21.x = 0
				var_566_15.localEulerAngles = var_566_21
			end

			if arg_563_1.time_ >= var_566_16 + var_566_17 and arg_563_1.time_ < var_566_16 + var_566_17 + arg_566_0 then
				var_566_15.localPosition = Vector3.New(0, 100, 0)

				local var_566_22 = manager.ui.mainCamera.transform.position - var_566_15.position

				var_566_15.forward = Vector3.New(var_566_22.x, var_566_22.y, var_566_22.z)

				local var_566_23 = var_566_15.localEulerAngles

				var_566_23.z = 0
				var_566_23.x = 0
				var_566_15.localEulerAngles = var_566_23
			end

			local var_566_24 = arg_563_1.actors_["1029ui_story"]
			local var_566_25 = 0

			if var_566_25 < arg_563_1.time_ and arg_563_1.time_ <= var_566_25 + arg_566_0 and not isNil(var_566_24) and arg_563_1.var_.characterEffect1029ui_story == nil then
				arg_563_1.var_.characterEffect1029ui_story = var_566_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_566_26 = 0.200000002980232

			if var_566_25 <= arg_563_1.time_ and arg_563_1.time_ < var_566_25 + var_566_26 and not isNil(var_566_24) then
				local var_566_27 = (arg_563_1.time_ - var_566_25) / var_566_26

				if arg_563_1.var_.characterEffect1029ui_story and not isNil(var_566_24) then
					local var_566_28 = Mathf.Lerp(0, 0.5, var_566_27)

					arg_563_1.var_.characterEffect1029ui_story.fillFlat = true
					arg_563_1.var_.characterEffect1029ui_story.fillRatio = var_566_28
				end
			end

			if arg_563_1.time_ >= var_566_25 + var_566_26 and arg_563_1.time_ < var_566_25 + var_566_26 + arg_566_0 and not isNil(var_566_24) and arg_563_1.var_.characterEffect1029ui_story then
				local var_566_29 = 0.5

				arg_563_1.var_.characterEffect1029ui_story.fillFlat = true
				arg_563_1.var_.characterEffect1029ui_story.fillRatio = var_566_29
			end

			local var_566_30 = 0
			local var_566_31 = 0.575

			if var_566_30 < arg_563_1.time_ and arg_563_1.time_ <= var_566_30 + arg_566_0 then
				arg_563_1.talkMaxDuration = 0
				arg_563_1.dialogCg_.alpha = 1

				arg_563_1.dialog_:SetActive(true)
				SetActive(arg_563_1.leftNameGo_, false)

				arg_563_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_563_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_563_1:RecordName(arg_563_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_563_1.iconTrs_.gameObject, false)
				arg_563_1.callingController_:SetSelectedState("normal")

				local var_566_32 = arg_563_1:GetWordFromCfg(317021141)
				local var_566_33 = arg_563_1:FormatText(var_566_32.content)

				arg_563_1.text_.text = var_566_33

				LuaForUtil.ClearLinePrefixSymbol(arg_563_1.text_)

				local var_566_34 = 23
				local var_566_35 = utf8.len(var_566_33)
				local var_566_36 = var_566_34 <= 0 and var_566_31 or var_566_31 * (var_566_35 / var_566_34)

				if var_566_36 > 0 and var_566_31 < var_566_36 then
					arg_563_1.talkMaxDuration = var_566_36

					if var_566_36 + var_566_30 > arg_563_1.duration_ then
						arg_563_1.duration_ = var_566_36 + var_566_30
					end
				end

				arg_563_1.text_.text = var_566_33
				arg_563_1.typewritter.percent = 0

				arg_563_1.typewritter:SetDirty()
				arg_563_1:ShowNextGo(false)
				arg_563_1:RecordContent(arg_563_1.text_.text)
			end

			local var_566_37 = math.max(var_566_31, arg_563_1.talkMaxDuration)

			if var_566_30 <= arg_563_1.time_ and arg_563_1.time_ < var_566_30 + var_566_37 then
				arg_563_1.typewritter.percent = (arg_563_1.time_ - var_566_30) / var_566_37

				arg_563_1.typewritter:SetDirty()
			end

			if arg_563_1.time_ >= var_566_30 + var_566_37 and arg_563_1.time_ < var_566_30 + var_566_37 + arg_566_0 then
				arg_563_1.typewritter.percent = 1

				arg_563_1.typewritter:SetDirty()
				arg_563_1:ShowNextGo(true)
			end
		end
	end,
	Play317021142 = function(arg_567_0, arg_567_1)
		arg_567_1.time_ = 0
		arg_567_1.frameCnt_ = 0
		arg_567_1.state_ = "playing"
		arg_567_1.curTalkId_ = 317021142
		arg_567_1.duration_ = 7.1

		local var_567_0 = {
			zh = 6.733,
			ja = 7.1
		}
		local var_567_1 = manager.audio:GetLocalizationFlag()

		if var_567_0[var_567_1] ~= nil then
			arg_567_1.duration_ = var_567_0[var_567_1]
		end

		SetActive(arg_567_1.tipsGo_, false)

		function arg_567_1.onSingleLineFinish_()
			arg_567_1.onSingleLineUpdate_ = nil
			arg_567_1.onSingleLineFinish_ = nil
			arg_567_1.state_ = "waiting"
		end

		function arg_567_1.playNext_(arg_569_0)
			if arg_569_0 == 1 then
				arg_567_0:Play317021143(arg_567_1)
			end
		end

		function arg_567_1.onSingleLineUpdate_(arg_570_0)
			local var_570_0 = arg_567_1.actors_["1019ui_story"].transform
			local var_570_1 = 0

			if var_570_1 < arg_567_1.time_ and arg_567_1.time_ <= var_570_1 + arg_570_0 then
				arg_567_1.var_.moveOldPos1019ui_story = var_570_0.localPosition
			end

			local var_570_2 = 0.001

			if var_570_1 <= arg_567_1.time_ and arg_567_1.time_ < var_570_1 + var_570_2 then
				local var_570_3 = (arg_567_1.time_ - var_570_1) / var_570_2
				local var_570_4 = Vector3.New(-0.7, -1.08, -5.9)

				var_570_0.localPosition = Vector3.Lerp(arg_567_1.var_.moveOldPos1019ui_story, var_570_4, var_570_3)

				local var_570_5 = manager.ui.mainCamera.transform.position - var_570_0.position

				var_570_0.forward = Vector3.New(var_570_5.x, var_570_5.y, var_570_5.z)

				local var_570_6 = var_570_0.localEulerAngles

				var_570_6.z = 0
				var_570_6.x = 0
				var_570_0.localEulerAngles = var_570_6
			end

			if arg_567_1.time_ >= var_570_1 + var_570_2 and arg_567_1.time_ < var_570_1 + var_570_2 + arg_570_0 then
				var_570_0.localPosition = Vector3.New(-0.7, -1.08, -5.9)

				local var_570_7 = manager.ui.mainCamera.transform.position - var_570_0.position

				var_570_0.forward = Vector3.New(var_570_7.x, var_570_7.y, var_570_7.z)

				local var_570_8 = var_570_0.localEulerAngles

				var_570_8.z = 0
				var_570_8.x = 0
				var_570_0.localEulerAngles = var_570_8
			end

			local var_570_9 = arg_567_1.actors_["1019ui_story"]
			local var_570_10 = 0

			if var_570_10 < arg_567_1.time_ and arg_567_1.time_ <= var_570_10 + arg_570_0 and not isNil(var_570_9) and arg_567_1.var_.characterEffect1019ui_story == nil then
				arg_567_1.var_.characterEffect1019ui_story = var_570_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_570_11 = 0.200000002980232

			if var_570_10 <= arg_567_1.time_ and arg_567_1.time_ < var_570_10 + var_570_11 and not isNil(var_570_9) then
				local var_570_12 = (arg_567_1.time_ - var_570_10) / var_570_11

				if arg_567_1.var_.characterEffect1019ui_story and not isNil(var_570_9) then
					local var_570_13 = Mathf.Lerp(0, 0.5, var_570_12)

					arg_567_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_567_1.var_.characterEffect1019ui_story.fillRatio = var_570_13
				end
			end

			if arg_567_1.time_ >= var_570_10 + var_570_11 and arg_567_1.time_ < var_570_10 + var_570_11 + arg_570_0 and not isNil(var_570_9) and arg_567_1.var_.characterEffect1019ui_story then
				local var_570_14 = 0.5

				arg_567_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_567_1.var_.characterEffect1019ui_story.fillRatio = var_570_14
			end

			local var_570_15 = arg_567_1.actors_["1029ui_story"].transform
			local var_570_16 = 0

			if var_570_16 < arg_567_1.time_ and arg_567_1.time_ <= var_570_16 + arg_570_0 then
				arg_567_1.var_.moveOldPos1029ui_story = var_570_15.localPosition
			end

			local var_570_17 = 0.001

			if var_570_16 <= arg_567_1.time_ and arg_567_1.time_ < var_570_16 + var_570_17 then
				local var_570_18 = (arg_567_1.time_ - var_570_16) / var_570_17
				local var_570_19 = Vector3.New(0.7, -1.09, -6.2)

				var_570_15.localPosition = Vector3.Lerp(arg_567_1.var_.moveOldPos1029ui_story, var_570_19, var_570_18)

				local var_570_20 = manager.ui.mainCamera.transform.position - var_570_15.position

				var_570_15.forward = Vector3.New(var_570_20.x, var_570_20.y, var_570_20.z)

				local var_570_21 = var_570_15.localEulerAngles

				var_570_21.z = 0
				var_570_21.x = 0
				var_570_15.localEulerAngles = var_570_21
			end

			if arg_567_1.time_ >= var_570_16 + var_570_17 and arg_567_1.time_ < var_570_16 + var_570_17 + arg_570_0 then
				var_570_15.localPosition = Vector3.New(0.7, -1.09, -6.2)

				local var_570_22 = manager.ui.mainCamera.transform.position - var_570_15.position

				var_570_15.forward = Vector3.New(var_570_22.x, var_570_22.y, var_570_22.z)

				local var_570_23 = var_570_15.localEulerAngles

				var_570_23.z = 0
				var_570_23.x = 0
				var_570_15.localEulerAngles = var_570_23
			end

			local var_570_24 = arg_567_1.actors_["1029ui_story"]
			local var_570_25 = 0

			if var_570_25 < arg_567_1.time_ and arg_567_1.time_ <= var_570_25 + arg_570_0 and not isNil(var_570_24) and arg_567_1.var_.characterEffect1029ui_story == nil then
				arg_567_1.var_.characterEffect1029ui_story = var_570_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_570_26 = 0.200000002980232

			if var_570_25 <= arg_567_1.time_ and arg_567_1.time_ < var_570_25 + var_570_26 and not isNil(var_570_24) then
				local var_570_27 = (arg_567_1.time_ - var_570_25) / var_570_26

				if arg_567_1.var_.characterEffect1029ui_story and not isNil(var_570_24) then
					arg_567_1.var_.characterEffect1029ui_story.fillFlat = false
				end
			end

			if arg_567_1.time_ >= var_570_25 + var_570_26 and arg_567_1.time_ < var_570_25 + var_570_26 + arg_570_0 and not isNil(var_570_24) and arg_567_1.var_.characterEffect1029ui_story then
				arg_567_1.var_.characterEffect1029ui_story.fillFlat = false
			end

			local var_570_28 = 0

			if var_570_28 < arg_567_1.time_ and arg_567_1.time_ <= var_570_28 + arg_570_0 then
				arg_567_1:PlayTimeline("1029ui_story", "StoryTimeline/CharAction/story1029/1029action/1029action1_1")
			end

			local var_570_29 = 0

			if var_570_29 < arg_567_1.time_ and arg_567_1.time_ <= var_570_29 + arg_570_0 then
				arg_567_1:PlayTimeline("1029ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_570_30 = 0
			local var_570_31 = 0.775

			if var_570_30 < arg_567_1.time_ and arg_567_1.time_ <= var_570_30 + arg_570_0 then
				arg_567_1.talkMaxDuration = 0
				arg_567_1.dialogCg_.alpha = 1

				arg_567_1.dialog_:SetActive(true)
				SetActive(arg_567_1.leftNameGo_, true)

				local var_570_32 = arg_567_1:FormatText(StoryNameCfg[319].name)

				arg_567_1.leftNameTxt_.text = var_570_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_567_1.leftNameTxt_.transform)

				arg_567_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_567_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_567_1:RecordName(arg_567_1.leftNameTxt_.text)
				SetActive(arg_567_1.iconTrs_.gameObject, false)
				arg_567_1.callingController_:SetSelectedState("normal")

				local var_570_33 = arg_567_1:GetWordFromCfg(317021142)
				local var_570_34 = arg_567_1:FormatText(var_570_33.content)

				arg_567_1.text_.text = var_570_34

				LuaForUtil.ClearLinePrefixSymbol(arg_567_1.text_)

				local var_570_35 = 31
				local var_570_36 = utf8.len(var_570_34)
				local var_570_37 = var_570_35 <= 0 and var_570_31 or var_570_31 * (var_570_36 / var_570_35)

				if var_570_37 > 0 and var_570_31 < var_570_37 then
					arg_567_1.talkMaxDuration = var_570_37

					if var_570_37 + var_570_30 > arg_567_1.duration_ then
						arg_567_1.duration_ = var_570_37 + var_570_30
					end
				end

				arg_567_1.text_.text = var_570_34
				arg_567_1.typewritter.percent = 0

				arg_567_1.typewritter:SetDirty()
				arg_567_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021142", "story_v_out_317021.awb") ~= 0 then
					local var_570_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021142", "story_v_out_317021.awb") / 1000

					if var_570_38 + var_570_30 > arg_567_1.duration_ then
						arg_567_1.duration_ = var_570_38 + var_570_30
					end

					if var_570_33.prefab_name ~= "" and arg_567_1.actors_[var_570_33.prefab_name] ~= nil then
						local var_570_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_567_1.actors_[var_570_33.prefab_name].transform, "story_v_out_317021", "317021142", "story_v_out_317021.awb")

						arg_567_1:RecordAudio("317021142", var_570_39)
						arg_567_1:RecordAudio("317021142", var_570_39)
					else
						arg_567_1:AudioAction("play", "voice", "story_v_out_317021", "317021142", "story_v_out_317021.awb")
					end

					arg_567_1:RecordHistoryTalkVoice("story_v_out_317021", "317021142", "story_v_out_317021.awb")
				end

				arg_567_1:RecordContent(arg_567_1.text_.text)
			end

			local var_570_40 = math.max(var_570_31, arg_567_1.talkMaxDuration)

			if var_570_30 <= arg_567_1.time_ and arg_567_1.time_ < var_570_30 + var_570_40 then
				arg_567_1.typewritter.percent = (arg_567_1.time_ - var_570_30) / var_570_40

				arg_567_1.typewritter:SetDirty()
			end

			if arg_567_1.time_ >= var_570_30 + var_570_40 and arg_567_1.time_ < var_570_30 + var_570_40 + arg_570_0 then
				arg_567_1.typewritter.percent = 1

				arg_567_1.typewritter:SetDirty()
				arg_567_1:ShowNextGo(true)
			end
		end
	end,
	Play317021143 = function(arg_571_0, arg_571_1)
		arg_571_1.time_ = 0
		arg_571_1.frameCnt_ = 0
		arg_571_1.state_ = "playing"
		arg_571_1.curTalkId_ = 317021143
		arg_571_1.duration_ = 7.57

		local var_571_0 = {
			zh = 7.566,
			ja = 6.733
		}
		local var_571_1 = manager.audio:GetLocalizationFlag()

		if var_571_0[var_571_1] ~= nil then
			arg_571_1.duration_ = var_571_0[var_571_1]
		end

		SetActive(arg_571_1.tipsGo_, false)

		function arg_571_1.onSingleLineFinish_()
			arg_571_1.onSingleLineUpdate_ = nil
			arg_571_1.onSingleLineFinish_ = nil
			arg_571_1.state_ = "waiting"
		end

		function arg_571_1.playNext_(arg_573_0)
			if arg_573_0 == 1 then
				arg_571_0:Play317021144(arg_571_1)
			end
		end

		function arg_571_1.onSingleLineUpdate_(arg_574_0)
			local var_574_0 = arg_571_1.actors_["1019ui_story"].transform
			local var_574_1 = 0

			if var_574_1 < arg_571_1.time_ and arg_571_1.time_ <= var_574_1 + arg_574_0 then
				arg_571_1.var_.moveOldPos1019ui_story = var_574_0.localPosition
			end

			local var_574_2 = 0.001

			if var_574_1 <= arg_571_1.time_ and arg_571_1.time_ < var_574_1 + var_574_2 then
				local var_574_3 = (arg_571_1.time_ - var_574_1) / var_574_2
				local var_574_4 = Vector3.New(-0.7, -1.08, -5.9)

				var_574_0.localPosition = Vector3.Lerp(arg_571_1.var_.moveOldPos1019ui_story, var_574_4, var_574_3)

				local var_574_5 = manager.ui.mainCamera.transform.position - var_574_0.position

				var_574_0.forward = Vector3.New(var_574_5.x, var_574_5.y, var_574_5.z)

				local var_574_6 = var_574_0.localEulerAngles

				var_574_6.z = 0
				var_574_6.x = 0
				var_574_0.localEulerAngles = var_574_6
			end

			if arg_571_1.time_ >= var_574_1 + var_574_2 and arg_571_1.time_ < var_574_1 + var_574_2 + arg_574_0 then
				var_574_0.localPosition = Vector3.New(-0.7, -1.08, -5.9)

				local var_574_7 = manager.ui.mainCamera.transform.position - var_574_0.position

				var_574_0.forward = Vector3.New(var_574_7.x, var_574_7.y, var_574_7.z)

				local var_574_8 = var_574_0.localEulerAngles

				var_574_8.z = 0
				var_574_8.x = 0
				var_574_0.localEulerAngles = var_574_8
			end

			local var_574_9 = arg_571_1.actors_["1019ui_story"]
			local var_574_10 = 0

			if var_574_10 < arg_571_1.time_ and arg_571_1.time_ <= var_574_10 + arg_574_0 and not isNil(var_574_9) and arg_571_1.var_.characterEffect1019ui_story == nil then
				arg_571_1.var_.characterEffect1019ui_story = var_574_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_574_11 = 0.200000002980232

			if var_574_10 <= arg_571_1.time_ and arg_571_1.time_ < var_574_10 + var_574_11 and not isNil(var_574_9) then
				local var_574_12 = (arg_571_1.time_ - var_574_10) / var_574_11

				if arg_571_1.var_.characterEffect1019ui_story and not isNil(var_574_9) then
					arg_571_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_571_1.time_ >= var_574_10 + var_574_11 and arg_571_1.time_ < var_574_10 + var_574_11 + arg_574_0 and not isNil(var_574_9) and arg_571_1.var_.characterEffect1019ui_story then
				arg_571_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_574_13 = 0

			if var_574_13 < arg_571_1.time_ and arg_571_1.time_ <= var_574_13 + arg_574_0 then
				arg_571_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_574_14 = 0

			if var_574_14 < arg_571_1.time_ and arg_571_1.time_ <= var_574_14 + arg_574_0 then
				arg_571_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_574_15 = arg_571_1.actors_["1029ui_story"].transform
			local var_574_16 = 0

			if var_574_16 < arg_571_1.time_ and arg_571_1.time_ <= var_574_16 + arg_574_0 then
				arg_571_1.var_.moveOldPos1029ui_story = var_574_15.localPosition
			end

			local var_574_17 = 0.001

			if var_574_16 <= arg_571_1.time_ and arg_571_1.time_ < var_574_16 + var_574_17 then
				local var_574_18 = (arg_571_1.time_ - var_574_16) / var_574_17
				local var_574_19 = Vector3.New(0.7, -1.09, -6.2)

				var_574_15.localPosition = Vector3.Lerp(arg_571_1.var_.moveOldPos1029ui_story, var_574_19, var_574_18)

				local var_574_20 = manager.ui.mainCamera.transform.position - var_574_15.position

				var_574_15.forward = Vector3.New(var_574_20.x, var_574_20.y, var_574_20.z)

				local var_574_21 = var_574_15.localEulerAngles

				var_574_21.z = 0
				var_574_21.x = 0
				var_574_15.localEulerAngles = var_574_21
			end

			if arg_571_1.time_ >= var_574_16 + var_574_17 and arg_571_1.time_ < var_574_16 + var_574_17 + arg_574_0 then
				var_574_15.localPosition = Vector3.New(0.7, -1.09, -6.2)

				local var_574_22 = manager.ui.mainCamera.transform.position - var_574_15.position

				var_574_15.forward = Vector3.New(var_574_22.x, var_574_22.y, var_574_22.z)

				local var_574_23 = var_574_15.localEulerAngles

				var_574_23.z = 0
				var_574_23.x = 0
				var_574_15.localEulerAngles = var_574_23
			end

			local var_574_24 = arg_571_1.actors_["1029ui_story"]
			local var_574_25 = 0

			if var_574_25 < arg_571_1.time_ and arg_571_1.time_ <= var_574_25 + arg_574_0 and not isNil(var_574_24) and arg_571_1.var_.characterEffect1029ui_story == nil then
				arg_571_1.var_.characterEffect1029ui_story = var_574_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_574_26 = 0.200000002980232

			if var_574_25 <= arg_571_1.time_ and arg_571_1.time_ < var_574_25 + var_574_26 and not isNil(var_574_24) then
				local var_574_27 = (arg_571_1.time_ - var_574_25) / var_574_26

				if arg_571_1.var_.characterEffect1029ui_story and not isNil(var_574_24) then
					local var_574_28 = Mathf.Lerp(0, 0.5, var_574_27)

					arg_571_1.var_.characterEffect1029ui_story.fillFlat = true
					arg_571_1.var_.characterEffect1029ui_story.fillRatio = var_574_28
				end
			end

			if arg_571_1.time_ >= var_574_25 + var_574_26 and arg_571_1.time_ < var_574_25 + var_574_26 + arg_574_0 and not isNil(var_574_24) and arg_571_1.var_.characterEffect1029ui_story then
				local var_574_29 = 0.5

				arg_571_1.var_.characterEffect1029ui_story.fillFlat = true
				arg_571_1.var_.characterEffect1029ui_story.fillRatio = var_574_29
			end

			local var_574_30 = 0
			local var_574_31 = 0.875

			if var_574_30 < arg_571_1.time_ and arg_571_1.time_ <= var_574_30 + arg_574_0 then
				arg_571_1.talkMaxDuration = 0
				arg_571_1.dialogCg_.alpha = 1

				arg_571_1.dialog_:SetActive(true)
				SetActive(arg_571_1.leftNameGo_, true)

				local var_574_32 = arg_571_1:FormatText(StoryNameCfg[47].name)

				arg_571_1.leftNameTxt_.text = var_574_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_571_1.leftNameTxt_.transform)

				arg_571_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_571_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_571_1:RecordName(arg_571_1.leftNameTxt_.text)
				SetActive(arg_571_1.iconTrs_.gameObject, false)
				arg_571_1.callingController_:SetSelectedState("normal")

				local var_574_33 = arg_571_1:GetWordFromCfg(317021143)
				local var_574_34 = arg_571_1:FormatText(var_574_33.content)

				arg_571_1.text_.text = var_574_34

				LuaForUtil.ClearLinePrefixSymbol(arg_571_1.text_)

				local var_574_35 = 35
				local var_574_36 = utf8.len(var_574_34)
				local var_574_37 = var_574_35 <= 0 and var_574_31 or var_574_31 * (var_574_36 / var_574_35)

				if var_574_37 > 0 and var_574_31 < var_574_37 then
					arg_571_1.talkMaxDuration = var_574_37

					if var_574_37 + var_574_30 > arg_571_1.duration_ then
						arg_571_1.duration_ = var_574_37 + var_574_30
					end
				end

				arg_571_1.text_.text = var_574_34
				arg_571_1.typewritter.percent = 0

				arg_571_1.typewritter:SetDirty()
				arg_571_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021143", "story_v_out_317021.awb") ~= 0 then
					local var_574_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021143", "story_v_out_317021.awb") / 1000

					if var_574_38 + var_574_30 > arg_571_1.duration_ then
						arg_571_1.duration_ = var_574_38 + var_574_30
					end

					if var_574_33.prefab_name ~= "" and arg_571_1.actors_[var_574_33.prefab_name] ~= nil then
						local var_574_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_571_1.actors_[var_574_33.prefab_name].transform, "story_v_out_317021", "317021143", "story_v_out_317021.awb")

						arg_571_1:RecordAudio("317021143", var_574_39)
						arg_571_1:RecordAudio("317021143", var_574_39)
					else
						arg_571_1:AudioAction("play", "voice", "story_v_out_317021", "317021143", "story_v_out_317021.awb")
					end

					arg_571_1:RecordHistoryTalkVoice("story_v_out_317021", "317021143", "story_v_out_317021.awb")
				end

				arg_571_1:RecordContent(arg_571_1.text_.text)
			end

			local var_574_40 = math.max(var_574_31, arg_571_1.talkMaxDuration)

			if var_574_30 <= arg_571_1.time_ and arg_571_1.time_ < var_574_30 + var_574_40 then
				arg_571_1.typewritter.percent = (arg_571_1.time_ - var_574_30) / var_574_40

				arg_571_1.typewritter:SetDirty()
			end

			if arg_571_1.time_ >= var_574_30 + var_574_40 and arg_571_1.time_ < var_574_30 + var_574_40 + arg_574_0 then
				arg_571_1.typewritter.percent = 1

				arg_571_1.typewritter:SetDirty()
				arg_571_1:ShowNextGo(true)
			end
		end
	end,
	Play317021144 = function(arg_575_0, arg_575_1)
		arg_575_1.time_ = 0
		arg_575_1.frameCnt_ = 0
		arg_575_1.state_ = "playing"
		arg_575_1.curTalkId_ = 317021144
		arg_575_1.duration_ = 4.6

		local var_575_0 = {
			zh = 3.6,
			ja = 4.6
		}
		local var_575_1 = manager.audio:GetLocalizationFlag()

		if var_575_0[var_575_1] ~= nil then
			arg_575_1.duration_ = var_575_0[var_575_1]
		end

		SetActive(arg_575_1.tipsGo_, false)

		function arg_575_1.onSingleLineFinish_()
			arg_575_1.onSingleLineUpdate_ = nil
			arg_575_1.onSingleLineFinish_ = nil
			arg_575_1.state_ = "waiting"
		end

		function arg_575_1.playNext_(arg_577_0)
			if arg_577_0 == 1 then
				arg_575_0:Play317021145(arg_575_1)
			end
		end

		function arg_575_1.onSingleLineUpdate_(arg_578_0)
			local var_578_0 = arg_575_1.actors_["1019ui_story"].transform
			local var_578_1 = 0

			if var_578_1 < arg_575_1.time_ and arg_575_1.time_ <= var_578_1 + arg_578_0 then
				arg_575_1.var_.moveOldPos1019ui_story = var_578_0.localPosition
			end

			local var_578_2 = 0.001

			if var_578_1 <= arg_575_1.time_ and arg_575_1.time_ < var_578_1 + var_578_2 then
				local var_578_3 = (arg_575_1.time_ - var_578_1) / var_578_2
				local var_578_4 = Vector3.New(-0.7, -1.08, -5.9)

				var_578_0.localPosition = Vector3.Lerp(arg_575_1.var_.moveOldPos1019ui_story, var_578_4, var_578_3)

				local var_578_5 = manager.ui.mainCamera.transform.position - var_578_0.position

				var_578_0.forward = Vector3.New(var_578_5.x, var_578_5.y, var_578_5.z)

				local var_578_6 = var_578_0.localEulerAngles

				var_578_6.z = 0
				var_578_6.x = 0
				var_578_0.localEulerAngles = var_578_6
			end

			if arg_575_1.time_ >= var_578_1 + var_578_2 and arg_575_1.time_ < var_578_1 + var_578_2 + arg_578_0 then
				var_578_0.localPosition = Vector3.New(-0.7, -1.08, -5.9)

				local var_578_7 = manager.ui.mainCamera.transform.position - var_578_0.position

				var_578_0.forward = Vector3.New(var_578_7.x, var_578_7.y, var_578_7.z)

				local var_578_8 = var_578_0.localEulerAngles

				var_578_8.z = 0
				var_578_8.x = 0
				var_578_0.localEulerAngles = var_578_8
			end

			local var_578_9 = arg_575_1.actors_["1019ui_story"]
			local var_578_10 = 0

			if var_578_10 < arg_575_1.time_ and arg_575_1.time_ <= var_578_10 + arg_578_0 and not isNil(var_578_9) and arg_575_1.var_.characterEffect1019ui_story == nil then
				arg_575_1.var_.characterEffect1019ui_story = var_578_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_578_11 = 0.200000002980232

			if var_578_10 <= arg_575_1.time_ and arg_575_1.time_ < var_578_10 + var_578_11 and not isNil(var_578_9) then
				local var_578_12 = (arg_575_1.time_ - var_578_10) / var_578_11

				if arg_575_1.var_.characterEffect1019ui_story and not isNil(var_578_9) then
					local var_578_13 = Mathf.Lerp(0, 0.5, var_578_12)

					arg_575_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_575_1.var_.characterEffect1019ui_story.fillRatio = var_578_13
				end
			end

			if arg_575_1.time_ >= var_578_10 + var_578_11 and arg_575_1.time_ < var_578_10 + var_578_11 + arg_578_0 and not isNil(var_578_9) and arg_575_1.var_.characterEffect1019ui_story then
				local var_578_14 = 0.5

				arg_575_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_575_1.var_.characterEffect1019ui_story.fillRatio = var_578_14
			end

			local var_578_15 = arg_575_1.actors_["1029ui_story"].transform
			local var_578_16 = 0

			if var_578_16 < arg_575_1.time_ and arg_575_1.time_ <= var_578_16 + arg_578_0 then
				arg_575_1.var_.moveOldPos1029ui_story = var_578_15.localPosition
			end

			local var_578_17 = 0.001

			if var_578_16 <= arg_575_1.time_ and arg_575_1.time_ < var_578_16 + var_578_17 then
				local var_578_18 = (arg_575_1.time_ - var_578_16) / var_578_17
				local var_578_19 = Vector3.New(0.7, -1.09, -6.2)

				var_578_15.localPosition = Vector3.Lerp(arg_575_1.var_.moveOldPos1029ui_story, var_578_19, var_578_18)

				local var_578_20 = manager.ui.mainCamera.transform.position - var_578_15.position

				var_578_15.forward = Vector3.New(var_578_20.x, var_578_20.y, var_578_20.z)

				local var_578_21 = var_578_15.localEulerAngles

				var_578_21.z = 0
				var_578_21.x = 0
				var_578_15.localEulerAngles = var_578_21
			end

			if arg_575_1.time_ >= var_578_16 + var_578_17 and arg_575_1.time_ < var_578_16 + var_578_17 + arg_578_0 then
				var_578_15.localPosition = Vector3.New(0.7, -1.09, -6.2)

				local var_578_22 = manager.ui.mainCamera.transform.position - var_578_15.position

				var_578_15.forward = Vector3.New(var_578_22.x, var_578_22.y, var_578_22.z)

				local var_578_23 = var_578_15.localEulerAngles

				var_578_23.z = 0
				var_578_23.x = 0
				var_578_15.localEulerAngles = var_578_23
			end

			local var_578_24 = arg_575_1.actors_["1029ui_story"]
			local var_578_25 = 0

			if var_578_25 < arg_575_1.time_ and arg_575_1.time_ <= var_578_25 + arg_578_0 and not isNil(var_578_24) and arg_575_1.var_.characterEffect1029ui_story == nil then
				arg_575_1.var_.characterEffect1029ui_story = var_578_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_578_26 = 0.200000002980232

			if var_578_25 <= arg_575_1.time_ and arg_575_1.time_ < var_578_25 + var_578_26 and not isNil(var_578_24) then
				local var_578_27 = (arg_575_1.time_ - var_578_25) / var_578_26

				if arg_575_1.var_.characterEffect1029ui_story and not isNil(var_578_24) then
					arg_575_1.var_.characterEffect1029ui_story.fillFlat = false
				end
			end

			if arg_575_1.time_ >= var_578_25 + var_578_26 and arg_575_1.time_ < var_578_25 + var_578_26 + arg_578_0 and not isNil(var_578_24) and arg_575_1.var_.characterEffect1029ui_story then
				arg_575_1.var_.characterEffect1029ui_story.fillFlat = false
			end

			local var_578_28 = 0

			if var_578_28 < arg_575_1.time_ and arg_575_1.time_ <= var_578_28 + arg_578_0 then
				arg_575_1:PlayTimeline("1029ui_story", "StoryTimeline/CharAction/story1029/1029action/1029action1_1")
			end

			local var_578_29 = 0

			if var_578_29 < arg_575_1.time_ and arg_575_1.time_ <= var_578_29 + arg_578_0 then
				arg_575_1:PlayTimeline("1029ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_578_30 = 0
			local var_578_31 = 0.4

			if var_578_30 < arg_575_1.time_ and arg_575_1.time_ <= var_578_30 + arg_578_0 then
				arg_575_1.talkMaxDuration = 0
				arg_575_1.dialogCg_.alpha = 1

				arg_575_1.dialog_:SetActive(true)
				SetActive(arg_575_1.leftNameGo_, true)

				local var_578_32 = arg_575_1:FormatText(StoryNameCfg[319].name)

				arg_575_1.leftNameTxt_.text = var_578_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_575_1.leftNameTxt_.transform)

				arg_575_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_575_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_575_1:RecordName(arg_575_1.leftNameTxt_.text)
				SetActive(arg_575_1.iconTrs_.gameObject, false)
				arg_575_1.callingController_:SetSelectedState("normal")

				local var_578_33 = arg_575_1:GetWordFromCfg(317021144)
				local var_578_34 = arg_575_1:FormatText(var_578_33.content)

				arg_575_1.text_.text = var_578_34

				LuaForUtil.ClearLinePrefixSymbol(arg_575_1.text_)

				local var_578_35 = 16
				local var_578_36 = utf8.len(var_578_34)
				local var_578_37 = var_578_35 <= 0 and var_578_31 or var_578_31 * (var_578_36 / var_578_35)

				if var_578_37 > 0 and var_578_31 < var_578_37 then
					arg_575_1.talkMaxDuration = var_578_37

					if var_578_37 + var_578_30 > arg_575_1.duration_ then
						arg_575_1.duration_ = var_578_37 + var_578_30
					end
				end

				arg_575_1.text_.text = var_578_34
				arg_575_1.typewritter.percent = 0

				arg_575_1.typewritter:SetDirty()
				arg_575_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021144", "story_v_out_317021.awb") ~= 0 then
					local var_578_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021144", "story_v_out_317021.awb") / 1000

					if var_578_38 + var_578_30 > arg_575_1.duration_ then
						arg_575_1.duration_ = var_578_38 + var_578_30
					end

					if var_578_33.prefab_name ~= "" and arg_575_1.actors_[var_578_33.prefab_name] ~= nil then
						local var_578_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_575_1.actors_[var_578_33.prefab_name].transform, "story_v_out_317021", "317021144", "story_v_out_317021.awb")

						arg_575_1:RecordAudio("317021144", var_578_39)
						arg_575_1:RecordAudio("317021144", var_578_39)
					else
						arg_575_1:AudioAction("play", "voice", "story_v_out_317021", "317021144", "story_v_out_317021.awb")
					end

					arg_575_1:RecordHistoryTalkVoice("story_v_out_317021", "317021144", "story_v_out_317021.awb")
				end

				arg_575_1:RecordContent(arg_575_1.text_.text)
			end

			local var_578_40 = math.max(var_578_31, arg_575_1.talkMaxDuration)

			if var_578_30 <= arg_575_1.time_ and arg_575_1.time_ < var_578_30 + var_578_40 then
				arg_575_1.typewritter.percent = (arg_575_1.time_ - var_578_30) / var_578_40

				arg_575_1.typewritter:SetDirty()
			end

			if arg_575_1.time_ >= var_578_30 + var_578_40 and arg_575_1.time_ < var_578_30 + var_578_40 + arg_578_0 then
				arg_575_1.typewritter.percent = 1

				arg_575_1.typewritter:SetDirty()
				arg_575_1:ShowNextGo(true)
			end
		end
	end,
	Play317021145 = function(arg_579_0, arg_579_1)
		arg_579_1.time_ = 0
		arg_579_1.frameCnt_ = 0
		arg_579_1.state_ = "playing"
		arg_579_1.curTalkId_ = 317021145
		arg_579_1.duration_ = 12.77

		local var_579_0 = {
			zh = 12.766,
			ja = 8.333
		}
		local var_579_1 = manager.audio:GetLocalizationFlag()

		if var_579_0[var_579_1] ~= nil then
			arg_579_1.duration_ = var_579_0[var_579_1]
		end

		SetActive(arg_579_1.tipsGo_, false)

		function arg_579_1.onSingleLineFinish_()
			arg_579_1.onSingleLineUpdate_ = nil
			arg_579_1.onSingleLineFinish_ = nil
			arg_579_1.state_ = "waiting"
		end

		function arg_579_1.playNext_(arg_581_0)
			if arg_581_0 == 1 then
				arg_579_0:Play317021146(arg_579_1)
			end
		end

		function arg_579_1.onSingleLineUpdate_(arg_582_0)
			local var_582_0 = arg_579_1.actors_["1019ui_story"].transform
			local var_582_1 = 0

			if var_582_1 < arg_579_1.time_ and arg_579_1.time_ <= var_582_1 + arg_582_0 then
				arg_579_1.var_.moveOldPos1019ui_story = var_582_0.localPosition
			end

			local var_582_2 = 0.001

			if var_582_1 <= arg_579_1.time_ and arg_579_1.time_ < var_582_1 + var_582_2 then
				local var_582_3 = (arg_579_1.time_ - var_582_1) / var_582_2
				local var_582_4 = Vector3.New(-0.7, -1.08, -5.9)

				var_582_0.localPosition = Vector3.Lerp(arg_579_1.var_.moveOldPos1019ui_story, var_582_4, var_582_3)

				local var_582_5 = manager.ui.mainCamera.transform.position - var_582_0.position

				var_582_0.forward = Vector3.New(var_582_5.x, var_582_5.y, var_582_5.z)

				local var_582_6 = var_582_0.localEulerAngles

				var_582_6.z = 0
				var_582_6.x = 0
				var_582_0.localEulerAngles = var_582_6
			end

			if arg_579_1.time_ >= var_582_1 + var_582_2 and arg_579_1.time_ < var_582_1 + var_582_2 + arg_582_0 then
				var_582_0.localPosition = Vector3.New(-0.7, -1.08, -5.9)

				local var_582_7 = manager.ui.mainCamera.transform.position - var_582_0.position

				var_582_0.forward = Vector3.New(var_582_7.x, var_582_7.y, var_582_7.z)

				local var_582_8 = var_582_0.localEulerAngles

				var_582_8.z = 0
				var_582_8.x = 0
				var_582_0.localEulerAngles = var_582_8
			end

			local var_582_9 = arg_579_1.actors_["1019ui_story"]
			local var_582_10 = 0

			if var_582_10 < arg_579_1.time_ and arg_579_1.time_ <= var_582_10 + arg_582_0 and not isNil(var_582_9) and arg_579_1.var_.characterEffect1019ui_story == nil then
				arg_579_1.var_.characterEffect1019ui_story = var_582_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_582_11 = 0.200000002980232

			if var_582_10 <= arg_579_1.time_ and arg_579_1.time_ < var_582_10 + var_582_11 and not isNil(var_582_9) then
				local var_582_12 = (arg_579_1.time_ - var_582_10) / var_582_11

				if arg_579_1.var_.characterEffect1019ui_story and not isNil(var_582_9) then
					arg_579_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_579_1.time_ >= var_582_10 + var_582_11 and arg_579_1.time_ < var_582_10 + var_582_11 + arg_582_0 and not isNil(var_582_9) and arg_579_1.var_.characterEffect1019ui_story then
				arg_579_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_582_13 = 0

			if var_582_13 < arg_579_1.time_ and arg_579_1.time_ <= var_582_13 + arg_582_0 then
				arg_579_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action1_1")
			end

			local var_582_14 = 0

			if var_582_14 < arg_579_1.time_ and arg_579_1.time_ <= var_582_14 + arg_582_0 then
				arg_579_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_582_15 = arg_579_1.actors_["1029ui_story"].transform
			local var_582_16 = 0

			if var_582_16 < arg_579_1.time_ and arg_579_1.time_ <= var_582_16 + arg_582_0 then
				arg_579_1.var_.moveOldPos1029ui_story = var_582_15.localPosition
			end

			local var_582_17 = 0.001

			if var_582_16 <= arg_579_1.time_ and arg_579_1.time_ < var_582_16 + var_582_17 then
				local var_582_18 = (arg_579_1.time_ - var_582_16) / var_582_17
				local var_582_19 = Vector3.New(0.7, -1.09, -6.2)

				var_582_15.localPosition = Vector3.Lerp(arg_579_1.var_.moveOldPos1029ui_story, var_582_19, var_582_18)

				local var_582_20 = manager.ui.mainCamera.transform.position - var_582_15.position

				var_582_15.forward = Vector3.New(var_582_20.x, var_582_20.y, var_582_20.z)

				local var_582_21 = var_582_15.localEulerAngles

				var_582_21.z = 0
				var_582_21.x = 0
				var_582_15.localEulerAngles = var_582_21
			end

			if arg_579_1.time_ >= var_582_16 + var_582_17 and arg_579_1.time_ < var_582_16 + var_582_17 + arg_582_0 then
				var_582_15.localPosition = Vector3.New(0.7, -1.09, -6.2)

				local var_582_22 = manager.ui.mainCamera.transform.position - var_582_15.position

				var_582_15.forward = Vector3.New(var_582_22.x, var_582_22.y, var_582_22.z)

				local var_582_23 = var_582_15.localEulerAngles

				var_582_23.z = 0
				var_582_23.x = 0
				var_582_15.localEulerAngles = var_582_23
			end

			local var_582_24 = arg_579_1.actors_["1029ui_story"]
			local var_582_25 = 0

			if var_582_25 < arg_579_1.time_ and arg_579_1.time_ <= var_582_25 + arg_582_0 and not isNil(var_582_24) and arg_579_1.var_.characterEffect1029ui_story == nil then
				arg_579_1.var_.characterEffect1029ui_story = var_582_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_582_26 = 0.200000002980232

			if var_582_25 <= arg_579_1.time_ and arg_579_1.time_ < var_582_25 + var_582_26 and not isNil(var_582_24) then
				local var_582_27 = (arg_579_1.time_ - var_582_25) / var_582_26

				if arg_579_1.var_.characterEffect1029ui_story and not isNil(var_582_24) then
					local var_582_28 = Mathf.Lerp(0, 0.5, var_582_27)

					arg_579_1.var_.characterEffect1029ui_story.fillFlat = true
					arg_579_1.var_.characterEffect1029ui_story.fillRatio = var_582_28
				end
			end

			if arg_579_1.time_ >= var_582_25 + var_582_26 and arg_579_1.time_ < var_582_25 + var_582_26 + arg_582_0 and not isNil(var_582_24) and arg_579_1.var_.characterEffect1029ui_story then
				local var_582_29 = 0.5

				arg_579_1.var_.characterEffect1029ui_story.fillFlat = true
				arg_579_1.var_.characterEffect1029ui_story.fillRatio = var_582_29
			end

			local var_582_30 = 0
			local var_582_31 = 1.625

			if var_582_30 < arg_579_1.time_ and arg_579_1.time_ <= var_582_30 + arg_582_0 then
				arg_579_1.talkMaxDuration = 0
				arg_579_1.dialogCg_.alpha = 1

				arg_579_1.dialog_:SetActive(true)
				SetActive(arg_579_1.leftNameGo_, true)

				local var_582_32 = arg_579_1:FormatText(StoryNameCfg[47].name)

				arg_579_1.leftNameTxt_.text = var_582_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_579_1.leftNameTxt_.transform)

				arg_579_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_579_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_579_1:RecordName(arg_579_1.leftNameTxt_.text)
				SetActive(arg_579_1.iconTrs_.gameObject, false)
				arg_579_1.callingController_:SetSelectedState("normal")

				local var_582_33 = arg_579_1:GetWordFromCfg(317021145)
				local var_582_34 = arg_579_1:FormatText(var_582_33.content)

				arg_579_1.text_.text = var_582_34

				LuaForUtil.ClearLinePrefixSymbol(arg_579_1.text_)

				local var_582_35 = 65
				local var_582_36 = utf8.len(var_582_34)
				local var_582_37 = var_582_35 <= 0 and var_582_31 or var_582_31 * (var_582_36 / var_582_35)

				if var_582_37 > 0 and var_582_31 < var_582_37 then
					arg_579_1.talkMaxDuration = var_582_37

					if var_582_37 + var_582_30 > arg_579_1.duration_ then
						arg_579_1.duration_ = var_582_37 + var_582_30
					end
				end

				arg_579_1.text_.text = var_582_34
				arg_579_1.typewritter.percent = 0

				arg_579_1.typewritter:SetDirty()
				arg_579_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021145", "story_v_out_317021.awb") ~= 0 then
					local var_582_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021145", "story_v_out_317021.awb") / 1000

					if var_582_38 + var_582_30 > arg_579_1.duration_ then
						arg_579_1.duration_ = var_582_38 + var_582_30
					end

					if var_582_33.prefab_name ~= "" and arg_579_1.actors_[var_582_33.prefab_name] ~= nil then
						local var_582_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_579_1.actors_[var_582_33.prefab_name].transform, "story_v_out_317021", "317021145", "story_v_out_317021.awb")

						arg_579_1:RecordAudio("317021145", var_582_39)
						arg_579_1:RecordAudio("317021145", var_582_39)
					else
						arg_579_1:AudioAction("play", "voice", "story_v_out_317021", "317021145", "story_v_out_317021.awb")
					end

					arg_579_1:RecordHistoryTalkVoice("story_v_out_317021", "317021145", "story_v_out_317021.awb")
				end

				arg_579_1:RecordContent(arg_579_1.text_.text)
			end

			local var_582_40 = math.max(var_582_31, arg_579_1.talkMaxDuration)

			if var_582_30 <= arg_579_1.time_ and arg_579_1.time_ < var_582_30 + var_582_40 then
				arg_579_1.typewritter.percent = (arg_579_1.time_ - var_582_30) / var_582_40

				arg_579_1.typewritter:SetDirty()
			end

			if arg_579_1.time_ >= var_582_30 + var_582_40 and arg_579_1.time_ < var_582_30 + var_582_40 + arg_582_0 then
				arg_579_1.typewritter.percent = 1

				arg_579_1.typewritter:SetDirty()
				arg_579_1:ShowNextGo(true)
			end
		end
	end,
	Play317021146 = function(arg_583_0, arg_583_1)
		arg_583_1.time_ = 0
		arg_583_1.frameCnt_ = 0
		arg_583_1.state_ = "playing"
		arg_583_1.curTalkId_ = 317021146
		arg_583_1.duration_ = 7.07

		local var_583_0 = {
			zh = 5.6,
			ja = 7.066
		}
		local var_583_1 = manager.audio:GetLocalizationFlag()

		if var_583_0[var_583_1] ~= nil then
			arg_583_1.duration_ = var_583_0[var_583_1]
		end

		SetActive(arg_583_1.tipsGo_, false)

		function arg_583_1.onSingleLineFinish_()
			arg_583_1.onSingleLineUpdate_ = nil
			arg_583_1.onSingleLineFinish_ = nil
			arg_583_1.state_ = "waiting"
		end

		function arg_583_1.playNext_(arg_585_0)
			if arg_585_0 == 1 then
				arg_583_0:Play317021147(arg_583_1)
			end
		end

		function arg_583_1.onSingleLineUpdate_(arg_586_0)
			local var_586_0 = arg_583_1.actors_["1019ui_story"].transform
			local var_586_1 = 0

			if var_586_1 < arg_583_1.time_ and arg_583_1.time_ <= var_586_1 + arg_586_0 then
				arg_583_1.var_.moveOldPos1019ui_story = var_586_0.localPosition
			end

			local var_586_2 = 0.001

			if var_586_1 <= arg_583_1.time_ and arg_583_1.time_ < var_586_1 + var_586_2 then
				local var_586_3 = (arg_583_1.time_ - var_586_1) / var_586_2
				local var_586_4 = Vector3.New(-0.7, -1.08, -5.9)

				var_586_0.localPosition = Vector3.Lerp(arg_583_1.var_.moveOldPos1019ui_story, var_586_4, var_586_3)

				local var_586_5 = manager.ui.mainCamera.transform.position - var_586_0.position

				var_586_0.forward = Vector3.New(var_586_5.x, var_586_5.y, var_586_5.z)

				local var_586_6 = var_586_0.localEulerAngles

				var_586_6.z = 0
				var_586_6.x = 0
				var_586_0.localEulerAngles = var_586_6
			end

			if arg_583_1.time_ >= var_586_1 + var_586_2 and arg_583_1.time_ < var_586_1 + var_586_2 + arg_586_0 then
				var_586_0.localPosition = Vector3.New(-0.7, -1.08, -5.9)

				local var_586_7 = manager.ui.mainCamera.transform.position - var_586_0.position

				var_586_0.forward = Vector3.New(var_586_7.x, var_586_7.y, var_586_7.z)

				local var_586_8 = var_586_0.localEulerAngles

				var_586_8.z = 0
				var_586_8.x = 0
				var_586_0.localEulerAngles = var_586_8
			end

			local var_586_9 = arg_583_1.actors_["1019ui_story"]
			local var_586_10 = 0

			if var_586_10 < arg_583_1.time_ and arg_583_1.time_ <= var_586_10 + arg_586_0 and not isNil(var_586_9) and arg_583_1.var_.characterEffect1019ui_story == nil then
				arg_583_1.var_.characterEffect1019ui_story = var_586_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_586_11 = 0.200000002980232

			if var_586_10 <= arg_583_1.time_ and arg_583_1.time_ < var_586_10 + var_586_11 and not isNil(var_586_9) then
				local var_586_12 = (arg_583_1.time_ - var_586_10) / var_586_11

				if arg_583_1.var_.characterEffect1019ui_story and not isNil(var_586_9) then
					local var_586_13 = Mathf.Lerp(0, 0.5, var_586_12)

					arg_583_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_583_1.var_.characterEffect1019ui_story.fillRatio = var_586_13
				end
			end

			if arg_583_1.time_ >= var_586_10 + var_586_11 and arg_583_1.time_ < var_586_10 + var_586_11 + arg_586_0 and not isNil(var_586_9) and arg_583_1.var_.characterEffect1019ui_story then
				local var_586_14 = 0.5

				arg_583_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_583_1.var_.characterEffect1019ui_story.fillRatio = var_586_14
			end

			local var_586_15 = arg_583_1.actors_["1029ui_story"].transform
			local var_586_16 = 0

			if var_586_16 < arg_583_1.time_ and arg_583_1.time_ <= var_586_16 + arg_586_0 then
				arg_583_1.var_.moveOldPos1029ui_story = var_586_15.localPosition
			end

			local var_586_17 = 0.001

			if var_586_16 <= arg_583_1.time_ and arg_583_1.time_ < var_586_16 + var_586_17 then
				local var_586_18 = (arg_583_1.time_ - var_586_16) / var_586_17
				local var_586_19 = Vector3.New(0.7, -1.09, -6.2)

				var_586_15.localPosition = Vector3.Lerp(arg_583_1.var_.moveOldPos1029ui_story, var_586_19, var_586_18)

				local var_586_20 = manager.ui.mainCamera.transform.position - var_586_15.position

				var_586_15.forward = Vector3.New(var_586_20.x, var_586_20.y, var_586_20.z)

				local var_586_21 = var_586_15.localEulerAngles

				var_586_21.z = 0
				var_586_21.x = 0
				var_586_15.localEulerAngles = var_586_21
			end

			if arg_583_1.time_ >= var_586_16 + var_586_17 and arg_583_1.time_ < var_586_16 + var_586_17 + arg_586_0 then
				var_586_15.localPosition = Vector3.New(0.7, -1.09, -6.2)

				local var_586_22 = manager.ui.mainCamera.transform.position - var_586_15.position

				var_586_15.forward = Vector3.New(var_586_22.x, var_586_22.y, var_586_22.z)

				local var_586_23 = var_586_15.localEulerAngles

				var_586_23.z = 0
				var_586_23.x = 0
				var_586_15.localEulerAngles = var_586_23
			end

			local var_586_24 = arg_583_1.actors_["1029ui_story"]
			local var_586_25 = 0

			if var_586_25 < arg_583_1.time_ and arg_583_1.time_ <= var_586_25 + arg_586_0 and not isNil(var_586_24) and arg_583_1.var_.characterEffect1029ui_story == nil then
				arg_583_1.var_.characterEffect1029ui_story = var_586_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_586_26 = 0.200000002980232

			if var_586_25 <= arg_583_1.time_ and arg_583_1.time_ < var_586_25 + var_586_26 and not isNil(var_586_24) then
				local var_586_27 = (arg_583_1.time_ - var_586_25) / var_586_26

				if arg_583_1.var_.characterEffect1029ui_story and not isNil(var_586_24) then
					arg_583_1.var_.characterEffect1029ui_story.fillFlat = false
				end
			end

			if arg_583_1.time_ >= var_586_25 + var_586_26 and arg_583_1.time_ < var_586_25 + var_586_26 + arg_586_0 and not isNil(var_586_24) and arg_583_1.var_.characterEffect1029ui_story then
				arg_583_1.var_.characterEffect1029ui_story.fillFlat = false
			end

			local var_586_28 = 0

			if var_586_28 < arg_583_1.time_ and arg_583_1.time_ <= var_586_28 + arg_586_0 then
				arg_583_1:PlayTimeline("1029ui_story", "StoryTimeline/CharAction/story1029/1029action/1029action1_1")
			end

			local var_586_29 = 0

			if var_586_29 < arg_583_1.time_ and arg_583_1.time_ <= var_586_29 + arg_586_0 then
				arg_583_1:PlayTimeline("1029ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_586_30 = 0
			local var_586_31 = 0.475

			if var_586_30 < arg_583_1.time_ and arg_583_1.time_ <= var_586_30 + arg_586_0 then
				arg_583_1.talkMaxDuration = 0
				arg_583_1.dialogCg_.alpha = 1

				arg_583_1.dialog_:SetActive(true)
				SetActive(arg_583_1.leftNameGo_, true)

				local var_586_32 = arg_583_1:FormatText(StoryNameCfg[319].name)

				arg_583_1.leftNameTxt_.text = var_586_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_583_1.leftNameTxt_.transform)

				arg_583_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_583_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_583_1:RecordName(arg_583_1.leftNameTxt_.text)
				SetActive(arg_583_1.iconTrs_.gameObject, false)
				arg_583_1.callingController_:SetSelectedState("normal")

				local var_586_33 = arg_583_1:GetWordFromCfg(317021146)
				local var_586_34 = arg_583_1:FormatText(var_586_33.content)

				arg_583_1.text_.text = var_586_34

				LuaForUtil.ClearLinePrefixSymbol(arg_583_1.text_)

				local var_586_35 = 19
				local var_586_36 = utf8.len(var_586_34)
				local var_586_37 = var_586_35 <= 0 and var_586_31 or var_586_31 * (var_586_36 / var_586_35)

				if var_586_37 > 0 and var_586_31 < var_586_37 then
					arg_583_1.talkMaxDuration = var_586_37

					if var_586_37 + var_586_30 > arg_583_1.duration_ then
						arg_583_1.duration_ = var_586_37 + var_586_30
					end
				end

				arg_583_1.text_.text = var_586_34
				arg_583_1.typewritter.percent = 0

				arg_583_1.typewritter:SetDirty()
				arg_583_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021146", "story_v_out_317021.awb") ~= 0 then
					local var_586_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021146", "story_v_out_317021.awb") / 1000

					if var_586_38 + var_586_30 > arg_583_1.duration_ then
						arg_583_1.duration_ = var_586_38 + var_586_30
					end

					if var_586_33.prefab_name ~= "" and arg_583_1.actors_[var_586_33.prefab_name] ~= nil then
						local var_586_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_583_1.actors_[var_586_33.prefab_name].transform, "story_v_out_317021", "317021146", "story_v_out_317021.awb")

						arg_583_1:RecordAudio("317021146", var_586_39)
						arg_583_1:RecordAudio("317021146", var_586_39)
					else
						arg_583_1:AudioAction("play", "voice", "story_v_out_317021", "317021146", "story_v_out_317021.awb")
					end

					arg_583_1:RecordHistoryTalkVoice("story_v_out_317021", "317021146", "story_v_out_317021.awb")
				end

				arg_583_1:RecordContent(arg_583_1.text_.text)
			end

			local var_586_40 = math.max(var_586_31, arg_583_1.talkMaxDuration)

			if var_586_30 <= arg_583_1.time_ and arg_583_1.time_ < var_586_30 + var_586_40 then
				arg_583_1.typewritter.percent = (arg_583_1.time_ - var_586_30) / var_586_40

				arg_583_1.typewritter:SetDirty()
			end

			if arg_583_1.time_ >= var_586_30 + var_586_40 and arg_583_1.time_ < var_586_30 + var_586_40 + arg_586_0 then
				arg_583_1.typewritter.percent = 1

				arg_583_1.typewritter:SetDirty()
				arg_583_1:ShowNextGo(true)
			end
		end
	end,
	Play317021147 = function(arg_587_0, arg_587_1)
		arg_587_1.time_ = 0
		arg_587_1.frameCnt_ = 0
		arg_587_1.state_ = "playing"
		arg_587_1.curTalkId_ = 317021147
		arg_587_1.duration_ = 6.57

		local var_587_0 = {
			zh = 4.733,
			ja = 6.566
		}
		local var_587_1 = manager.audio:GetLocalizationFlag()

		if var_587_0[var_587_1] ~= nil then
			arg_587_1.duration_ = var_587_0[var_587_1]
		end

		SetActive(arg_587_1.tipsGo_, false)

		function arg_587_1.onSingleLineFinish_()
			arg_587_1.onSingleLineUpdate_ = nil
			arg_587_1.onSingleLineFinish_ = nil
			arg_587_1.state_ = "waiting"
		end

		function arg_587_1.playNext_(arg_589_0)
			if arg_589_0 == 1 then
				arg_587_0:Play317021148(arg_587_1)
			end
		end

		function arg_587_1.onSingleLineUpdate_(arg_590_0)
			local var_590_0 = arg_587_1.actors_["1019ui_story"].transform
			local var_590_1 = 0

			if var_590_1 < arg_587_1.time_ and arg_587_1.time_ <= var_590_1 + arg_590_0 then
				arg_587_1.var_.moveOldPos1019ui_story = var_590_0.localPosition
			end

			local var_590_2 = 0.001

			if var_590_1 <= arg_587_1.time_ and arg_587_1.time_ < var_590_1 + var_590_2 then
				local var_590_3 = (arg_587_1.time_ - var_590_1) / var_590_2
				local var_590_4 = Vector3.New(-0.7, -1.08, -5.9)

				var_590_0.localPosition = Vector3.Lerp(arg_587_1.var_.moveOldPos1019ui_story, var_590_4, var_590_3)

				local var_590_5 = manager.ui.mainCamera.transform.position - var_590_0.position

				var_590_0.forward = Vector3.New(var_590_5.x, var_590_5.y, var_590_5.z)

				local var_590_6 = var_590_0.localEulerAngles

				var_590_6.z = 0
				var_590_6.x = 0
				var_590_0.localEulerAngles = var_590_6
			end

			if arg_587_1.time_ >= var_590_1 + var_590_2 and arg_587_1.time_ < var_590_1 + var_590_2 + arg_590_0 then
				var_590_0.localPosition = Vector3.New(-0.7, -1.08, -5.9)

				local var_590_7 = manager.ui.mainCamera.transform.position - var_590_0.position

				var_590_0.forward = Vector3.New(var_590_7.x, var_590_7.y, var_590_7.z)

				local var_590_8 = var_590_0.localEulerAngles

				var_590_8.z = 0
				var_590_8.x = 0
				var_590_0.localEulerAngles = var_590_8
			end

			local var_590_9 = arg_587_1.actors_["1019ui_story"]
			local var_590_10 = 0

			if var_590_10 < arg_587_1.time_ and arg_587_1.time_ <= var_590_10 + arg_590_0 and not isNil(var_590_9) and arg_587_1.var_.characterEffect1019ui_story == nil then
				arg_587_1.var_.characterEffect1019ui_story = var_590_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_590_11 = 0.200000002980232

			if var_590_10 <= arg_587_1.time_ and arg_587_1.time_ < var_590_10 + var_590_11 and not isNil(var_590_9) then
				local var_590_12 = (arg_587_1.time_ - var_590_10) / var_590_11

				if arg_587_1.var_.characterEffect1019ui_story and not isNil(var_590_9) then
					arg_587_1.var_.characterEffect1019ui_story.fillFlat = false
				end
			end

			if arg_587_1.time_ >= var_590_10 + var_590_11 and arg_587_1.time_ < var_590_10 + var_590_11 + arg_590_0 and not isNil(var_590_9) and arg_587_1.var_.characterEffect1019ui_story then
				arg_587_1.var_.characterEffect1019ui_story.fillFlat = false
			end

			local var_590_13 = 0

			if var_590_13 < arg_587_1.time_ and arg_587_1.time_ <= var_590_13 + arg_590_0 then
				arg_587_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/1019/1019action/1019action2_1")
			end

			local var_590_14 = 0

			if var_590_14 < arg_587_1.time_ and arg_587_1.time_ <= var_590_14 + arg_590_0 then
				arg_587_1:PlayTimeline("1019ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_590_15 = arg_587_1.actors_["1029ui_story"].transform
			local var_590_16 = 0

			if var_590_16 < arg_587_1.time_ and arg_587_1.time_ <= var_590_16 + arg_590_0 then
				arg_587_1.var_.moveOldPos1029ui_story = var_590_15.localPosition
			end

			local var_590_17 = 0.001

			if var_590_16 <= arg_587_1.time_ and arg_587_1.time_ < var_590_16 + var_590_17 then
				local var_590_18 = (arg_587_1.time_ - var_590_16) / var_590_17
				local var_590_19 = Vector3.New(0.7, -1.09, -6.2)

				var_590_15.localPosition = Vector3.Lerp(arg_587_1.var_.moveOldPos1029ui_story, var_590_19, var_590_18)

				local var_590_20 = manager.ui.mainCamera.transform.position - var_590_15.position

				var_590_15.forward = Vector3.New(var_590_20.x, var_590_20.y, var_590_20.z)

				local var_590_21 = var_590_15.localEulerAngles

				var_590_21.z = 0
				var_590_21.x = 0
				var_590_15.localEulerAngles = var_590_21
			end

			if arg_587_1.time_ >= var_590_16 + var_590_17 and arg_587_1.time_ < var_590_16 + var_590_17 + arg_590_0 then
				var_590_15.localPosition = Vector3.New(0.7, -1.09, -6.2)

				local var_590_22 = manager.ui.mainCamera.transform.position - var_590_15.position

				var_590_15.forward = Vector3.New(var_590_22.x, var_590_22.y, var_590_22.z)

				local var_590_23 = var_590_15.localEulerAngles

				var_590_23.z = 0
				var_590_23.x = 0
				var_590_15.localEulerAngles = var_590_23
			end

			local var_590_24 = arg_587_1.actors_["1029ui_story"]
			local var_590_25 = 0

			if var_590_25 < arg_587_1.time_ and arg_587_1.time_ <= var_590_25 + arg_590_0 and not isNil(var_590_24) and arg_587_1.var_.characterEffect1029ui_story == nil then
				arg_587_1.var_.characterEffect1029ui_story = var_590_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_590_26 = 0.200000002980232

			if var_590_25 <= arg_587_1.time_ and arg_587_1.time_ < var_590_25 + var_590_26 and not isNil(var_590_24) then
				local var_590_27 = (arg_587_1.time_ - var_590_25) / var_590_26

				if arg_587_1.var_.characterEffect1029ui_story and not isNil(var_590_24) then
					local var_590_28 = Mathf.Lerp(0, 0.5, var_590_27)

					arg_587_1.var_.characterEffect1029ui_story.fillFlat = true
					arg_587_1.var_.characterEffect1029ui_story.fillRatio = var_590_28
				end
			end

			if arg_587_1.time_ >= var_590_25 + var_590_26 and arg_587_1.time_ < var_590_25 + var_590_26 + arg_590_0 and not isNil(var_590_24) and arg_587_1.var_.characterEffect1029ui_story then
				local var_590_29 = 0.5

				arg_587_1.var_.characterEffect1029ui_story.fillFlat = true
				arg_587_1.var_.characterEffect1029ui_story.fillRatio = var_590_29
			end

			local var_590_30 = 0
			local var_590_31 = 0.375

			if var_590_30 < arg_587_1.time_ and arg_587_1.time_ <= var_590_30 + arg_590_0 then
				arg_587_1.talkMaxDuration = 0
				arg_587_1.dialogCg_.alpha = 1

				arg_587_1.dialog_:SetActive(true)
				SetActive(arg_587_1.leftNameGo_, true)

				local var_590_32 = arg_587_1:FormatText(StoryNameCfg[47].name)

				arg_587_1.leftNameTxt_.text = var_590_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_587_1.leftNameTxt_.transform)

				arg_587_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_587_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_587_1:RecordName(arg_587_1.leftNameTxt_.text)
				SetActive(arg_587_1.iconTrs_.gameObject, false)
				arg_587_1.callingController_:SetSelectedState("normal")

				local var_590_33 = arg_587_1:GetWordFromCfg(317021147)
				local var_590_34 = arg_587_1:FormatText(var_590_33.content)

				arg_587_1.text_.text = var_590_34

				LuaForUtil.ClearLinePrefixSymbol(arg_587_1.text_)

				local var_590_35 = 15
				local var_590_36 = utf8.len(var_590_34)
				local var_590_37 = var_590_35 <= 0 and var_590_31 or var_590_31 * (var_590_36 / var_590_35)

				if var_590_37 > 0 and var_590_31 < var_590_37 then
					arg_587_1.talkMaxDuration = var_590_37

					if var_590_37 + var_590_30 > arg_587_1.duration_ then
						arg_587_1.duration_ = var_590_37 + var_590_30
					end
				end

				arg_587_1.text_.text = var_590_34
				arg_587_1.typewritter.percent = 0

				arg_587_1.typewritter:SetDirty()
				arg_587_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021147", "story_v_out_317021.awb") ~= 0 then
					local var_590_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021147", "story_v_out_317021.awb") / 1000

					if var_590_38 + var_590_30 > arg_587_1.duration_ then
						arg_587_1.duration_ = var_590_38 + var_590_30
					end

					if var_590_33.prefab_name ~= "" and arg_587_1.actors_[var_590_33.prefab_name] ~= nil then
						local var_590_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_587_1.actors_[var_590_33.prefab_name].transform, "story_v_out_317021", "317021147", "story_v_out_317021.awb")

						arg_587_1:RecordAudio("317021147", var_590_39)
						arg_587_1:RecordAudio("317021147", var_590_39)
					else
						arg_587_1:AudioAction("play", "voice", "story_v_out_317021", "317021147", "story_v_out_317021.awb")
					end

					arg_587_1:RecordHistoryTalkVoice("story_v_out_317021", "317021147", "story_v_out_317021.awb")
				end

				arg_587_1:RecordContent(arg_587_1.text_.text)
			end

			local var_590_40 = math.max(var_590_31, arg_587_1.talkMaxDuration)

			if var_590_30 <= arg_587_1.time_ and arg_587_1.time_ < var_590_30 + var_590_40 then
				arg_587_1.typewritter.percent = (arg_587_1.time_ - var_590_30) / var_590_40

				arg_587_1.typewritter:SetDirty()
			end

			if arg_587_1.time_ >= var_590_30 + var_590_40 and arg_587_1.time_ < var_590_30 + var_590_40 + arg_590_0 then
				arg_587_1.typewritter.percent = 1

				arg_587_1.typewritter:SetDirty()
				arg_587_1:ShowNextGo(true)
			end
		end
	end,
	Play317021148 = function(arg_591_0, arg_591_1)
		arg_591_1.time_ = 0
		arg_591_1.frameCnt_ = 0
		arg_591_1.state_ = "playing"
		arg_591_1.curTalkId_ = 317021148
		arg_591_1.duration_ = 5.7

		local var_591_0 = {
			zh = 5.333,
			ja = 5.7
		}
		local var_591_1 = manager.audio:GetLocalizationFlag()

		if var_591_0[var_591_1] ~= nil then
			arg_591_1.duration_ = var_591_0[var_591_1]
		end

		SetActive(arg_591_1.tipsGo_, false)

		function arg_591_1.onSingleLineFinish_()
			arg_591_1.onSingleLineUpdate_ = nil
			arg_591_1.onSingleLineFinish_ = nil
			arg_591_1.state_ = "waiting"
		end

		function arg_591_1.playNext_(arg_593_0)
			if arg_593_0 == 1 then
				arg_591_0:Play317021149(arg_591_1)
			end
		end

		function arg_591_1.onSingleLineUpdate_(arg_594_0)
			local var_594_0 = arg_591_1.actors_["1019ui_story"].transform
			local var_594_1 = 0

			if var_594_1 < arg_591_1.time_ and arg_591_1.time_ <= var_594_1 + arg_594_0 then
				arg_591_1.var_.moveOldPos1019ui_story = var_594_0.localPosition
			end

			local var_594_2 = 0.001

			if var_594_1 <= arg_591_1.time_ and arg_591_1.time_ < var_594_1 + var_594_2 then
				local var_594_3 = (arg_591_1.time_ - var_594_1) / var_594_2
				local var_594_4 = Vector3.New(-0.7, -1.08, -5.9)

				var_594_0.localPosition = Vector3.Lerp(arg_591_1.var_.moveOldPos1019ui_story, var_594_4, var_594_3)

				local var_594_5 = manager.ui.mainCamera.transform.position - var_594_0.position

				var_594_0.forward = Vector3.New(var_594_5.x, var_594_5.y, var_594_5.z)

				local var_594_6 = var_594_0.localEulerAngles

				var_594_6.z = 0
				var_594_6.x = 0
				var_594_0.localEulerAngles = var_594_6
			end

			if arg_591_1.time_ >= var_594_1 + var_594_2 and arg_591_1.time_ < var_594_1 + var_594_2 + arg_594_0 then
				var_594_0.localPosition = Vector3.New(-0.7, -1.08, -5.9)

				local var_594_7 = manager.ui.mainCamera.transform.position - var_594_0.position

				var_594_0.forward = Vector3.New(var_594_7.x, var_594_7.y, var_594_7.z)

				local var_594_8 = var_594_0.localEulerAngles

				var_594_8.z = 0
				var_594_8.x = 0
				var_594_0.localEulerAngles = var_594_8
			end

			local var_594_9 = arg_591_1.actors_["1019ui_story"]
			local var_594_10 = 0

			if var_594_10 < arg_591_1.time_ and arg_591_1.time_ <= var_594_10 + arg_594_0 and not isNil(var_594_9) and arg_591_1.var_.characterEffect1019ui_story == nil then
				arg_591_1.var_.characterEffect1019ui_story = var_594_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_594_11 = 0.200000002980232

			if var_594_10 <= arg_591_1.time_ and arg_591_1.time_ < var_594_10 + var_594_11 and not isNil(var_594_9) then
				local var_594_12 = (arg_591_1.time_ - var_594_10) / var_594_11

				if arg_591_1.var_.characterEffect1019ui_story and not isNil(var_594_9) then
					local var_594_13 = Mathf.Lerp(0, 0.5, var_594_12)

					arg_591_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_591_1.var_.characterEffect1019ui_story.fillRatio = var_594_13
				end
			end

			if arg_591_1.time_ >= var_594_10 + var_594_11 and arg_591_1.time_ < var_594_10 + var_594_11 + arg_594_0 and not isNil(var_594_9) and arg_591_1.var_.characterEffect1019ui_story then
				local var_594_14 = 0.5

				arg_591_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_591_1.var_.characterEffect1019ui_story.fillRatio = var_594_14
			end

			local var_594_15 = arg_591_1.actors_["1029ui_story"].transform
			local var_594_16 = 0

			if var_594_16 < arg_591_1.time_ and arg_591_1.time_ <= var_594_16 + arg_594_0 then
				arg_591_1.var_.moveOldPos1029ui_story = var_594_15.localPosition
			end

			local var_594_17 = 0.001

			if var_594_16 <= arg_591_1.time_ and arg_591_1.time_ < var_594_16 + var_594_17 then
				local var_594_18 = (arg_591_1.time_ - var_594_16) / var_594_17
				local var_594_19 = Vector3.New(0.7, -1.09, -6.2)

				var_594_15.localPosition = Vector3.Lerp(arg_591_1.var_.moveOldPos1029ui_story, var_594_19, var_594_18)

				local var_594_20 = manager.ui.mainCamera.transform.position - var_594_15.position

				var_594_15.forward = Vector3.New(var_594_20.x, var_594_20.y, var_594_20.z)

				local var_594_21 = var_594_15.localEulerAngles

				var_594_21.z = 0
				var_594_21.x = 0
				var_594_15.localEulerAngles = var_594_21
			end

			if arg_591_1.time_ >= var_594_16 + var_594_17 and arg_591_1.time_ < var_594_16 + var_594_17 + arg_594_0 then
				var_594_15.localPosition = Vector3.New(0.7, -1.09, -6.2)

				local var_594_22 = manager.ui.mainCamera.transform.position - var_594_15.position

				var_594_15.forward = Vector3.New(var_594_22.x, var_594_22.y, var_594_22.z)

				local var_594_23 = var_594_15.localEulerAngles

				var_594_23.z = 0
				var_594_23.x = 0
				var_594_15.localEulerAngles = var_594_23
			end

			local var_594_24 = arg_591_1.actors_["1029ui_story"]
			local var_594_25 = 0

			if var_594_25 < arg_591_1.time_ and arg_591_1.time_ <= var_594_25 + arg_594_0 and not isNil(var_594_24) and arg_591_1.var_.characterEffect1029ui_story == nil then
				arg_591_1.var_.characterEffect1029ui_story = var_594_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_594_26 = 0.200000002980232

			if var_594_25 <= arg_591_1.time_ and arg_591_1.time_ < var_594_25 + var_594_26 and not isNil(var_594_24) then
				local var_594_27 = (arg_591_1.time_ - var_594_25) / var_594_26

				if arg_591_1.var_.characterEffect1029ui_story and not isNil(var_594_24) then
					arg_591_1.var_.characterEffect1029ui_story.fillFlat = false
				end
			end

			if arg_591_1.time_ >= var_594_25 + var_594_26 and arg_591_1.time_ < var_594_25 + var_594_26 + arg_594_0 and not isNil(var_594_24) and arg_591_1.var_.characterEffect1029ui_story then
				arg_591_1.var_.characterEffect1029ui_story.fillFlat = false
			end

			local var_594_28 = 0

			if var_594_28 < arg_591_1.time_ and arg_591_1.time_ <= var_594_28 + arg_594_0 then
				arg_591_1:PlayTimeline("1029ui_story", "StoryTimeline/CharAction/story1029/1029action/1029action1_1")
			end

			local var_594_29 = 0

			if var_594_29 < arg_591_1.time_ and arg_591_1.time_ <= var_594_29 + arg_594_0 then
				arg_591_1:PlayTimeline("1029ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0202cva")
			end

			local var_594_30 = 0
			local var_594_31 = 0.5

			if var_594_30 < arg_591_1.time_ and arg_591_1.time_ <= var_594_30 + arg_594_0 then
				arg_591_1.talkMaxDuration = 0
				arg_591_1.dialogCg_.alpha = 1

				arg_591_1.dialog_:SetActive(true)
				SetActive(arg_591_1.leftNameGo_, true)

				local var_594_32 = arg_591_1:FormatText(StoryNameCfg[319].name)

				arg_591_1.leftNameTxt_.text = var_594_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_591_1.leftNameTxt_.transform)

				arg_591_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_591_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_591_1:RecordName(arg_591_1.leftNameTxt_.text)
				SetActive(arg_591_1.iconTrs_.gameObject, false)
				arg_591_1.callingController_:SetSelectedState("normal")

				local var_594_33 = arg_591_1:GetWordFromCfg(317021148)
				local var_594_34 = arg_591_1:FormatText(var_594_33.content)

				arg_591_1.text_.text = var_594_34

				LuaForUtil.ClearLinePrefixSymbol(arg_591_1.text_)

				local var_594_35 = 20
				local var_594_36 = utf8.len(var_594_34)
				local var_594_37 = var_594_35 <= 0 and var_594_31 or var_594_31 * (var_594_36 / var_594_35)

				if var_594_37 > 0 and var_594_31 < var_594_37 then
					arg_591_1.talkMaxDuration = var_594_37

					if var_594_37 + var_594_30 > arg_591_1.duration_ then
						arg_591_1.duration_ = var_594_37 + var_594_30
					end
				end

				arg_591_1.text_.text = var_594_34
				arg_591_1.typewritter.percent = 0

				arg_591_1.typewritter:SetDirty()
				arg_591_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021148", "story_v_out_317021.awb") ~= 0 then
					local var_594_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021148", "story_v_out_317021.awb") / 1000

					if var_594_38 + var_594_30 > arg_591_1.duration_ then
						arg_591_1.duration_ = var_594_38 + var_594_30
					end

					if var_594_33.prefab_name ~= "" and arg_591_1.actors_[var_594_33.prefab_name] ~= nil then
						local var_594_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_591_1.actors_[var_594_33.prefab_name].transform, "story_v_out_317021", "317021148", "story_v_out_317021.awb")

						arg_591_1:RecordAudio("317021148", var_594_39)
						arg_591_1:RecordAudio("317021148", var_594_39)
					else
						arg_591_1:AudioAction("play", "voice", "story_v_out_317021", "317021148", "story_v_out_317021.awb")
					end

					arg_591_1:RecordHistoryTalkVoice("story_v_out_317021", "317021148", "story_v_out_317021.awb")
				end

				arg_591_1:RecordContent(arg_591_1.text_.text)
			end

			local var_594_40 = math.max(var_594_31, arg_591_1.talkMaxDuration)

			if var_594_30 <= arg_591_1.time_ and arg_591_1.time_ < var_594_30 + var_594_40 then
				arg_591_1.typewritter.percent = (arg_591_1.time_ - var_594_30) / var_594_40

				arg_591_1.typewritter:SetDirty()
			end

			if arg_591_1.time_ >= var_594_30 + var_594_40 and arg_591_1.time_ < var_594_30 + var_594_40 + arg_594_0 then
				arg_591_1.typewritter.percent = 1

				arg_591_1.typewritter:SetDirty()
				arg_591_1:ShowNextGo(true)
			end
		end
	end,
	Play317021149 = function(arg_595_0, arg_595_1)
		arg_595_1.time_ = 0
		arg_595_1.frameCnt_ = 0
		arg_595_1.state_ = "playing"
		arg_595_1.curTalkId_ = 317021149
		arg_595_1.duration_ = 6.6

		local var_595_0 = {
			zh = 4.033,
			ja = 6.6
		}
		local var_595_1 = manager.audio:GetLocalizationFlag()

		if var_595_0[var_595_1] ~= nil then
			arg_595_1.duration_ = var_595_0[var_595_1]
		end

		SetActive(arg_595_1.tipsGo_, false)

		function arg_595_1.onSingleLineFinish_()
			arg_595_1.onSingleLineUpdate_ = nil
			arg_595_1.onSingleLineFinish_ = nil
			arg_595_1.state_ = "waiting"
		end

		function arg_595_1.playNext_(arg_597_0)
			if arg_597_0 == 1 then
				arg_595_0:Play317021150(arg_595_1)
			end
		end

		function arg_595_1.onSingleLineUpdate_(arg_598_0)
			local var_598_0 = 0

			if var_598_0 < arg_595_1.time_ and arg_595_1.time_ <= var_598_0 + arg_598_0 then
				arg_595_1:PlayTimeline("1029ui_story", "StoryTimeline/CharAction/story1029/1029action/1029action4_1")
			end

			local var_598_1 = 0

			if var_598_1 < arg_595_1.time_ and arg_595_1.time_ <= var_598_1 + arg_598_0 then
				arg_595_1:PlayTimeline("1029ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_598_2 = 0
			local var_598_3 = 0.55

			if var_598_2 < arg_595_1.time_ and arg_595_1.time_ <= var_598_2 + arg_598_0 then
				arg_595_1.talkMaxDuration = 0
				arg_595_1.dialogCg_.alpha = 1

				arg_595_1.dialog_:SetActive(true)
				SetActive(arg_595_1.leftNameGo_, true)

				local var_598_4 = arg_595_1:FormatText(StoryNameCfg[319].name)

				arg_595_1.leftNameTxt_.text = var_598_4

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_595_1.leftNameTxt_.transform)

				arg_595_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_595_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_595_1:RecordName(arg_595_1.leftNameTxt_.text)
				SetActive(arg_595_1.iconTrs_.gameObject, false)
				arg_595_1.callingController_:SetSelectedState("normal")

				local var_598_5 = arg_595_1:GetWordFromCfg(317021149)
				local var_598_6 = arg_595_1:FormatText(var_598_5.content)

				arg_595_1.text_.text = var_598_6

				LuaForUtil.ClearLinePrefixSymbol(arg_595_1.text_)

				local var_598_7 = 22
				local var_598_8 = utf8.len(var_598_6)
				local var_598_9 = var_598_7 <= 0 and var_598_3 or var_598_3 * (var_598_8 / var_598_7)

				if var_598_9 > 0 and var_598_3 < var_598_9 then
					arg_595_1.talkMaxDuration = var_598_9

					if var_598_9 + var_598_2 > arg_595_1.duration_ then
						arg_595_1.duration_ = var_598_9 + var_598_2
					end
				end

				arg_595_1.text_.text = var_598_6
				arg_595_1.typewritter.percent = 0

				arg_595_1.typewritter:SetDirty()
				arg_595_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021149", "story_v_out_317021.awb") ~= 0 then
					local var_598_10 = manager.audio:GetVoiceLength("story_v_out_317021", "317021149", "story_v_out_317021.awb") / 1000

					if var_598_10 + var_598_2 > arg_595_1.duration_ then
						arg_595_1.duration_ = var_598_10 + var_598_2
					end

					if var_598_5.prefab_name ~= "" and arg_595_1.actors_[var_598_5.prefab_name] ~= nil then
						local var_598_11 = LuaForUtil.PlayVoiceWithCriLipsync(arg_595_1.actors_[var_598_5.prefab_name].transform, "story_v_out_317021", "317021149", "story_v_out_317021.awb")

						arg_595_1:RecordAudio("317021149", var_598_11)
						arg_595_1:RecordAudio("317021149", var_598_11)
					else
						arg_595_1:AudioAction("play", "voice", "story_v_out_317021", "317021149", "story_v_out_317021.awb")
					end

					arg_595_1:RecordHistoryTalkVoice("story_v_out_317021", "317021149", "story_v_out_317021.awb")
				end

				arg_595_1:RecordContent(arg_595_1.text_.text)
			end

			local var_598_12 = math.max(var_598_3, arg_595_1.talkMaxDuration)

			if var_598_2 <= arg_595_1.time_ and arg_595_1.time_ < var_598_2 + var_598_12 then
				arg_595_1.typewritter.percent = (arg_595_1.time_ - var_598_2) / var_598_12

				arg_595_1.typewritter:SetDirty()
			end

			if arg_595_1.time_ >= var_598_2 + var_598_12 and arg_595_1.time_ < var_598_2 + var_598_12 + arg_598_0 then
				arg_595_1.typewritter.percent = 1

				arg_595_1.typewritter:SetDirty()
				arg_595_1:ShowNextGo(true)
			end
		end
	end,
	Play317021150 = function(arg_599_0, arg_599_1)
		arg_599_1.time_ = 0
		arg_599_1.frameCnt_ = 0
		arg_599_1.state_ = "playing"
		arg_599_1.curTalkId_ = 317021150
		arg_599_1.duration_ = 5

		SetActive(arg_599_1.tipsGo_, false)

		function arg_599_1.onSingleLineFinish_()
			arg_599_1.onSingleLineUpdate_ = nil
			arg_599_1.onSingleLineFinish_ = nil
			arg_599_1.state_ = "waiting"
		end

		function arg_599_1.playNext_(arg_601_0)
			if arg_601_0 == 1 then
				arg_599_0:Play317021151(arg_599_1)
			end
		end

		function arg_599_1.onSingleLineUpdate_(arg_602_0)
			local var_602_0 = arg_599_1.actors_["1029ui_story"]
			local var_602_1 = 0

			if var_602_1 < arg_599_1.time_ and arg_599_1.time_ <= var_602_1 + arg_602_0 and not isNil(var_602_0) and arg_599_1.var_.characterEffect1029ui_story == nil then
				arg_599_1.var_.characterEffect1029ui_story = var_602_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_602_2 = 0.200000002980232

			if var_602_1 <= arg_599_1.time_ and arg_599_1.time_ < var_602_1 + var_602_2 and not isNil(var_602_0) then
				local var_602_3 = (arg_599_1.time_ - var_602_1) / var_602_2

				if arg_599_1.var_.characterEffect1029ui_story and not isNil(var_602_0) then
					local var_602_4 = Mathf.Lerp(0, 0.5, var_602_3)

					arg_599_1.var_.characterEffect1029ui_story.fillFlat = true
					arg_599_1.var_.characterEffect1029ui_story.fillRatio = var_602_4
				end
			end

			if arg_599_1.time_ >= var_602_1 + var_602_2 and arg_599_1.time_ < var_602_1 + var_602_2 + arg_602_0 and not isNil(var_602_0) and arg_599_1.var_.characterEffect1029ui_story then
				local var_602_5 = 0.5

				arg_599_1.var_.characterEffect1029ui_story.fillFlat = true
				arg_599_1.var_.characterEffect1029ui_story.fillRatio = var_602_5
			end

			local var_602_6 = arg_599_1.actors_["1019ui_story"].transform
			local var_602_7 = 0

			if var_602_7 < arg_599_1.time_ and arg_599_1.time_ <= var_602_7 + arg_602_0 then
				arg_599_1.var_.moveOldPos1019ui_story = var_602_6.localPosition
			end

			local var_602_8 = 0.001

			if var_602_7 <= arg_599_1.time_ and arg_599_1.time_ < var_602_7 + var_602_8 then
				local var_602_9 = (arg_599_1.time_ - var_602_7) / var_602_8
				local var_602_10 = Vector3.New(0, 100, 0)

				var_602_6.localPosition = Vector3.Lerp(arg_599_1.var_.moveOldPos1019ui_story, var_602_10, var_602_9)

				local var_602_11 = manager.ui.mainCamera.transform.position - var_602_6.position

				var_602_6.forward = Vector3.New(var_602_11.x, var_602_11.y, var_602_11.z)

				local var_602_12 = var_602_6.localEulerAngles

				var_602_12.z = 0
				var_602_12.x = 0
				var_602_6.localEulerAngles = var_602_12
			end

			if arg_599_1.time_ >= var_602_7 + var_602_8 and arg_599_1.time_ < var_602_7 + var_602_8 + arg_602_0 then
				var_602_6.localPosition = Vector3.New(0, 100, 0)

				local var_602_13 = manager.ui.mainCamera.transform.position - var_602_6.position

				var_602_6.forward = Vector3.New(var_602_13.x, var_602_13.y, var_602_13.z)

				local var_602_14 = var_602_6.localEulerAngles

				var_602_14.z = 0
				var_602_14.x = 0
				var_602_6.localEulerAngles = var_602_14
			end

			local var_602_15 = arg_599_1.actors_["1029ui_story"].transform
			local var_602_16 = 0

			if var_602_16 < arg_599_1.time_ and arg_599_1.time_ <= var_602_16 + arg_602_0 then
				arg_599_1.var_.moveOldPos1029ui_story = var_602_15.localPosition
			end

			local var_602_17 = 0.001

			if var_602_16 <= arg_599_1.time_ and arg_599_1.time_ < var_602_16 + var_602_17 then
				local var_602_18 = (arg_599_1.time_ - var_602_16) / var_602_17
				local var_602_19 = Vector3.New(0, 100, 0)

				var_602_15.localPosition = Vector3.Lerp(arg_599_1.var_.moveOldPos1029ui_story, var_602_19, var_602_18)

				local var_602_20 = manager.ui.mainCamera.transform.position - var_602_15.position

				var_602_15.forward = Vector3.New(var_602_20.x, var_602_20.y, var_602_20.z)

				local var_602_21 = var_602_15.localEulerAngles

				var_602_21.z = 0
				var_602_21.x = 0
				var_602_15.localEulerAngles = var_602_21
			end

			if arg_599_1.time_ >= var_602_16 + var_602_17 and arg_599_1.time_ < var_602_16 + var_602_17 + arg_602_0 then
				var_602_15.localPosition = Vector3.New(0, 100, 0)

				local var_602_22 = manager.ui.mainCamera.transform.position - var_602_15.position

				var_602_15.forward = Vector3.New(var_602_22.x, var_602_22.y, var_602_22.z)

				local var_602_23 = var_602_15.localEulerAngles

				var_602_23.z = 0
				var_602_23.x = 0
				var_602_15.localEulerAngles = var_602_23
			end

			local var_602_24 = 0
			local var_602_25 = 0.6

			if var_602_24 < arg_599_1.time_ and arg_599_1.time_ <= var_602_24 + arg_602_0 then
				arg_599_1.talkMaxDuration = 0
				arg_599_1.dialogCg_.alpha = 1

				arg_599_1.dialog_:SetActive(true)
				SetActive(arg_599_1.leftNameGo_, false)

				arg_599_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_599_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_599_1:RecordName(arg_599_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_599_1.iconTrs_.gameObject, false)
				arg_599_1.callingController_:SetSelectedState("normal")

				local var_602_26 = arg_599_1:GetWordFromCfg(317021150)
				local var_602_27 = arg_599_1:FormatText(var_602_26.content)

				arg_599_1.text_.text = var_602_27

				LuaForUtil.ClearLinePrefixSymbol(arg_599_1.text_)

				local var_602_28 = 24
				local var_602_29 = utf8.len(var_602_27)
				local var_602_30 = var_602_28 <= 0 and var_602_25 or var_602_25 * (var_602_29 / var_602_28)

				if var_602_30 > 0 and var_602_25 < var_602_30 then
					arg_599_1.talkMaxDuration = var_602_30

					if var_602_30 + var_602_24 > arg_599_1.duration_ then
						arg_599_1.duration_ = var_602_30 + var_602_24
					end
				end

				arg_599_1.text_.text = var_602_27
				arg_599_1.typewritter.percent = 0

				arg_599_1.typewritter:SetDirty()
				arg_599_1:ShowNextGo(false)
				arg_599_1:RecordContent(arg_599_1.text_.text)
			end

			local var_602_31 = math.max(var_602_25, arg_599_1.talkMaxDuration)

			if var_602_24 <= arg_599_1.time_ and arg_599_1.time_ < var_602_24 + var_602_31 then
				arg_599_1.typewritter.percent = (arg_599_1.time_ - var_602_24) / var_602_31

				arg_599_1.typewritter:SetDirty()
			end

			if arg_599_1.time_ >= var_602_24 + var_602_31 and arg_599_1.time_ < var_602_24 + var_602_31 + arg_602_0 then
				arg_599_1.typewritter.percent = 1

				arg_599_1.typewritter:SetDirty()
				arg_599_1:ShowNextGo(true)
			end
		end
	end,
	Play317021151 = function(arg_603_0, arg_603_1)
		arg_603_1.time_ = 0
		arg_603_1.frameCnt_ = 0
		arg_603_1.state_ = "playing"
		arg_603_1.curTalkId_ = 317021151
		arg_603_1.duration_ = 5.77

		local var_603_0 = {
			zh = 5.766,
			ja = 4.366
		}
		local var_603_1 = manager.audio:GetLocalizationFlag()

		if var_603_0[var_603_1] ~= nil then
			arg_603_1.duration_ = var_603_0[var_603_1]
		end

		SetActive(arg_603_1.tipsGo_, false)

		function arg_603_1.onSingleLineFinish_()
			arg_603_1.onSingleLineUpdate_ = nil
			arg_603_1.onSingleLineFinish_ = nil
			arg_603_1.state_ = "waiting"
		end

		function arg_603_1.playNext_(arg_605_0)
			if arg_605_0 == 1 then
				arg_603_0:Play317021152(arg_603_1)
			end
		end

		function arg_603_1.onSingleLineUpdate_(arg_606_0)
			local var_606_0 = arg_603_1.actors_["1019ui_story"].transform
			local var_606_1 = 0

			if var_606_1 < arg_603_1.time_ and arg_603_1.time_ <= var_606_1 + arg_606_0 then
				arg_603_1.var_.moveOldPos1019ui_story = var_606_0.localPosition
			end

			local var_606_2 = 0.001

			if var_606_1 <= arg_603_1.time_ and arg_603_1.time_ < var_606_1 + var_606_2 then
				local var_606_3 = (arg_603_1.time_ - var_606_1) / var_606_2
				local var_606_4 = Vector3.New(-0.7, -1.08, -5.9)

				var_606_0.localPosition = Vector3.Lerp(arg_603_1.var_.moveOldPos1019ui_story, var_606_4, var_606_3)

				local var_606_5 = manager.ui.mainCamera.transform.position - var_606_0.position

				var_606_0.forward = Vector3.New(var_606_5.x, var_606_5.y, var_606_5.z)

				local var_606_6 = var_606_0.localEulerAngles

				var_606_6.z = 0
				var_606_6.x = 0
				var_606_0.localEulerAngles = var_606_6
			end

			if arg_603_1.time_ >= var_606_1 + var_606_2 and arg_603_1.time_ < var_606_1 + var_606_2 + arg_606_0 then
				var_606_0.localPosition = Vector3.New(-0.7, -1.08, -5.9)

				local var_606_7 = manager.ui.mainCamera.transform.position - var_606_0.position

				var_606_0.forward = Vector3.New(var_606_7.x, var_606_7.y, var_606_7.z)

				local var_606_8 = var_606_0.localEulerAngles

				var_606_8.z = 0
				var_606_8.x = 0
				var_606_0.localEulerAngles = var_606_8
			end

			local var_606_9 = arg_603_1.actors_["1019ui_story"]
			local var_606_10 = 0

			if var_606_10 < arg_603_1.time_ and arg_603_1.time_ <= var_606_10 + arg_606_0 and not isNil(var_606_9) and arg_603_1.var_.characterEffect1019ui_story == nil then
				arg_603_1.var_.characterEffect1019ui_story = var_606_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_606_11 = 0.200000002980232

			if var_606_10 <= arg_603_1.time_ and arg_603_1.time_ < var_606_10 + var_606_11 and not isNil(var_606_9) then
				local var_606_12 = (arg_603_1.time_ - var_606_10) / var_606_11

				if arg_603_1.var_.characterEffect1019ui_story and not isNil(var_606_9) then
					local var_606_13 = Mathf.Lerp(0, 0.5, var_606_12)

					arg_603_1.var_.characterEffect1019ui_story.fillFlat = true
					arg_603_1.var_.characterEffect1019ui_story.fillRatio = var_606_13
				end
			end

			if arg_603_1.time_ >= var_606_10 + var_606_11 and arg_603_1.time_ < var_606_10 + var_606_11 + arg_606_0 and not isNil(var_606_9) and arg_603_1.var_.characterEffect1019ui_story then
				local var_606_14 = 0.5

				arg_603_1.var_.characterEffect1019ui_story.fillFlat = true
				arg_603_1.var_.characterEffect1019ui_story.fillRatio = var_606_14
			end

			local var_606_15 = arg_603_1.actors_["1029ui_story"].transform
			local var_606_16 = 0

			if var_606_16 < arg_603_1.time_ and arg_603_1.time_ <= var_606_16 + arg_606_0 then
				arg_603_1.var_.moveOldPos1029ui_story = var_606_15.localPosition
			end

			local var_606_17 = 0.001

			if var_606_16 <= arg_603_1.time_ and arg_603_1.time_ < var_606_16 + var_606_17 then
				local var_606_18 = (arg_603_1.time_ - var_606_16) / var_606_17
				local var_606_19 = Vector3.New(0.7, -1.09, -6.2)

				var_606_15.localPosition = Vector3.Lerp(arg_603_1.var_.moveOldPos1029ui_story, var_606_19, var_606_18)

				local var_606_20 = manager.ui.mainCamera.transform.position - var_606_15.position

				var_606_15.forward = Vector3.New(var_606_20.x, var_606_20.y, var_606_20.z)

				local var_606_21 = var_606_15.localEulerAngles

				var_606_21.z = 0
				var_606_21.x = 0
				var_606_15.localEulerAngles = var_606_21
			end

			if arg_603_1.time_ >= var_606_16 + var_606_17 and arg_603_1.time_ < var_606_16 + var_606_17 + arg_606_0 then
				var_606_15.localPosition = Vector3.New(0.7, -1.09, -6.2)

				local var_606_22 = manager.ui.mainCamera.transform.position - var_606_15.position

				var_606_15.forward = Vector3.New(var_606_22.x, var_606_22.y, var_606_22.z)

				local var_606_23 = var_606_15.localEulerAngles

				var_606_23.z = 0
				var_606_23.x = 0
				var_606_15.localEulerAngles = var_606_23
			end

			local var_606_24 = arg_603_1.actors_["1029ui_story"]
			local var_606_25 = 0

			if var_606_25 < arg_603_1.time_ and arg_603_1.time_ <= var_606_25 + arg_606_0 and not isNil(var_606_24) and arg_603_1.var_.characterEffect1029ui_story == nil then
				arg_603_1.var_.characterEffect1029ui_story = var_606_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_606_26 = 0.200000002980232

			if var_606_25 <= arg_603_1.time_ and arg_603_1.time_ < var_606_25 + var_606_26 and not isNil(var_606_24) then
				local var_606_27 = (arg_603_1.time_ - var_606_25) / var_606_26

				if arg_603_1.var_.characterEffect1029ui_story and not isNil(var_606_24) then
					arg_603_1.var_.characterEffect1029ui_story.fillFlat = false
				end
			end

			if arg_603_1.time_ >= var_606_25 + var_606_26 and arg_603_1.time_ < var_606_25 + var_606_26 + arg_606_0 and not isNil(var_606_24) and arg_603_1.var_.characterEffect1029ui_story then
				arg_603_1.var_.characterEffect1029ui_story.fillFlat = false
			end

			local var_606_28 = 0

			if var_606_28 < arg_603_1.time_ and arg_603_1.time_ <= var_606_28 + arg_606_0 then
				arg_603_1:PlayTimeline("1029ui_story", "StoryTimeline/CharAction/story1029/1029action/1029action1_1")
			end

			local var_606_29 = 0

			if var_606_29 < arg_603_1.time_ and arg_603_1.time_ <= var_606_29 + arg_606_0 then
				arg_603_1:PlayTimeline("1029ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_606_30 = 0
			local var_606_31 = 0.775

			if var_606_30 < arg_603_1.time_ and arg_603_1.time_ <= var_606_30 + arg_606_0 then
				arg_603_1.talkMaxDuration = 0
				arg_603_1.dialogCg_.alpha = 1

				arg_603_1.dialog_:SetActive(true)
				SetActive(arg_603_1.leftNameGo_, true)

				local var_606_32 = arg_603_1:FormatText(StoryNameCfg[319].name)

				arg_603_1.leftNameTxt_.text = var_606_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_603_1.leftNameTxt_.transform)

				arg_603_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_603_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_603_1:RecordName(arg_603_1.leftNameTxt_.text)
				SetActive(arg_603_1.iconTrs_.gameObject, false)
				arg_603_1.callingController_:SetSelectedState("normal")

				local var_606_33 = arg_603_1:GetWordFromCfg(317021151)
				local var_606_34 = arg_603_1:FormatText(var_606_33.content)

				arg_603_1.text_.text = var_606_34

				LuaForUtil.ClearLinePrefixSymbol(arg_603_1.text_)

				local var_606_35 = 31
				local var_606_36 = utf8.len(var_606_34)
				local var_606_37 = var_606_35 <= 0 and var_606_31 or var_606_31 * (var_606_36 / var_606_35)

				if var_606_37 > 0 and var_606_31 < var_606_37 then
					arg_603_1.talkMaxDuration = var_606_37

					if var_606_37 + var_606_30 > arg_603_1.duration_ then
						arg_603_1.duration_ = var_606_37 + var_606_30
					end
				end

				arg_603_1.text_.text = var_606_34
				arg_603_1.typewritter.percent = 0

				arg_603_1.typewritter:SetDirty()
				arg_603_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021151", "story_v_out_317021.awb") ~= 0 then
					local var_606_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021151", "story_v_out_317021.awb") / 1000

					if var_606_38 + var_606_30 > arg_603_1.duration_ then
						arg_603_1.duration_ = var_606_38 + var_606_30
					end

					if var_606_33.prefab_name ~= "" and arg_603_1.actors_[var_606_33.prefab_name] ~= nil then
						local var_606_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_603_1.actors_[var_606_33.prefab_name].transform, "story_v_out_317021", "317021151", "story_v_out_317021.awb")

						arg_603_1:RecordAudio("317021151", var_606_39)
						arg_603_1:RecordAudio("317021151", var_606_39)
					else
						arg_603_1:AudioAction("play", "voice", "story_v_out_317021", "317021151", "story_v_out_317021.awb")
					end

					arg_603_1:RecordHistoryTalkVoice("story_v_out_317021", "317021151", "story_v_out_317021.awb")
				end

				arg_603_1:RecordContent(arg_603_1.text_.text)
			end

			local var_606_40 = math.max(var_606_31, arg_603_1.talkMaxDuration)

			if var_606_30 <= arg_603_1.time_ and arg_603_1.time_ < var_606_30 + var_606_40 then
				arg_603_1.typewritter.percent = (arg_603_1.time_ - var_606_30) / var_606_40

				arg_603_1.typewritter:SetDirty()
			end

			if arg_603_1.time_ >= var_606_30 + var_606_40 and arg_603_1.time_ < var_606_30 + var_606_40 + arg_606_0 then
				arg_603_1.typewritter.percent = 1

				arg_603_1.typewritter:SetDirty()
				arg_603_1:ShowNextGo(true)
			end
		end
	end,
	Play317021152 = function(arg_607_0, arg_607_1)
		arg_607_1.time_ = 0
		arg_607_1.frameCnt_ = 0
		arg_607_1.state_ = "playing"
		arg_607_1.curTalkId_ = 317021152
		arg_607_1.duration_ = 7.57

		local var_607_0 = {
			zh = 7.566,
			ja = 5.1
		}
		local var_607_1 = manager.audio:GetLocalizationFlag()

		if var_607_0[var_607_1] ~= nil then
			arg_607_1.duration_ = var_607_0[var_607_1]
		end

		SetActive(arg_607_1.tipsGo_, false)

		function arg_607_1.onSingleLineFinish_()
			arg_607_1.onSingleLineUpdate_ = nil
			arg_607_1.onSingleLineFinish_ = nil
			arg_607_1.state_ = "waiting"
		end

		function arg_607_1.playNext_(arg_609_0)
			if arg_609_0 == 1 then
				arg_607_0:Play317021153(arg_607_1)
			end
		end

		function arg_607_1.onSingleLineUpdate_(arg_610_0)
			local var_610_0 = 0
			local var_610_1 = 0.9

			if var_610_0 < arg_607_1.time_ and arg_607_1.time_ <= var_610_0 + arg_610_0 then
				arg_607_1.talkMaxDuration = 0
				arg_607_1.dialogCg_.alpha = 1

				arg_607_1.dialog_:SetActive(true)
				SetActive(arg_607_1.leftNameGo_, true)

				local var_610_2 = arg_607_1:FormatText(StoryNameCfg[319].name)

				arg_607_1.leftNameTxt_.text = var_610_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_607_1.leftNameTxt_.transform)

				arg_607_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_607_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_607_1:RecordName(arg_607_1.leftNameTxt_.text)
				SetActive(arg_607_1.iconTrs_.gameObject, false)
				arg_607_1.callingController_:SetSelectedState("normal")

				local var_610_3 = arg_607_1:GetWordFromCfg(317021152)
				local var_610_4 = arg_607_1:FormatText(var_610_3.content)

				arg_607_1.text_.text = var_610_4

				LuaForUtil.ClearLinePrefixSymbol(arg_607_1.text_)

				local var_610_5 = 36
				local var_610_6 = utf8.len(var_610_4)
				local var_610_7 = var_610_5 <= 0 and var_610_1 or var_610_1 * (var_610_6 / var_610_5)

				if var_610_7 > 0 and var_610_1 < var_610_7 then
					arg_607_1.talkMaxDuration = var_610_7

					if var_610_7 + var_610_0 > arg_607_1.duration_ then
						arg_607_1.duration_ = var_610_7 + var_610_0
					end
				end

				arg_607_1.text_.text = var_610_4
				arg_607_1.typewritter.percent = 0

				arg_607_1.typewritter:SetDirty()
				arg_607_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021152", "story_v_out_317021.awb") ~= 0 then
					local var_610_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021152", "story_v_out_317021.awb") / 1000

					if var_610_8 + var_610_0 > arg_607_1.duration_ then
						arg_607_1.duration_ = var_610_8 + var_610_0
					end

					if var_610_3.prefab_name ~= "" and arg_607_1.actors_[var_610_3.prefab_name] ~= nil then
						local var_610_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_607_1.actors_[var_610_3.prefab_name].transform, "story_v_out_317021", "317021152", "story_v_out_317021.awb")

						arg_607_1:RecordAudio("317021152", var_610_9)
						arg_607_1:RecordAudio("317021152", var_610_9)
					else
						arg_607_1:AudioAction("play", "voice", "story_v_out_317021", "317021152", "story_v_out_317021.awb")
					end

					arg_607_1:RecordHistoryTalkVoice("story_v_out_317021", "317021152", "story_v_out_317021.awb")
				end

				arg_607_1:RecordContent(arg_607_1.text_.text)
			end

			local var_610_10 = math.max(var_610_1, arg_607_1.talkMaxDuration)

			if var_610_0 <= arg_607_1.time_ and arg_607_1.time_ < var_610_0 + var_610_10 then
				arg_607_1.typewritter.percent = (arg_607_1.time_ - var_610_0) / var_610_10

				arg_607_1.typewritter:SetDirty()
			end

			if arg_607_1.time_ >= var_610_0 + var_610_10 and arg_607_1.time_ < var_610_0 + var_610_10 + arg_610_0 then
				arg_607_1.typewritter.percent = 1

				arg_607_1.typewritter:SetDirty()
				arg_607_1:ShowNextGo(true)
			end
		end
	end,
	Play317021153 = function(arg_611_0, arg_611_1)
		arg_611_1.time_ = 0
		arg_611_1.frameCnt_ = 0
		arg_611_1.state_ = "playing"
		arg_611_1.curTalkId_ = 317021153
		arg_611_1.duration_ = 10.8

		local var_611_0 = {
			zh = 10.6,
			ja = 10.8
		}
		local var_611_1 = manager.audio:GetLocalizationFlag()

		if var_611_0[var_611_1] ~= nil then
			arg_611_1.duration_ = var_611_0[var_611_1]
		end

		SetActive(arg_611_1.tipsGo_, false)

		function arg_611_1.onSingleLineFinish_()
			arg_611_1.onSingleLineUpdate_ = nil
			arg_611_1.onSingleLineFinish_ = nil
			arg_611_1.state_ = "waiting"
		end

		function arg_611_1.playNext_(arg_613_0)
			if arg_613_0 == 1 then
				arg_611_0:Play317021154(arg_611_1)
			end
		end

		function arg_611_1.onSingleLineUpdate_(arg_614_0)
			local var_614_0 = arg_611_1.actors_["1019ui_story"].transform
			local var_614_1 = 2

			if var_614_1 < arg_611_1.time_ and arg_611_1.time_ <= var_614_1 + arg_614_0 then
				arg_611_1.var_.moveOldPos1019ui_story = var_614_0.localPosition
			end

			local var_614_2 = 0.001

			if var_614_1 <= arg_611_1.time_ and arg_611_1.time_ < var_614_1 + var_614_2 then
				local var_614_3 = (arg_611_1.time_ - var_614_1) / var_614_2
				local var_614_4 = Vector3.New(0, 100, 0)

				var_614_0.localPosition = Vector3.Lerp(arg_611_1.var_.moveOldPos1019ui_story, var_614_4, var_614_3)

				local var_614_5 = manager.ui.mainCamera.transform.position - var_614_0.position

				var_614_0.forward = Vector3.New(var_614_5.x, var_614_5.y, var_614_5.z)

				local var_614_6 = var_614_0.localEulerAngles

				var_614_6.z = 0
				var_614_6.x = 0
				var_614_0.localEulerAngles = var_614_6
			end

			if arg_611_1.time_ >= var_614_1 + var_614_2 and arg_611_1.time_ < var_614_1 + var_614_2 + arg_614_0 then
				var_614_0.localPosition = Vector3.New(0, 100, 0)

				local var_614_7 = manager.ui.mainCamera.transform.position - var_614_0.position

				var_614_0.forward = Vector3.New(var_614_7.x, var_614_7.y, var_614_7.z)

				local var_614_8 = var_614_0.localEulerAngles

				var_614_8.z = 0
				var_614_8.x = 0
				var_614_0.localEulerAngles = var_614_8
			end

			local var_614_9 = arg_611_1.actors_["1029ui_story"].transform
			local var_614_10 = 2

			if var_614_10 < arg_611_1.time_ and arg_611_1.time_ <= var_614_10 + arg_614_0 then
				arg_611_1.var_.moveOldPos1029ui_story = var_614_9.localPosition
			end

			local var_614_11 = 0.001

			if var_614_10 <= arg_611_1.time_ and arg_611_1.time_ < var_614_10 + var_614_11 then
				local var_614_12 = (arg_611_1.time_ - var_614_10) / var_614_11
				local var_614_13 = Vector3.New(0, 100, 0)

				var_614_9.localPosition = Vector3.Lerp(arg_611_1.var_.moveOldPos1029ui_story, var_614_13, var_614_12)

				local var_614_14 = manager.ui.mainCamera.transform.position - var_614_9.position

				var_614_9.forward = Vector3.New(var_614_14.x, var_614_14.y, var_614_14.z)

				local var_614_15 = var_614_9.localEulerAngles

				var_614_15.z = 0
				var_614_15.x = 0
				var_614_9.localEulerAngles = var_614_15
			end

			if arg_611_1.time_ >= var_614_10 + var_614_11 and arg_611_1.time_ < var_614_10 + var_614_11 + arg_614_0 then
				var_614_9.localPosition = Vector3.New(0, 100, 0)

				local var_614_16 = manager.ui.mainCamera.transform.position - var_614_9.position

				var_614_9.forward = Vector3.New(var_614_16.x, var_614_16.y, var_614_16.z)

				local var_614_17 = var_614_9.localEulerAngles

				var_614_17.z = 0
				var_614_17.x = 0
				var_614_9.localEulerAngles = var_614_17
			end

			local var_614_18 = 2

			if var_614_18 < arg_611_1.time_ and arg_611_1.time_ <= var_614_18 + arg_614_0 then
				local var_614_19 = manager.ui.mainCamera.transform.localPosition
				local var_614_20 = Vector3.New(0, 0, 10) + Vector3.New(var_614_19.x, var_614_19.y, 0)
				local var_614_21 = arg_611_1.bgs_.ST06

				var_614_21.transform.localPosition = var_614_20
				var_614_21.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_614_22 = var_614_21:GetComponent("SpriteRenderer")

				if var_614_22 and var_614_22.sprite then
					local var_614_23 = (var_614_21.transform.localPosition - var_614_19).z
					local var_614_24 = manager.ui.mainCameraCom_
					local var_614_25 = 2 * var_614_23 * Mathf.Tan(var_614_24.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_614_26 = var_614_25 * var_614_24.aspect
					local var_614_27 = var_614_22.sprite.bounds.size.x
					local var_614_28 = var_614_22.sprite.bounds.size.y
					local var_614_29 = var_614_26 / var_614_27
					local var_614_30 = var_614_25 / var_614_28
					local var_614_31 = var_614_30 < var_614_29 and var_614_29 or var_614_30

					var_614_21.transform.localScale = Vector3.New(var_614_31, var_614_31, 0)
				end

				for iter_614_0, iter_614_1 in pairs(arg_611_1.bgs_) do
					if iter_614_0 ~= "ST06" then
						iter_614_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_614_32 = 0

			if var_614_32 < arg_611_1.time_ and arg_611_1.time_ <= var_614_32 + arg_614_0 then
				arg_611_1.mask_.enabled = true
				arg_611_1.mask_.raycastTarget = true

				arg_611_1:SetGaussion(false)
			end

			local var_614_33 = 2

			if var_614_32 <= arg_611_1.time_ and arg_611_1.time_ < var_614_32 + var_614_33 then
				local var_614_34 = (arg_611_1.time_ - var_614_32) / var_614_33
				local var_614_35 = Color.New(0, 0, 0)

				var_614_35.a = Mathf.Lerp(0, 1, var_614_34)
				arg_611_1.mask_.color = var_614_35
			end

			if arg_611_1.time_ >= var_614_32 + var_614_33 and arg_611_1.time_ < var_614_32 + var_614_33 + arg_614_0 then
				local var_614_36 = Color.New(0, 0, 0)

				var_614_36.a = 1
				arg_611_1.mask_.color = var_614_36
			end

			local var_614_37 = 2

			if var_614_37 < arg_611_1.time_ and arg_611_1.time_ <= var_614_37 + arg_614_0 then
				arg_611_1.mask_.enabled = true
				arg_611_1.mask_.raycastTarget = true

				arg_611_1:SetGaussion(false)
			end

			local var_614_38 = 2

			if var_614_37 <= arg_611_1.time_ and arg_611_1.time_ < var_614_37 + var_614_38 then
				local var_614_39 = (arg_611_1.time_ - var_614_37) / var_614_38
				local var_614_40 = Color.New(0, 0, 0)

				var_614_40.a = Mathf.Lerp(1, 0, var_614_39)
				arg_611_1.mask_.color = var_614_40
			end

			if arg_611_1.time_ >= var_614_37 + var_614_38 and arg_611_1.time_ < var_614_37 + var_614_38 + arg_614_0 then
				local var_614_41 = Color.New(0, 0, 0)
				local var_614_42 = 0

				arg_611_1.mask_.enabled = false
				var_614_41.a = var_614_42
				arg_611_1.mask_.color = var_614_41
			end

			if arg_611_1.frameCnt_ <= 1 then
				arg_611_1.dialog_:SetActive(false)
			end

			local var_614_43 = 4
			local var_614_44 = 0.675

			if var_614_43 < arg_611_1.time_ and arg_611_1.time_ <= var_614_43 + arg_614_0 then
				arg_611_1.talkMaxDuration = 0

				arg_611_1.dialog_:SetActive(true)

				local var_614_45 = LeanTween.value(arg_611_1.dialog_, 0, 1, 0.3)

				var_614_45:setOnUpdate(LuaHelper.FloatAction(function(arg_615_0)
					arg_611_1.dialogCg_.alpha = arg_615_0
				end))
				var_614_45:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_611_1.dialog_)
					var_614_45:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_611_1.duration_ = arg_611_1.duration_ + 0.3

				SetActive(arg_611_1.leftNameGo_, true)

				local var_614_46 = arg_611_1:FormatText(StoryNameCfg[10].name)

				arg_611_1.leftNameTxt_.text = var_614_46

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_611_1.leftNameTxt_.transform)

				arg_611_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_611_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_611_1:RecordName(arg_611_1.leftNameTxt_.text)
				SetActive(arg_611_1.iconTrs_.gameObject, true)
				arg_611_1.iconController_:SetSelectedState("hero")

				arg_611_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_mmr")

				arg_611_1.callingController_:SetSelectedState("normal")

				arg_611_1.keyicon_.color = Color.New(1, 1, 1)
				arg_611_1.icon_.color = Color.New(1, 1, 1)

				local var_614_47 = arg_611_1:GetWordFromCfg(317021153)
				local var_614_48 = arg_611_1:FormatText(var_614_47.content)

				arg_611_1.text_.text = var_614_48

				LuaForUtil.ClearLinePrefixSymbol(arg_611_1.text_)

				local var_614_49 = 27
				local var_614_50 = utf8.len(var_614_48)
				local var_614_51 = var_614_49 <= 0 and var_614_44 or var_614_44 * (var_614_50 / var_614_49)

				if var_614_51 > 0 and var_614_44 < var_614_51 then
					arg_611_1.talkMaxDuration = var_614_51
					var_614_43 = var_614_43 + 0.3

					if var_614_51 + var_614_43 > arg_611_1.duration_ then
						arg_611_1.duration_ = var_614_51 + var_614_43
					end
				end

				arg_611_1.text_.text = var_614_48
				arg_611_1.typewritter.percent = 0

				arg_611_1.typewritter:SetDirty()
				arg_611_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021153", "story_v_out_317021.awb") ~= 0 then
					local var_614_52 = manager.audio:GetVoiceLength("story_v_out_317021", "317021153", "story_v_out_317021.awb") / 1000

					if var_614_52 + var_614_43 > arg_611_1.duration_ then
						arg_611_1.duration_ = var_614_52 + var_614_43
					end

					if var_614_47.prefab_name ~= "" and arg_611_1.actors_[var_614_47.prefab_name] ~= nil then
						local var_614_53 = LuaForUtil.PlayVoiceWithCriLipsync(arg_611_1.actors_[var_614_47.prefab_name].transform, "story_v_out_317021", "317021153", "story_v_out_317021.awb")

						arg_611_1:RecordAudio("317021153", var_614_53)
						arg_611_1:RecordAudio("317021153", var_614_53)
					else
						arg_611_1:AudioAction("play", "voice", "story_v_out_317021", "317021153", "story_v_out_317021.awb")
					end

					arg_611_1:RecordHistoryTalkVoice("story_v_out_317021", "317021153", "story_v_out_317021.awb")
				end

				arg_611_1:RecordContent(arg_611_1.text_.text)
			end

			local var_614_54 = var_614_43 + 0.3
			local var_614_55 = math.max(var_614_44, arg_611_1.talkMaxDuration)

			if var_614_54 <= arg_611_1.time_ and arg_611_1.time_ < var_614_54 + var_614_55 then
				arg_611_1.typewritter.percent = (arg_611_1.time_ - var_614_54) / var_614_55

				arg_611_1.typewritter:SetDirty()
			end

			if arg_611_1.time_ >= var_614_54 + var_614_55 and arg_611_1.time_ < var_614_54 + var_614_55 + arg_614_0 then
				arg_611_1.typewritter.percent = 1

				arg_611_1.typewritter:SetDirty()
				arg_611_1:ShowNextGo(true)
			end
		end
	end,
	Play317021154 = function(arg_617_0, arg_617_1)
		arg_617_1.time_ = 0
		arg_617_1.frameCnt_ = 0
		arg_617_1.state_ = "playing"
		arg_617_1.curTalkId_ = 317021154
		arg_617_1.duration_ = 4.97

		local var_617_0 = {
			zh = 4.966,
			ja = 4.8
		}
		local var_617_1 = manager.audio:GetLocalizationFlag()

		if var_617_0[var_617_1] ~= nil then
			arg_617_1.duration_ = var_617_0[var_617_1]
		end

		SetActive(arg_617_1.tipsGo_, false)

		function arg_617_1.onSingleLineFinish_()
			arg_617_1.onSingleLineUpdate_ = nil
			arg_617_1.onSingleLineFinish_ = nil
			arg_617_1.state_ = "waiting"
		end

		function arg_617_1.playNext_(arg_619_0)
			if arg_619_0 == 1 then
				arg_617_0:Play317021155(arg_617_1)
			end
		end

		function arg_617_1.onSingleLineUpdate_(arg_620_0)
			local var_620_0 = 0
			local var_620_1 = 0.45

			if var_620_0 < arg_617_1.time_ and arg_617_1.time_ <= var_620_0 + arg_620_0 then
				arg_617_1.talkMaxDuration = 0
				arg_617_1.dialogCg_.alpha = 1

				arg_617_1.dialog_:SetActive(true)
				SetActive(arg_617_1.leftNameGo_, true)

				local var_620_2 = arg_617_1:FormatText(StoryNameCfg[10].name)

				arg_617_1.leftNameTxt_.text = var_620_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_617_1.leftNameTxt_.transform)

				arg_617_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_617_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_617_1:RecordName(arg_617_1.leftNameTxt_.text)
				SetActive(arg_617_1.iconTrs_.gameObject, true)
				arg_617_1.iconController_:SetSelectedState("hero")

				arg_617_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_mmr")

				arg_617_1.callingController_:SetSelectedState("normal")

				arg_617_1.keyicon_.color = Color.New(1, 1, 1)
				arg_617_1.icon_.color = Color.New(1, 1, 1)

				local var_620_3 = arg_617_1:GetWordFromCfg(317021154)
				local var_620_4 = arg_617_1:FormatText(var_620_3.content)

				arg_617_1.text_.text = var_620_4

				LuaForUtil.ClearLinePrefixSymbol(arg_617_1.text_)

				local var_620_5 = 18
				local var_620_6 = utf8.len(var_620_4)
				local var_620_7 = var_620_5 <= 0 and var_620_1 or var_620_1 * (var_620_6 / var_620_5)

				if var_620_7 > 0 and var_620_1 < var_620_7 then
					arg_617_1.talkMaxDuration = var_620_7

					if var_620_7 + var_620_0 > arg_617_1.duration_ then
						arg_617_1.duration_ = var_620_7 + var_620_0
					end
				end

				arg_617_1.text_.text = var_620_4
				arg_617_1.typewritter.percent = 0

				arg_617_1.typewritter:SetDirty()
				arg_617_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021154", "story_v_out_317021.awb") ~= 0 then
					local var_620_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021154", "story_v_out_317021.awb") / 1000

					if var_620_8 + var_620_0 > arg_617_1.duration_ then
						arg_617_1.duration_ = var_620_8 + var_620_0
					end

					if var_620_3.prefab_name ~= "" and arg_617_1.actors_[var_620_3.prefab_name] ~= nil then
						local var_620_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_617_1.actors_[var_620_3.prefab_name].transform, "story_v_out_317021", "317021154", "story_v_out_317021.awb")

						arg_617_1:RecordAudio("317021154", var_620_9)
						arg_617_1:RecordAudio("317021154", var_620_9)
					else
						arg_617_1:AudioAction("play", "voice", "story_v_out_317021", "317021154", "story_v_out_317021.awb")
					end

					arg_617_1:RecordHistoryTalkVoice("story_v_out_317021", "317021154", "story_v_out_317021.awb")
				end

				arg_617_1:RecordContent(arg_617_1.text_.text)
			end

			local var_620_10 = math.max(var_620_1, arg_617_1.talkMaxDuration)

			if var_620_0 <= arg_617_1.time_ and arg_617_1.time_ < var_620_0 + var_620_10 then
				arg_617_1.typewritter.percent = (arg_617_1.time_ - var_620_0) / var_620_10

				arg_617_1.typewritter:SetDirty()
			end

			if arg_617_1.time_ >= var_620_0 + var_620_10 and arg_617_1.time_ < var_620_0 + var_620_10 + arg_620_0 then
				arg_617_1.typewritter.percent = 1

				arg_617_1.typewritter:SetDirty()
				arg_617_1:ShowNextGo(true)
			end
		end
	end,
	Play317021155 = function(arg_621_0, arg_621_1)
		arg_621_1.time_ = 0
		arg_621_1.frameCnt_ = 0
		arg_621_1.state_ = "playing"
		arg_621_1.curTalkId_ = 317021155
		arg_621_1.duration_ = 5

		SetActive(arg_621_1.tipsGo_, false)

		function arg_621_1.onSingleLineFinish_()
			arg_621_1.onSingleLineUpdate_ = nil
			arg_621_1.onSingleLineFinish_ = nil
			arg_621_1.state_ = "waiting"
		end

		function arg_621_1.playNext_(arg_623_0)
			if arg_623_0 == 1 then
				arg_621_0:Play317021156(arg_621_1)
			end
		end

		function arg_621_1.onSingleLineUpdate_(arg_624_0)
			local var_624_0 = 0
			local var_624_1 = 0.5

			if var_624_0 < arg_621_1.time_ and arg_621_1.time_ <= var_624_0 + arg_624_0 then
				arg_621_1.talkMaxDuration = 0
				arg_621_1.dialogCg_.alpha = 1

				arg_621_1.dialog_:SetActive(true)
				SetActive(arg_621_1.leftNameGo_, true)

				local var_624_2 = arg_621_1:FormatText(StoryNameCfg[7].name)

				arg_621_1.leftNameTxt_.text = var_624_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_621_1.leftNameTxt_.transform)

				arg_621_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_621_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_621_1:RecordName(arg_621_1.leftNameTxt_.text)
				SetActive(arg_621_1.iconTrs_.gameObject, false)
				arg_621_1.callingController_:SetSelectedState("normal")

				local var_624_3 = arg_621_1:GetWordFromCfg(317021155)
				local var_624_4 = arg_621_1:FormatText(var_624_3.content)

				arg_621_1.text_.text = var_624_4

				LuaForUtil.ClearLinePrefixSymbol(arg_621_1.text_)

				local var_624_5 = 20
				local var_624_6 = utf8.len(var_624_4)
				local var_624_7 = var_624_5 <= 0 and var_624_1 or var_624_1 * (var_624_6 / var_624_5)

				if var_624_7 > 0 and var_624_1 < var_624_7 then
					arg_621_1.talkMaxDuration = var_624_7

					if var_624_7 + var_624_0 > arg_621_1.duration_ then
						arg_621_1.duration_ = var_624_7 + var_624_0
					end
				end

				arg_621_1.text_.text = var_624_4
				arg_621_1.typewritter.percent = 0

				arg_621_1.typewritter:SetDirty()
				arg_621_1:ShowNextGo(false)
				arg_621_1:RecordContent(arg_621_1.text_.text)
			end

			local var_624_8 = math.max(var_624_1, arg_621_1.talkMaxDuration)

			if var_624_0 <= arg_621_1.time_ and arg_621_1.time_ < var_624_0 + var_624_8 then
				arg_621_1.typewritter.percent = (arg_621_1.time_ - var_624_0) / var_624_8

				arg_621_1.typewritter:SetDirty()
			end

			if arg_621_1.time_ >= var_624_0 + var_624_8 and arg_621_1.time_ < var_624_0 + var_624_8 + arg_624_0 then
				arg_621_1.typewritter.percent = 1

				arg_621_1.typewritter:SetDirty()
				arg_621_1:ShowNextGo(true)
			end
		end
	end,
	Play317021156 = function(arg_625_0, arg_625_1)
		arg_625_1.time_ = 0
		arg_625_1.frameCnt_ = 0
		arg_625_1.state_ = "playing"
		arg_625_1.curTalkId_ = 317021156
		arg_625_1.duration_ = 11.67

		local var_625_0 = {
			zh = 5.933,
			ja = 11.666
		}
		local var_625_1 = manager.audio:GetLocalizationFlag()

		if var_625_0[var_625_1] ~= nil then
			arg_625_1.duration_ = var_625_0[var_625_1]
		end

		SetActive(arg_625_1.tipsGo_, false)

		function arg_625_1.onSingleLineFinish_()
			arg_625_1.onSingleLineUpdate_ = nil
			arg_625_1.onSingleLineFinish_ = nil
			arg_625_1.state_ = "waiting"
		end

		function arg_625_1.playNext_(arg_627_0)
			if arg_627_0 == 1 then
				arg_625_0:Play317021157(arg_625_1)
			end
		end

		function arg_625_1.onSingleLineUpdate_(arg_628_0)
			local var_628_0 = 0
			local var_628_1 = 0.75

			if var_628_0 < arg_625_1.time_ and arg_625_1.time_ <= var_628_0 + arg_628_0 then
				arg_625_1.talkMaxDuration = 0
				arg_625_1.dialogCg_.alpha = 1

				arg_625_1.dialog_:SetActive(true)
				SetActive(arg_625_1.leftNameGo_, true)

				local var_628_2 = arg_625_1:FormatText(StoryNameCfg[10].name)

				arg_625_1.leftNameTxt_.text = var_628_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_625_1.leftNameTxt_.transform)

				arg_625_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_625_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_625_1:RecordName(arg_625_1.leftNameTxt_.text)
				SetActive(arg_625_1.iconTrs_.gameObject, true)
				arg_625_1.iconController_:SetSelectedState("hero")

				arg_625_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_mmr")

				arg_625_1.callingController_:SetSelectedState("normal")

				arg_625_1.keyicon_.color = Color.New(1, 1, 1)
				arg_625_1.icon_.color = Color.New(1, 1, 1)

				local var_628_3 = arg_625_1:GetWordFromCfg(317021156)
				local var_628_4 = arg_625_1:FormatText(var_628_3.content)

				arg_625_1.text_.text = var_628_4

				LuaForUtil.ClearLinePrefixSymbol(arg_625_1.text_)

				local var_628_5 = 30
				local var_628_6 = utf8.len(var_628_4)
				local var_628_7 = var_628_5 <= 0 and var_628_1 or var_628_1 * (var_628_6 / var_628_5)

				if var_628_7 > 0 and var_628_1 < var_628_7 then
					arg_625_1.talkMaxDuration = var_628_7

					if var_628_7 + var_628_0 > arg_625_1.duration_ then
						arg_625_1.duration_ = var_628_7 + var_628_0
					end
				end

				arg_625_1.text_.text = var_628_4
				arg_625_1.typewritter.percent = 0

				arg_625_1.typewritter:SetDirty()
				arg_625_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021156", "story_v_out_317021.awb") ~= 0 then
					local var_628_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021156", "story_v_out_317021.awb") / 1000

					if var_628_8 + var_628_0 > arg_625_1.duration_ then
						arg_625_1.duration_ = var_628_8 + var_628_0
					end

					if var_628_3.prefab_name ~= "" and arg_625_1.actors_[var_628_3.prefab_name] ~= nil then
						local var_628_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_625_1.actors_[var_628_3.prefab_name].transform, "story_v_out_317021", "317021156", "story_v_out_317021.awb")

						arg_625_1:RecordAudio("317021156", var_628_9)
						arg_625_1:RecordAudio("317021156", var_628_9)
					else
						arg_625_1:AudioAction("play", "voice", "story_v_out_317021", "317021156", "story_v_out_317021.awb")
					end

					arg_625_1:RecordHistoryTalkVoice("story_v_out_317021", "317021156", "story_v_out_317021.awb")
				end

				arg_625_1:RecordContent(arg_625_1.text_.text)
			end

			local var_628_10 = math.max(var_628_1, arg_625_1.talkMaxDuration)

			if var_628_0 <= arg_625_1.time_ and arg_625_1.time_ < var_628_0 + var_628_10 then
				arg_625_1.typewritter.percent = (arg_625_1.time_ - var_628_0) / var_628_10

				arg_625_1.typewritter:SetDirty()
			end

			if arg_625_1.time_ >= var_628_0 + var_628_10 and arg_625_1.time_ < var_628_0 + var_628_10 + arg_628_0 then
				arg_625_1.typewritter.percent = 1

				arg_625_1.typewritter:SetDirty()
				arg_625_1:ShowNextGo(true)
			end
		end
	end,
	Play317021157 = function(arg_629_0, arg_629_1)
		arg_629_1.time_ = 0
		arg_629_1.frameCnt_ = 0
		arg_629_1.state_ = "playing"
		arg_629_1.curTalkId_ = 317021157
		arg_629_1.duration_ = 5

		SetActive(arg_629_1.tipsGo_, false)

		function arg_629_1.onSingleLineFinish_()
			arg_629_1.onSingleLineUpdate_ = nil
			arg_629_1.onSingleLineFinish_ = nil
			arg_629_1.state_ = "waiting"
		end

		function arg_629_1.playNext_(arg_631_0)
			if arg_631_0 == 1 then
				arg_629_0:Play317021158(arg_629_1)
			end
		end

		function arg_629_1.onSingleLineUpdate_(arg_632_0)
			local var_632_0 = 0
			local var_632_1 = 0.15

			if var_632_0 < arg_629_1.time_ and arg_629_1.time_ <= var_632_0 + arg_632_0 then
				arg_629_1.talkMaxDuration = 0
				arg_629_1.dialogCg_.alpha = 1

				arg_629_1.dialog_:SetActive(true)
				SetActive(arg_629_1.leftNameGo_, true)

				local var_632_2 = arg_629_1:FormatText(StoryNameCfg[7].name)

				arg_629_1.leftNameTxt_.text = var_632_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_629_1.leftNameTxt_.transform)

				arg_629_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_629_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_629_1:RecordName(arg_629_1.leftNameTxt_.text)
				SetActive(arg_629_1.iconTrs_.gameObject, false)
				arg_629_1.callingController_:SetSelectedState("normal")

				local var_632_3 = arg_629_1:GetWordFromCfg(317021157)
				local var_632_4 = arg_629_1:FormatText(var_632_3.content)

				arg_629_1.text_.text = var_632_4

				LuaForUtil.ClearLinePrefixSymbol(arg_629_1.text_)

				local var_632_5 = 6
				local var_632_6 = utf8.len(var_632_4)
				local var_632_7 = var_632_5 <= 0 and var_632_1 or var_632_1 * (var_632_6 / var_632_5)

				if var_632_7 > 0 and var_632_1 < var_632_7 then
					arg_629_1.talkMaxDuration = var_632_7

					if var_632_7 + var_632_0 > arg_629_1.duration_ then
						arg_629_1.duration_ = var_632_7 + var_632_0
					end
				end

				arg_629_1.text_.text = var_632_4
				arg_629_1.typewritter.percent = 0

				arg_629_1.typewritter:SetDirty()
				arg_629_1:ShowNextGo(false)
				arg_629_1:RecordContent(arg_629_1.text_.text)
			end

			local var_632_8 = math.max(var_632_1, arg_629_1.talkMaxDuration)

			if var_632_0 <= arg_629_1.time_ and arg_629_1.time_ < var_632_0 + var_632_8 then
				arg_629_1.typewritter.percent = (arg_629_1.time_ - var_632_0) / var_632_8

				arg_629_1.typewritter:SetDirty()
			end

			if arg_629_1.time_ >= var_632_0 + var_632_8 and arg_629_1.time_ < var_632_0 + var_632_8 + arg_632_0 then
				arg_629_1.typewritter.percent = 1

				arg_629_1.typewritter:SetDirty()
				arg_629_1:ShowNextGo(true)
			end
		end
	end,
	Play317021158 = function(arg_633_0, arg_633_1)
		arg_633_1.time_ = 0
		arg_633_1.frameCnt_ = 0
		arg_633_1.state_ = "playing"
		arg_633_1.curTalkId_ = 317021158
		arg_633_1.duration_ = 8.13

		local var_633_0 = {
			zh = 8.133,
			ja = 7.566
		}
		local var_633_1 = manager.audio:GetLocalizationFlag()

		if var_633_0[var_633_1] ~= nil then
			arg_633_1.duration_ = var_633_0[var_633_1]
		end

		SetActive(arg_633_1.tipsGo_, false)

		function arg_633_1.onSingleLineFinish_()
			arg_633_1.onSingleLineUpdate_ = nil
			arg_633_1.onSingleLineFinish_ = nil
			arg_633_1.state_ = "waiting"
		end

		function arg_633_1.playNext_(arg_635_0)
			if arg_635_0 == 1 then
				arg_633_0:Play317021159(arg_633_1)
			end
		end

		function arg_633_1.onSingleLineUpdate_(arg_636_0)
			local var_636_0 = 0
			local var_636_1 = 0.825

			if var_636_0 < arg_633_1.time_ and arg_633_1.time_ <= var_636_0 + arg_636_0 then
				arg_633_1.talkMaxDuration = 0
				arg_633_1.dialogCg_.alpha = 1

				arg_633_1.dialog_:SetActive(true)
				SetActive(arg_633_1.leftNameGo_, true)

				local var_636_2 = arg_633_1:FormatText(StoryNameCfg[10].name)

				arg_633_1.leftNameTxt_.text = var_636_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_633_1.leftNameTxt_.transform)

				arg_633_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_633_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_633_1:RecordName(arg_633_1.leftNameTxt_.text)
				SetActive(arg_633_1.iconTrs_.gameObject, true)
				arg_633_1.iconController_:SetSelectedState("hero")

				arg_633_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_mmr")

				arg_633_1.callingController_:SetSelectedState("normal")

				arg_633_1.keyicon_.color = Color.New(1, 1, 1)
				arg_633_1.icon_.color = Color.New(1, 1, 1)

				local var_636_3 = arg_633_1:GetWordFromCfg(317021158)
				local var_636_4 = arg_633_1:FormatText(var_636_3.content)

				arg_633_1.text_.text = var_636_4

				LuaForUtil.ClearLinePrefixSymbol(arg_633_1.text_)

				local var_636_5 = 33
				local var_636_6 = utf8.len(var_636_4)
				local var_636_7 = var_636_5 <= 0 and var_636_1 or var_636_1 * (var_636_6 / var_636_5)

				if var_636_7 > 0 and var_636_1 < var_636_7 then
					arg_633_1.talkMaxDuration = var_636_7

					if var_636_7 + var_636_0 > arg_633_1.duration_ then
						arg_633_1.duration_ = var_636_7 + var_636_0
					end
				end

				arg_633_1.text_.text = var_636_4
				arg_633_1.typewritter.percent = 0

				arg_633_1.typewritter:SetDirty()
				arg_633_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021158", "story_v_out_317021.awb") ~= 0 then
					local var_636_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021158", "story_v_out_317021.awb") / 1000

					if var_636_8 + var_636_0 > arg_633_1.duration_ then
						arg_633_1.duration_ = var_636_8 + var_636_0
					end

					if var_636_3.prefab_name ~= "" and arg_633_1.actors_[var_636_3.prefab_name] ~= nil then
						local var_636_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_633_1.actors_[var_636_3.prefab_name].transform, "story_v_out_317021", "317021158", "story_v_out_317021.awb")

						arg_633_1:RecordAudio("317021158", var_636_9)
						arg_633_1:RecordAudio("317021158", var_636_9)
					else
						arg_633_1:AudioAction("play", "voice", "story_v_out_317021", "317021158", "story_v_out_317021.awb")
					end

					arg_633_1:RecordHistoryTalkVoice("story_v_out_317021", "317021158", "story_v_out_317021.awb")
				end

				arg_633_1:RecordContent(arg_633_1.text_.text)
			end

			local var_636_10 = math.max(var_636_1, arg_633_1.talkMaxDuration)

			if var_636_0 <= arg_633_1.time_ and arg_633_1.time_ < var_636_0 + var_636_10 then
				arg_633_1.typewritter.percent = (arg_633_1.time_ - var_636_0) / var_636_10

				arg_633_1.typewritter:SetDirty()
			end

			if arg_633_1.time_ >= var_636_0 + var_636_10 and arg_633_1.time_ < var_636_0 + var_636_10 + arg_636_0 then
				arg_633_1.typewritter.percent = 1

				arg_633_1.typewritter:SetDirty()
				arg_633_1:ShowNextGo(true)
			end
		end
	end,
	Play317021159 = function(arg_637_0, arg_637_1)
		arg_637_1.time_ = 0
		arg_637_1.frameCnt_ = 0
		arg_637_1.state_ = "playing"
		arg_637_1.curTalkId_ = 317021159
		arg_637_1.duration_ = 5

		SetActive(arg_637_1.tipsGo_, false)

		function arg_637_1.onSingleLineFinish_()
			arg_637_1.onSingleLineUpdate_ = nil
			arg_637_1.onSingleLineFinish_ = nil
			arg_637_1.state_ = "waiting"
		end

		function arg_637_1.playNext_(arg_639_0)
			if arg_639_0 == 1 then
				arg_637_0:Play317021160(arg_637_1)
			end
		end

		function arg_637_1.onSingleLineUpdate_(arg_640_0)
			local var_640_0 = 0
			local var_640_1 = 0.275

			if var_640_0 < arg_637_1.time_ and arg_637_1.time_ <= var_640_0 + arg_640_0 then
				arg_637_1.talkMaxDuration = 0
				arg_637_1.dialogCg_.alpha = 1

				arg_637_1.dialog_:SetActive(true)
				SetActive(arg_637_1.leftNameGo_, true)

				local var_640_2 = arg_637_1:FormatText(StoryNameCfg[7].name)

				arg_637_1.leftNameTxt_.text = var_640_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_637_1.leftNameTxt_.transform)

				arg_637_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_637_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_637_1:RecordName(arg_637_1.leftNameTxt_.text)
				SetActive(arg_637_1.iconTrs_.gameObject, false)
				arg_637_1.callingController_:SetSelectedState("normal")

				local var_640_3 = arg_637_1:GetWordFromCfg(317021159)
				local var_640_4 = arg_637_1:FormatText(var_640_3.content)

				arg_637_1.text_.text = var_640_4

				LuaForUtil.ClearLinePrefixSymbol(arg_637_1.text_)

				local var_640_5 = 11
				local var_640_6 = utf8.len(var_640_4)
				local var_640_7 = var_640_5 <= 0 and var_640_1 or var_640_1 * (var_640_6 / var_640_5)

				if var_640_7 > 0 and var_640_1 < var_640_7 then
					arg_637_1.talkMaxDuration = var_640_7

					if var_640_7 + var_640_0 > arg_637_1.duration_ then
						arg_637_1.duration_ = var_640_7 + var_640_0
					end
				end

				arg_637_1.text_.text = var_640_4
				arg_637_1.typewritter.percent = 0

				arg_637_1.typewritter:SetDirty()
				arg_637_1:ShowNextGo(false)
				arg_637_1:RecordContent(arg_637_1.text_.text)
			end

			local var_640_8 = math.max(var_640_1, arg_637_1.talkMaxDuration)

			if var_640_0 <= arg_637_1.time_ and arg_637_1.time_ < var_640_0 + var_640_8 then
				arg_637_1.typewritter.percent = (arg_637_1.time_ - var_640_0) / var_640_8

				arg_637_1.typewritter:SetDirty()
			end

			if arg_637_1.time_ >= var_640_0 + var_640_8 and arg_637_1.time_ < var_640_0 + var_640_8 + arg_640_0 then
				arg_637_1.typewritter.percent = 1

				arg_637_1.typewritter:SetDirty()
				arg_637_1:ShowNextGo(true)
			end
		end
	end,
	Play317021160 = function(arg_641_0, arg_641_1)
		arg_641_1.time_ = 0
		arg_641_1.frameCnt_ = 0
		arg_641_1.state_ = "playing"
		arg_641_1.curTalkId_ = 317021160
		arg_641_1.duration_ = 6.83

		local var_641_0 = {
			zh = 6.366,
			ja = 6.833
		}
		local var_641_1 = manager.audio:GetLocalizationFlag()

		if var_641_0[var_641_1] ~= nil then
			arg_641_1.duration_ = var_641_0[var_641_1]
		end

		SetActive(arg_641_1.tipsGo_, false)

		function arg_641_1.onSingleLineFinish_()
			arg_641_1.onSingleLineUpdate_ = nil
			arg_641_1.onSingleLineFinish_ = nil
			arg_641_1.state_ = "waiting"
		end

		function arg_641_1.playNext_(arg_643_0)
			if arg_643_0 == 1 then
				arg_641_0:Play317021161(arg_641_1)
			end
		end

		function arg_641_1.onSingleLineUpdate_(arg_644_0)
			local var_644_0 = arg_641_1.actors_["1093ui_story"].transform
			local var_644_1 = 0

			if var_644_1 < arg_641_1.time_ and arg_641_1.time_ <= var_644_1 + arg_644_0 then
				arg_641_1.var_.moveOldPos1093ui_story = var_644_0.localPosition
			end

			local var_644_2 = 0.001

			if var_644_1 <= arg_641_1.time_ and arg_641_1.time_ < var_644_1 + var_644_2 then
				local var_644_3 = (arg_641_1.time_ - var_644_1) / var_644_2
				local var_644_4 = Vector3.New(0, -1.11, -5.88)

				var_644_0.localPosition = Vector3.Lerp(arg_641_1.var_.moveOldPos1093ui_story, var_644_4, var_644_3)

				local var_644_5 = manager.ui.mainCamera.transform.position - var_644_0.position

				var_644_0.forward = Vector3.New(var_644_5.x, var_644_5.y, var_644_5.z)

				local var_644_6 = var_644_0.localEulerAngles

				var_644_6.z = 0
				var_644_6.x = 0
				var_644_0.localEulerAngles = var_644_6
			end

			if arg_641_1.time_ >= var_644_1 + var_644_2 and arg_641_1.time_ < var_644_1 + var_644_2 + arg_644_0 then
				var_644_0.localPosition = Vector3.New(0, -1.11, -5.88)

				local var_644_7 = manager.ui.mainCamera.transform.position - var_644_0.position

				var_644_0.forward = Vector3.New(var_644_7.x, var_644_7.y, var_644_7.z)

				local var_644_8 = var_644_0.localEulerAngles

				var_644_8.z = 0
				var_644_8.x = 0
				var_644_0.localEulerAngles = var_644_8
			end

			local var_644_9 = arg_641_1.actors_["1093ui_story"]
			local var_644_10 = 0

			if var_644_10 < arg_641_1.time_ and arg_641_1.time_ <= var_644_10 + arg_644_0 and not isNil(var_644_9) and arg_641_1.var_.characterEffect1093ui_story == nil then
				arg_641_1.var_.characterEffect1093ui_story = var_644_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_644_11 = 0.200000002980232

			if var_644_10 <= arg_641_1.time_ and arg_641_1.time_ < var_644_10 + var_644_11 and not isNil(var_644_9) then
				local var_644_12 = (arg_641_1.time_ - var_644_10) / var_644_11

				if arg_641_1.var_.characterEffect1093ui_story and not isNil(var_644_9) then
					arg_641_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_641_1.time_ >= var_644_10 + var_644_11 and arg_641_1.time_ < var_644_10 + var_644_11 + arg_644_0 and not isNil(var_644_9) and arg_641_1.var_.characterEffect1093ui_story then
				arg_641_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_644_13 = 0

			if var_644_13 < arg_641_1.time_ and arg_641_1.time_ <= var_644_13 + arg_644_0 then
				arg_641_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action8_1")
			end

			local var_644_14 = 0

			if var_644_14 < arg_641_1.time_ and arg_641_1.time_ <= var_644_14 + arg_644_0 then
				arg_641_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_644_15 = 0
			local var_644_16 = 0.75

			if var_644_15 < arg_641_1.time_ and arg_641_1.time_ <= var_644_15 + arg_644_0 then
				arg_641_1.talkMaxDuration = 0
				arg_641_1.dialogCg_.alpha = 1

				arg_641_1.dialog_:SetActive(true)
				SetActive(arg_641_1.leftNameGo_, true)

				local var_644_17 = arg_641_1:FormatText(StoryNameCfg[73].name)

				arg_641_1.leftNameTxt_.text = var_644_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_641_1.leftNameTxt_.transform)

				arg_641_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_641_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_641_1:RecordName(arg_641_1.leftNameTxt_.text)
				SetActive(arg_641_1.iconTrs_.gameObject, false)
				arg_641_1.callingController_:SetSelectedState("normal")

				local var_644_18 = arg_641_1:GetWordFromCfg(317021160)
				local var_644_19 = arg_641_1:FormatText(var_644_18.content)

				arg_641_1.text_.text = var_644_19

				LuaForUtil.ClearLinePrefixSymbol(arg_641_1.text_)

				local var_644_20 = 30
				local var_644_21 = utf8.len(var_644_19)
				local var_644_22 = var_644_20 <= 0 and var_644_16 or var_644_16 * (var_644_21 / var_644_20)

				if var_644_22 > 0 and var_644_16 < var_644_22 then
					arg_641_1.talkMaxDuration = var_644_22

					if var_644_22 + var_644_15 > arg_641_1.duration_ then
						arg_641_1.duration_ = var_644_22 + var_644_15
					end
				end

				arg_641_1.text_.text = var_644_19
				arg_641_1.typewritter.percent = 0

				arg_641_1.typewritter:SetDirty()
				arg_641_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021160", "story_v_out_317021.awb") ~= 0 then
					local var_644_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021160", "story_v_out_317021.awb") / 1000

					if var_644_23 + var_644_15 > arg_641_1.duration_ then
						arg_641_1.duration_ = var_644_23 + var_644_15
					end

					if var_644_18.prefab_name ~= "" and arg_641_1.actors_[var_644_18.prefab_name] ~= nil then
						local var_644_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_641_1.actors_[var_644_18.prefab_name].transform, "story_v_out_317021", "317021160", "story_v_out_317021.awb")

						arg_641_1:RecordAudio("317021160", var_644_24)
						arg_641_1:RecordAudio("317021160", var_644_24)
					else
						arg_641_1:AudioAction("play", "voice", "story_v_out_317021", "317021160", "story_v_out_317021.awb")
					end

					arg_641_1:RecordHistoryTalkVoice("story_v_out_317021", "317021160", "story_v_out_317021.awb")
				end

				arg_641_1:RecordContent(arg_641_1.text_.text)
			end

			local var_644_25 = math.max(var_644_16, arg_641_1.talkMaxDuration)

			if var_644_15 <= arg_641_1.time_ and arg_641_1.time_ < var_644_15 + var_644_25 then
				arg_641_1.typewritter.percent = (arg_641_1.time_ - var_644_15) / var_644_25

				arg_641_1.typewritter:SetDirty()
			end

			if arg_641_1.time_ >= var_644_15 + var_644_25 and arg_641_1.time_ < var_644_15 + var_644_25 + arg_644_0 then
				arg_641_1.typewritter.percent = 1

				arg_641_1.typewritter:SetDirty()
				arg_641_1:ShowNextGo(true)
			end
		end
	end,
	Play317021161 = function(arg_645_0, arg_645_1)
		arg_645_1.time_ = 0
		arg_645_1.frameCnt_ = 0
		arg_645_1.state_ = "playing"
		arg_645_1.curTalkId_ = 317021161
		arg_645_1.duration_ = 2.67

		local var_645_0 = {
			zh = 1.733,
			ja = 2.666
		}
		local var_645_1 = manager.audio:GetLocalizationFlag()

		if var_645_0[var_645_1] ~= nil then
			arg_645_1.duration_ = var_645_0[var_645_1]
		end

		SetActive(arg_645_1.tipsGo_, false)

		function arg_645_1.onSingleLineFinish_()
			arg_645_1.onSingleLineUpdate_ = nil
			arg_645_1.onSingleLineFinish_ = nil
			arg_645_1.state_ = "waiting"
		end

		function arg_645_1.playNext_(arg_647_0)
			if arg_647_0 == 1 then
				arg_645_0:Play317021162(arg_645_1)
			end
		end

		function arg_645_1.onSingleLineUpdate_(arg_648_0)
			local var_648_0 = 0
			local var_648_1 = 0.225

			if var_648_0 < arg_645_1.time_ and arg_645_1.time_ <= var_648_0 + arg_648_0 then
				arg_645_1.talkMaxDuration = 0
				arg_645_1.dialogCg_.alpha = 1

				arg_645_1.dialog_:SetActive(true)
				SetActive(arg_645_1.leftNameGo_, true)

				local var_648_2 = arg_645_1:FormatText(StoryNameCfg[73].name)

				arg_645_1.leftNameTxt_.text = var_648_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_645_1.leftNameTxt_.transform)

				arg_645_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_645_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_645_1:RecordName(arg_645_1.leftNameTxt_.text)
				SetActive(arg_645_1.iconTrs_.gameObject, false)
				arg_645_1.callingController_:SetSelectedState("normal")

				local var_648_3 = arg_645_1:GetWordFromCfg(317021161)
				local var_648_4 = arg_645_1:FormatText(var_648_3.content)

				arg_645_1.text_.text = var_648_4

				LuaForUtil.ClearLinePrefixSymbol(arg_645_1.text_)

				local var_648_5 = 9
				local var_648_6 = utf8.len(var_648_4)
				local var_648_7 = var_648_5 <= 0 and var_648_1 or var_648_1 * (var_648_6 / var_648_5)

				if var_648_7 > 0 and var_648_1 < var_648_7 then
					arg_645_1.talkMaxDuration = var_648_7

					if var_648_7 + var_648_0 > arg_645_1.duration_ then
						arg_645_1.duration_ = var_648_7 + var_648_0
					end
				end

				arg_645_1.text_.text = var_648_4
				arg_645_1.typewritter.percent = 0

				arg_645_1.typewritter:SetDirty()
				arg_645_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021161", "story_v_out_317021.awb") ~= 0 then
					local var_648_8 = manager.audio:GetVoiceLength("story_v_out_317021", "317021161", "story_v_out_317021.awb") / 1000

					if var_648_8 + var_648_0 > arg_645_1.duration_ then
						arg_645_1.duration_ = var_648_8 + var_648_0
					end

					if var_648_3.prefab_name ~= "" and arg_645_1.actors_[var_648_3.prefab_name] ~= nil then
						local var_648_9 = LuaForUtil.PlayVoiceWithCriLipsync(arg_645_1.actors_[var_648_3.prefab_name].transform, "story_v_out_317021", "317021161", "story_v_out_317021.awb")

						arg_645_1:RecordAudio("317021161", var_648_9)
						arg_645_1:RecordAudio("317021161", var_648_9)
					else
						arg_645_1:AudioAction("play", "voice", "story_v_out_317021", "317021161", "story_v_out_317021.awb")
					end

					arg_645_1:RecordHistoryTalkVoice("story_v_out_317021", "317021161", "story_v_out_317021.awb")
				end

				arg_645_1:RecordContent(arg_645_1.text_.text)
			end

			local var_648_10 = math.max(var_648_1, arg_645_1.talkMaxDuration)

			if var_648_0 <= arg_645_1.time_ and arg_645_1.time_ < var_648_0 + var_648_10 then
				arg_645_1.typewritter.percent = (arg_645_1.time_ - var_648_0) / var_648_10

				arg_645_1.typewritter:SetDirty()
			end

			if arg_645_1.time_ >= var_648_0 + var_648_10 and arg_645_1.time_ < var_648_0 + var_648_10 + arg_648_0 then
				arg_645_1.typewritter.percent = 1

				arg_645_1.typewritter:SetDirty()
				arg_645_1:ShowNextGo(true)
			end
		end
	end,
	Play317021162 = function(arg_649_0, arg_649_1)
		arg_649_1.time_ = 0
		arg_649_1.frameCnt_ = 0
		arg_649_1.state_ = "playing"
		arg_649_1.curTalkId_ = 317021162
		arg_649_1.duration_ = 5

		SetActive(arg_649_1.tipsGo_, false)

		function arg_649_1.onSingleLineFinish_()
			arg_649_1.onSingleLineUpdate_ = nil
			arg_649_1.onSingleLineFinish_ = nil
			arg_649_1.state_ = "waiting"
		end

		function arg_649_1.playNext_(arg_651_0)
			if arg_651_0 == 1 then
				arg_649_0:Play317021163(arg_649_1)
			end
		end

		function arg_649_1.onSingleLineUpdate_(arg_652_0)
			local var_652_0 = arg_649_1.actors_["1093ui_story"]
			local var_652_1 = 0

			if var_652_1 < arg_649_1.time_ and arg_649_1.time_ <= var_652_1 + arg_652_0 and not isNil(var_652_0) and arg_649_1.var_.characterEffect1093ui_story == nil then
				arg_649_1.var_.characterEffect1093ui_story = var_652_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_652_2 = 0.200000002980232

			if var_652_1 <= arg_649_1.time_ and arg_649_1.time_ < var_652_1 + var_652_2 and not isNil(var_652_0) then
				local var_652_3 = (arg_649_1.time_ - var_652_1) / var_652_2

				if arg_649_1.var_.characterEffect1093ui_story and not isNil(var_652_0) then
					local var_652_4 = Mathf.Lerp(0, 0.5, var_652_3)

					arg_649_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_649_1.var_.characterEffect1093ui_story.fillRatio = var_652_4
				end
			end

			if arg_649_1.time_ >= var_652_1 + var_652_2 and arg_649_1.time_ < var_652_1 + var_652_2 + arg_652_0 and not isNil(var_652_0) and arg_649_1.var_.characterEffect1093ui_story then
				local var_652_5 = 0.5

				arg_649_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_649_1.var_.characterEffect1093ui_story.fillRatio = var_652_5
			end

			local var_652_6 = 0
			local var_652_7 = 0.225

			if var_652_6 < arg_649_1.time_ and arg_649_1.time_ <= var_652_6 + arg_652_0 then
				arg_649_1.talkMaxDuration = 0
				arg_649_1.dialogCg_.alpha = 1

				arg_649_1.dialog_:SetActive(true)
				SetActive(arg_649_1.leftNameGo_, true)

				local var_652_8 = arg_649_1:FormatText(StoryNameCfg[7].name)

				arg_649_1.leftNameTxt_.text = var_652_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_649_1.leftNameTxt_.transform)

				arg_649_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_649_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_649_1:RecordName(arg_649_1.leftNameTxt_.text)
				SetActive(arg_649_1.iconTrs_.gameObject, false)
				arg_649_1.callingController_:SetSelectedState("normal")

				local var_652_9 = arg_649_1:GetWordFromCfg(317021162)
				local var_652_10 = arg_649_1:FormatText(var_652_9.content)

				arg_649_1.text_.text = var_652_10

				LuaForUtil.ClearLinePrefixSymbol(arg_649_1.text_)

				local var_652_11 = 9
				local var_652_12 = utf8.len(var_652_10)
				local var_652_13 = var_652_11 <= 0 and var_652_7 or var_652_7 * (var_652_12 / var_652_11)

				if var_652_13 > 0 and var_652_7 < var_652_13 then
					arg_649_1.talkMaxDuration = var_652_13

					if var_652_13 + var_652_6 > arg_649_1.duration_ then
						arg_649_1.duration_ = var_652_13 + var_652_6
					end
				end

				arg_649_1.text_.text = var_652_10
				arg_649_1.typewritter.percent = 0

				arg_649_1.typewritter:SetDirty()
				arg_649_1:ShowNextGo(false)
				arg_649_1:RecordContent(arg_649_1.text_.text)
			end

			local var_652_14 = math.max(var_652_7, arg_649_1.talkMaxDuration)

			if var_652_6 <= arg_649_1.time_ and arg_649_1.time_ < var_652_6 + var_652_14 then
				arg_649_1.typewritter.percent = (arg_649_1.time_ - var_652_6) / var_652_14

				arg_649_1.typewritter:SetDirty()
			end

			if arg_649_1.time_ >= var_652_6 + var_652_14 and arg_649_1.time_ < var_652_6 + var_652_14 + arg_652_0 then
				arg_649_1.typewritter.percent = 1

				arg_649_1.typewritter:SetDirty()
				arg_649_1:ShowNextGo(true)
			end
		end
	end,
	Play317021163 = function(arg_653_0, arg_653_1)
		arg_653_1.time_ = 0
		arg_653_1.frameCnt_ = 0
		arg_653_1.state_ = "playing"
		arg_653_1.curTalkId_ = 317021163
		arg_653_1.duration_ = 5

		SetActive(arg_653_1.tipsGo_, false)

		function arg_653_1.onSingleLineFinish_()
			arg_653_1.onSingleLineUpdate_ = nil
			arg_653_1.onSingleLineFinish_ = nil
			arg_653_1.state_ = "waiting"
		end

		function arg_653_1.playNext_(arg_655_0)
			if arg_655_0 == 1 then
				arg_653_0:Play317021164(arg_653_1)
			end
		end

		function arg_653_1.onSingleLineUpdate_(arg_656_0)
			local var_656_0 = 0
			local var_656_1 = 0.825

			if var_656_0 < arg_653_1.time_ and arg_653_1.time_ <= var_656_0 + arg_656_0 then
				arg_653_1.talkMaxDuration = 0
				arg_653_1.dialogCg_.alpha = 1

				arg_653_1.dialog_:SetActive(true)
				SetActive(arg_653_1.leftNameGo_, false)

				arg_653_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_653_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_653_1:RecordName(arg_653_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_653_1.iconTrs_.gameObject, false)
				arg_653_1.callingController_:SetSelectedState("normal")

				local var_656_2 = arg_653_1:GetWordFromCfg(317021163)
				local var_656_3 = arg_653_1:FormatText(var_656_2.content)

				arg_653_1.text_.text = var_656_3

				LuaForUtil.ClearLinePrefixSymbol(arg_653_1.text_)

				local var_656_4 = 33
				local var_656_5 = utf8.len(var_656_3)
				local var_656_6 = var_656_4 <= 0 and var_656_1 or var_656_1 * (var_656_5 / var_656_4)

				if var_656_6 > 0 and var_656_1 < var_656_6 then
					arg_653_1.talkMaxDuration = var_656_6

					if var_656_6 + var_656_0 > arg_653_1.duration_ then
						arg_653_1.duration_ = var_656_6 + var_656_0
					end
				end

				arg_653_1.text_.text = var_656_3
				arg_653_1.typewritter.percent = 0

				arg_653_1.typewritter:SetDirty()
				arg_653_1:ShowNextGo(false)
				arg_653_1:RecordContent(arg_653_1.text_.text)
			end

			local var_656_7 = math.max(var_656_1, arg_653_1.talkMaxDuration)

			if var_656_0 <= arg_653_1.time_ and arg_653_1.time_ < var_656_0 + var_656_7 then
				arg_653_1.typewritter.percent = (arg_653_1.time_ - var_656_0) / var_656_7

				arg_653_1.typewritter:SetDirty()
			end

			if arg_653_1.time_ >= var_656_0 + var_656_7 and arg_653_1.time_ < var_656_0 + var_656_7 + arg_656_0 then
				arg_653_1.typewritter.percent = 1

				arg_653_1.typewritter:SetDirty()
				arg_653_1:ShowNextGo(true)
			end
		end
	end,
	Play317021164 = function(arg_657_0, arg_657_1)
		arg_657_1.time_ = 0
		arg_657_1.frameCnt_ = 0
		arg_657_1.state_ = "playing"
		arg_657_1.curTalkId_ = 317021164
		arg_657_1.duration_ = 5

		SetActive(arg_657_1.tipsGo_, false)

		function arg_657_1.onSingleLineFinish_()
			arg_657_1.onSingleLineUpdate_ = nil
			arg_657_1.onSingleLineFinish_ = nil
			arg_657_1.state_ = "waiting"
		end

		function arg_657_1.playNext_(arg_659_0)
			if arg_659_0 == 1 then
				arg_657_0:Play317021165(arg_657_1)
			end
		end

		function arg_657_1.onSingleLineUpdate_(arg_660_0)
			local var_660_0 = 0
			local var_660_1 = 1.325

			if var_660_0 < arg_657_1.time_ and arg_657_1.time_ <= var_660_0 + arg_660_0 then
				arg_657_1.talkMaxDuration = 0
				arg_657_1.dialogCg_.alpha = 1

				arg_657_1.dialog_:SetActive(true)
				SetActive(arg_657_1.leftNameGo_, true)

				local var_660_2 = arg_657_1:FormatText(StoryNameCfg[7].name)

				arg_657_1.leftNameTxt_.text = var_660_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_657_1.leftNameTxt_.transform)

				arg_657_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_657_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_657_1:RecordName(arg_657_1.leftNameTxt_.text)
				SetActive(arg_657_1.iconTrs_.gameObject, false)
				arg_657_1.callingController_:SetSelectedState("normal")

				local var_660_3 = arg_657_1:GetWordFromCfg(317021164)
				local var_660_4 = arg_657_1:FormatText(var_660_3.content)

				arg_657_1.text_.text = var_660_4

				LuaForUtil.ClearLinePrefixSymbol(arg_657_1.text_)

				local var_660_5 = 53
				local var_660_6 = utf8.len(var_660_4)
				local var_660_7 = var_660_5 <= 0 and var_660_1 or var_660_1 * (var_660_6 / var_660_5)

				if var_660_7 > 0 and var_660_1 < var_660_7 then
					arg_657_1.talkMaxDuration = var_660_7

					if var_660_7 + var_660_0 > arg_657_1.duration_ then
						arg_657_1.duration_ = var_660_7 + var_660_0
					end
				end

				arg_657_1.text_.text = var_660_4
				arg_657_1.typewritter.percent = 0

				arg_657_1.typewritter:SetDirty()
				arg_657_1:ShowNextGo(false)
				arg_657_1:RecordContent(arg_657_1.text_.text)
			end

			local var_660_8 = math.max(var_660_1, arg_657_1.talkMaxDuration)

			if var_660_0 <= arg_657_1.time_ and arg_657_1.time_ < var_660_0 + var_660_8 then
				arg_657_1.typewritter.percent = (arg_657_1.time_ - var_660_0) / var_660_8

				arg_657_1.typewritter:SetDirty()
			end

			if arg_657_1.time_ >= var_660_0 + var_660_8 and arg_657_1.time_ < var_660_0 + var_660_8 + arg_660_0 then
				arg_657_1.typewritter.percent = 1

				arg_657_1.typewritter:SetDirty()
				arg_657_1:ShowNextGo(true)
			end
		end
	end,
	Play317021165 = function(arg_661_0, arg_661_1)
		arg_661_1.time_ = 0
		arg_661_1.frameCnt_ = 0
		arg_661_1.state_ = "playing"
		arg_661_1.curTalkId_ = 317021165
		arg_661_1.duration_ = 11.63

		local var_661_0 = {
			zh = 9,
			ja = 11.633
		}
		local var_661_1 = manager.audio:GetLocalizationFlag()

		if var_661_0[var_661_1] ~= nil then
			arg_661_1.duration_ = var_661_0[var_661_1]
		end

		SetActive(arg_661_1.tipsGo_, false)

		function arg_661_1.onSingleLineFinish_()
			arg_661_1.onSingleLineUpdate_ = nil
			arg_661_1.onSingleLineFinish_ = nil
			arg_661_1.state_ = "waiting"
		end

		function arg_661_1.playNext_(arg_663_0)
			if arg_663_0 == 1 then
				arg_661_0:Play317021166(arg_661_1)
			end
		end

		function arg_661_1.onSingleLineUpdate_(arg_664_0)
			local var_664_0 = arg_661_1.actors_["1093ui_story"].transform
			local var_664_1 = 0

			if var_664_1 < arg_661_1.time_ and arg_661_1.time_ <= var_664_1 + arg_664_0 then
				arg_661_1.var_.moveOldPos1093ui_story = var_664_0.localPosition
			end

			local var_664_2 = 0.001

			if var_664_1 <= arg_661_1.time_ and arg_661_1.time_ < var_664_1 + var_664_2 then
				local var_664_3 = (arg_661_1.time_ - var_664_1) / var_664_2
				local var_664_4 = Vector3.New(0, -1.11, -5.88)

				var_664_0.localPosition = Vector3.Lerp(arg_661_1.var_.moveOldPos1093ui_story, var_664_4, var_664_3)

				local var_664_5 = manager.ui.mainCamera.transform.position - var_664_0.position

				var_664_0.forward = Vector3.New(var_664_5.x, var_664_5.y, var_664_5.z)

				local var_664_6 = var_664_0.localEulerAngles

				var_664_6.z = 0
				var_664_6.x = 0
				var_664_0.localEulerAngles = var_664_6
			end

			if arg_661_1.time_ >= var_664_1 + var_664_2 and arg_661_1.time_ < var_664_1 + var_664_2 + arg_664_0 then
				var_664_0.localPosition = Vector3.New(0, -1.11, -5.88)

				local var_664_7 = manager.ui.mainCamera.transform.position - var_664_0.position

				var_664_0.forward = Vector3.New(var_664_7.x, var_664_7.y, var_664_7.z)

				local var_664_8 = var_664_0.localEulerAngles

				var_664_8.z = 0
				var_664_8.x = 0
				var_664_0.localEulerAngles = var_664_8
			end

			local var_664_9 = arg_661_1.actors_["1093ui_story"]
			local var_664_10 = 0

			if var_664_10 < arg_661_1.time_ and arg_661_1.time_ <= var_664_10 + arg_664_0 and not isNil(var_664_9) and arg_661_1.var_.characterEffect1093ui_story == nil then
				arg_661_1.var_.characterEffect1093ui_story = var_664_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_664_11 = 0.200000002980232

			if var_664_10 <= arg_661_1.time_ and arg_661_1.time_ < var_664_10 + var_664_11 and not isNil(var_664_9) then
				local var_664_12 = (arg_661_1.time_ - var_664_10) / var_664_11

				if arg_661_1.var_.characterEffect1093ui_story and not isNil(var_664_9) then
					arg_661_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_661_1.time_ >= var_664_10 + var_664_11 and arg_661_1.time_ < var_664_10 + var_664_11 + arg_664_0 and not isNil(var_664_9) and arg_661_1.var_.characterEffect1093ui_story then
				arg_661_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_664_13 = 0

			if var_664_13 < arg_661_1.time_ and arg_661_1.time_ <= var_664_13 + arg_664_0 then
				arg_661_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action8_2")
			end

			local var_664_14 = 0

			if var_664_14 < arg_661_1.time_ and arg_661_1.time_ <= var_664_14 + arg_664_0 then
				arg_661_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_664_15 = 0
			local var_664_16 = 0.875

			if var_664_15 < arg_661_1.time_ and arg_661_1.time_ <= var_664_15 + arg_664_0 then
				arg_661_1.talkMaxDuration = 0
				arg_661_1.dialogCg_.alpha = 1

				arg_661_1.dialog_:SetActive(true)
				SetActive(arg_661_1.leftNameGo_, true)

				local var_664_17 = arg_661_1:FormatText(StoryNameCfg[73].name)

				arg_661_1.leftNameTxt_.text = var_664_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_661_1.leftNameTxt_.transform)

				arg_661_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_661_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_661_1:RecordName(arg_661_1.leftNameTxt_.text)
				SetActive(arg_661_1.iconTrs_.gameObject, false)
				arg_661_1.callingController_:SetSelectedState("normal")

				local var_664_18 = arg_661_1:GetWordFromCfg(317021165)
				local var_664_19 = arg_661_1:FormatText(var_664_18.content)

				arg_661_1.text_.text = var_664_19

				LuaForUtil.ClearLinePrefixSymbol(arg_661_1.text_)

				local var_664_20 = 35
				local var_664_21 = utf8.len(var_664_19)
				local var_664_22 = var_664_20 <= 0 and var_664_16 or var_664_16 * (var_664_21 / var_664_20)

				if var_664_22 > 0 and var_664_16 < var_664_22 then
					arg_661_1.talkMaxDuration = var_664_22

					if var_664_22 + var_664_15 > arg_661_1.duration_ then
						arg_661_1.duration_ = var_664_22 + var_664_15
					end
				end

				arg_661_1.text_.text = var_664_19
				arg_661_1.typewritter.percent = 0

				arg_661_1.typewritter:SetDirty()
				arg_661_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021165", "story_v_out_317021.awb") ~= 0 then
					local var_664_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021165", "story_v_out_317021.awb") / 1000

					if var_664_23 + var_664_15 > arg_661_1.duration_ then
						arg_661_1.duration_ = var_664_23 + var_664_15
					end

					if var_664_18.prefab_name ~= "" and arg_661_1.actors_[var_664_18.prefab_name] ~= nil then
						local var_664_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_661_1.actors_[var_664_18.prefab_name].transform, "story_v_out_317021", "317021165", "story_v_out_317021.awb")

						arg_661_1:RecordAudio("317021165", var_664_24)
						arg_661_1:RecordAudio("317021165", var_664_24)
					else
						arg_661_1:AudioAction("play", "voice", "story_v_out_317021", "317021165", "story_v_out_317021.awb")
					end

					arg_661_1:RecordHistoryTalkVoice("story_v_out_317021", "317021165", "story_v_out_317021.awb")
				end

				arg_661_1:RecordContent(arg_661_1.text_.text)
			end

			local var_664_25 = math.max(var_664_16, arg_661_1.talkMaxDuration)

			if var_664_15 <= arg_661_1.time_ and arg_661_1.time_ < var_664_15 + var_664_25 then
				arg_661_1.typewritter.percent = (arg_661_1.time_ - var_664_15) / var_664_25

				arg_661_1.typewritter:SetDirty()
			end

			if arg_661_1.time_ >= var_664_15 + var_664_25 and arg_661_1.time_ < var_664_15 + var_664_25 + arg_664_0 then
				arg_661_1.typewritter.percent = 1

				arg_661_1.typewritter:SetDirty()
				arg_661_1:ShowNextGo(true)
			end
		end
	end,
	Play317021166 = function(arg_665_0, arg_665_1)
		arg_665_1.time_ = 0
		arg_665_1.frameCnt_ = 0
		arg_665_1.state_ = "playing"
		arg_665_1.curTalkId_ = 317021166
		arg_665_1.duration_ = 5

		SetActive(arg_665_1.tipsGo_, false)

		function arg_665_1.onSingleLineFinish_()
			arg_665_1.onSingleLineUpdate_ = nil
			arg_665_1.onSingleLineFinish_ = nil
			arg_665_1.state_ = "waiting"
		end

		function arg_665_1.playNext_(arg_667_0)
			if arg_667_0 == 1 then
				arg_665_0:Play317021167(arg_665_1)
			end
		end

		function arg_665_1.onSingleLineUpdate_(arg_668_0)
			local var_668_0 = arg_665_1.actors_["1093ui_story"]
			local var_668_1 = 0

			if var_668_1 < arg_665_1.time_ and arg_665_1.time_ <= var_668_1 + arg_668_0 and not isNil(var_668_0) and arg_665_1.var_.characterEffect1093ui_story == nil then
				arg_665_1.var_.characterEffect1093ui_story = var_668_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_668_2 = 0.200000002980232

			if var_668_1 <= arg_665_1.time_ and arg_665_1.time_ < var_668_1 + var_668_2 and not isNil(var_668_0) then
				local var_668_3 = (arg_665_1.time_ - var_668_1) / var_668_2

				if arg_665_1.var_.characterEffect1093ui_story and not isNil(var_668_0) then
					local var_668_4 = Mathf.Lerp(0, 0.5, var_668_3)

					arg_665_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_665_1.var_.characterEffect1093ui_story.fillRatio = var_668_4
				end
			end

			if arg_665_1.time_ >= var_668_1 + var_668_2 and arg_665_1.time_ < var_668_1 + var_668_2 + arg_668_0 and not isNil(var_668_0) and arg_665_1.var_.characterEffect1093ui_story then
				local var_668_5 = 0.5

				arg_665_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_665_1.var_.characterEffect1093ui_story.fillRatio = var_668_5
			end

			local var_668_6 = 0
			local var_668_7 = 0.175

			if var_668_6 < arg_665_1.time_ and arg_665_1.time_ <= var_668_6 + arg_668_0 then
				arg_665_1.talkMaxDuration = 0
				arg_665_1.dialogCg_.alpha = 1

				arg_665_1.dialog_:SetActive(true)
				SetActive(arg_665_1.leftNameGo_, true)

				local var_668_8 = arg_665_1:FormatText(StoryNameCfg[7].name)

				arg_665_1.leftNameTxt_.text = var_668_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_665_1.leftNameTxt_.transform)

				arg_665_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_665_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_665_1:RecordName(arg_665_1.leftNameTxt_.text)
				SetActive(arg_665_1.iconTrs_.gameObject, false)
				arg_665_1.callingController_:SetSelectedState("normal")

				local var_668_9 = arg_665_1:GetWordFromCfg(317021166)
				local var_668_10 = arg_665_1:FormatText(var_668_9.content)

				arg_665_1.text_.text = var_668_10

				LuaForUtil.ClearLinePrefixSymbol(arg_665_1.text_)

				local var_668_11 = 7
				local var_668_12 = utf8.len(var_668_10)
				local var_668_13 = var_668_11 <= 0 and var_668_7 or var_668_7 * (var_668_12 / var_668_11)

				if var_668_13 > 0 and var_668_7 < var_668_13 then
					arg_665_1.talkMaxDuration = var_668_13

					if var_668_13 + var_668_6 > arg_665_1.duration_ then
						arg_665_1.duration_ = var_668_13 + var_668_6
					end
				end

				arg_665_1.text_.text = var_668_10
				arg_665_1.typewritter.percent = 0

				arg_665_1.typewritter:SetDirty()
				arg_665_1:ShowNextGo(false)
				arg_665_1:RecordContent(arg_665_1.text_.text)
			end

			local var_668_14 = math.max(var_668_7, arg_665_1.talkMaxDuration)

			if var_668_6 <= arg_665_1.time_ and arg_665_1.time_ < var_668_6 + var_668_14 then
				arg_665_1.typewritter.percent = (arg_665_1.time_ - var_668_6) / var_668_14

				arg_665_1.typewritter:SetDirty()
			end

			if arg_665_1.time_ >= var_668_6 + var_668_14 and arg_665_1.time_ < var_668_6 + var_668_14 + arg_668_0 then
				arg_665_1.typewritter.percent = 1

				arg_665_1.typewritter:SetDirty()
				arg_665_1:ShowNextGo(true)
			end
		end
	end,
	Play317021167 = function(arg_669_0, arg_669_1)
		arg_669_1.time_ = 0
		arg_669_1.frameCnt_ = 0
		arg_669_1.state_ = "playing"
		arg_669_1.curTalkId_ = 317021167
		arg_669_1.duration_ = 14.07

		local var_669_0 = {
			zh = 14.066,
			ja = 10.1
		}
		local var_669_1 = manager.audio:GetLocalizationFlag()

		if var_669_0[var_669_1] ~= nil then
			arg_669_1.duration_ = var_669_0[var_669_1]
		end

		SetActive(arg_669_1.tipsGo_, false)

		function arg_669_1.onSingleLineFinish_()
			arg_669_1.onSingleLineUpdate_ = nil
			arg_669_1.onSingleLineFinish_ = nil
			arg_669_1.state_ = "waiting"
		end

		function arg_669_1.playNext_(arg_671_0)
			if arg_671_0 == 1 then
				arg_669_0:Play317021168(arg_669_1)
			end
		end

		function arg_669_1.onSingleLineUpdate_(arg_672_0)
			local var_672_0 = arg_669_1.actors_["1093ui_story"].transform
			local var_672_1 = 0

			if var_672_1 < arg_669_1.time_ and arg_669_1.time_ <= var_672_1 + arg_672_0 then
				arg_669_1.var_.moveOldPos1093ui_story = var_672_0.localPosition
			end

			local var_672_2 = 0.001

			if var_672_1 <= arg_669_1.time_ and arg_669_1.time_ < var_672_1 + var_672_2 then
				local var_672_3 = (arg_669_1.time_ - var_672_1) / var_672_2
				local var_672_4 = Vector3.New(0, -1.11, -5.88)

				var_672_0.localPosition = Vector3.Lerp(arg_669_1.var_.moveOldPos1093ui_story, var_672_4, var_672_3)

				local var_672_5 = manager.ui.mainCamera.transform.position - var_672_0.position

				var_672_0.forward = Vector3.New(var_672_5.x, var_672_5.y, var_672_5.z)

				local var_672_6 = var_672_0.localEulerAngles

				var_672_6.z = 0
				var_672_6.x = 0
				var_672_0.localEulerAngles = var_672_6
			end

			if arg_669_1.time_ >= var_672_1 + var_672_2 and arg_669_1.time_ < var_672_1 + var_672_2 + arg_672_0 then
				var_672_0.localPosition = Vector3.New(0, -1.11, -5.88)

				local var_672_7 = manager.ui.mainCamera.transform.position - var_672_0.position

				var_672_0.forward = Vector3.New(var_672_7.x, var_672_7.y, var_672_7.z)

				local var_672_8 = var_672_0.localEulerAngles

				var_672_8.z = 0
				var_672_8.x = 0
				var_672_0.localEulerAngles = var_672_8
			end

			local var_672_9 = arg_669_1.actors_["1093ui_story"]
			local var_672_10 = 0

			if var_672_10 < arg_669_1.time_ and arg_669_1.time_ <= var_672_10 + arg_672_0 and not isNil(var_672_9) and arg_669_1.var_.characterEffect1093ui_story == nil then
				arg_669_1.var_.characterEffect1093ui_story = var_672_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_672_11 = 0.200000002980232

			if var_672_10 <= arg_669_1.time_ and arg_669_1.time_ < var_672_10 + var_672_11 and not isNil(var_672_9) then
				local var_672_12 = (arg_669_1.time_ - var_672_10) / var_672_11

				if arg_669_1.var_.characterEffect1093ui_story and not isNil(var_672_9) then
					arg_669_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_669_1.time_ >= var_672_10 + var_672_11 and arg_669_1.time_ < var_672_10 + var_672_11 + arg_672_0 and not isNil(var_672_9) and arg_669_1.var_.characterEffect1093ui_story then
				arg_669_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_672_13 = 0

			if var_672_13 < arg_669_1.time_ and arg_669_1.time_ <= var_672_13 + arg_672_0 then
				arg_669_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action6_1")
			end

			local var_672_14 = 0

			if var_672_14 < arg_669_1.time_ and arg_669_1.time_ <= var_672_14 + arg_672_0 then
				arg_669_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_672_15 = 0
			local var_672_16 = 1.7

			if var_672_15 < arg_669_1.time_ and arg_669_1.time_ <= var_672_15 + arg_672_0 then
				arg_669_1.talkMaxDuration = 0
				arg_669_1.dialogCg_.alpha = 1

				arg_669_1.dialog_:SetActive(true)
				SetActive(arg_669_1.leftNameGo_, true)

				local var_672_17 = arg_669_1:FormatText(StoryNameCfg[73].name)

				arg_669_1.leftNameTxt_.text = var_672_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_669_1.leftNameTxt_.transform)

				arg_669_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_669_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_669_1:RecordName(arg_669_1.leftNameTxt_.text)
				SetActive(arg_669_1.iconTrs_.gameObject, false)
				arg_669_1.callingController_:SetSelectedState("normal")

				local var_672_18 = arg_669_1:GetWordFromCfg(317021167)
				local var_672_19 = arg_669_1:FormatText(var_672_18.content)

				arg_669_1.text_.text = var_672_19

				LuaForUtil.ClearLinePrefixSymbol(arg_669_1.text_)

				local var_672_20 = 65
				local var_672_21 = utf8.len(var_672_19)
				local var_672_22 = var_672_20 <= 0 and var_672_16 or var_672_16 * (var_672_21 / var_672_20)

				if var_672_22 > 0 and var_672_16 < var_672_22 then
					arg_669_1.talkMaxDuration = var_672_22

					if var_672_22 + var_672_15 > arg_669_1.duration_ then
						arg_669_1.duration_ = var_672_22 + var_672_15
					end
				end

				arg_669_1.text_.text = var_672_19
				arg_669_1.typewritter.percent = 0

				arg_669_1.typewritter:SetDirty()
				arg_669_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021167", "story_v_out_317021.awb") ~= 0 then
					local var_672_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021167", "story_v_out_317021.awb") / 1000

					if var_672_23 + var_672_15 > arg_669_1.duration_ then
						arg_669_1.duration_ = var_672_23 + var_672_15
					end

					if var_672_18.prefab_name ~= "" and arg_669_1.actors_[var_672_18.prefab_name] ~= nil then
						local var_672_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_669_1.actors_[var_672_18.prefab_name].transform, "story_v_out_317021", "317021167", "story_v_out_317021.awb")

						arg_669_1:RecordAudio("317021167", var_672_24)
						arg_669_1:RecordAudio("317021167", var_672_24)
					else
						arg_669_1:AudioAction("play", "voice", "story_v_out_317021", "317021167", "story_v_out_317021.awb")
					end

					arg_669_1:RecordHistoryTalkVoice("story_v_out_317021", "317021167", "story_v_out_317021.awb")
				end

				arg_669_1:RecordContent(arg_669_1.text_.text)
			end

			local var_672_25 = math.max(var_672_16, arg_669_1.talkMaxDuration)

			if var_672_15 <= arg_669_1.time_ and arg_669_1.time_ < var_672_15 + var_672_25 then
				arg_669_1.typewritter.percent = (arg_669_1.time_ - var_672_15) / var_672_25

				arg_669_1.typewritter:SetDirty()
			end

			if arg_669_1.time_ >= var_672_15 + var_672_25 and arg_669_1.time_ < var_672_15 + var_672_25 + arg_672_0 then
				arg_669_1.typewritter.percent = 1

				arg_669_1.typewritter:SetDirty()
				arg_669_1:ShowNextGo(true)
			end
		end
	end,
	Play317021168 = function(arg_673_0, arg_673_1)
		arg_673_1.time_ = 0
		arg_673_1.frameCnt_ = 0
		arg_673_1.state_ = "playing"
		arg_673_1.curTalkId_ = 317021168
		arg_673_1.duration_ = 5

		SetActive(arg_673_1.tipsGo_, false)

		function arg_673_1.onSingleLineFinish_()
			arg_673_1.onSingleLineUpdate_ = nil
			arg_673_1.onSingleLineFinish_ = nil
			arg_673_1.state_ = "waiting"
		end

		function arg_673_1.playNext_(arg_675_0)
			if arg_675_0 == 1 then
				arg_673_0:Play317021169(arg_673_1)
			end
		end

		function arg_673_1.onSingleLineUpdate_(arg_676_0)
			local var_676_0 = arg_673_1.actors_["1093ui_story"]
			local var_676_1 = 0

			if var_676_1 < arg_673_1.time_ and arg_673_1.time_ <= var_676_1 + arg_676_0 and not isNil(var_676_0) and arg_673_1.var_.characterEffect1093ui_story == nil then
				arg_673_1.var_.characterEffect1093ui_story = var_676_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_676_2 = 0.200000002980232

			if var_676_1 <= arg_673_1.time_ and arg_673_1.time_ < var_676_1 + var_676_2 and not isNil(var_676_0) then
				local var_676_3 = (arg_673_1.time_ - var_676_1) / var_676_2

				if arg_673_1.var_.characterEffect1093ui_story and not isNil(var_676_0) then
					local var_676_4 = Mathf.Lerp(0, 0.5, var_676_3)

					arg_673_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_673_1.var_.characterEffect1093ui_story.fillRatio = var_676_4
				end
			end

			if arg_673_1.time_ >= var_676_1 + var_676_2 and arg_673_1.time_ < var_676_1 + var_676_2 + arg_676_0 and not isNil(var_676_0) and arg_673_1.var_.characterEffect1093ui_story then
				local var_676_5 = 0.5

				arg_673_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_673_1.var_.characterEffect1093ui_story.fillRatio = var_676_5
			end

			local var_676_6 = 0
			local var_676_7 = 0.9

			if var_676_6 < arg_673_1.time_ and arg_673_1.time_ <= var_676_6 + arg_676_0 then
				arg_673_1.talkMaxDuration = 0
				arg_673_1.dialogCg_.alpha = 1

				arg_673_1.dialog_:SetActive(true)
				SetActive(arg_673_1.leftNameGo_, true)

				local var_676_8 = arg_673_1:FormatText(StoryNameCfg[7].name)

				arg_673_1.leftNameTxt_.text = var_676_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_673_1.leftNameTxt_.transform)

				arg_673_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_673_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_673_1:RecordName(arg_673_1.leftNameTxt_.text)
				SetActive(arg_673_1.iconTrs_.gameObject, false)
				arg_673_1.callingController_:SetSelectedState("normal")

				local var_676_9 = arg_673_1:GetWordFromCfg(317021168)
				local var_676_10 = arg_673_1:FormatText(var_676_9.content)

				arg_673_1.text_.text = var_676_10

				LuaForUtil.ClearLinePrefixSymbol(arg_673_1.text_)

				local var_676_11 = 36
				local var_676_12 = utf8.len(var_676_10)
				local var_676_13 = var_676_11 <= 0 and var_676_7 or var_676_7 * (var_676_12 / var_676_11)

				if var_676_13 > 0 and var_676_7 < var_676_13 then
					arg_673_1.talkMaxDuration = var_676_13

					if var_676_13 + var_676_6 > arg_673_1.duration_ then
						arg_673_1.duration_ = var_676_13 + var_676_6
					end
				end

				arg_673_1.text_.text = var_676_10
				arg_673_1.typewritter.percent = 0

				arg_673_1.typewritter:SetDirty()
				arg_673_1:ShowNextGo(false)
				arg_673_1:RecordContent(arg_673_1.text_.text)
			end

			local var_676_14 = math.max(var_676_7, arg_673_1.talkMaxDuration)

			if var_676_6 <= arg_673_1.time_ and arg_673_1.time_ < var_676_6 + var_676_14 then
				arg_673_1.typewritter.percent = (arg_673_1.time_ - var_676_6) / var_676_14

				arg_673_1.typewritter:SetDirty()
			end

			if arg_673_1.time_ >= var_676_6 + var_676_14 and arg_673_1.time_ < var_676_6 + var_676_14 + arg_676_0 then
				arg_673_1.typewritter.percent = 1

				arg_673_1.typewritter:SetDirty()
				arg_673_1:ShowNextGo(true)
			end
		end
	end,
	Play317021169 = function(arg_677_0, arg_677_1)
		arg_677_1.time_ = 0
		arg_677_1.frameCnt_ = 0
		arg_677_1.state_ = "playing"
		arg_677_1.curTalkId_ = 317021169
		arg_677_1.duration_ = 12.57

		local var_677_0 = {
			zh = 12.566,
			ja = 10.966
		}
		local var_677_1 = manager.audio:GetLocalizationFlag()

		if var_677_0[var_677_1] ~= nil then
			arg_677_1.duration_ = var_677_0[var_677_1]
		end

		SetActive(arg_677_1.tipsGo_, false)

		function arg_677_1.onSingleLineFinish_()
			arg_677_1.onSingleLineUpdate_ = nil
			arg_677_1.onSingleLineFinish_ = nil
			arg_677_1.state_ = "waiting"
		end

		function arg_677_1.playNext_(arg_679_0)
			if arg_679_0 == 1 then
				arg_677_0:Play317021170(arg_677_1)
			end
		end

		function arg_677_1.onSingleLineUpdate_(arg_680_0)
			local var_680_0 = arg_677_1.actors_["1093ui_story"]
			local var_680_1 = 0

			if var_680_1 < arg_677_1.time_ and arg_677_1.time_ <= var_680_1 + arg_680_0 and not isNil(var_680_0) and arg_677_1.var_.characterEffect1093ui_story == nil then
				arg_677_1.var_.characterEffect1093ui_story = var_680_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_680_2 = 0.200000002980232

			if var_680_1 <= arg_677_1.time_ and arg_677_1.time_ < var_680_1 + var_680_2 and not isNil(var_680_0) then
				local var_680_3 = (arg_677_1.time_ - var_680_1) / var_680_2

				if arg_677_1.var_.characterEffect1093ui_story and not isNil(var_680_0) then
					arg_677_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_677_1.time_ >= var_680_1 + var_680_2 and arg_677_1.time_ < var_680_1 + var_680_2 + arg_680_0 and not isNil(var_680_0) and arg_677_1.var_.characterEffect1093ui_story then
				arg_677_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_680_4 = 0
			local var_680_5 = 1.35

			if var_680_4 < arg_677_1.time_ and arg_677_1.time_ <= var_680_4 + arg_680_0 then
				arg_677_1.talkMaxDuration = 0
				arg_677_1.dialogCg_.alpha = 1

				arg_677_1.dialog_:SetActive(true)
				SetActive(arg_677_1.leftNameGo_, true)

				local var_680_6 = arg_677_1:FormatText(StoryNameCfg[73].name)

				arg_677_1.leftNameTxt_.text = var_680_6

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_677_1.leftNameTxt_.transform)

				arg_677_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_677_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_677_1:RecordName(arg_677_1.leftNameTxt_.text)
				SetActive(arg_677_1.iconTrs_.gameObject, false)
				arg_677_1.callingController_:SetSelectedState("normal")

				local var_680_7 = arg_677_1:GetWordFromCfg(317021169)
				local var_680_8 = arg_677_1:FormatText(var_680_7.content)

				arg_677_1.text_.text = var_680_8

				LuaForUtil.ClearLinePrefixSymbol(arg_677_1.text_)

				local var_680_9 = 54
				local var_680_10 = utf8.len(var_680_8)
				local var_680_11 = var_680_9 <= 0 and var_680_5 or var_680_5 * (var_680_10 / var_680_9)

				if var_680_11 > 0 and var_680_5 < var_680_11 then
					arg_677_1.talkMaxDuration = var_680_11

					if var_680_11 + var_680_4 > arg_677_1.duration_ then
						arg_677_1.duration_ = var_680_11 + var_680_4
					end
				end

				arg_677_1.text_.text = var_680_8
				arg_677_1.typewritter.percent = 0

				arg_677_1.typewritter:SetDirty()
				arg_677_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021169", "story_v_out_317021.awb") ~= 0 then
					local var_680_12 = manager.audio:GetVoiceLength("story_v_out_317021", "317021169", "story_v_out_317021.awb") / 1000

					if var_680_12 + var_680_4 > arg_677_1.duration_ then
						arg_677_1.duration_ = var_680_12 + var_680_4
					end

					if var_680_7.prefab_name ~= "" and arg_677_1.actors_[var_680_7.prefab_name] ~= nil then
						local var_680_13 = LuaForUtil.PlayVoiceWithCriLipsync(arg_677_1.actors_[var_680_7.prefab_name].transform, "story_v_out_317021", "317021169", "story_v_out_317021.awb")

						arg_677_1:RecordAudio("317021169", var_680_13)
						arg_677_1:RecordAudio("317021169", var_680_13)
					else
						arg_677_1:AudioAction("play", "voice", "story_v_out_317021", "317021169", "story_v_out_317021.awb")
					end

					arg_677_1:RecordHistoryTalkVoice("story_v_out_317021", "317021169", "story_v_out_317021.awb")
				end

				arg_677_1:RecordContent(arg_677_1.text_.text)
			end

			local var_680_14 = math.max(var_680_5, arg_677_1.talkMaxDuration)

			if var_680_4 <= arg_677_1.time_ and arg_677_1.time_ < var_680_4 + var_680_14 then
				arg_677_1.typewritter.percent = (arg_677_1.time_ - var_680_4) / var_680_14

				arg_677_1.typewritter:SetDirty()
			end

			if arg_677_1.time_ >= var_680_4 + var_680_14 and arg_677_1.time_ < var_680_4 + var_680_14 + arg_680_0 then
				arg_677_1.typewritter.percent = 1

				arg_677_1.typewritter:SetDirty()
				arg_677_1:ShowNextGo(true)
			end
		end
	end,
	Play317021170 = function(arg_681_0, arg_681_1)
		arg_681_1.time_ = 0
		arg_681_1.frameCnt_ = 0
		arg_681_1.state_ = "playing"
		arg_681_1.curTalkId_ = 317021170
		arg_681_1.duration_ = 5

		SetActive(arg_681_1.tipsGo_, false)

		function arg_681_1.onSingleLineFinish_()
			arg_681_1.onSingleLineUpdate_ = nil
			arg_681_1.onSingleLineFinish_ = nil
			arg_681_1.state_ = "waiting"
		end

		function arg_681_1.playNext_(arg_683_0)
			if arg_683_0 == 1 then
				arg_681_0:Play317021171(arg_681_1)
			end
		end

		function arg_681_1.onSingleLineUpdate_(arg_684_0)
			local var_684_0 = arg_681_1.actors_["1093ui_story"]
			local var_684_1 = 0

			if var_684_1 < arg_681_1.time_ and arg_681_1.time_ <= var_684_1 + arg_684_0 and not isNil(var_684_0) and arg_681_1.var_.characterEffect1093ui_story == nil then
				arg_681_1.var_.characterEffect1093ui_story = var_684_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_684_2 = 0.200000002980232

			if var_684_1 <= arg_681_1.time_ and arg_681_1.time_ < var_684_1 + var_684_2 and not isNil(var_684_0) then
				local var_684_3 = (arg_681_1.time_ - var_684_1) / var_684_2

				if arg_681_1.var_.characterEffect1093ui_story and not isNil(var_684_0) then
					local var_684_4 = Mathf.Lerp(0, 0.5, var_684_3)

					arg_681_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_681_1.var_.characterEffect1093ui_story.fillRatio = var_684_4
				end
			end

			if arg_681_1.time_ >= var_684_1 + var_684_2 and arg_681_1.time_ < var_684_1 + var_684_2 + arg_684_0 and not isNil(var_684_0) and arg_681_1.var_.characterEffect1093ui_story then
				local var_684_5 = 0.5

				arg_681_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_681_1.var_.characterEffect1093ui_story.fillRatio = var_684_5
			end

			local var_684_6 = 0
			local var_684_7 = 0.2

			if var_684_6 < arg_681_1.time_ and arg_681_1.time_ <= var_684_6 + arg_684_0 then
				arg_681_1.talkMaxDuration = 0
				arg_681_1.dialogCg_.alpha = 1

				arg_681_1.dialog_:SetActive(true)
				SetActive(arg_681_1.leftNameGo_, true)

				local var_684_8 = arg_681_1:FormatText(StoryNameCfg[7].name)

				arg_681_1.leftNameTxt_.text = var_684_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_681_1.leftNameTxt_.transform)

				arg_681_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_681_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_681_1:RecordName(arg_681_1.leftNameTxt_.text)
				SetActive(arg_681_1.iconTrs_.gameObject, false)
				arg_681_1.callingController_:SetSelectedState("normal")

				local var_684_9 = arg_681_1:GetWordFromCfg(317021170)
				local var_684_10 = arg_681_1:FormatText(var_684_9.content)

				arg_681_1.text_.text = var_684_10

				LuaForUtil.ClearLinePrefixSymbol(arg_681_1.text_)

				local var_684_11 = 8
				local var_684_12 = utf8.len(var_684_10)
				local var_684_13 = var_684_11 <= 0 and var_684_7 or var_684_7 * (var_684_12 / var_684_11)

				if var_684_13 > 0 and var_684_7 < var_684_13 then
					arg_681_1.talkMaxDuration = var_684_13

					if var_684_13 + var_684_6 > arg_681_1.duration_ then
						arg_681_1.duration_ = var_684_13 + var_684_6
					end
				end

				arg_681_1.text_.text = var_684_10
				arg_681_1.typewritter.percent = 0

				arg_681_1.typewritter:SetDirty()
				arg_681_1:ShowNextGo(false)
				arg_681_1:RecordContent(arg_681_1.text_.text)
			end

			local var_684_14 = math.max(var_684_7, arg_681_1.talkMaxDuration)

			if var_684_6 <= arg_681_1.time_ and arg_681_1.time_ < var_684_6 + var_684_14 then
				arg_681_1.typewritter.percent = (arg_681_1.time_ - var_684_6) / var_684_14

				arg_681_1.typewritter:SetDirty()
			end

			if arg_681_1.time_ >= var_684_6 + var_684_14 and arg_681_1.time_ < var_684_6 + var_684_14 + arg_684_0 then
				arg_681_1.typewritter.percent = 1

				arg_681_1.typewritter:SetDirty()
				arg_681_1:ShowNextGo(true)
			end
		end
	end,
	Play317021171 = function(arg_685_0, arg_685_1)
		arg_685_1.time_ = 0
		arg_685_1.frameCnt_ = 0
		arg_685_1.state_ = "playing"
		arg_685_1.curTalkId_ = 317021171
		arg_685_1.duration_ = 3.8

		local var_685_0 = {
			zh = 3.266,
			ja = 3.8
		}
		local var_685_1 = manager.audio:GetLocalizationFlag()

		if var_685_0[var_685_1] ~= nil then
			arg_685_1.duration_ = var_685_0[var_685_1]
		end

		SetActive(arg_685_1.tipsGo_, false)

		function arg_685_1.onSingleLineFinish_()
			arg_685_1.onSingleLineUpdate_ = nil
			arg_685_1.onSingleLineFinish_ = nil
			arg_685_1.state_ = "waiting"
		end

		function arg_685_1.playNext_(arg_687_0)
			if arg_687_0 == 1 then
				arg_685_0:Play317021172(arg_685_1)
			end
		end

		function arg_685_1.onSingleLineUpdate_(arg_688_0)
			local var_688_0 = arg_685_1.actors_["1093ui_story"].transform
			local var_688_1 = 0

			if var_688_1 < arg_685_1.time_ and arg_685_1.time_ <= var_688_1 + arg_688_0 then
				arg_685_1.var_.moveOldPos1093ui_story = var_688_0.localPosition
			end

			local var_688_2 = 0.001

			if var_688_1 <= arg_685_1.time_ and arg_685_1.time_ < var_688_1 + var_688_2 then
				local var_688_3 = (arg_685_1.time_ - var_688_1) / var_688_2
				local var_688_4 = Vector3.New(0, -1.11, -5.88)

				var_688_0.localPosition = Vector3.Lerp(arg_685_1.var_.moveOldPos1093ui_story, var_688_4, var_688_3)

				local var_688_5 = manager.ui.mainCamera.transform.position - var_688_0.position

				var_688_0.forward = Vector3.New(var_688_5.x, var_688_5.y, var_688_5.z)

				local var_688_6 = var_688_0.localEulerAngles

				var_688_6.z = 0
				var_688_6.x = 0
				var_688_0.localEulerAngles = var_688_6
			end

			if arg_685_1.time_ >= var_688_1 + var_688_2 and arg_685_1.time_ < var_688_1 + var_688_2 + arg_688_0 then
				var_688_0.localPosition = Vector3.New(0, -1.11, -5.88)

				local var_688_7 = manager.ui.mainCamera.transform.position - var_688_0.position

				var_688_0.forward = Vector3.New(var_688_7.x, var_688_7.y, var_688_7.z)

				local var_688_8 = var_688_0.localEulerAngles

				var_688_8.z = 0
				var_688_8.x = 0
				var_688_0.localEulerAngles = var_688_8
			end

			local var_688_9 = arg_685_1.actors_["1093ui_story"]
			local var_688_10 = 0

			if var_688_10 < arg_685_1.time_ and arg_685_1.time_ <= var_688_10 + arg_688_0 and not isNil(var_688_9) and arg_685_1.var_.characterEffect1093ui_story == nil then
				arg_685_1.var_.characterEffect1093ui_story = var_688_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_688_11 = 0.200000002980232

			if var_688_10 <= arg_685_1.time_ and arg_685_1.time_ < var_688_10 + var_688_11 and not isNil(var_688_9) then
				local var_688_12 = (arg_685_1.time_ - var_688_10) / var_688_11

				if arg_685_1.var_.characterEffect1093ui_story and not isNil(var_688_9) then
					arg_685_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_685_1.time_ >= var_688_10 + var_688_11 and arg_685_1.time_ < var_688_10 + var_688_11 + arg_688_0 and not isNil(var_688_9) and arg_685_1.var_.characterEffect1093ui_story then
				arg_685_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_688_13 = 0

			if var_688_13 < arg_685_1.time_ and arg_685_1.time_ <= var_688_13 + arg_688_0 then
				arg_685_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action6_2")
			end

			local var_688_14 = 0

			if var_688_14 < arg_685_1.time_ and arg_685_1.time_ <= var_688_14 + arg_688_0 then
				arg_685_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_688_15 = 0
			local var_688_16 = 0.375

			if var_688_15 < arg_685_1.time_ and arg_685_1.time_ <= var_688_15 + arg_688_0 then
				arg_685_1.talkMaxDuration = 0
				arg_685_1.dialogCg_.alpha = 1

				arg_685_1.dialog_:SetActive(true)
				SetActive(arg_685_1.leftNameGo_, true)

				local var_688_17 = arg_685_1:FormatText(StoryNameCfg[73].name)

				arg_685_1.leftNameTxt_.text = var_688_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_685_1.leftNameTxt_.transform)

				arg_685_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_685_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_685_1:RecordName(arg_685_1.leftNameTxt_.text)
				SetActive(arg_685_1.iconTrs_.gameObject, false)
				arg_685_1.callingController_:SetSelectedState("normal")

				local var_688_18 = arg_685_1:GetWordFromCfg(317021171)
				local var_688_19 = arg_685_1:FormatText(var_688_18.content)

				arg_685_1.text_.text = var_688_19

				LuaForUtil.ClearLinePrefixSymbol(arg_685_1.text_)

				local var_688_20 = 15
				local var_688_21 = utf8.len(var_688_19)
				local var_688_22 = var_688_20 <= 0 and var_688_16 or var_688_16 * (var_688_21 / var_688_20)

				if var_688_22 > 0 and var_688_16 < var_688_22 then
					arg_685_1.talkMaxDuration = var_688_22

					if var_688_22 + var_688_15 > arg_685_1.duration_ then
						arg_685_1.duration_ = var_688_22 + var_688_15
					end
				end

				arg_685_1.text_.text = var_688_19
				arg_685_1.typewritter.percent = 0

				arg_685_1.typewritter:SetDirty()
				arg_685_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021171", "story_v_out_317021.awb") ~= 0 then
					local var_688_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021171", "story_v_out_317021.awb") / 1000

					if var_688_23 + var_688_15 > arg_685_1.duration_ then
						arg_685_1.duration_ = var_688_23 + var_688_15
					end

					if var_688_18.prefab_name ~= "" and arg_685_1.actors_[var_688_18.prefab_name] ~= nil then
						local var_688_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_685_1.actors_[var_688_18.prefab_name].transform, "story_v_out_317021", "317021171", "story_v_out_317021.awb")

						arg_685_1:RecordAudio("317021171", var_688_24)
						arg_685_1:RecordAudio("317021171", var_688_24)
					else
						arg_685_1:AudioAction("play", "voice", "story_v_out_317021", "317021171", "story_v_out_317021.awb")
					end

					arg_685_1:RecordHistoryTalkVoice("story_v_out_317021", "317021171", "story_v_out_317021.awb")
				end

				arg_685_1:RecordContent(arg_685_1.text_.text)
			end

			local var_688_25 = math.max(var_688_16, arg_685_1.talkMaxDuration)

			if var_688_15 <= arg_685_1.time_ and arg_685_1.time_ < var_688_15 + var_688_25 then
				arg_685_1.typewritter.percent = (arg_685_1.time_ - var_688_15) / var_688_25

				arg_685_1.typewritter:SetDirty()
			end

			if arg_685_1.time_ >= var_688_15 + var_688_25 and arg_685_1.time_ < var_688_15 + var_688_25 + arg_688_0 then
				arg_685_1.typewritter.percent = 1

				arg_685_1.typewritter:SetDirty()
				arg_685_1:ShowNextGo(true)
			end
		end
	end,
	Play317021172 = function(arg_689_0, arg_689_1)
		arg_689_1.time_ = 0
		arg_689_1.frameCnt_ = 0
		arg_689_1.state_ = "playing"
		arg_689_1.curTalkId_ = 317021172
		arg_689_1.duration_ = 5

		SetActive(arg_689_1.tipsGo_, false)

		function arg_689_1.onSingleLineFinish_()
			arg_689_1.onSingleLineUpdate_ = nil
			arg_689_1.onSingleLineFinish_ = nil
			arg_689_1.state_ = "waiting"
		end

		function arg_689_1.playNext_(arg_691_0)
			if arg_691_0 == 1 then
				arg_689_0:Play317021173(arg_689_1)
			end
		end

		function arg_689_1.onSingleLineUpdate_(arg_692_0)
			local var_692_0 = arg_689_1.actors_["1093ui_story"]
			local var_692_1 = 0

			if var_692_1 < arg_689_1.time_ and arg_689_1.time_ <= var_692_1 + arg_692_0 and not isNil(var_692_0) and arg_689_1.var_.characterEffect1093ui_story == nil then
				arg_689_1.var_.characterEffect1093ui_story = var_692_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_692_2 = 0.200000002980232

			if var_692_1 <= arg_689_1.time_ and arg_689_1.time_ < var_692_1 + var_692_2 and not isNil(var_692_0) then
				local var_692_3 = (arg_689_1.time_ - var_692_1) / var_692_2

				if arg_689_1.var_.characterEffect1093ui_story and not isNil(var_692_0) then
					local var_692_4 = Mathf.Lerp(0, 0.5, var_692_3)

					arg_689_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_689_1.var_.characterEffect1093ui_story.fillRatio = var_692_4
				end
			end

			if arg_689_1.time_ >= var_692_1 + var_692_2 and arg_689_1.time_ < var_692_1 + var_692_2 + arg_692_0 and not isNil(var_692_0) and arg_689_1.var_.characterEffect1093ui_story then
				local var_692_5 = 0.5

				arg_689_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_689_1.var_.characterEffect1093ui_story.fillRatio = var_692_5
			end

			local var_692_6 = 0
			local var_692_7 = 0.075

			if var_692_6 < arg_689_1.time_ and arg_689_1.time_ <= var_692_6 + arg_692_0 then
				arg_689_1.talkMaxDuration = 0
				arg_689_1.dialogCg_.alpha = 1

				arg_689_1.dialog_:SetActive(true)
				SetActive(arg_689_1.leftNameGo_, true)

				local var_692_8 = arg_689_1:FormatText(StoryNameCfg[7].name)

				arg_689_1.leftNameTxt_.text = var_692_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_689_1.leftNameTxt_.transform)

				arg_689_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_689_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_689_1:RecordName(arg_689_1.leftNameTxt_.text)
				SetActive(arg_689_1.iconTrs_.gameObject, false)
				arg_689_1.callingController_:SetSelectedState("normal")

				local var_692_9 = arg_689_1:GetWordFromCfg(317021172)
				local var_692_10 = arg_689_1:FormatText(var_692_9.content)

				arg_689_1.text_.text = var_692_10

				LuaForUtil.ClearLinePrefixSymbol(arg_689_1.text_)

				local var_692_11 = 3
				local var_692_12 = utf8.len(var_692_10)
				local var_692_13 = var_692_11 <= 0 and var_692_7 or var_692_7 * (var_692_12 / var_692_11)

				if var_692_13 > 0 and var_692_7 < var_692_13 then
					arg_689_1.talkMaxDuration = var_692_13

					if var_692_13 + var_692_6 > arg_689_1.duration_ then
						arg_689_1.duration_ = var_692_13 + var_692_6
					end
				end

				arg_689_1.text_.text = var_692_10
				arg_689_1.typewritter.percent = 0

				arg_689_1.typewritter:SetDirty()
				arg_689_1:ShowNextGo(false)
				arg_689_1:RecordContent(arg_689_1.text_.text)
			end

			local var_692_14 = math.max(var_692_7, arg_689_1.talkMaxDuration)

			if var_692_6 <= arg_689_1.time_ and arg_689_1.time_ < var_692_6 + var_692_14 then
				arg_689_1.typewritter.percent = (arg_689_1.time_ - var_692_6) / var_692_14

				arg_689_1.typewritter:SetDirty()
			end

			if arg_689_1.time_ >= var_692_6 + var_692_14 and arg_689_1.time_ < var_692_6 + var_692_14 + arg_692_0 then
				arg_689_1.typewritter.percent = 1

				arg_689_1.typewritter:SetDirty()
				arg_689_1:ShowNextGo(true)
			end
		end
	end,
	Play317021173 = function(arg_693_0, arg_693_1)
		arg_693_1.time_ = 0
		arg_693_1.frameCnt_ = 0
		arg_693_1.state_ = "playing"
		arg_693_1.curTalkId_ = 317021173
		arg_693_1.duration_ = 7.93

		local var_693_0 = {
			zh = 7.933,
			ja = 7.633
		}
		local var_693_1 = manager.audio:GetLocalizationFlag()

		if var_693_0[var_693_1] ~= nil then
			arg_693_1.duration_ = var_693_0[var_693_1]
		end

		SetActive(arg_693_1.tipsGo_, false)

		function arg_693_1.onSingleLineFinish_()
			arg_693_1.onSingleLineUpdate_ = nil
			arg_693_1.onSingleLineFinish_ = nil
			arg_693_1.state_ = "waiting"
		end

		function arg_693_1.playNext_(arg_695_0)
			if arg_695_0 == 1 then
				arg_693_0:Play317021174(arg_693_1)
			end
		end

		function arg_693_1.onSingleLineUpdate_(arg_696_0)
			local var_696_0 = arg_693_1.actors_["1093ui_story"].transform
			local var_696_1 = 0

			if var_696_1 < arg_693_1.time_ and arg_693_1.time_ <= var_696_1 + arg_696_0 then
				arg_693_1.var_.moveOldPos1093ui_story = var_696_0.localPosition
			end

			local var_696_2 = 0.001

			if var_696_1 <= arg_693_1.time_ and arg_693_1.time_ < var_696_1 + var_696_2 then
				local var_696_3 = (arg_693_1.time_ - var_696_1) / var_696_2
				local var_696_4 = Vector3.New(0, -1.11, -5.88)

				var_696_0.localPosition = Vector3.Lerp(arg_693_1.var_.moveOldPos1093ui_story, var_696_4, var_696_3)

				local var_696_5 = manager.ui.mainCamera.transform.position - var_696_0.position

				var_696_0.forward = Vector3.New(var_696_5.x, var_696_5.y, var_696_5.z)

				local var_696_6 = var_696_0.localEulerAngles

				var_696_6.z = 0
				var_696_6.x = 0
				var_696_0.localEulerAngles = var_696_6
			end

			if arg_693_1.time_ >= var_696_1 + var_696_2 and arg_693_1.time_ < var_696_1 + var_696_2 + arg_696_0 then
				var_696_0.localPosition = Vector3.New(0, -1.11, -5.88)

				local var_696_7 = manager.ui.mainCamera.transform.position - var_696_0.position

				var_696_0.forward = Vector3.New(var_696_7.x, var_696_7.y, var_696_7.z)

				local var_696_8 = var_696_0.localEulerAngles

				var_696_8.z = 0
				var_696_8.x = 0
				var_696_0.localEulerAngles = var_696_8
			end

			local var_696_9 = arg_693_1.actors_["1093ui_story"]
			local var_696_10 = 0

			if var_696_10 < arg_693_1.time_ and arg_693_1.time_ <= var_696_10 + arg_696_0 and not isNil(var_696_9) and arg_693_1.var_.characterEffect1093ui_story == nil then
				arg_693_1.var_.characterEffect1093ui_story = var_696_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_696_11 = 0.200000002980232

			if var_696_10 <= arg_693_1.time_ and arg_693_1.time_ < var_696_10 + var_696_11 and not isNil(var_696_9) then
				local var_696_12 = (arg_693_1.time_ - var_696_10) / var_696_11

				if arg_693_1.var_.characterEffect1093ui_story and not isNil(var_696_9) then
					arg_693_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_693_1.time_ >= var_696_10 + var_696_11 and arg_693_1.time_ < var_696_10 + var_696_11 + arg_696_0 and not isNil(var_696_9) and arg_693_1.var_.characterEffect1093ui_story then
				arg_693_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_696_13 = 0

			if var_696_13 < arg_693_1.time_ and arg_693_1.time_ <= var_696_13 + arg_696_0 then
				arg_693_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action2_1")
			end

			local var_696_14 = 0

			if var_696_14 < arg_693_1.time_ and arg_693_1.time_ <= var_696_14 + arg_696_0 then
				arg_693_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface1202cva")
			end

			local var_696_15 = 0
			local var_696_16 = 0.9

			if var_696_15 < arg_693_1.time_ and arg_693_1.time_ <= var_696_15 + arg_696_0 then
				arg_693_1.talkMaxDuration = 0
				arg_693_1.dialogCg_.alpha = 1

				arg_693_1.dialog_:SetActive(true)
				SetActive(arg_693_1.leftNameGo_, true)

				local var_696_17 = arg_693_1:FormatText(StoryNameCfg[73].name)

				arg_693_1.leftNameTxt_.text = var_696_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_693_1.leftNameTxt_.transform)

				arg_693_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_693_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_693_1:RecordName(arg_693_1.leftNameTxt_.text)
				SetActive(arg_693_1.iconTrs_.gameObject, false)
				arg_693_1.callingController_:SetSelectedState("normal")

				local var_696_18 = arg_693_1:GetWordFromCfg(317021173)
				local var_696_19 = arg_693_1:FormatText(var_696_18.content)

				arg_693_1.text_.text = var_696_19

				LuaForUtil.ClearLinePrefixSymbol(arg_693_1.text_)

				local var_696_20 = 36
				local var_696_21 = utf8.len(var_696_19)
				local var_696_22 = var_696_20 <= 0 and var_696_16 or var_696_16 * (var_696_21 / var_696_20)

				if var_696_22 > 0 and var_696_16 < var_696_22 then
					arg_693_1.talkMaxDuration = var_696_22

					if var_696_22 + var_696_15 > arg_693_1.duration_ then
						arg_693_1.duration_ = var_696_22 + var_696_15
					end
				end

				arg_693_1.text_.text = var_696_19
				arg_693_1.typewritter.percent = 0

				arg_693_1.typewritter:SetDirty()
				arg_693_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021173", "story_v_out_317021.awb") ~= 0 then
					local var_696_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021173", "story_v_out_317021.awb") / 1000

					if var_696_23 + var_696_15 > arg_693_1.duration_ then
						arg_693_1.duration_ = var_696_23 + var_696_15
					end

					if var_696_18.prefab_name ~= "" and arg_693_1.actors_[var_696_18.prefab_name] ~= nil then
						local var_696_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_693_1.actors_[var_696_18.prefab_name].transform, "story_v_out_317021", "317021173", "story_v_out_317021.awb")

						arg_693_1:RecordAudio("317021173", var_696_24)
						arg_693_1:RecordAudio("317021173", var_696_24)
					else
						arg_693_1:AudioAction("play", "voice", "story_v_out_317021", "317021173", "story_v_out_317021.awb")
					end

					arg_693_1:RecordHistoryTalkVoice("story_v_out_317021", "317021173", "story_v_out_317021.awb")
				end

				arg_693_1:RecordContent(arg_693_1.text_.text)
			end

			local var_696_25 = math.max(var_696_16, arg_693_1.talkMaxDuration)

			if var_696_15 <= arg_693_1.time_ and arg_693_1.time_ < var_696_15 + var_696_25 then
				arg_693_1.typewritter.percent = (arg_693_1.time_ - var_696_15) / var_696_25

				arg_693_1.typewritter:SetDirty()
			end

			if arg_693_1.time_ >= var_696_15 + var_696_25 and arg_693_1.time_ < var_696_15 + var_696_25 + arg_696_0 then
				arg_693_1.typewritter.percent = 1

				arg_693_1.typewritter:SetDirty()
				arg_693_1:ShowNextGo(true)
			end
		end
	end,
	Play317021174 = function(arg_697_0, arg_697_1)
		arg_697_1.time_ = 0
		arg_697_1.frameCnt_ = 0
		arg_697_1.state_ = "playing"
		arg_697_1.curTalkId_ = 317021174
		arg_697_1.duration_ = 5

		SetActive(arg_697_1.tipsGo_, false)

		function arg_697_1.onSingleLineFinish_()
			arg_697_1.onSingleLineUpdate_ = nil
			arg_697_1.onSingleLineFinish_ = nil
			arg_697_1.state_ = "waiting"
		end

		function arg_697_1.playNext_(arg_699_0)
			if arg_699_0 == 1 then
				arg_697_0:Play317021175(arg_697_1)
			end
		end

		function arg_697_1.onSingleLineUpdate_(arg_700_0)
			local var_700_0 = arg_697_1.actors_["1093ui_story"]
			local var_700_1 = 0

			if var_700_1 < arg_697_1.time_ and arg_697_1.time_ <= var_700_1 + arg_700_0 and not isNil(var_700_0) and arg_697_1.var_.characterEffect1093ui_story == nil then
				arg_697_1.var_.characterEffect1093ui_story = var_700_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_700_2 = 0.200000002980232

			if var_700_1 <= arg_697_1.time_ and arg_697_1.time_ < var_700_1 + var_700_2 and not isNil(var_700_0) then
				local var_700_3 = (arg_697_1.time_ - var_700_1) / var_700_2

				if arg_697_1.var_.characterEffect1093ui_story and not isNil(var_700_0) then
					local var_700_4 = Mathf.Lerp(0, 0.5, var_700_3)

					arg_697_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_697_1.var_.characterEffect1093ui_story.fillRatio = var_700_4
				end
			end

			if arg_697_1.time_ >= var_700_1 + var_700_2 and arg_697_1.time_ < var_700_1 + var_700_2 + arg_700_0 and not isNil(var_700_0) and arg_697_1.var_.characterEffect1093ui_story then
				local var_700_5 = 0.5

				arg_697_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_697_1.var_.characterEffect1093ui_story.fillRatio = var_700_5
			end

			local var_700_6 = 0

			if var_700_6 < arg_697_1.time_ and arg_697_1.time_ <= var_700_6 + arg_700_0 then
				arg_697_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0101cva")
			end

			local var_700_7 = 0
			local var_700_8 = 0.55

			if var_700_7 < arg_697_1.time_ and arg_697_1.time_ <= var_700_7 + arg_700_0 then
				arg_697_1.talkMaxDuration = 0
				arg_697_1.dialogCg_.alpha = 1

				arg_697_1.dialog_:SetActive(true)
				SetActive(arg_697_1.leftNameGo_, false)

				arg_697_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_697_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_697_1:RecordName(arg_697_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_697_1.iconTrs_.gameObject, false)
				arg_697_1.callingController_:SetSelectedState("normal")

				local var_700_9 = arg_697_1:GetWordFromCfg(317021174)
				local var_700_10 = arg_697_1:FormatText(var_700_9.content)

				arg_697_1.text_.text = var_700_10

				LuaForUtil.ClearLinePrefixSymbol(arg_697_1.text_)

				local var_700_11 = 22
				local var_700_12 = utf8.len(var_700_10)
				local var_700_13 = var_700_11 <= 0 and var_700_8 or var_700_8 * (var_700_12 / var_700_11)

				if var_700_13 > 0 and var_700_8 < var_700_13 then
					arg_697_1.talkMaxDuration = var_700_13

					if var_700_13 + var_700_7 > arg_697_1.duration_ then
						arg_697_1.duration_ = var_700_13 + var_700_7
					end
				end

				arg_697_1.text_.text = var_700_10
				arg_697_1.typewritter.percent = 0

				arg_697_1.typewritter:SetDirty()
				arg_697_1:ShowNextGo(false)
				arg_697_1:RecordContent(arg_697_1.text_.text)
			end

			local var_700_14 = math.max(var_700_8, arg_697_1.talkMaxDuration)

			if var_700_7 <= arg_697_1.time_ and arg_697_1.time_ < var_700_7 + var_700_14 then
				arg_697_1.typewritter.percent = (arg_697_1.time_ - var_700_7) / var_700_14

				arg_697_1.typewritter:SetDirty()
			end

			if arg_697_1.time_ >= var_700_7 + var_700_14 and arg_697_1.time_ < var_700_7 + var_700_14 + arg_700_0 then
				arg_697_1.typewritter.percent = 1

				arg_697_1.typewritter:SetDirty()
				arg_697_1:ShowNextGo(true)
			end
		end
	end,
	Play317021175 = function(arg_701_0, arg_701_1)
		arg_701_1.time_ = 0
		arg_701_1.frameCnt_ = 0
		arg_701_1.state_ = "playing"
		arg_701_1.curTalkId_ = 317021175
		arg_701_1.duration_ = 6.7

		local var_701_0 = {
			zh = 6.366,
			ja = 6.7
		}
		local var_701_1 = manager.audio:GetLocalizationFlag()

		if var_701_0[var_701_1] ~= nil then
			arg_701_1.duration_ = var_701_0[var_701_1]
		end

		SetActive(arg_701_1.tipsGo_, false)

		function arg_701_1.onSingleLineFinish_()
			arg_701_1.onSingleLineUpdate_ = nil
			arg_701_1.onSingleLineFinish_ = nil
			arg_701_1.state_ = "waiting"
		end

		function arg_701_1.playNext_(arg_703_0)
			if arg_703_0 == 1 then
				arg_701_0:Play317021176(arg_701_1)
			end
		end

		function arg_701_1.onSingleLineUpdate_(arg_704_0)
			local var_704_0 = arg_701_1.actors_["1093ui_story"].transform
			local var_704_1 = 0

			if var_704_1 < arg_701_1.time_ and arg_701_1.time_ <= var_704_1 + arg_704_0 then
				arg_701_1.var_.moveOldPos1093ui_story = var_704_0.localPosition
			end

			local var_704_2 = 0.001

			if var_704_1 <= arg_701_1.time_ and arg_701_1.time_ < var_704_1 + var_704_2 then
				local var_704_3 = (arg_701_1.time_ - var_704_1) / var_704_2
				local var_704_4 = Vector3.New(0, -1.11, -5.88)

				var_704_0.localPosition = Vector3.Lerp(arg_701_1.var_.moveOldPos1093ui_story, var_704_4, var_704_3)

				local var_704_5 = manager.ui.mainCamera.transform.position - var_704_0.position

				var_704_0.forward = Vector3.New(var_704_5.x, var_704_5.y, var_704_5.z)

				local var_704_6 = var_704_0.localEulerAngles

				var_704_6.z = 0
				var_704_6.x = 0
				var_704_0.localEulerAngles = var_704_6
			end

			if arg_701_1.time_ >= var_704_1 + var_704_2 and arg_701_1.time_ < var_704_1 + var_704_2 + arg_704_0 then
				var_704_0.localPosition = Vector3.New(0, -1.11, -5.88)

				local var_704_7 = manager.ui.mainCamera.transform.position - var_704_0.position

				var_704_0.forward = Vector3.New(var_704_7.x, var_704_7.y, var_704_7.z)

				local var_704_8 = var_704_0.localEulerAngles

				var_704_8.z = 0
				var_704_8.x = 0
				var_704_0.localEulerAngles = var_704_8
			end

			local var_704_9 = arg_701_1.actors_["1093ui_story"]
			local var_704_10 = 0

			if var_704_10 < arg_701_1.time_ and arg_701_1.time_ <= var_704_10 + arg_704_0 and not isNil(var_704_9) and arg_701_1.var_.characterEffect1093ui_story == nil then
				arg_701_1.var_.characterEffect1093ui_story = var_704_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_704_11 = 0.200000002980232

			if var_704_10 <= arg_701_1.time_ and arg_701_1.time_ < var_704_10 + var_704_11 and not isNil(var_704_9) then
				local var_704_12 = (arg_701_1.time_ - var_704_10) / var_704_11

				if arg_701_1.var_.characterEffect1093ui_story and not isNil(var_704_9) then
					arg_701_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_701_1.time_ >= var_704_10 + var_704_11 and arg_701_1.time_ < var_704_10 + var_704_11 + arg_704_0 and not isNil(var_704_9) and arg_701_1.var_.characterEffect1093ui_story then
				arg_701_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_704_13 = 0

			if var_704_13 < arg_701_1.time_ and arg_701_1.time_ <= var_704_13 + arg_704_0 then
				arg_701_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action2_2")
			end

			local var_704_14 = 0

			if var_704_14 < arg_701_1.time_ and arg_701_1.time_ <= var_704_14 + arg_704_0 then
				arg_701_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0202cva")
			end

			local var_704_15 = 0
			local var_704_16 = 0.575

			if var_704_15 < arg_701_1.time_ and arg_701_1.time_ <= var_704_15 + arg_704_0 then
				arg_701_1.talkMaxDuration = 0
				arg_701_1.dialogCg_.alpha = 1

				arg_701_1.dialog_:SetActive(true)
				SetActive(arg_701_1.leftNameGo_, true)

				local var_704_17 = arg_701_1:FormatText(StoryNameCfg[73].name)

				arg_701_1.leftNameTxt_.text = var_704_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_701_1.leftNameTxt_.transform)

				arg_701_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_701_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_701_1:RecordName(arg_701_1.leftNameTxt_.text)
				SetActive(arg_701_1.iconTrs_.gameObject, false)
				arg_701_1.callingController_:SetSelectedState("normal")

				local var_704_18 = arg_701_1:GetWordFromCfg(317021175)
				local var_704_19 = arg_701_1:FormatText(var_704_18.content)

				arg_701_1.text_.text = var_704_19

				LuaForUtil.ClearLinePrefixSymbol(arg_701_1.text_)

				local var_704_20 = 23
				local var_704_21 = utf8.len(var_704_19)
				local var_704_22 = var_704_20 <= 0 and var_704_16 or var_704_16 * (var_704_21 / var_704_20)

				if var_704_22 > 0 and var_704_16 < var_704_22 then
					arg_701_1.talkMaxDuration = var_704_22

					if var_704_22 + var_704_15 > arg_701_1.duration_ then
						arg_701_1.duration_ = var_704_22 + var_704_15
					end
				end

				arg_701_1.text_.text = var_704_19
				arg_701_1.typewritter.percent = 0

				arg_701_1.typewritter:SetDirty()
				arg_701_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021175", "story_v_out_317021.awb") ~= 0 then
					local var_704_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021175", "story_v_out_317021.awb") / 1000

					if var_704_23 + var_704_15 > arg_701_1.duration_ then
						arg_701_1.duration_ = var_704_23 + var_704_15
					end

					if var_704_18.prefab_name ~= "" and arg_701_1.actors_[var_704_18.prefab_name] ~= nil then
						local var_704_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_701_1.actors_[var_704_18.prefab_name].transform, "story_v_out_317021", "317021175", "story_v_out_317021.awb")

						arg_701_1:RecordAudio("317021175", var_704_24)
						arg_701_1:RecordAudio("317021175", var_704_24)
					else
						arg_701_1:AudioAction("play", "voice", "story_v_out_317021", "317021175", "story_v_out_317021.awb")
					end

					arg_701_1:RecordHistoryTalkVoice("story_v_out_317021", "317021175", "story_v_out_317021.awb")
				end

				arg_701_1:RecordContent(arg_701_1.text_.text)
			end

			local var_704_25 = math.max(var_704_16, arg_701_1.talkMaxDuration)

			if var_704_15 <= arg_701_1.time_ and arg_701_1.time_ < var_704_15 + var_704_25 then
				arg_701_1.typewritter.percent = (arg_701_1.time_ - var_704_15) / var_704_25

				arg_701_1.typewritter:SetDirty()
			end

			if arg_701_1.time_ >= var_704_15 + var_704_25 and arg_701_1.time_ < var_704_15 + var_704_25 + arg_704_0 then
				arg_701_1.typewritter.percent = 1

				arg_701_1.typewritter:SetDirty()
				arg_701_1:ShowNextGo(true)
			end
		end
	end,
	Play317021176 = function(arg_705_0, arg_705_1)
		arg_705_1.time_ = 0
		arg_705_1.frameCnt_ = 0
		arg_705_1.state_ = "playing"
		arg_705_1.curTalkId_ = 317021176
		arg_705_1.duration_ = 9.4

		local var_705_0 = {
			zh = 9.4,
			ja = 7.5
		}
		local var_705_1 = manager.audio:GetLocalizationFlag()

		if var_705_0[var_705_1] ~= nil then
			arg_705_1.duration_ = var_705_0[var_705_1]
		end

		SetActive(arg_705_1.tipsGo_, false)

		function arg_705_1.onSingleLineFinish_()
			arg_705_1.onSingleLineUpdate_ = nil
			arg_705_1.onSingleLineFinish_ = nil
			arg_705_1.state_ = "waiting"
		end

		function arg_705_1.playNext_(arg_707_0)
			if arg_707_0 == 1 then
				arg_705_0:Play317021177(arg_705_1)
			end
		end

		function arg_705_1.onSingleLineUpdate_(arg_708_0)
			local var_708_0 = arg_705_1.actors_["1093ui_story"]
			local var_708_1 = 0

			if var_708_1 < arg_705_1.time_ and arg_705_1.time_ <= var_708_1 + arg_708_0 and not isNil(var_708_0) and arg_705_1.var_.characterEffect1093ui_story == nil then
				arg_705_1.var_.characterEffect1093ui_story = var_708_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_708_2 = 0.200000002980232

			if var_708_1 <= arg_705_1.time_ and arg_705_1.time_ < var_708_1 + var_708_2 and not isNil(var_708_0) then
				local var_708_3 = (arg_705_1.time_ - var_708_1) / var_708_2

				if arg_705_1.var_.characterEffect1093ui_story and not isNil(var_708_0) then
					local var_708_4 = Mathf.Lerp(0, 0.5, var_708_3)

					arg_705_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_705_1.var_.characterEffect1093ui_story.fillRatio = var_708_4
				end
			end

			if arg_705_1.time_ >= var_708_1 + var_708_2 and arg_705_1.time_ < var_708_1 + var_708_2 + arg_708_0 and not isNil(var_708_0) and arg_705_1.var_.characterEffect1093ui_story then
				local var_708_5 = 0.5

				arg_705_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_705_1.var_.characterEffect1093ui_story.fillRatio = var_708_5
			end

			local var_708_6 = 0
			local var_708_7 = 1.1

			if var_708_6 < arg_705_1.time_ and arg_705_1.time_ <= var_708_6 + arg_708_0 then
				arg_705_1.talkMaxDuration = 0
				arg_705_1.dialogCg_.alpha = 1

				arg_705_1.dialog_:SetActive(true)
				SetActive(arg_705_1.leftNameGo_, true)

				local var_708_8 = arg_705_1:FormatText(StoryNameCfg[10].name)

				arg_705_1.leftNameTxt_.text = var_708_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_705_1.leftNameTxt_.transform)

				arg_705_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_705_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_705_1:RecordName(arg_705_1.leftNameTxt_.text)
				SetActive(arg_705_1.iconTrs_.gameObject, true)
				arg_705_1.iconController_:SetSelectedState("hero")

				arg_705_1.icon_.sprite = getSpriteWithoutAtlas("TextureConfig/Story/Character/" .. "story_mmr")

				arg_705_1.callingController_:SetSelectedState("normal")

				arg_705_1.keyicon_.color = Color.New(1, 1, 1)
				arg_705_1.icon_.color = Color.New(1, 1, 1)

				local var_708_9 = arg_705_1:GetWordFromCfg(317021176)
				local var_708_10 = arg_705_1:FormatText(var_708_9.content)

				arg_705_1.text_.text = var_708_10

				LuaForUtil.ClearLinePrefixSymbol(arg_705_1.text_)

				local var_708_11 = 44
				local var_708_12 = utf8.len(var_708_10)
				local var_708_13 = var_708_11 <= 0 and var_708_7 or var_708_7 * (var_708_12 / var_708_11)

				if var_708_13 > 0 and var_708_7 < var_708_13 then
					arg_705_1.talkMaxDuration = var_708_13

					if var_708_13 + var_708_6 > arg_705_1.duration_ then
						arg_705_1.duration_ = var_708_13 + var_708_6
					end
				end

				arg_705_1.text_.text = var_708_10
				arg_705_1.typewritter.percent = 0

				arg_705_1.typewritter:SetDirty()
				arg_705_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021176", "story_v_out_317021.awb") ~= 0 then
					local var_708_14 = manager.audio:GetVoiceLength("story_v_out_317021", "317021176", "story_v_out_317021.awb") / 1000

					if var_708_14 + var_708_6 > arg_705_1.duration_ then
						arg_705_1.duration_ = var_708_14 + var_708_6
					end

					if var_708_9.prefab_name ~= "" and arg_705_1.actors_[var_708_9.prefab_name] ~= nil then
						local var_708_15 = LuaForUtil.PlayVoiceWithCriLipsync(arg_705_1.actors_[var_708_9.prefab_name].transform, "story_v_out_317021", "317021176", "story_v_out_317021.awb")

						arg_705_1:RecordAudio("317021176", var_708_15)
						arg_705_1:RecordAudio("317021176", var_708_15)
					else
						arg_705_1:AudioAction("play", "voice", "story_v_out_317021", "317021176", "story_v_out_317021.awb")
					end

					arg_705_1:RecordHistoryTalkVoice("story_v_out_317021", "317021176", "story_v_out_317021.awb")
				end

				arg_705_1:RecordContent(arg_705_1.text_.text)
			end

			local var_708_16 = math.max(var_708_7, arg_705_1.talkMaxDuration)

			if var_708_6 <= arg_705_1.time_ and arg_705_1.time_ < var_708_6 + var_708_16 then
				arg_705_1.typewritter.percent = (arg_705_1.time_ - var_708_6) / var_708_16

				arg_705_1.typewritter:SetDirty()
			end

			if arg_705_1.time_ >= var_708_6 + var_708_16 and arg_705_1.time_ < var_708_6 + var_708_16 + arg_708_0 then
				arg_705_1.typewritter.percent = 1

				arg_705_1.typewritter:SetDirty()
				arg_705_1:ShowNextGo(true)
			end
		end
	end,
	Play317021177 = function(arg_709_0, arg_709_1)
		arg_709_1.time_ = 0
		arg_709_1.frameCnt_ = 0
		arg_709_1.state_ = "playing"
		arg_709_1.curTalkId_ = 317021177
		arg_709_1.duration_ = 5.53

		local var_709_0 = {
			zh = 5.266,
			ja = 5.533
		}
		local var_709_1 = manager.audio:GetLocalizationFlag()

		if var_709_0[var_709_1] ~= nil then
			arg_709_1.duration_ = var_709_0[var_709_1]
		end

		SetActive(arg_709_1.tipsGo_, false)

		function arg_709_1.onSingleLineFinish_()
			arg_709_1.onSingleLineUpdate_ = nil
			arg_709_1.onSingleLineFinish_ = nil
			arg_709_1.state_ = "waiting"
		end

		function arg_709_1.playNext_(arg_711_0)
			if arg_711_0 == 1 then
				arg_709_0:Play317021178(arg_709_1)
			end
		end

		function arg_709_1.onSingleLineUpdate_(arg_712_0)
			local var_712_0 = arg_709_1.actors_["1093ui_story"].transform
			local var_712_1 = 0

			if var_712_1 < arg_709_1.time_ and arg_709_1.time_ <= var_712_1 + arg_712_0 then
				arg_709_1.var_.moveOldPos1093ui_story = var_712_0.localPosition
			end

			local var_712_2 = 0.001

			if var_712_1 <= arg_709_1.time_ and arg_709_1.time_ < var_712_1 + var_712_2 then
				local var_712_3 = (arg_709_1.time_ - var_712_1) / var_712_2
				local var_712_4 = Vector3.New(0, -1.11, -5.88)

				var_712_0.localPosition = Vector3.Lerp(arg_709_1.var_.moveOldPos1093ui_story, var_712_4, var_712_3)

				local var_712_5 = manager.ui.mainCamera.transform.position - var_712_0.position

				var_712_0.forward = Vector3.New(var_712_5.x, var_712_5.y, var_712_5.z)

				local var_712_6 = var_712_0.localEulerAngles

				var_712_6.z = 0
				var_712_6.x = 0
				var_712_0.localEulerAngles = var_712_6
			end

			if arg_709_1.time_ >= var_712_1 + var_712_2 and arg_709_1.time_ < var_712_1 + var_712_2 + arg_712_0 then
				var_712_0.localPosition = Vector3.New(0, -1.11, -5.88)

				local var_712_7 = manager.ui.mainCamera.transform.position - var_712_0.position

				var_712_0.forward = Vector3.New(var_712_7.x, var_712_7.y, var_712_7.z)

				local var_712_8 = var_712_0.localEulerAngles

				var_712_8.z = 0
				var_712_8.x = 0
				var_712_0.localEulerAngles = var_712_8
			end

			local var_712_9 = arg_709_1.actors_["1093ui_story"]
			local var_712_10 = 0

			if var_712_10 < arg_709_1.time_ and arg_709_1.time_ <= var_712_10 + arg_712_0 and not isNil(var_712_9) and arg_709_1.var_.characterEffect1093ui_story == nil then
				arg_709_1.var_.characterEffect1093ui_story = var_712_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_712_11 = 0.200000002980232

			if var_712_10 <= arg_709_1.time_ and arg_709_1.time_ < var_712_10 + var_712_11 and not isNil(var_712_9) then
				local var_712_12 = (arg_709_1.time_ - var_712_10) / var_712_11

				if arg_709_1.var_.characterEffect1093ui_story and not isNil(var_712_9) then
					arg_709_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_709_1.time_ >= var_712_10 + var_712_11 and arg_709_1.time_ < var_712_10 + var_712_11 + arg_712_0 and not isNil(var_712_9) and arg_709_1.var_.characterEffect1093ui_story then
				arg_709_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_712_13 = 0

			if var_712_13 < arg_709_1.time_ and arg_709_1.time_ <= var_712_13 + arg_712_0 then
				arg_709_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action3_1")
			end

			local var_712_14 = 0

			if var_712_14 < arg_709_1.time_ and arg_709_1.time_ <= var_712_14 + arg_712_0 then
				arg_709_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_712_15 = 0
			local var_712_16 = 0.55

			if var_712_15 < arg_709_1.time_ and arg_709_1.time_ <= var_712_15 + arg_712_0 then
				arg_709_1.talkMaxDuration = 0
				arg_709_1.dialogCg_.alpha = 1

				arg_709_1.dialog_:SetActive(true)
				SetActive(arg_709_1.leftNameGo_, true)

				local var_712_17 = arg_709_1:FormatText(StoryNameCfg[73].name)

				arg_709_1.leftNameTxt_.text = var_712_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_709_1.leftNameTxt_.transform)

				arg_709_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_709_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_709_1:RecordName(arg_709_1.leftNameTxt_.text)
				SetActive(arg_709_1.iconTrs_.gameObject, false)
				arg_709_1.callingController_:SetSelectedState("normal")

				local var_712_18 = arg_709_1:GetWordFromCfg(317021177)
				local var_712_19 = arg_709_1:FormatText(var_712_18.content)

				arg_709_1.text_.text = var_712_19

				LuaForUtil.ClearLinePrefixSymbol(arg_709_1.text_)

				local var_712_20 = 22
				local var_712_21 = utf8.len(var_712_19)
				local var_712_22 = var_712_20 <= 0 and var_712_16 or var_712_16 * (var_712_21 / var_712_20)

				if var_712_22 > 0 and var_712_16 < var_712_22 then
					arg_709_1.talkMaxDuration = var_712_22

					if var_712_22 + var_712_15 > arg_709_1.duration_ then
						arg_709_1.duration_ = var_712_22 + var_712_15
					end
				end

				arg_709_1.text_.text = var_712_19
				arg_709_1.typewritter.percent = 0

				arg_709_1.typewritter:SetDirty()
				arg_709_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021177", "story_v_out_317021.awb") ~= 0 then
					local var_712_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021177", "story_v_out_317021.awb") / 1000

					if var_712_23 + var_712_15 > arg_709_1.duration_ then
						arg_709_1.duration_ = var_712_23 + var_712_15
					end

					if var_712_18.prefab_name ~= "" and arg_709_1.actors_[var_712_18.prefab_name] ~= nil then
						local var_712_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_709_1.actors_[var_712_18.prefab_name].transform, "story_v_out_317021", "317021177", "story_v_out_317021.awb")

						arg_709_1:RecordAudio("317021177", var_712_24)
						arg_709_1:RecordAudio("317021177", var_712_24)
					else
						arg_709_1:AudioAction("play", "voice", "story_v_out_317021", "317021177", "story_v_out_317021.awb")
					end

					arg_709_1:RecordHistoryTalkVoice("story_v_out_317021", "317021177", "story_v_out_317021.awb")
				end

				arg_709_1:RecordContent(arg_709_1.text_.text)
			end

			local var_712_25 = math.max(var_712_16, arg_709_1.talkMaxDuration)

			if var_712_15 <= arg_709_1.time_ and arg_709_1.time_ < var_712_15 + var_712_25 then
				arg_709_1.typewritter.percent = (arg_709_1.time_ - var_712_15) / var_712_25

				arg_709_1.typewritter:SetDirty()
			end

			if arg_709_1.time_ >= var_712_15 + var_712_25 and arg_709_1.time_ < var_712_15 + var_712_25 + arg_712_0 then
				arg_709_1.typewritter.percent = 1

				arg_709_1.typewritter:SetDirty()
				arg_709_1:ShowNextGo(true)
			end
		end
	end,
	Play317021178 = function(arg_713_0, arg_713_1)
		arg_713_1.time_ = 0
		arg_713_1.frameCnt_ = 0
		arg_713_1.state_ = "playing"
		arg_713_1.curTalkId_ = 317021178
		arg_713_1.duration_ = 5

		SetActive(arg_713_1.tipsGo_, false)

		function arg_713_1.onSingleLineFinish_()
			arg_713_1.onSingleLineUpdate_ = nil
			arg_713_1.onSingleLineFinish_ = nil
			arg_713_1.state_ = "waiting"
		end

		function arg_713_1.playNext_(arg_715_0)
			if arg_715_0 == 1 then
				arg_713_0:Play317021179(arg_713_1)
			end
		end

		function arg_713_1.onSingleLineUpdate_(arg_716_0)
			local var_716_0 = arg_713_1.actors_["1093ui_story"].transform
			local var_716_1 = 0

			if var_716_1 < arg_713_1.time_ and arg_713_1.time_ <= var_716_1 + arg_716_0 then
				arg_713_1.var_.moveOldPos1093ui_story = var_716_0.localPosition
			end

			local var_716_2 = 0.001

			if var_716_1 <= arg_713_1.time_ and arg_713_1.time_ < var_716_1 + var_716_2 then
				local var_716_3 = (arg_713_1.time_ - var_716_1) / var_716_2
				local var_716_4 = Vector3.New(0, 100, 0)

				var_716_0.localPosition = Vector3.Lerp(arg_713_1.var_.moveOldPos1093ui_story, var_716_4, var_716_3)

				local var_716_5 = manager.ui.mainCamera.transform.position - var_716_0.position

				var_716_0.forward = Vector3.New(var_716_5.x, var_716_5.y, var_716_5.z)

				local var_716_6 = var_716_0.localEulerAngles

				var_716_6.z = 0
				var_716_6.x = 0
				var_716_0.localEulerAngles = var_716_6
			end

			if arg_713_1.time_ >= var_716_1 + var_716_2 and arg_713_1.time_ < var_716_1 + var_716_2 + arg_716_0 then
				var_716_0.localPosition = Vector3.New(0, 100, 0)

				local var_716_7 = manager.ui.mainCamera.transform.position - var_716_0.position

				var_716_0.forward = Vector3.New(var_716_7.x, var_716_7.y, var_716_7.z)

				local var_716_8 = var_716_0.localEulerAngles

				var_716_8.z = 0
				var_716_8.x = 0
				var_716_0.localEulerAngles = var_716_8
			end

			local var_716_9 = arg_713_1.actors_["1093ui_story"]
			local var_716_10 = 0

			if var_716_10 < arg_713_1.time_ and arg_713_1.time_ <= var_716_10 + arg_716_0 and not isNil(var_716_9) and arg_713_1.var_.characterEffect1093ui_story == nil then
				arg_713_1.var_.characterEffect1093ui_story = var_716_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_716_11 = 0.200000002980232

			if var_716_10 <= arg_713_1.time_ and arg_713_1.time_ < var_716_10 + var_716_11 and not isNil(var_716_9) then
				local var_716_12 = (arg_713_1.time_ - var_716_10) / var_716_11

				if arg_713_1.var_.characterEffect1093ui_story and not isNil(var_716_9) then
					local var_716_13 = Mathf.Lerp(0, 0.5, var_716_12)

					arg_713_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_713_1.var_.characterEffect1093ui_story.fillRatio = var_716_13
				end
			end

			if arg_713_1.time_ >= var_716_10 + var_716_11 and arg_713_1.time_ < var_716_10 + var_716_11 + arg_716_0 and not isNil(var_716_9) and arg_713_1.var_.characterEffect1093ui_story then
				local var_716_14 = 0.5

				arg_713_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_713_1.var_.characterEffect1093ui_story.fillRatio = var_716_14
			end

			local var_716_15 = 0
			local var_716_16 = 1.55

			if var_716_15 < arg_713_1.time_ and arg_713_1.time_ <= var_716_15 + arg_716_0 then
				arg_713_1.talkMaxDuration = 0
				arg_713_1.dialogCg_.alpha = 1

				arg_713_1.dialog_:SetActive(true)
				SetActive(arg_713_1.leftNameGo_, false)

				arg_713_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_713_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_713_1:RecordName(arg_713_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_713_1.iconTrs_.gameObject, false)
				arg_713_1.callingController_:SetSelectedState("normal")

				local var_716_17 = arg_713_1:GetWordFromCfg(317021178)
				local var_716_18 = arg_713_1:FormatText(var_716_17.content)

				arg_713_1.text_.text = var_716_18

				LuaForUtil.ClearLinePrefixSymbol(arg_713_1.text_)

				local var_716_19 = 62
				local var_716_20 = utf8.len(var_716_18)
				local var_716_21 = var_716_19 <= 0 and var_716_16 or var_716_16 * (var_716_20 / var_716_19)

				if var_716_21 > 0 and var_716_16 < var_716_21 then
					arg_713_1.talkMaxDuration = var_716_21

					if var_716_21 + var_716_15 > arg_713_1.duration_ then
						arg_713_1.duration_ = var_716_21 + var_716_15
					end
				end

				arg_713_1.text_.text = var_716_18
				arg_713_1.typewritter.percent = 0

				arg_713_1.typewritter:SetDirty()
				arg_713_1:ShowNextGo(false)
				arg_713_1:RecordContent(arg_713_1.text_.text)
			end

			local var_716_22 = math.max(var_716_16, arg_713_1.talkMaxDuration)

			if var_716_15 <= arg_713_1.time_ and arg_713_1.time_ < var_716_15 + var_716_22 then
				arg_713_1.typewritter.percent = (arg_713_1.time_ - var_716_15) / var_716_22

				arg_713_1.typewritter:SetDirty()
			end

			if arg_713_1.time_ >= var_716_15 + var_716_22 and arg_713_1.time_ < var_716_15 + var_716_22 + arg_716_0 then
				arg_713_1.typewritter.percent = 1

				arg_713_1.typewritter:SetDirty()
				arg_713_1:ShowNextGo(true)
			end
		end
	end,
	Play317021179 = function(arg_717_0, arg_717_1)
		arg_717_1.time_ = 0
		arg_717_1.frameCnt_ = 0
		arg_717_1.state_ = "playing"
		arg_717_1.curTalkId_ = 317021179
		arg_717_1.duration_ = 5

		SetActive(arg_717_1.tipsGo_, false)

		function arg_717_1.onSingleLineFinish_()
			arg_717_1.onSingleLineUpdate_ = nil
			arg_717_1.onSingleLineFinish_ = nil
			arg_717_1.state_ = "waiting"
		end

		function arg_717_1.playNext_(arg_719_0)
			if arg_719_0 == 1 then
				arg_717_0:Play317021180(arg_717_1)
			end
		end

		function arg_717_1.onSingleLineUpdate_(arg_720_0)
			local var_720_0 = 0
			local var_720_1 = 0.325

			if var_720_0 < arg_717_1.time_ and arg_717_1.time_ <= var_720_0 + arg_720_0 then
				arg_717_1.talkMaxDuration = 0
				arg_717_1.dialogCg_.alpha = 1

				arg_717_1.dialog_:SetActive(true)
				SetActive(arg_717_1.leftNameGo_, true)

				local var_720_2 = arg_717_1:FormatText(StoryNameCfg[7].name)

				arg_717_1.leftNameTxt_.text = var_720_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_717_1.leftNameTxt_.transform)

				arg_717_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_717_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_717_1:RecordName(arg_717_1.leftNameTxt_.text)
				SetActive(arg_717_1.iconTrs_.gameObject, false)
				arg_717_1.callingController_:SetSelectedState("normal")

				local var_720_3 = arg_717_1:GetWordFromCfg(317021179)
				local var_720_4 = arg_717_1:FormatText(var_720_3.content)

				arg_717_1.text_.text = var_720_4

				LuaForUtil.ClearLinePrefixSymbol(arg_717_1.text_)

				local var_720_5 = 13
				local var_720_6 = utf8.len(var_720_4)
				local var_720_7 = var_720_5 <= 0 and var_720_1 or var_720_1 * (var_720_6 / var_720_5)

				if var_720_7 > 0 and var_720_1 < var_720_7 then
					arg_717_1.talkMaxDuration = var_720_7

					if var_720_7 + var_720_0 > arg_717_1.duration_ then
						arg_717_1.duration_ = var_720_7 + var_720_0
					end
				end

				arg_717_1.text_.text = var_720_4
				arg_717_1.typewritter.percent = 0

				arg_717_1.typewritter:SetDirty()
				arg_717_1:ShowNextGo(false)
				arg_717_1:RecordContent(arg_717_1.text_.text)
			end

			local var_720_8 = math.max(var_720_1, arg_717_1.talkMaxDuration)

			if var_720_0 <= arg_717_1.time_ and arg_717_1.time_ < var_720_0 + var_720_8 then
				arg_717_1.typewritter.percent = (arg_717_1.time_ - var_720_0) / var_720_8

				arg_717_1.typewritter:SetDirty()
			end

			if arg_717_1.time_ >= var_720_0 + var_720_8 and arg_717_1.time_ < var_720_0 + var_720_8 + arg_720_0 then
				arg_717_1.typewritter.percent = 1

				arg_717_1.typewritter:SetDirty()
				arg_717_1:ShowNextGo(true)
			end
		end
	end,
	Play317021180 = function(arg_721_0, arg_721_1)
		arg_721_1.time_ = 0
		arg_721_1.frameCnt_ = 0
		arg_721_1.state_ = "playing"
		arg_721_1.curTalkId_ = 317021180
		arg_721_1.duration_ = 2.63

		local var_721_0 = {
			zh = 2.566,
			ja = 2.633
		}
		local var_721_1 = manager.audio:GetLocalizationFlag()

		if var_721_0[var_721_1] ~= nil then
			arg_721_1.duration_ = var_721_0[var_721_1]
		end

		SetActive(arg_721_1.tipsGo_, false)

		function arg_721_1.onSingleLineFinish_()
			arg_721_1.onSingleLineUpdate_ = nil
			arg_721_1.onSingleLineFinish_ = nil
			arg_721_1.state_ = "waiting"
		end

		function arg_721_1.playNext_(arg_723_0)
			if arg_723_0 == 1 then
				arg_721_0:Play317021181(arg_721_1)
			end
		end

		function arg_721_1.onSingleLineUpdate_(arg_724_0)
			local var_724_0 = arg_721_1.actors_["1093ui_story"].transform
			local var_724_1 = 0

			if var_724_1 < arg_721_1.time_ and arg_721_1.time_ <= var_724_1 + arg_724_0 then
				arg_721_1.var_.moveOldPos1093ui_story = var_724_0.localPosition
			end

			local var_724_2 = 0.001

			if var_724_1 <= arg_721_1.time_ and arg_721_1.time_ < var_724_1 + var_724_2 then
				local var_724_3 = (arg_721_1.time_ - var_724_1) / var_724_2
				local var_724_4 = Vector3.New(0, -1.11, -5.88)

				var_724_0.localPosition = Vector3.Lerp(arg_721_1.var_.moveOldPos1093ui_story, var_724_4, var_724_3)

				local var_724_5 = manager.ui.mainCamera.transform.position - var_724_0.position

				var_724_0.forward = Vector3.New(var_724_5.x, var_724_5.y, var_724_5.z)

				local var_724_6 = var_724_0.localEulerAngles

				var_724_6.z = 0
				var_724_6.x = 0
				var_724_0.localEulerAngles = var_724_6
			end

			if arg_721_1.time_ >= var_724_1 + var_724_2 and arg_721_1.time_ < var_724_1 + var_724_2 + arg_724_0 then
				var_724_0.localPosition = Vector3.New(0, -1.11, -5.88)

				local var_724_7 = manager.ui.mainCamera.transform.position - var_724_0.position

				var_724_0.forward = Vector3.New(var_724_7.x, var_724_7.y, var_724_7.z)

				local var_724_8 = var_724_0.localEulerAngles

				var_724_8.z = 0
				var_724_8.x = 0
				var_724_0.localEulerAngles = var_724_8
			end

			local var_724_9 = arg_721_1.actors_["1093ui_story"]
			local var_724_10 = 0

			if var_724_10 < arg_721_1.time_ and arg_721_1.time_ <= var_724_10 + arg_724_0 and not isNil(var_724_9) and arg_721_1.var_.characterEffect1093ui_story == nil then
				arg_721_1.var_.characterEffect1093ui_story = var_724_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_724_11 = 0.200000002980232

			if var_724_10 <= arg_721_1.time_ and arg_721_1.time_ < var_724_10 + var_724_11 and not isNil(var_724_9) then
				local var_724_12 = (arg_721_1.time_ - var_724_10) / var_724_11

				if arg_721_1.var_.characterEffect1093ui_story and not isNil(var_724_9) then
					arg_721_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_721_1.time_ >= var_724_10 + var_724_11 and arg_721_1.time_ < var_724_10 + var_724_11 + arg_724_0 and not isNil(var_724_9) and arg_721_1.var_.characterEffect1093ui_story then
				arg_721_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_724_13 = 0

			if var_724_13 < arg_721_1.time_ and arg_721_1.time_ <= var_724_13 + arg_724_0 then
				arg_721_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action1_1")
			end

			local var_724_14 = 0

			if var_724_14 < arg_721_1.time_ and arg_721_1.time_ <= var_724_14 + arg_724_0 then
				arg_721_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_724_15 = 0
			local var_724_16 = 0.225

			if var_724_15 < arg_721_1.time_ and arg_721_1.time_ <= var_724_15 + arg_724_0 then
				arg_721_1.talkMaxDuration = 0
				arg_721_1.dialogCg_.alpha = 1

				arg_721_1.dialog_:SetActive(true)
				SetActive(arg_721_1.leftNameGo_, true)

				local var_724_17 = arg_721_1:FormatText(StoryNameCfg[73].name)

				arg_721_1.leftNameTxt_.text = var_724_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_721_1.leftNameTxt_.transform)

				arg_721_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_721_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_721_1:RecordName(arg_721_1.leftNameTxt_.text)
				SetActive(arg_721_1.iconTrs_.gameObject, false)
				arg_721_1.callingController_:SetSelectedState("normal")

				local var_724_18 = arg_721_1:GetWordFromCfg(317021180)
				local var_724_19 = arg_721_1:FormatText(var_724_18.content)

				arg_721_1.text_.text = var_724_19

				LuaForUtil.ClearLinePrefixSymbol(arg_721_1.text_)

				local var_724_20 = 9
				local var_724_21 = utf8.len(var_724_19)
				local var_724_22 = var_724_20 <= 0 and var_724_16 or var_724_16 * (var_724_21 / var_724_20)

				if var_724_22 > 0 and var_724_16 < var_724_22 then
					arg_721_1.talkMaxDuration = var_724_22

					if var_724_22 + var_724_15 > arg_721_1.duration_ then
						arg_721_1.duration_ = var_724_22 + var_724_15
					end
				end

				arg_721_1.text_.text = var_724_19
				arg_721_1.typewritter.percent = 0

				arg_721_1.typewritter:SetDirty()
				arg_721_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021180", "story_v_out_317021.awb") ~= 0 then
					local var_724_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021180", "story_v_out_317021.awb") / 1000

					if var_724_23 + var_724_15 > arg_721_1.duration_ then
						arg_721_1.duration_ = var_724_23 + var_724_15
					end

					if var_724_18.prefab_name ~= "" and arg_721_1.actors_[var_724_18.prefab_name] ~= nil then
						local var_724_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_721_1.actors_[var_724_18.prefab_name].transform, "story_v_out_317021", "317021180", "story_v_out_317021.awb")

						arg_721_1:RecordAudio("317021180", var_724_24)
						arg_721_1:RecordAudio("317021180", var_724_24)
					else
						arg_721_1:AudioAction("play", "voice", "story_v_out_317021", "317021180", "story_v_out_317021.awb")
					end

					arg_721_1:RecordHistoryTalkVoice("story_v_out_317021", "317021180", "story_v_out_317021.awb")
				end

				arg_721_1:RecordContent(arg_721_1.text_.text)
			end

			local var_724_25 = math.max(var_724_16, arg_721_1.talkMaxDuration)

			if var_724_15 <= arg_721_1.time_ and arg_721_1.time_ < var_724_15 + var_724_25 then
				arg_721_1.typewritter.percent = (arg_721_1.time_ - var_724_15) / var_724_25

				arg_721_1.typewritter:SetDirty()
			end

			if arg_721_1.time_ >= var_724_15 + var_724_25 and arg_721_1.time_ < var_724_15 + var_724_25 + arg_724_0 then
				arg_721_1.typewritter.percent = 1

				arg_721_1.typewritter:SetDirty()
				arg_721_1:ShowNextGo(true)
			end
		end
	end,
	Play317021181 = function(arg_725_0, arg_725_1)
		arg_725_1.time_ = 0
		arg_725_1.frameCnt_ = 0
		arg_725_1.state_ = "playing"
		arg_725_1.curTalkId_ = 317021181
		arg_725_1.duration_ = 5

		SetActive(arg_725_1.tipsGo_, false)

		function arg_725_1.onSingleLineFinish_()
			arg_725_1.onSingleLineUpdate_ = nil
			arg_725_1.onSingleLineFinish_ = nil
			arg_725_1.state_ = "waiting"
		end

		function arg_725_1.playNext_(arg_727_0)
			if arg_727_0 == 1 then
				arg_725_0:Play317021182(arg_725_1)
			end
		end

		function arg_725_1.onSingleLineUpdate_(arg_728_0)
			local var_728_0 = arg_725_1.actors_["1093ui_story"].transform
			local var_728_1 = 0

			if var_728_1 < arg_725_1.time_ and arg_725_1.time_ <= var_728_1 + arg_728_0 then
				arg_725_1.var_.moveOldPos1093ui_story = var_728_0.localPosition
			end

			local var_728_2 = 0.001

			if var_728_1 <= arg_725_1.time_ and arg_725_1.time_ < var_728_1 + var_728_2 then
				local var_728_3 = (arg_725_1.time_ - var_728_1) / var_728_2
				local var_728_4 = Vector3.New(0, 100, 0)

				var_728_0.localPosition = Vector3.Lerp(arg_725_1.var_.moveOldPos1093ui_story, var_728_4, var_728_3)

				local var_728_5 = manager.ui.mainCamera.transform.position - var_728_0.position

				var_728_0.forward = Vector3.New(var_728_5.x, var_728_5.y, var_728_5.z)

				local var_728_6 = var_728_0.localEulerAngles

				var_728_6.z = 0
				var_728_6.x = 0
				var_728_0.localEulerAngles = var_728_6
			end

			if arg_725_1.time_ >= var_728_1 + var_728_2 and arg_725_1.time_ < var_728_1 + var_728_2 + arg_728_0 then
				var_728_0.localPosition = Vector3.New(0, 100, 0)

				local var_728_7 = manager.ui.mainCamera.transform.position - var_728_0.position

				var_728_0.forward = Vector3.New(var_728_7.x, var_728_7.y, var_728_7.z)

				local var_728_8 = var_728_0.localEulerAngles

				var_728_8.z = 0
				var_728_8.x = 0
				var_728_0.localEulerAngles = var_728_8
			end

			local var_728_9 = arg_725_1.actors_["1093ui_story"]
			local var_728_10 = 0

			if var_728_10 < arg_725_1.time_ and arg_725_1.time_ <= var_728_10 + arg_728_0 and not isNil(var_728_9) and arg_725_1.var_.characterEffect1093ui_story == nil then
				arg_725_1.var_.characterEffect1093ui_story = var_728_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_728_11 = 0.200000002980232

			if var_728_10 <= arg_725_1.time_ and arg_725_1.time_ < var_728_10 + var_728_11 and not isNil(var_728_9) then
				local var_728_12 = (arg_725_1.time_ - var_728_10) / var_728_11

				if arg_725_1.var_.characterEffect1093ui_story and not isNil(var_728_9) then
					local var_728_13 = Mathf.Lerp(0, 0.5, var_728_12)

					arg_725_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_725_1.var_.characterEffect1093ui_story.fillRatio = var_728_13
				end
			end

			if arg_725_1.time_ >= var_728_10 + var_728_11 and arg_725_1.time_ < var_728_10 + var_728_11 + arg_728_0 and not isNil(var_728_9) and arg_725_1.var_.characterEffect1093ui_story then
				local var_728_14 = 0.5

				arg_725_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_725_1.var_.characterEffect1093ui_story.fillRatio = var_728_14
			end

			local var_728_15 = arg_725_1.actors_["1050ui_story"].transform
			local var_728_16 = 0

			if var_728_16 < arg_725_1.time_ and arg_725_1.time_ <= var_728_16 + arg_728_0 then
				arg_725_1.var_.moveOldPos1050ui_story = var_728_15.localPosition
			end

			local var_728_17 = 0.001

			if var_728_16 <= arg_725_1.time_ and arg_725_1.time_ < var_728_16 + var_728_17 then
				local var_728_18 = (arg_725_1.time_ - var_728_16) / var_728_17
				local var_728_19 = Vector3.New(0, -1, -6.1)

				var_728_15.localPosition = Vector3.Lerp(arg_725_1.var_.moveOldPos1050ui_story, var_728_19, var_728_18)

				local var_728_20 = manager.ui.mainCamera.transform.position - var_728_15.position

				var_728_15.forward = Vector3.New(var_728_20.x, var_728_20.y, var_728_20.z)

				local var_728_21 = var_728_15.localEulerAngles

				var_728_21.z = 0
				var_728_21.x = 0
				var_728_15.localEulerAngles = var_728_21
			end

			if arg_725_1.time_ >= var_728_16 + var_728_17 and arg_725_1.time_ < var_728_16 + var_728_17 + arg_728_0 then
				var_728_15.localPosition = Vector3.New(0, -1, -6.1)

				local var_728_22 = manager.ui.mainCamera.transform.position - var_728_15.position

				var_728_15.forward = Vector3.New(var_728_22.x, var_728_22.y, var_728_22.z)

				local var_728_23 = var_728_15.localEulerAngles

				var_728_23.z = 0
				var_728_23.x = 0
				var_728_15.localEulerAngles = var_728_23
			end

			local var_728_24 = arg_725_1.actors_["1050ui_story"]
			local var_728_25 = 0

			if var_728_25 < arg_725_1.time_ and arg_725_1.time_ <= var_728_25 + arg_728_0 and not isNil(var_728_24) and arg_725_1.var_.characterEffect1050ui_story == nil then
				arg_725_1.var_.characterEffect1050ui_story = var_728_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_728_26 = 0.200000002980232

			if var_728_25 <= arg_725_1.time_ and arg_725_1.time_ < var_728_25 + var_728_26 and not isNil(var_728_24) then
				local var_728_27 = (arg_725_1.time_ - var_728_25) / var_728_26

				if arg_725_1.var_.characterEffect1050ui_story and not isNil(var_728_24) then
					local var_728_28 = Mathf.Lerp(0, 0.5, var_728_27)

					arg_725_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_725_1.var_.characterEffect1050ui_story.fillRatio = var_728_28
				end
			end

			if arg_725_1.time_ >= var_728_25 + var_728_26 and arg_725_1.time_ < var_728_25 + var_728_26 + arg_728_0 and not isNil(var_728_24) and arg_725_1.var_.characterEffect1050ui_story then
				local var_728_29 = 0.5

				arg_725_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_725_1.var_.characterEffect1050ui_story.fillRatio = var_728_29
			end

			local var_728_30 = 0

			if var_728_30 < arg_725_1.time_ and arg_725_1.time_ <= var_728_30 + arg_728_0 then
				arg_725_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/1050/1050action/1050action1_1")
			end

			local var_728_31 = 0
			local var_728_32 = 1.225

			if var_728_31 < arg_725_1.time_ and arg_725_1.time_ <= var_728_31 + arg_728_0 then
				arg_725_1.talkMaxDuration = 0
				arg_725_1.dialogCg_.alpha = 1

				arg_725_1.dialog_:SetActive(true)
				SetActive(arg_725_1.leftNameGo_, false)

				arg_725_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_725_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_725_1:RecordName(arg_725_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_725_1.iconTrs_.gameObject, false)
				arg_725_1.callingController_:SetSelectedState("normal")

				local var_728_33 = arg_725_1:GetWordFromCfg(317021181)
				local var_728_34 = arg_725_1:FormatText(var_728_33.content)

				arg_725_1.text_.text = var_728_34

				LuaForUtil.ClearLinePrefixSymbol(arg_725_1.text_)

				local var_728_35 = 49
				local var_728_36 = utf8.len(var_728_34)
				local var_728_37 = var_728_35 <= 0 and var_728_32 or var_728_32 * (var_728_36 / var_728_35)

				if var_728_37 > 0 and var_728_32 < var_728_37 then
					arg_725_1.talkMaxDuration = var_728_37

					if var_728_37 + var_728_31 > arg_725_1.duration_ then
						arg_725_1.duration_ = var_728_37 + var_728_31
					end
				end

				arg_725_1.text_.text = var_728_34
				arg_725_1.typewritter.percent = 0

				arg_725_1.typewritter:SetDirty()
				arg_725_1:ShowNextGo(false)
				arg_725_1:RecordContent(arg_725_1.text_.text)
			end

			local var_728_38 = math.max(var_728_32, arg_725_1.talkMaxDuration)

			if var_728_31 <= arg_725_1.time_ and arg_725_1.time_ < var_728_31 + var_728_38 then
				arg_725_1.typewritter.percent = (arg_725_1.time_ - var_728_31) / var_728_38

				arg_725_1.typewritter:SetDirty()
			end

			if arg_725_1.time_ >= var_728_31 + var_728_38 and arg_725_1.time_ < var_728_31 + var_728_38 + arg_728_0 then
				arg_725_1.typewritter.percent = 1

				arg_725_1.typewritter:SetDirty()
				arg_725_1:ShowNextGo(true)
			end
		end
	end,
	Play317021182 = function(arg_729_0, arg_729_1)
		arg_729_1.time_ = 0
		arg_729_1.frameCnt_ = 0
		arg_729_1.state_ = "playing"
		arg_729_1.curTalkId_ = 317021182
		arg_729_1.duration_ = 0.5

		SetActive(arg_729_1.tipsGo_, false)

		function arg_729_1.onSingleLineFinish_()
			arg_729_1.onSingleLineUpdate_ = nil
			arg_729_1.onSingleLineFinish_ = nil
			arg_729_1.state_ = "waiting"

			SetActive(arg_729_1.choicesGo_, true)

			for iter_730_0, iter_730_1 in ipairs(arg_729_1.choices_) do
				local var_730_0 = iter_730_0 <= 1

				SetActive(iter_730_1.go, var_730_0)
			end

			arg_729_1.choices_[1].txt.text = arg_729_1:FormatText(StoryChoiceCfg[522].name)
		end

		function arg_729_1.playNext_(arg_731_0)
			if arg_731_0 == 1 then
				arg_729_0:Play317021183(arg_729_1)
			end

			arg_729_1:RecordChoiceLog(317021182, 317021183)
		end

		function arg_729_1.onSingleLineUpdate_(arg_732_0)
			local var_732_0 = 0

			if var_732_0 < arg_729_1.time_ and arg_729_1.time_ <= var_732_0 + arg_732_0 then
				arg_729_1.allBtn_.enabled = false
			end

			local var_732_1 = 0.5

			if arg_729_1.time_ >= var_732_0 + var_732_1 and arg_729_1.time_ < var_732_0 + var_732_1 + arg_732_0 then
				arg_729_1.allBtn_.enabled = true
			end
		end
	end,
	Play317021183 = function(arg_733_0, arg_733_1)
		arg_733_1.time_ = 0
		arg_733_1.frameCnt_ = 0
		arg_733_1.state_ = "playing"
		arg_733_1.curTalkId_ = 317021183
		arg_733_1.duration_ = 7.53

		local var_733_0 = {
			zh = 5.533,
			ja = 7.533
		}
		local var_733_1 = manager.audio:GetLocalizationFlag()

		if var_733_0[var_733_1] ~= nil then
			arg_733_1.duration_ = var_733_0[var_733_1]
		end

		SetActive(arg_733_1.tipsGo_, false)

		function arg_733_1.onSingleLineFinish_()
			arg_733_1.onSingleLineUpdate_ = nil
			arg_733_1.onSingleLineFinish_ = nil
			arg_733_1.state_ = "waiting"
		end

		function arg_733_1.playNext_(arg_735_0)
			if arg_735_0 == 1 then
				arg_733_0:Play317021184(arg_733_1)
			end
		end

		function arg_733_1.onSingleLineUpdate_(arg_736_0)
			local var_736_0 = arg_733_1.actors_["1050ui_story"].transform
			local var_736_1 = 0

			if var_736_1 < arg_733_1.time_ and arg_733_1.time_ <= var_736_1 + arg_736_0 then
				arg_733_1.var_.moveOldPos1050ui_story = var_736_0.localPosition
			end

			local var_736_2 = 0.001

			if var_736_1 <= arg_733_1.time_ and arg_733_1.time_ < var_736_1 + var_736_2 then
				local var_736_3 = (arg_733_1.time_ - var_736_1) / var_736_2
				local var_736_4 = Vector3.New(0, -1, -6.1)

				var_736_0.localPosition = Vector3.Lerp(arg_733_1.var_.moveOldPos1050ui_story, var_736_4, var_736_3)

				local var_736_5 = manager.ui.mainCamera.transform.position - var_736_0.position

				var_736_0.forward = Vector3.New(var_736_5.x, var_736_5.y, var_736_5.z)

				local var_736_6 = var_736_0.localEulerAngles

				var_736_6.z = 0
				var_736_6.x = 0
				var_736_0.localEulerAngles = var_736_6
			end

			if arg_733_1.time_ >= var_736_1 + var_736_2 and arg_733_1.time_ < var_736_1 + var_736_2 + arg_736_0 then
				var_736_0.localPosition = Vector3.New(0, -1, -6.1)

				local var_736_7 = manager.ui.mainCamera.transform.position - var_736_0.position

				var_736_0.forward = Vector3.New(var_736_7.x, var_736_7.y, var_736_7.z)

				local var_736_8 = var_736_0.localEulerAngles

				var_736_8.z = 0
				var_736_8.x = 0
				var_736_0.localEulerAngles = var_736_8
			end

			local var_736_9 = arg_733_1.actors_["1050ui_story"]
			local var_736_10 = 0

			if var_736_10 < arg_733_1.time_ and arg_733_1.time_ <= var_736_10 + arg_736_0 and not isNil(var_736_9) and arg_733_1.var_.characterEffect1050ui_story == nil then
				arg_733_1.var_.characterEffect1050ui_story = var_736_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_736_11 = 0.200000002980232

			if var_736_10 <= arg_733_1.time_ and arg_733_1.time_ < var_736_10 + var_736_11 and not isNil(var_736_9) then
				local var_736_12 = (arg_733_1.time_ - var_736_10) / var_736_11

				if arg_733_1.var_.characterEffect1050ui_story and not isNil(var_736_9) then
					arg_733_1.var_.characterEffect1050ui_story.fillFlat = false
				end
			end

			if arg_733_1.time_ >= var_736_10 + var_736_11 and arg_733_1.time_ < var_736_10 + var_736_11 + arg_736_0 and not isNil(var_736_9) and arg_733_1.var_.characterEffect1050ui_story then
				arg_733_1.var_.characterEffect1050ui_story.fillFlat = false
			end

			local var_736_13 = 0

			if var_736_13 < arg_733_1.time_ and arg_733_1.time_ <= var_736_13 + arg_736_0 then
				arg_733_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface1102cva")
			end

			local var_736_14 = 0
			local var_736_15 = 0.375

			if var_736_14 < arg_733_1.time_ and arg_733_1.time_ <= var_736_14 + arg_736_0 then
				arg_733_1.talkMaxDuration = 0
				arg_733_1.dialogCg_.alpha = 1

				arg_733_1.dialog_:SetActive(true)
				SetActive(arg_733_1.leftNameGo_, true)

				local var_736_16 = arg_733_1:FormatText(StoryNameCfg[74].name)

				arg_733_1.leftNameTxt_.text = var_736_16

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_733_1.leftNameTxt_.transform)

				arg_733_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_733_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_733_1:RecordName(arg_733_1.leftNameTxt_.text)
				SetActive(arg_733_1.iconTrs_.gameObject, false)
				arg_733_1.callingController_:SetSelectedState("normal")

				local var_736_17 = arg_733_1:GetWordFromCfg(317021183)
				local var_736_18 = arg_733_1:FormatText(var_736_17.content)

				arg_733_1.text_.text = var_736_18

				LuaForUtil.ClearLinePrefixSymbol(arg_733_1.text_)

				local var_736_19 = 15
				local var_736_20 = utf8.len(var_736_18)
				local var_736_21 = var_736_19 <= 0 and var_736_15 or var_736_15 * (var_736_20 / var_736_19)

				if var_736_21 > 0 and var_736_15 < var_736_21 then
					arg_733_1.talkMaxDuration = var_736_21

					if var_736_21 + var_736_14 > arg_733_1.duration_ then
						arg_733_1.duration_ = var_736_21 + var_736_14
					end
				end

				arg_733_1.text_.text = var_736_18
				arg_733_1.typewritter.percent = 0

				arg_733_1.typewritter:SetDirty()
				arg_733_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021183", "story_v_out_317021.awb") ~= 0 then
					local var_736_22 = manager.audio:GetVoiceLength("story_v_out_317021", "317021183", "story_v_out_317021.awb") / 1000

					if var_736_22 + var_736_14 > arg_733_1.duration_ then
						arg_733_1.duration_ = var_736_22 + var_736_14
					end

					if var_736_17.prefab_name ~= "" and arg_733_1.actors_[var_736_17.prefab_name] ~= nil then
						local var_736_23 = LuaForUtil.PlayVoiceWithCriLipsync(arg_733_1.actors_[var_736_17.prefab_name].transform, "story_v_out_317021", "317021183", "story_v_out_317021.awb")

						arg_733_1:RecordAudio("317021183", var_736_23)
						arg_733_1:RecordAudio("317021183", var_736_23)
					else
						arg_733_1:AudioAction("play", "voice", "story_v_out_317021", "317021183", "story_v_out_317021.awb")
					end

					arg_733_1:RecordHistoryTalkVoice("story_v_out_317021", "317021183", "story_v_out_317021.awb")
				end

				arg_733_1:RecordContent(arg_733_1.text_.text)
			end

			local var_736_24 = math.max(var_736_15, arg_733_1.talkMaxDuration)

			if var_736_14 <= arg_733_1.time_ and arg_733_1.time_ < var_736_14 + var_736_24 then
				arg_733_1.typewritter.percent = (arg_733_1.time_ - var_736_14) / var_736_24

				arg_733_1.typewritter:SetDirty()
			end

			if arg_733_1.time_ >= var_736_14 + var_736_24 and arg_733_1.time_ < var_736_14 + var_736_24 + arg_736_0 then
				arg_733_1.typewritter.percent = 1

				arg_733_1.typewritter:SetDirty()
				arg_733_1:ShowNextGo(true)
			end
		end
	end,
	Play317021184 = function(arg_737_0, arg_737_1)
		arg_737_1.time_ = 0
		arg_737_1.frameCnt_ = 0
		arg_737_1.state_ = "playing"
		arg_737_1.curTalkId_ = 317021184
		arg_737_1.duration_ = 5

		SetActive(arg_737_1.tipsGo_, false)

		function arg_737_1.onSingleLineFinish_()
			arg_737_1.onSingleLineUpdate_ = nil
			arg_737_1.onSingleLineFinish_ = nil
			arg_737_1.state_ = "waiting"
		end

		function arg_737_1.playNext_(arg_739_0)
			if arg_739_0 == 1 then
				arg_737_0:Play317021185(arg_737_1)
			end
		end

		function arg_737_1.onSingleLineUpdate_(arg_740_0)
			local var_740_0 = arg_737_1.actors_["1050ui_story"].transform
			local var_740_1 = 0

			if var_740_1 < arg_737_1.time_ and arg_737_1.time_ <= var_740_1 + arg_740_0 then
				arg_737_1.var_.moveOldPos1050ui_story = var_740_0.localPosition
			end

			local var_740_2 = 0.001

			if var_740_1 <= arg_737_1.time_ and arg_737_1.time_ < var_740_1 + var_740_2 then
				local var_740_3 = (arg_737_1.time_ - var_740_1) / var_740_2
				local var_740_4 = Vector3.New(0, 100, 0)

				var_740_0.localPosition = Vector3.Lerp(arg_737_1.var_.moveOldPos1050ui_story, var_740_4, var_740_3)

				local var_740_5 = manager.ui.mainCamera.transform.position - var_740_0.position

				var_740_0.forward = Vector3.New(var_740_5.x, var_740_5.y, var_740_5.z)

				local var_740_6 = var_740_0.localEulerAngles

				var_740_6.z = 0
				var_740_6.x = 0
				var_740_0.localEulerAngles = var_740_6
			end

			if arg_737_1.time_ >= var_740_1 + var_740_2 and arg_737_1.time_ < var_740_1 + var_740_2 + arg_740_0 then
				var_740_0.localPosition = Vector3.New(0, 100, 0)

				local var_740_7 = manager.ui.mainCamera.transform.position - var_740_0.position

				var_740_0.forward = Vector3.New(var_740_7.x, var_740_7.y, var_740_7.z)

				local var_740_8 = var_740_0.localEulerAngles

				var_740_8.z = 0
				var_740_8.x = 0
				var_740_0.localEulerAngles = var_740_8
			end

			local var_740_9 = 0
			local var_740_10 = 0.85

			if var_740_9 < arg_737_1.time_ and arg_737_1.time_ <= var_740_9 + arg_740_0 then
				arg_737_1.talkMaxDuration = 0
				arg_737_1.dialogCg_.alpha = 1

				arg_737_1.dialog_:SetActive(true)
				SetActive(arg_737_1.leftNameGo_, false)

				arg_737_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_737_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_737_1:RecordName(arg_737_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_737_1.iconTrs_.gameObject, false)
				arg_737_1.callingController_:SetSelectedState("normal")

				local var_740_11 = arg_737_1:GetWordFromCfg(317021184)
				local var_740_12 = arg_737_1:FormatText(var_740_11.content)

				arg_737_1.text_.text = var_740_12

				LuaForUtil.ClearLinePrefixSymbol(arg_737_1.text_)

				local var_740_13 = 34
				local var_740_14 = utf8.len(var_740_12)
				local var_740_15 = var_740_13 <= 0 and var_740_10 or var_740_10 * (var_740_14 / var_740_13)

				if var_740_15 > 0 and var_740_10 < var_740_15 then
					arg_737_1.talkMaxDuration = var_740_15

					if var_740_15 + var_740_9 > arg_737_1.duration_ then
						arg_737_1.duration_ = var_740_15 + var_740_9
					end
				end

				arg_737_1.text_.text = var_740_12
				arg_737_1.typewritter.percent = 0

				arg_737_1.typewritter:SetDirty()
				arg_737_1:ShowNextGo(false)
				arg_737_1:RecordContent(arg_737_1.text_.text)
			end

			local var_740_16 = math.max(var_740_10, arg_737_1.talkMaxDuration)

			if var_740_9 <= arg_737_1.time_ and arg_737_1.time_ < var_740_9 + var_740_16 then
				arg_737_1.typewritter.percent = (arg_737_1.time_ - var_740_9) / var_740_16

				arg_737_1.typewritter:SetDirty()
			end

			if arg_737_1.time_ >= var_740_9 + var_740_16 and arg_737_1.time_ < var_740_9 + var_740_16 + arg_740_0 then
				arg_737_1.typewritter.percent = 1

				arg_737_1.typewritter:SetDirty()
				arg_737_1:ShowNextGo(true)
			end
		end
	end,
	Play317021185 = function(arg_741_0, arg_741_1)
		arg_741_1.time_ = 0
		arg_741_1.frameCnt_ = 0
		arg_741_1.state_ = "playing"
		arg_741_1.curTalkId_ = 317021185
		arg_741_1.duration_ = 5

		SetActive(arg_741_1.tipsGo_, false)

		function arg_741_1.onSingleLineFinish_()
			arg_741_1.onSingleLineUpdate_ = nil
			arg_741_1.onSingleLineFinish_ = nil
			arg_741_1.state_ = "waiting"
		end

		function arg_741_1.playNext_(arg_743_0)
			if arg_743_0 == 1 then
				arg_741_0:Play317021186(arg_741_1)
			end
		end

		function arg_741_1.onSingleLineUpdate_(arg_744_0)
			local var_744_0 = 0
			local var_744_1 = 1.475

			if var_744_0 < arg_741_1.time_ and arg_741_1.time_ <= var_744_0 + arg_744_0 then
				arg_741_1.talkMaxDuration = 0
				arg_741_1.dialogCg_.alpha = 1

				arg_741_1.dialog_:SetActive(true)
				SetActive(arg_741_1.leftNameGo_, false)

				arg_741_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_741_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_741_1:RecordName(arg_741_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_741_1.iconTrs_.gameObject, false)
				arg_741_1.callingController_:SetSelectedState("normal")

				local var_744_2 = arg_741_1:GetWordFromCfg(317021185)
				local var_744_3 = arg_741_1:FormatText(var_744_2.content)

				arg_741_1.text_.text = var_744_3

				LuaForUtil.ClearLinePrefixSymbol(arg_741_1.text_)

				local var_744_4 = 59
				local var_744_5 = utf8.len(var_744_3)
				local var_744_6 = var_744_4 <= 0 and var_744_1 or var_744_1 * (var_744_5 / var_744_4)

				if var_744_6 > 0 and var_744_1 < var_744_6 then
					arg_741_1.talkMaxDuration = var_744_6

					if var_744_6 + var_744_0 > arg_741_1.duration_ then
						arg_741_1.duration_ = var_744_6 + var_744_0
					end
				end

				arg_741_1.text_.text = var_744_3
				arg_741_1.typewritter.percent = 0

				arg_741_1.typewritter:SetDirty()
				arg_741_1:ShowNextGo(false)
				arg_741_1:RecordContent(arg_741_1.text_.text)
			end

			local var_744_7 = math.max(var_744_1, arg_741_1.talkMaxDuration)

			if var_744_0 <= arg_741_1.time_ and arg_741_1.time_ < var_744_0 + var_744_7 then
				arg_741_1.typewritter.percent = (arg_741_1.time_ - var_744_0) / var_744_7

				arg_741_1.typewritter:SetDirty()
			end

			if arg_741_1.time_ >= var_744_0 + var_744_7 and arg_741_1.time_ < var_744_0 + var_744_7 + arg_744_0 then
				arg_741_1.typewritter.percent = 1

				arg_741_1.typewritter:SetDirty()
				arg_741_1:ShowNextGo(true)
			end
		end
	end,
	Play317021186 = function(arg_745_0, arg_745_1)
		arg_745_1.time_ = 0
		arg_745_1.frameCnt_ = 0
		arg_745_1.state_ = "playing"
		arg_745_1.curTalkId_ = 317021186
		arg_745_1.duration_ = 4.03

		local var_745_0 = {
			zh = 2.7,
			ja = 4.033
		}
		local var_745_1 = manager.audio:GetLocalizationFlag()

		if var_745_0[var_745_1] ~= nil then
			arg_745_1.duration_ = var_745_0[var_745_1]
		end

		SetActive(arg_745_1.tipsGo_, false)

		function arg_745_1.onSingleLineFinish_()
			arg_745_1.onSingleLineUpdate_ = nil
			arg_745_1.onSingleLineFinish_ = nil
			arg_745_1.state_ = "waiting"
		end

		function arg_745_1.playNext_(arg_747_0)
			if arg_747_0 == 1 then
				arg_745_0:Play317021187(arg_745_1)
			end
		end

		function arg_745_1.onSingleLineUpdate_(arg_748_0)
			local var_748_0 = arg_745_1.actors_["1050ui_story"].transform
			local var_748_1 = 0

			if var_748_1 < arg_745_1.time_ and arg_745_1.time_ <= var_748_1 + arg_748_0 then
				arg_745_1.var_.moveOldPos1050ui_story = var_748_0.localPosition
			end

			local var_748_2 = 0.001

			if var_748_1 <= arg_745_1.time_ and arg_745_1.time_ < var_748_1 + var_748_2 then
				local var_748_3 = (arg_745_1.time_ - var_748_1) / var_748_2
				local var_748_4 = Vector3.New(-0.7, -1, -6.1)

				var_748_0.localPosition = Vector3.Lerp(arg_745_1.var_.moveOldPos1050ui_story, var_748_4, var_748_3)

				local var_748_5 = manager.ui.mainCamera.transform.position - var_748_0.position

				var_748_0.forward = Vector3.New(var_748_5.x, var_748_5.y, var_748_5.z)

				local var_748_6 = var_748_0.localEulerAngles

				var_748_6.z = 0
				var_748_6.x = 0
				var_748_0.localEulerAngles = var_748_6
			end

			if arg_745_1.time_ >= var_748_1 + var_748_2 and arg_745_1.time_ < var_748_1 + var_748_2 + arg_748_0 then
				var_748_0.localPosition = Vector3.New(-0.7, -1, -6.1)

				local var_748_7 = manager.ui.mainCamera.transform.position - var_748_0.position

				var_748_0.forward = Vector3.New(var_748_7.x, var_748_7.y, var_748_7.z)

				local var_748_8 = var_748_0.localEulerAngles

				var_748_8.z = 0
				var_748_8.x = 0
				var_748_0.localEulerAngles = var_748_8
			end

			local var_748_9 = arg_745_1.actors_["1050ui_story"]
			local var_748_10 = 0

			if var_748_10 < arg_745_1.time_ and arg_745_1.time_ <= var_748_10 + arg_748_0 and not isNil(var_748_9) and arg_745_1.var_.characterEffect1050ui_story == nil then
				arg_745_1.var_.characterEffect1050ui_story = var_748_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_748_11 = 0.200000002980232

			if var_748_10 <= arg_745_1.time_ and arg_745_1.time_ < var_748_10 + var_748_11 and not isNil(var_748_9) then
				local var_748_12 = (arg_745_1.time_ - var_748_10) / var_748_11

				if arg_745_1.var_.characterEffect1050ui_story and not isNil(var_748_9) then
					local var_748_13 = Mathf.Lerp(0, 0.5, var_748_12)

					arg_745_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_745_1.var_.characterEffect1050ui_story.fillRatio = var_748_13
				end
			end

			if arg_745_1.time_ >= var_748_10 + var_748_11 and arg_745_1.time_ < var_748_10 + var_748_11 + arg_748_0 and not isNil(var_748_9) and arg_745_1.var_.characterEffect1050ui_story then
				local var_748_14 = 0.5

				arg_745_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_745_1.var_.characterEffect1050ui_story.fillRatio = var_748_14
			end

			local var_748_15 = arg_745_1.actors_["1093ui_story"].transform
			local var_748_16 = 0

			if var_748_16 < arg_745_1.time_ and arg_745_1.time_ <= var_748_16 + arg_748_0 then
				arg_745_1.var_.moveOldPos1093ui_story = var_748_15.localPosition
			end

			local var_748_17 = 0.001

			if var_748_16 <= arg_745_1.time_ and arg_745_1.time_ < var_748_16 + var_748_17 then
				local var_748_18 = (arg_745_1.time_ - var_748_16) / var_748_17
				local var_748_19 = Vector3.New(0.7, -1.11, -5.88)

				var_748_15.localPosition = Vector3.Lerp(arg_745_1.var_.moveOldPos1093ui_story, var_748_19, var_748_18)

				local var_748_20 = manager.ui.mainCamera.transform.position - var_748_15.position

				var_748_15.forward = Vector3.New(var_748_20.x, var_748_20.y, var_748_20.z)

				local var_748_21 = var_748_15.localEulerAngles

				var_748_21.z = 0
				var_748_21.x = 0
				var_748_15.localEulerAngles = var_748_21
			end

			if arg_745_1.time_ >= var_748_16 + var_748_17 and arg_745_1.time_ < var_748_16 + var_748_17 + arg_748_0 then
				var_748_15.localPosition = Vector3.New(0.7, -1.11, -5.88)

				local var_748_22 = manager.ui.mainCamera.transform.position - var_748_15.position

				var_748_15.forward = Vector3.New(var_748_22.x, var_748_22.y, var_748_22.z)

				local var_748_23 = var_748_15.localEulerAngles

				var_748_23.z = 0
				var_748_23.x = 0
				var_748_15.localEulerAngles = var_748_23
			end

			local var_748_24 = arg_745_1.actors_["1093ui_story"]
			local var_748_25 = 0

			if var_748_25 < arg_745_1.time_ and arg_745_1.time_ <= var_748_25 + arg_748_0 and not isNil(var_748_24) and arg_745_1.var_.characterEffect1093ui_story == nil then
				arg_745_1.var_.characterEffect1093ui_story = var_748_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_748_26 = 0.200000002980232

			if var_748_25 <= arg_745_1.time_ and arg_745_1.time_ < var_748_25 + var_748_26 and not isNil(var_748_24) then
				local var_748_27 = (arg_745_1.time_ - var_748_25) / var_748_26

				if arg_745_1.var_.characterEffect1093ui_story and not isNil(var_748_24) then
					arg_745_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_745_1.time_ >= var_748_25 + var_748_26 and arg_745_1.time_ < var_748_25 + var_748_26 + arg_748_0 and not isNil(var_748_24) and arg_745_1.var_.characterEffect1093ui_story then
				arg_745_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_748_28 = 0

			if var_748_28 < arg_745_1.time_ and arg_745_1.time_ <= var_748_28 + arg_748_0 then
				arg_745_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action1_1")
			end

			local var_748_29 = 0

			if var_748_29 < arg_745_1.time_ and arg_745_1.time_ <= var_748_29 + arg_748_0 then
				arg_745_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface3202cva")
			end

			local var_748_30 = 0
			local var_748_31 = 0.275

			if var_748_30 < arg_745_1.time_ and arg_745_1.time_ <= var_748_30 + arg_748_0 then
				arg_745_1.talkMaxDuration = 0
				arg_745_1.dialogCg_.alpha = 1

				arg_745_1.dialog_:SetActive(true)
				SetActive(arg_745_1.leftNameGo_, true)

				local var_748_32 = arg_745_1:FormatText(StoryNameCfg[73].name)

				arg_745_1.leftNameTxt_.text = var_748_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_745_1.leftNameTxt_.transform)

				arg_745_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_745_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_745_1:RecordName(arg_745_1.leftNameTxt_.text)
				SetActive(arg_745_1.iconTrs_.gameObject, false)
				arg_745_1.callingController_:SetSelectedState("normal")

				local var_748_33 = arg_745_1:GetWordFromCfg(317021186)
				local var_748_34 = arg_745_1:FormatText(var_748_33.content)

				arg_745_1.text_.text = var_748_34

				LuaForUtil.ClearLinePrefixSymbol(arg_745_1.text_)

				local var_748_35 = 11
				local var_748_36 = utf8.len(var_748_34)
				local var_748_37 = var_748_35 <= 0 and var_748_31 or var_748_31 * (var_748_36 / var_748_35)

				if var_748_37 > 0 and var_748_31 < var_748_37 then
					arg_745_1.talkMaxDuration = var_748_37

					if var_748_37 + var_748_30 > arg_745_1.duration_ then
						arg_745_1.duration_ = var_748_37 + var_748_30
					end
				end

				arg_745_1.text_.text = var_748_34
				arg_745_1.typewritter.percent = 0

				arg_745_1.typewritter:SetDirty()
				arg_745_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021186", "story_v_out_317021.awb") ~= 0 then
					local var_748_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021186", "story_v_out_317021.awb") / 1000

					if var_748_38 + var_748_30 > arg_745_1.duration_ then
						arg_745_1.duration_ = var_748_38 + var_748_30
					end

					if var_748_33.prefab_name ~= "" and arg_745_1.actors_[var_748_33.prefab_name] ~= nil then
						local var_748_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_745_1.actors_[var_748_33.prefab_name].transform, "story_v_out_317021", "317021186", "story_v_out_317021.awb")

						arg_745_1:RecordAudio("317021186", var_748_39)
						arg_745_1:RecordAudio("317021186", var_748_39)
					else
						arg_745_1:AudioAction("play", "voice", "story_v_out_317021", "317021186", "story_v_out_317021.awb")
					end

					arg_745_1:RecordHistoryTalkVoice("story_v_out_317021", "317021186", "story_v_out_317021.awb")
				end

				arg_745_1:RecordContent(arg_745_1.text_.text)
			end

			local var_748_40 = math.max(var_748_31, arg_745_1.talkMaxDuration)

			if var_748_30 <= arg_745_1.time_ and arg_745_1.time_ < var_748_30 + var_748_40 then
				arg_745_1.typewritter.percent = (arg_745_1.time_ - var_748_30) / var_748_40

				arg_745_1.typewritter:SetDirty()
			end

			if arg_745_1.time_ >= var_748_30 + var_748_40 and arg_745_1.time_ < var_748_30 + var_748_40 + arg_748_0 then
				arg_745_1.typewritter.percent = 1

				arg_745_1.typewritter:SetDirty()
				arg_745_1:ShowNextGo(true)
			end
		end
	end,
	Play317021187 = function(arg_749_0, arg_749_1)
		arg_749_1.time_ = 0
		arg_749_1.frameCnt_ = 0
		arg_749_1.state_ = "playing"
		arg_749_1.curTalkId_ = 317021187
		arg_749_1.duration_ = 5

		SetActive(arg_749_1.tipsGo_, false)

		function arg_749_1.onSingleLineFinish_()
			arg_749_1.onSingleLineUpdate_ = nil
			arg_749_1.onSingleLineFinish_ = nil
			arg_749_1.state_ = "waiting"
		end

		function arg_749_1.playNext_(arg_751_0)
			if arg_751_0 == 1 then
				arg_749_0:Play317021188(arg_749_1)
			end
		end

		function arg_749_1.onSingleLineUpdate_(arg_752_0)
			local var_752_0 = arg_749_1.actors_["1093ui_story"]
			local var_752_1 = 0

			if var_752_1 < arg_749_1.time_ and arg_749_1.time_ <= var_752_1 + arg_752_0 and not isNil(var_752_0) and arg_749_1.var_.characterEffect1093ui_story == nil then
				arg_749_1.var_.characterEffect1093ui_story = var_752_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_752_2 = 0.200000002980232

			if var_752_1 <= arg_749_1.time_ and arg_749_1.time_ < var_752_1 + var_752_2 and not isNil(var_752_0) then
				local var_752_3 = (arg_749_1.time_ - var_752_1) / var_752_2

				if arg_749_1.var_.characterEffect1093ui_story and not isNil(var_752_0) then
					local var_752_4 = Mathf.Lerp(0, 0.5, var_752_3)

					arg_749_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_749_1.var_.characterEffect1093ui_story.fillRatio = var_752_4
				end
			end

			if arg_749_1.time_ >= var_752_1 + var_752_2 and arg_749_1.time_ < var_752_1 + var_752_2 + arg_752_0 and not isNil(var_752_0) and arg_749_1.var_.characterEffect1093ui_story then
				local var_752_5 = 0.5

				arg_749_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_749_1.var_.characterEffect1093ui_story.fillRatio = var_752_5
			end

			local var_752_6 = 0
			local var_752_7 = 0.65

			if var_752_6 < arg_749_1.time_ and arg_749_1.time_ <= var_752_6 + arg_752_0 then
				arg_749_1.talkMaxDuration = 0
				arg_749_1.dialogCg_.alpha = 1

				arg_749_1.dialog_:SetActive(true)
				SetActive(arg_749_1.leftNameGo_, false)

				arg_749_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_749_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_749_1:RecordName(arg_749_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_749_1.iconTrs_.gameObject, false)
				arg_749_1.callingController_:SetSelectedState("normal")

				local var_752_8 = arg_749_1:GetWordFromCfg(317021187)
				local var_752_9 = arg_749_1:FormatText(var_752_8.content)

				arg_749_1.text_.text = var_752_9

				LuaForUtil.ClearLinePrefixSymbol(arg_749_1.text_)

				local var_752_10 = 26
				local var_752_11 = utf8.len(var_752_9)
				local var_752_12 = var_752_10 <= 0 and var_752_7 or var_752_7 * (var_752_11 / var_752_10)

				if var_752_12 > 0 and var_752_7 < var_752_12 then
					arg_749_1.talkMaxDuration = var_752_12

					if var_752_12 + var_752_6 > arg_749_1.duration_ then
						arg_749_1.duration_ = var_752_12 + var_752_6
					end
				end

				arg_749_1.text_.text = var_752_9
				arg_749_1.typewritter.percent = 0

				arg_749_1.typewritter:SetDirty()
				arg_749_1:ShowNextGo(false)
				arg_749_1:RecordContent(arg_749_1.text_.text)
			end

			local var_752_13 = math.max(var_752_7, arg_749_1.talkMaxDuration)

			if var_752_6 <= arg_749_1.time_ and arg_749_1.time_ < var_752_6 + var_752_13 then
				arg_749_1.typewritter.percent = (arg_749_1.time_ - var_752_6) / var_752_13

				arg_749_1.typewritter:SetDirty()
			end

			if arg_749_1.time_ >= var_752_6 + var_752_13 and arg_749_1.time_ < var_752_6 + var_752_13 + arg_752_0 then
				arg_749_1.typewritter.percent = 1

				arg_749_1.typewritter:SetDirty()
				arg_749_1:ShowNextGo(true)
			end
		end
	end,
	Play317021188 = function(arg_753_0, arg_753_1)
		arg_753_1.time_ = 0
		arg_753_1.frameCnt_ = 0
		arg_753_1.state_ = "playing"
		arg_753_1.curTalkId_ = 317021188
		arg_753_1.duration_ = 4.13

		local var_753_0 = {
			zh = 3.833,
			ja = 4.133
		}
		local var_753_1 = manager.audio:GetLocalizationFlag()

		if var_753_0[var_753_1] ~= nil then
			arg_753_1.duration_ = var_753_0[var_753_1]
		end

		SetActive(arg_753_1.tipsGo_, false)

		function arg_753_1.onSingleLineFinish_()
			arg_753_1.onSingleLineUpdate_ = nil
			arg_753_1.onSingleLineFinish_ = nil
			arg_753_1.state_ = "waiting"
		end

		function arg_753_1.playNext_(arg_755_0)
			if arg_755_0 == 1 then
				arg_753_0:Play317021189(arg_753_1)
			end
		end

		function arg_753_1.onSingleLineUpdate_(arg_756_0)
			local var_756_0 = arg_753_1.actors_["1050ui_story"].transform
			local var_756_1 = 0

			if var_756_1 < arg_753_1.time_ and arg_753_1.time_ <= var_756_1 + arg_756_0 then
				arg_753_1.var_.moveOldPos1050ui_story = var_756_0.localPosition
			end

			local var_756_2 = 0.001

			if var_756_1 <= arg_753_1.time_ and arg_753_1.time_ < var_756_1 + var_756_2 then
				local var_756_3 = (arg_753_1.time_ - var_756_1) / var_756_2
				local var_756_4 = Vector3.New(-0.7, -1, -6.1)

				var_756_0.localPosition = Vector3.Lerp(arg_753_1.var_.moveOldPos1050ui_story, var_756_4, var_756_3)

				local var_756_5 = manager.ui.mainCamera.transform.position - var_756_0.position

				var_756_0.forward = Vector3.New(var_756_5.x, var_756_5.y, var_756_5.z)

				local var_756_6 = var_756_0.localEulerAngles

				var_756_6.z = 0
				var_756_6.x = 0
				var_756_0.localEulerAngles = var_756_6
			end

			if arg_753_1.time_ >= var_756_1 + var_756_2 and arg_753_1.time_ < var_756_1 + var_756_2 + arg_756_0 then
				var_756_0.localPosition = Vector3.New(-0.7, -1, -6.1)

				local var_756_7 = manager.ui.mainCamera.transform.position - var_756_0.position

				var_756_0.forward = Vector3.New(var_756_7.x, var_756_7.y, var_756_7.z)

				local var_756_8 = var_756_0.localEulerAngles

				var_756_8.z = 0
				var_756_8.x = 0
				var_756_0.localEulerAngles = var_756_8
			end

			local var_756_9 = arg_753_1.actors_["1050ui_story"]
			local var_756_10 = 0

			if var_756_10 < arg_753_1.time_ and arg_753_1.time_ <= var_756_10 + arg_756_0 and not isNil(var_756_9) and arg_753_1.var_.characterEffect1050ui_story == nil then
				arg_753_1.var_.characterEffect1050ui_story = var_756_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_756_11 = 0.200000002980232

			if var_756_10 <= arg_753_1.time_ and arg_753_1.time_ < var_756_10 + var_756_11 and not isNil(var_756_9) then
				local var_756_12 = (arg_753_1.time_ - var_756_10) / var_756_11

				if arg_753_1.var_.characterEffect1050ui_story and not isNil(var_756_9) then
					arg_753_1.var_.characterEffect1050ui_story.fillFlat = false
				end
			end

			if arg_753_1.time_ >= var_756_10 + var_756_11 and arg_753_1.time_ < var_756_10 + var_756_11 + arg_756_0 and not isNil(var_756_9) and arg_753_1.var_.characterEffect1050ui_story then
				arg_753_1.var_.characterEffect1050ui_story.fillFlat = false
			end

			local var_756_13 = 0

			if var_756_13 < arg_753_1.time_ and arg_753_1.time_ <= var_756_13 + arg_756_0 then
				arg_753_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/1050/1050action/1050action2_1")
			end

			local var_756_14 = 0

			if var_756_14 < arg_753_1.time_ and arg_753_1.time_ <= var_756_14 + arg_756_0 then
				arg_753_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_756_15 = arg_753_1.actors_["1093ui_story"].transform
			local var_756_16 = 0

			if var_756_16 < arg_753_1.time_ and arg_753_1.time_ <= var_756_16 + arg_756_0 then
				arg_753_1.var_.moveOldPos1093ui_story = var_756_15.localPosition
			end

			local var_756_17 = 0.001

			if var_756_16 <= arg_753_1.time_ and arg_753_1.time_ < var_756_16 + var_756_17 then
				local var_756_18 = (arg_753_1.time_ - var_756_16) / var_756_17
				local var_756_19 = Vector3.New(0.7, -1.11, -5.88)

				var_756_15.localPosition = Vector3.Lerp(arg_753_1.var_.moveOldPos1093ui_story, var_756_19, var_756_18)

				local var_756_20 = manager.ui.mainCamera.transform.position - var_756_15.position

				var_756_15.forward = Vector3.New(var_756_20.x, var_756_20.y, var_756_20.z)

				local var_756_21 = var_756_15.localEulerAngles

				var_756_21.z = 0
				var_756_21.x = 0
				var_756_15.localEulerAngles = var_756_21
			end

			if arg_753_1.time_ >= var_756_16 + var_756_17 and arg_753_1.time_ < var_756_16 + var_756_17 + arg_756_0 then
				var_756_15.localPosition = Vector3.New(0.7, -1.11, -5.88)

				local var_756_22 = manager.ui.mainCamera.transform.position - var_756_15.position

				var_756_15.forward = Vector3.New(var_756_22.x, var_756_22.y, var_756_22.z)

				local var_756_23 = var_756_15.localEulerAngles

				var_756_23.z = 0
				var_756_23.x = 0
				var_756_15.localEulerAngles = var_756_23
			end

			local var_756_24 = arg_753_1.actors_["1093ui_story"]
			local var_756_25 = 0

			if var_756_25 < arg_753_1.time_ and arg_753_1.time_ <= var_756_25 + arg_756_0 and not isNil(var_756_24) and arg_753_1.var_.characterEffect1093ui_story == nil then
				arg_753_1.var_.characterEffect1093ui_story = var_756_24:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_756_26 = 0.200000002980232

			if var_756_25 <= arg_753_1.time_ and arg_753_1.time_ < var_756_25 + var_756_26 and not isNil(var_756_24) then
				local var_756_27 = (arg_753_1.time_ - var_756_25) / var_756_26

				if arg_753_1.var_.characterEffect1093ui_story and not isNil(var_756_24) then
					local var_756_28 = Mathf.Lerp(0, 0.5, var_756_27)

					arg_753_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_753_1.var_.characterEffect1093ui_story.fillRatio = var_756_28
				end
			end

			if arg_753_1.time_ >= var_756_25 + var_756_26 and arg_753_1.time_ < var_756_25 + var_756_26 + arg_756_0 and not isNil(var_756_24) and arg_753_1.var_.characterEffect1093ui_story then
				local var_756_29 = 0.5

				arg_753_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_753_1.var_.characterEffect1093ui_story.fillRatio = var_756_29
			end

			local var_756_30 = 0
			local var_756_31 = 0.4

			if var_756_30 < arg_753_1.time_ and arg_753_1.time_ <= var_756_30 + arg_756_0 then
				arg_753_1.talkMaxDuration = 0
				arg_753_1.dialogCg_.alpha = 1

				arg_753_1.dialog_:SetActive(true)
				SetActive(arg_753_1.leftNameGo_, true)

				local var_756_32 = arg_753_1:FormatText(StoryNameCfg[74].name)

				arg_753_1.leftNameTxt_.text = var_756_32

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_753_1.leftNameTxt_.transform)

				arg_753_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_753_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_753_1:RecordName(arg_753_1.leftNameTxt_.text)
				SetActive(arg_753_1.iconTrs_.gameObject, false)
				arg_753_1.callingController_:SetSelectedState("normal")

				local var_756_33 = arg_753_1:GetWordFromCfg(317021188)
				local var_756_34 = arg_753_1:FormatText(var_756_33.content)

				arg_753_1.text_.text = var_756_34

				LuaForUtil.ClearLinePrefixSymbol(arg_753_1.text_)

				local var_756_35 = 16
				local var_756_36 = utf8.len(var_756_34)
				local var_756_37 = var_756_35 <= 0 and var_756_31 or var_756_31 * (var_756_36 / var_756_35)

				if var_756_37 > 0 and var_756_31 < var_756_37 then
					arg_753_1.talkMaxDuration = var_756_37

					if var_756_37 + var_756_30 > arg_753_1.duration_ then
						arg_753_1.duration_ = var_756_37 + var_756_30
					end
				end

				arg_753_1.text_.text = var_756_34
				arg_753_1.typewritter.percent = 0

				arg_753_1.typewritter:SetDirty()
				arg_753_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021188", "story_v_out_317021.awb") ~= 0 then
					local var_756_38 = manager.audio:GetVoiceLength("story_v_out_317021", "317021188", "story_v_out_317021.awb") / 1000

					if var_756_38 + var_756_30 > arg_753_1.duration_ then
						arg_753_1.duration_ = var_756_38 + var_756_30
					end

					if var_756_33.prefab_name ~= "" and arg_753_1.actors_[var_756_33.prefab_name] ~= nil then
						local var_756_39 = LuaForUtil.PlayVoiceWithCriLipsync(arg_753_1.actors_[var_756_33.prefab_name].transform, "story_v_out_317021", "317021188", "story_v_out_317021.awb")

						arg_753_1:RecordAudio("317021188", var_756_39)
						arg_753_1:RecordAudio("317021188", var_756_39)
					else
						arg_753_1:AudioAction("play", "voice", "story_v_out_317021", "317021188", "story_v_out_317021.awb")
					end

					arg_753_1:RecordHistoryTalkVoice("story_v_out_317021", "317021188", "story_v_out_317021.awb")
				end

				arg_753_1:RecordContent(arg_753_1.text_.text)
			end

			local var_756_40 = math.max(var_756_31, arg_753_1.talkMaxDuration)

			if var_756_30 <= arg_753_1.time_ and arg_753_1.time_ < var_756_30 + var_756_40 then
				arg_753_1.typewritter.percent = (arg_753_1.time_ - var_756_30) / var_756_40

				arg_753_1.typewritter:SetDirty()
			end

			if arg_753_1.time_ >= var_756_30 + var_756_40 and arg_753_1.time_ < var_756_30 + var_756_40 + arg_756_0 then
				arg_753_1.typewritter.percent = 1

				arg_753_1.typewritter:SetDirty()
				arg_753_1:ShowNextGo(true)
			end
		end
	end,
	Play317021189 = function(arg_757_0, arg_757_1)
		arg_757_1.time_ = 0
		arg_757_1.frameCnt_ = 0
		arg_757_1.state_ = "playing"
		arg_757_1.curTalkId_ = 317021189
		arg_757_1.duration_ = 5

		SetActive(arg_757_1.tipsGo_, false)

		function arg_757_1.onSingleLineFinish_()
			arg_757_1.onSingleLineUpdate_ = nil
			arg_757_1.onSingleLineFinish_ = nil
			arg_757_1.state_ = "waiting"
		end

		function arg_757_1.playNext_(arg_759_0)
			if arg_759_0 == 1 then
				arg_757_0:Play317021190(arg_757_1)
			end
		end

		function arg_757_1.onSingleLineUpdate_(arg_760_0)
			local var_760_0 = arg_757_1.actors_["1050ui_story"]
			local var_760_1 = 0

			if var_760_1 < arg_757_1.time_ and arg_757_1.time_ <= var_760_1 + arg_760_0 and not isNil(var_760_0) and arg_757_1.var_.characterEffect1050ui_story == nil then
				arg_757_1.var_.characterEffect1050ui_story = var_760_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_760_2 = 0.200000002980232

			if var_760_1 <= arg_757_1.time_ and arg_757_1.time_ < var_760_1 + var_760_2 and not isNil(var_760_0) then
				local var_760_3 = (arg_757_1.time_ - var_760_1) / var_760_2

				if arg_757_1.var_.characterEffect1050ui_story and not isNil(var_760_0) then
					local var_760_4 = Mathf.Lerp(0, 0.5, var_760_3)

					arg_757_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_757_1.var_.characterEffect1050ui_story.fillRatio = var_760_4
				end
			end

			if arg_757_1.time_ >= var_760_1 + var_760_2 and arg_757_1.time_ < var_760_1 + var_760_2 + arg_760_0 and not isNil(var_760_0) and arg_757_1.var_.characterEffect1050ui_story then
				local var_760_5 = 0.5

				arg_757_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_757_1.var_.characterEffect1050ui_story.fillRatio = var_760_5
			end

			local var_760_6 = 0
			local var_760_7 = 0.15

			if var_760_6 < arg_757_1.time_ and arg_757_1.time_ <= var_760_6 + arg_760_0 then
				arg_757_1.talkMaxDuration = 0
				arg_757_1.dialogCg_.alpha = 1

				arg_757_1.dialog_:SetActive(true)
				SetActive(arg_757_1.leftNameGo_, true)

				local var_760_8 = arg_757_1:FormatText(StoryNameCfg[7].name)

				arg_757_1.leftNameTxt_.text = var_760_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_757_1.leftNameTxt_.transform)

				arg_757_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_757_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_757_1:RecordName(arg_757_1.leftNameTxt_.text)
				SetActive(arg_757_1.iconTrs_.gameObject, false)
				arg_757_1.callingController_:SetSelectedState("normal")

				local var_760_9 = arg_757_1:GetWordFromCfg(317021189)
				local var_760_10 = arg_757_1:FormatText(var_760_9.content)

				arg_757_1.text_.text = var_760_10

				LuaForUtil.ClearLinePrefixSymbol(arg_757_1.text_)

				local var_760_11 = 6
				local var_760_12 = utf8.len(var_760_10)
				local var_760_13 = var_760_11 <= 0 and var_760_7 or var_760_7 * (var_760_12 / var_760_11)

				if var_760_13 > 0 and var_760_7 < var_760_13 then
					arg_757_1.talkMaxDuration = var_760_13

					if var_760_13 + var_760_6 > arg_757_1.duration_ then
						arg_757_1.duration_ = var_760_13 + var_760_6
					end
				end

				arg_757_1.text_.text = var_760_10
				arg_757_1.typewritter.percent = 0

				arg_757_1.typewritter:SetDirty()
				arg_757_1:ShowNextGo(false)
				arg_757_1:RecordContent(arg_757_1.text_.text)
			end

			local var_760_14 = math.max(var_760_7, arg_757_1.talkMaxDuration)

			if var_760_6 <= arg_757_1.time_ and arg_757_1.time_ < var_760_6 + var_760_14 then
				arg_757_1.typewritter.percent = (arg_757_1.time_ - var_760_6) / var_760_14

				arg_757_1.typewritter:SetDirty()
			end

			if arg_757_1.time_ >= var_760_6 + var_760_14 and arg_757_1.time_ < var_760_6 + var_760_14 + arg_760_0 then
				arg_757_1.typewritter.percent = 1

				arg_757_1.typewritter:SetDirty()
				arg_757_1:ShowNextGo(true)
			end
		end
	end,
	Play317021190 = function(arg_761_0, arg_761_1)
		arg_761_1.time_ = 0
		arg_761_1.frameCnt_ = 0
		arg_761_1.state_ = "playing"
		arg_761_1.curTalkId_ = 317021190
		arg_761_1.duration_ = 5

		SetActive(arg_761_1.tipsGo_, false)

		function arg_761_1.onSingleLineFinish_()
			arg_761_1.onSingleLineUpdate_ = nil
			arg_761_1.onSingleLineFinish_ = nil
			arg_761_1.state_ = "waiting"
		end

		function arg_761_1.playNext_(arg_763_0)
			if arg_763_0 == 1 then
				arg_761_0:Play317021191(arg_761_1)
			end
		end

		function arg_761_1.onSingleLineUpdate_(arg_764_0)
			local var_764_0 = 0
			local var_764_1 = 1.225

			if var_764_0 < arg_761_1.time_ and arg_761_1.time_ <= var_764_0 + arg_764_0 then
				arg_761_1.talkMaxDuration = 0
				arg_761_1.dialogCg_.alpha = 1

				arg_761_1.dialog_:SetActive(true)
				SetActive(arg_761_1.leftNameGo_, false)

				arg_761_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_761_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_761_1:RecordName(arg_761_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_761_1.iconTrs_.gameObject, false)
				arg_761_1.callingController_:SetSelectedState("normal")

				local var_764_2 = arg_761_1:GetWordFromCfg(317021190)
				local var_764_3 = arg_761_1:FormatText(var_764_2.content)

				arg_761_1.text_.text = var_764_3

				LuaForUtil.ClearLinePrefixSymbol(arg_761_1.text_)

				local var_764_4 = 49
				local var_764_5 = utf8.len(var_764_3)
				local var_764_6 = var_764_4 <= 0 and var_764_1 or var_764_1 * (var_764_5 / var_764_4)

				if var_764_6 > 0 and var_764_1 < var_764_6 then
					arg_761_1.talkMaxDuration = var_764_6

					if var_764_6 + var_764_0 > arg_761_1.duration_ then
						arg_761_1.duration_ = var_764_6 + var_764_0
					end
				end

				arg_761_1.text_.text = var_764_3
				arg_761_1.typewritter.percent = 0

				arg_761_1.typewritter:SetDirty()
				arg_761_1:ShowNextGo(false)
				arg_761_1:RecordContent(arg_761_1.text_.text)
			end

			local var_764_7 = math.max(var_764_1, arg_761_1.talkMaxDuration)

			if var_764_0 <= arg_761_1.time_ and arg_761_1.time_ < var_764_0 + var_764_7 then
				arg_761_1.typewritter.percent = (arg_761_1.time_ - var_764_0) / var_764_7

				arg_761_1.typewritter:SetDirty()
			end

			if arg_761_1.time_ >= var_764_0 + var_764_7 and arg_761_1.time_ < var_764_0 + var_764_7 + arg_764_0 then
				arg_761_1.typewritter.percent = 1

				arg_761_1.typewritter:SetDirty()
				arg_761_1:ShowNextGo(true)
			end
		end
	end,
	Play317021191 = function(arg_765_0, arg_765_1)
		arg_765_1.time_ = 0
		arg_765_1.frameCnt_ = 0
		arg_765_1.state_ = "playing"
		arg_765_1.curTalkId_ = 317021191
		arg_765_1.duration_ = 10.23

		SetActive(arg_765_1.tipsGo_, false)

		function arg_765_1.onSingleLineFinish_()
			arg_765_1.onSingleLineUpdate_ = nil
			arg_765_1.onSingleLineFinish_ = nil
			arg_765_1.state_ = "waiting"
		end

		function arg_765_1.playNext_(arg_767_0)
			if arg_767_0 == 1 then
				arg_765_0:Play317021192(arg_765_1)
			end
		end

		function arg_765_1.onSingleLineUpdate_(arg_768_0)
			local var_768_0 = 0

			if var_768_0 < arg_765_1.time_ and arg_765_1.time_ <= var_768_0 + arg_768_0 then
				arg_765_1.fswbg_:SetActive(true)
				arg_765_1.dialog_:SetActive(false)

				arg_765_1.fswtw_.percent = 0

				local var_768_1 = arg_765_1:GetWordFromCfg(317021191)
				local var_768_2 = arg_765_1:FormatText(var_768_1.content)

				arg_765_1.fswt_.text = var_768_2

				LuaForUtil.ClearLinePrefixSymbol(arg_765_1.fswt_)

				arg_765_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_765_1.fswtw_:SetDirty()

				arg_765_1.typewritterCharCountI18N = 0

				SetActive(arg_765_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_765_1:ShowNextGo(false)
			end

			local var_768_3 = 0.033

			if var_768_3 < arg_765_1.time_ and arg_765_1.time_ <= var_768_3 + arg_768_0 then
				arg_765_1.var_.oldValueTypewriter = arg_765_1.fswtw_.percent

				arg_765_1:ShowNextGo(false)
			end

			local var_768_4 = 42
			local var_768_5 = 2.8
			local var_768_6 = arg_765_1:GetWordFromCfg(317021191)
			local var_768_7 = arg_765_1:FormatText(var_768_6.content)
			local var_768_8, var_768_9 = arg_765_1:GetPercentByPara(var_768_7, 1)

			if var_768_3 < arg_765_1.time_ and arg_765_1.time_ <= var_768_3 + arg_768_0 then
				arg_765_1.talkMaxDuration = 0

				local var_768_10 = var_768_4 <= 0 and var_768_5 or var_768_5 * ((var_768_9 - arg_765_1.typewritterCharCountI18N) / var_768_4)

				if var_768_10 > 0 and var_768_5 < var_768_10 then
					arg_765_1.talkMaxDuration = var_768_10

					if var_768_10 + var_768_3 > arg_765_1.duration_ then
						arg_765_1.duration_ = var_768_10 + var_768_3
					end
				end
			end

			local var_768_11 = 2.8
			local var_768_12 = math.max(var_768_11, arg_765_1.talkMaxDuration)

			if var_768_3 <= arg_765_1.time_ and arg_765_1.time_ < var_768_3 + var_768_12 then
				local var_768_13 = (arg_765_1.time_ - var_768_3) / var_768_12

				arg_765_1.fswtw_.percent = Mathf.Lerp(arg_765_1.var_.oldValueTypewriter, var_768_8, var_768_13)
				arg_765_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_765_1.fswtw_:SetDirty()
			end

			if arg_765_1.time_ >= var_768_3 + var_768_12 and arg_765_1.time_ < var_768_3 + var_768_12 + arg_768_0 then
				arg_765_1.fswtw_.percent = var_768_8

				arg_765_1.fswtw_:SetDirty()
				arg_765_1:ShowNextGo(true)

				arg_765_1.typewritterCharCountI18N = var_768_9
			end

			local var_768_14 = 0
			local var_768_15 = 10.233
			local var_768_16 = manager.audio:GetVoiceLength("story_v_out_317021", "317021191", "story_v_out_317021.awb") / 1000

			if var_768_16 > 0 and var_768_15 < var_768_16 and var_768_16 + var_768_14 > arg_765_1.duration_ then
				local var_768_17 = var_768_16

				arg_765_1.duration_ = var_768_16 + var_768_14
			end

			if var_768_14 < arg_765_1.time_ and arg_765_1.time_ <= var_768_14 + arg_768_0 then
				local var_768_18 = "play"
				local var_768_19 = "voice"

				arg_765_1:AudioAction(var_768_18, var_768_19, "story_v_out_317021", "317021191", "story_v_out_317021.awb")
			end

			local var_768_20 = arg_765_1.actors_["1050ui_story"].transform
			local var_768_21 = 0

			if var_768_21 < arg_765_1.time_ and arg_765_1.time_ <= var_768_21 + arg_768_0 then
				arg_765_1.var_.moveOldPos1050ui_story = var_768_20.localPosition
			end

			local var_768_22 = 0.001

			if var_768_21 <= arg_765_1.time_ and arg_765_1.time_ < var_768_21 + var_768_22 then
				local var_768_23 = (arg_765_1.time_ - var_768_21) / var_768_22
				local var_768_24 = Vector3.New(0, 100, 0)

				var_768_20.localPosition = Vector3.Lerp(arg_765_1.var_.moveOldPos1050ui_story, var_768_24, var_768_23)

				local var_768_25 = manager.ui.mainCamera.transform.position - var_768_20.position

				var_768_20.forward = Vector3.New(var_768_25.x, var_768_25.y, var_768_25.z)

				local var_768_26 = var_768_20.localEulerAngles

				var_768_26.z = 0
				var_768_26.x = 0
				var_768_20.localEulerAngles = var_768_26
			end

			if arg_765_1.time_ >= var_768_21 + var_768_22 and arg_765_1.time_ < var_768_21 + var_768_22 + arg_768_0 then
				var_768_20.localPosition = Vector3.New(0, 100, 0)

				local var_768_27 = manager.ui.mainCamera.transform.position - var_768_20.position

				var_768_20.forward = Vector3.New(var_768_27.x, var_768_27.y, var_768_27.z)

				local var_768_28 = var_768_20.localEulerAngles

				var_768_28.z = 0
				var_768_28.x = 0
				var_768_20.localEulerAngles = var_768_28
			end

			local var_768_29 = arg_765_1.actors_["1050ui_story"]
			local var_768_30 = 0

			if var_768_30 < arg_765_1.time_ and arg_765_1.time_ <= var_768_30 + arg_768_0 and not isNil(var_768_29) and arg_765_1.var_.characterEffect1050ui_story == nil then
				arg_765_1.var_.characterEffect1050ui_story = var_768_29:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_768_31 = 0.200000002980232

			if var_768_30 <= arg_765_1.time_ and arg_765_1.time_ < var_768_30 + var_768_31 and not isNil(var_768_29) then
				local var_768_32 = (arg_765_1.time_ - var_768_30) / var_768_31

				if arg_765_1.var_.characterEffect1050ui_story and not isNil(var_768_29) then
					local var_768_33 = Mathf.Lerp(0, 0.5, var_768_32)

					arg_765_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_765_1.var_.characterEffect1050ui_story.fillRatio = var_768_33
				end
			end

			if arg_765_1.time_ >= var_768_30 + var_768_31 and arg_765_1.time_ < var_768_30 + var_768_31 + arg_768_0 and not isNil(var_768_29) and arg_765_1.var_.characterEffect1050ui_story then
				local var_768_34 = 0.5

				arg_765_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_765_1.var_.characterEffect1050ui_story.fillRatio = var_768_34
			end

			local var_768_35 = arg_765_1.actors_["1093ui_story"].transform
			local var_768_36 = 0

			if var_768_36 < arg_765_1.time_ and arg_765_1.time_ <= var_768_36 + arg_768_0 then
				arg_765_1.var_.moveOldPos1093ui_story = var_768_35.localPosition
			end

			local var_768_37 = 0.001

			if var_768_36 <= arg_765_1.time_ and arg_765_1.time_ < var_768_36 + var_768_37 then
				local var_768_38 = (arg_765_1.time_ - var_768_36) / var_768_37
				local var_768_39 = Vector3.New(0, 100, 0)

				var_768_35.localPosition = Vector3.Lerp(arg_765_1.var_.moveOldPos1093ui_story, var_768_39, var_768_38)

				local var_768_40 = manager.ui.mainCamera.transform.position - var_768_35.position

				var_768_35.forward = Vector3.New(var_768_40.x, var_768_40.y, var_768_40.z)

				local var_768_41 = var_768_35.localEulerAngles

				var_768_41.z = 0
				var_768_41.x = 0
				var_768_35.localEulerAngles = var_768_41
			end

			if arg_765_1.time_ >= var_768_36 + var_768_37 and arg_765_1.time_ < var_768_36 + var_768_37 + arg_768_0 then
				var_768_35.localPosition = Vector3.New(0, 100, 0)

				local var_768_42 = manager.ui.mainCamera.transform.position - var_768_35.position

				var_768_35.forward = Vector3.New(var_768_42.x, var_768_42.y, var_768_42.z)

				local var_768_43 = var_768_35.localEulerAngles

				var_768_43.z = 0
				var_768_43.x = 0
				var_768_35.localEulerAngles = var_768_43
			end

			local var_768_44 = arg_765_1.actors_["1093ui_story"]
			local var_768_45 = 0

			if var_768_45 < arg_765_1.time_ and arg_765_1.time_ <= var_768_45 + arg_768_0 and not isNil(var_768_44) and arg_765_1.var_.characterEffect1093ui_story == nil then
				arg_765_1.var_.characterEffect1093ui_story = var_768_44:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_768_46 = 0.200000002980232

			if var_768_45 <= arg_765_1.time_ and arg_765_1.time_ < var_768_45 + var_768_46 and not isNil(var_768_44) then
				local var_768_47 = (arg_765_1.time_ - var_768_45) / var_768_46

				if arg_765_1.var_.characterEffect1093ui_story and not isNil(var_768_44) then
					local var_768_48 = Mathf.Lerp(0, 0.5, var_768_47)

					arg_765_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_765_1.var_.characterEffect1093ui_story.fillRatio = var_768_48
				end
			end

			if arg_765_1.time_ >= var_768_45 + var_768_46 and arg_765_1.time_ < var_768_45 + var_768_46 + arg_768_0 and not isNil(var_768_44) and arg_765_1.var_.characterEffect1093ui_story then
				local var_768_49 = 0.5

				arg_765_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_765_1.var_.characterEffect1093ui_story.fillRatio = var_768_49
			end
		end
	end,
	Play317021192 = function(arg_769_0, arg_769_1)
		arg_769_1.time_ = 0
		arg_769_1.frameCnt_ = 0
		arg_769_1.state_ = "playing"
		arg_769_1.curTalkId_ = 317021192
		arg_769_1.duration_ = 8.03

		SetActive(arg_769_1.tipsGo_, false)

		function arg_769_1.onSingleLineFinish_()
			arg_769_1.onSingleLineUpdate_ = nil
			arg_769_1.onSingleLineFinish_ = nil
			arg_769_1.state_ = "waiting"
		end

		function arg_769_1.playNext_(arg_771_0)
			if arg_771_0 == 1 then
				arg_769_0:Play317021193(arg_769_1)
			end
		end

		function arg_769_1.onSingleLineUpdate_(arg_772_0)
			local var_772_0 = 0

			if var_772_0 < arg_769_1.time_ and arg_769_1.time_ <= var_772_0 + arg_772_0 then
				arg_769_1.var_.oldValueTypewriter = arg_769_1.fswtw_.percent

				arg_769_1:ShowNextGo(false)
			end

			local var_772_1 = 33
			local var_772_2 = 2.2
			local var_772_3 = arg_769_1:GetWordFromCfg(317021191)
			local var_772_4 = arg_769_1:FormatText(var_772_3.content)
			local var_772_5, var_772_6 = arg_769_1:GetPercentByPara(var_772_4, 2)

			if var_772_0 < arg_769_1.time_ and arg_769_1.time_ <= var_772_0 + arg_772_0 then
				arg_769_1.talkMaxDuration = 0

				local var_772_7 = var_772_1 <= 0 and var_772_2 or var_772_2 * ((var_772_6 - arg_769_1.typewritterCharCountI18N) / var_772_1)

				if var_772_7 > 0 and var_772_2 < var_772_7 then
					arg_769_1.talkMaxDuration = var_772_7

					if var_772_7 + var_772_0 > arg_769_1.duration_ then
						arg_769_1.duration_ = var_772_7 + var_772_0
					end
				end
			end

			local var_772_8 = 2.2
			local var_772_9 = math.max(var_772_8, arg_769_1.talkMaxDuration)

			if var_772_0 <= arg_769_1.time_ and arg_769_1.time_ < var_772_0 + var_772_9 then
				local var_772_10 = (arg_769_1.time_ - var_772_0) / var_772_9

				arg_769_1.fswtw_.percent = Mathf.Lerp(arg_769_1.var_.oldValueTypewriter, var_772_5, var_772_10)
				arg_769_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_769_1.fswtw_:SetDirty()
			end

			if arg_769_1.time_ >= var_772_0 + var_772_9 and arg_769_1.time_ < var_772_0 + var_772_9 + arg_772_0 then
				arg_769_1.fswtw_.percent = var_772_5

				arg_769_1.fswtw_:SetDirty()
				arg_769_1:ShowNextGo(true)

				arg_769_1.typewritterCharCountI18N = var_772_6
			end

			local var_772_11 = 0
			local var_772_12 = 8.033
			local var_772_13 = manager.audio:GetVoiceLength("story_v_out_317021", "317021192", "story_v_out_317021.awb") / 1000

			if var_772_13 > 0 and var_772_12 < var_772_13 and var_772_13 + var_772_11 > arg_769_1.duration_ then
				local var_772_14 = var_772_13

				arg_769_1.duration_ = var_772_13 + var_772_11
			end

			if var_772_11 < arg_769_1.time_ and arg_769_1.time_ <= var_772_11 + arg_772_0 then
				local var_772_15 = "play"
				local var_772_16 = "voice"

				arg_769_1:AudioAction(var_772_15, var_772_16, "story_v_out_317021", "317021192", "story_v_out_317021.awb")
			end
		end
	end,
	Play317021193 = function(arg_773_0, arg_773_1)
		arg_773_1.time_ = 0
		arg_773_1.frameCnt_ = 0
		arg_773_1.state_ = "playing"
		arg_773_1.curTalkId_ = 317021193
		arg_773_1.duration_ = 2.13

		SetActive(arg_773_1.tipsGo_, false)

		function arg_773_1.onSingleLineFinish_()
			arg_773_1.onSingleLineUpdate_ = nil
			arg_773_1.onSingleLineFinish_ = nil
			arg_773_1.state_ = "waiting"
		end

		function arg_773_1.playNext_(arg_775_0)
			if arg_775_0 == 1 then
				arg_773_0:Play317021194(arg_773_1)
			end
		end

		function arg_773_1.onSingleLineUpdate_(arg_776_0)
			local var_776_0 = 0

			if var_776_0 < arg_773_1.time_ and arg_773_1.time_ <= var_776_0 + arg_776_0 then
				arg_773_1.var_.oldValueTypewriter = arg_773_1.fswtw_.percent

				arg_773_1:ShowNextGo(false)
			end

			local var_776_1 = 32
			local var_776_2 = 2.13333333333333
			local var_776_3 = arg_773_1:GetWordFromCfg(317021191)
			local var_776_4 = arg_773_1:FormatText(var_776_3.content)
			local var_776_5, var_776_6 = arg_773_1:GetPercentByPara(var_776_4, 3)

			if var_776_0 < arg_773_1.time_ and arg_773_1.time_ <= var_776_0 + arg_776_0 then
				arg_773_1.talkMaxDuration = 0

				local var_776_7 = var_776_1 <= 0 and var_776_2 or var_776_2 * ((var_776_6 - arg_773_1.typewritterCharCountI18N) / var_776_1)

				if var_776_7 > 0 and var_776_2 < var_776_7 then
					arg_773_1.talkMaxDuration = var_776_7

					if var_776_7 + var_776_0 > arg_773_1.duration_ then
						arg_773_1.duration_ = var_776_7 + var_776_0
					end
				end
			end

			local var_776_8 = 2.13333333333333
			local var_776_9 = math.max(var_776_8, arg_773_1.talkMaxDuration)

			if var_776_0 <= arg_773_1.time_ and arg_773_1.time_ < var_776_0 + var_776_9 then
				local var_776_10 = (arg_773_1.time_ - var_776_0) / var_776_9

				arg_773_1.fswtw_.percent = Mathf.Lerp(arg_773_1.var_.oldValueTypewriter, var_776_5, var_776_10)
				arg_773_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_773_1.fswtw_:SetDirty()
			end

			if arg_773_1.time_ >= var_776_0 + var_776_9 and arg_773_1.time_ < var_776_0 + var_776_9 + arg_776_0 then
				arg_773_1.fswtw_.percent = var_776_5

				arg_773_1.fswtw_:SetDirty()
				arg_773_1:ShowNextGo(true)

				arg_773_1.typewritterCharCountI18N = var_776_6
			end

			local var_776_11 = 0
			local var_776_12 = 1
			local var_776_13 = manager.audio:GetVoiceLength("story_v_out_317021", "317021193", "story_v_out_317021.awb") / 1000

			if var_776_13 > 0 and var_776_12 < var_776_13 and var_776_13 + var_776_11 > arg_773_1.duration_ then
				local var_776_14 = var_776_13

				arg_773_1.duration_ = var_776_13 + var_776_11
			end

			if var_776_11 < arg_773_1.time_ and arg_773_1.time_ <= var_776_11 + arg_776_0 then
				local var_776_15 = "play"
				local var_776_16 = "voice"

				arg_773_1:AudioAction(var_776_15, var_776_16, "story_v_out_317021", "317021193", "story_v_out_317021.awb")
			end
		end
	end,
	Play317021194 = function(arg_777_0, arg_777_1)
		arg_777_1.time_ = 0
		arg_777_1.frameCnt_ = 0
		arg_777_1.state_ = "playing"
		arg_777_1.curTalkId_ = 317021194
		arg_777_1.duration_ = 3.67

		SetActive(arg_777_1.tipsGo_, false)

		function arg_777_1.onSingleLineFinish_()
			arg_777_1.onSingleLineUpdate_ = nil
			arg_777_1.onSingleLineFinish_ = nil
			arg_777_1.state_ = "waiting"
		end

		function arg_777_1.playNext_(arg_779_0)
			if arg_779_0 == 1 then
				arg_777_0:Play317021195(arg_777_1)
			end
		end

		function arg_777_1.onSingleLineUpdate_(arg_780_0)
			local var_780_0 = 0

			if var_780_0 < arg_777_1.time_ and arg_777_1.time_ <= var_780_0 + arg_780_0 then
				arg_777_1.var_.oldValueTypewriter = arg_777_1.fswtw_.percent

				arg_777_1:ShowNextGo(false)
			end

			local var_780_1 = 55
			local var_780_2 = 3.66666666666667
			local var_780_3 = arg_777_1:GetWordFromCfg(317021191)
			local var_780_4 = arg_777_1:FormatText(var_780_3.content)
			local var_780_5, var_780_6 = arg_777_1:GetPercentByPara(var_780_4, 4)

			if var_780_0 < arg_777_1.time_ and arg_777_1.time_ <= var_780_0 + arg_780_0 then
				arg_777_1.talkMaxDuration = 0

				local var_780_7 = var_780_1 <= 0 and var_780_2 or var_780_2 * ((var_780_6 - arg_777_1.typewritterCharCountI18N) / var_780_1)

				if var_780_7 > 0 and var_780_2 < var_780_7 then
					arg_777_1.talkMaxDuration = var_780_7

					if var_780_7 + var_780_0 > arg_777_1.duration_ then
						arg_777_1.duration_ = var_780_7 + var_780_0
					end
				end
			end

			local var_780_8 = 3.66666666666667
			local var_780_9 = math.max(var_780_8, arg_777_1.talkMaxDuration)

			if var_780_0 <= arg_777_1.time_ and arg_777_1.time_ < var_780_0 + var_780_9 then
				local var_780_10 = (arg_777_1.time_ - var_780_0) / var_780_9

				arg_777_1.fswtw_.percent = Mathf.Lerp(arg_777_1.var_.oldValueTypewriter, var_780_5, var_780_10)
				arg_777_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_777_1.fswtw_:SetDirty()
			end

			if arg_777_1.time_ >= var_780_0 + var_780_9 and arg_777_1.time_ < var_780_0 + var_780_9 + arg_780_0 then
				arg_777_1.fswtw_.percent = var_780_5

				arg_777_1.fswtw_:SetDirty()
				arg_777_1:ShowNextGo(true)

				arg_777_1.typewritterCharCountI18N = var_780_6
			end

			local var_780_11 = 0
			local var_780_12 = 1
			local var_780_13 = manager.audio:GetVoiceLength("story_v_out_317021", "317021194", "story_v_out_317021.awb") / 1000

			if var_780_13 > 0 and var_780_12 < var_780_13 and var_780_13 + var_780_11 > arg_777_1.duration_ then
				local var_780_14 = var_780_13

				arg_777_1.duration_ = var_780_13 + var_780_11
			end

			if var_780_11 < arg_777_1.time_ and arg_777_1.time_ <= var_780_11 + arg_780_0 then
				local var_780_15 = "play"
				local var_780_16 = "voice"

				arg_777_1:AudioAction(var_780_15, var_780_16, "story_v_out_317021", "317021194", "story_v_out_317021.awb")
			end
		end
	end,
	Play317021195 = function(arg_781_0, arg_781_1)
		arg_781_1.time_ = 0
		arg_781_1.frameCnt_ = 0
		arg_781_1.state_ = "playing"
		arg_781_1.curTalkId_ = 317021195
		arg_781_1.duration_ = 2

		SetActive(arg_781_1.tipsGo_, false)

		function arg_781_1.onSingleLineFinish_()
			arg_781_1.onSingleLineUpdate_ = nil
			arg_781_1.onSingleLineFinish_ = nil
			arg_781_1.state_ = "waiting"
		end

		function arg_781_1.playNext_(arg_783_0)
			if arg_783_0 == 1 then
				arg_781_0:Play317021196(arg_781_1)
			end
		end

		function arg_781_1.onSingleLineUpdate_(arg_784_0)
			local var_784_0 = 0

			if var_784_0 < arg_781_1.time_ and arg_781_1.time_ <= var_784_0 + arg_784_0 then
				arg_781_1.var_.oldValueTypewriter = arg_781_1.fswtw_.percent

				arg_781_1:ShowNextGo(false)
			end

			local var_784_1 = 30
			local var_784_2 = 2
			local var_784_3 = arg_781_1:GetWordFromCfg(317021191)
			local var_784_4 = arg_781_1:FormatText(var_784_3.content)
			local var_784_5, var_784_6 = arg_781_1:GetPercentByPara(var_784_4, 5)

			if var_784_0 < arg_781_1.time_ and arg_781_1.time_ <= var_784_0 + arg_784_0 then
				arg_781_1.talkMaxDuration = 0

				local var_784_7 = var_784_1 <= 0 and var_784_2 or var_784_2 * ((var_784_6 - arg_781_1.typewritterCharCountI18N) / var_784_1)

				if var_784_7 > 0 and var_784_2 < var_784_7 then
					arg_781_1.talkMaxDuration = var_784_7

					if var_784_7 + var_784_0 > arg_781_1.duration_ then
						arg_781_1.duration_ = var_784_7 + var_784_0
					end
				end
			end

			local var_784_8 = 2
			local var_784_9 = math.max(var_784_8, arg_781_1.talkMaxDuration)

			if var_784_0 <= arg_781_1.time_ and arg_781_1.time_ < var_784_0 + var_784_9 then
				local var_784_10 = (arg_781_1.time_ - var_784_0) / var_784_9

				arg_781_1.fswtw_.percent = Mathf.Lerp(arg_781_1.var_.oldValueTypewriter, var_784_5, var_784_10)
				arg_781_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_781_1.fswtw_:SetDirty()
			end

			if arg_781_1.time_ >= var_784_0 + var_784_9 and arg_781_1.time_ < var_784_0 + var_784_9 + arg_784_0 then
				arg_781_1.fswtw_.percent = var_784_5

				arg_781_1.fswtw_:SetDirty()
				arg_781_1:ShowNextGo(true)

				arg_781_1.typewritterCharCountI18N = var_784_6
			end

			local var_784_11 = 0
			local var_784_12 = 1
			local var_784_13 = manager.audio:GetVoiceLength("story_v_out_317021", "317021195", "story_v_out_317021.awb") / 1000

			if var_784_13 > 0 and var_784_12 < var_784_13 and var_784_13 + var_784_11 > arg_781_1.duration_ then
				local var_784_14 = var_784_13

				arg_781_1.duration_ = var_784_13 + var_784_11
			end

			if var_784_11 < arg_781_1.time_ and arg_781_1.time_ <= var_784_11 + arg_784_0 then
				local var_784_15 = "play"
				local var_784_16 = "voice"

				arg_781_1:AudioAction(var_784_15, var_784_16, "story_v_out_317021", "317021195", "story_v_out_317021.awb")
			end
		end
	end,
	Play317021196 = function(arg_785_0, arg_785_1)
		arg_785_1.time_ = 0
		arg_785_1.frameCnt_ = 0
		arg_785_1.state_ = "playing"
		arg_785_1.curTalkId_ = 317021196
		arg_785_1.duration_ = 3.33

		SetActive(arg_785_1.tipsGo_, false)

		function arg_785_1.onSingleLineFinish_()
			arg_785_1.onSingleLineUpdate_ = nil
			arg_785_1.onSingleLineFinish_ = nil
			arg_785_1.state_ = "waiting"
		end

		function arg_785_1.playNext_(arg_787_0)
			if arg_787_0 == 1 then
				arg_785_0:Play317021197(arg_785_1)
			end
		end

		function arg_785_1.onSingleLineUpdate_(arg_788_0)
			local var_788_0 = 0

			if var_788_0 < arg_785_1.time_ and arg_785_1.time_ <= var_788_0 + arg_788_0 then
				arg_785_1.var_.oldValueTypewriter = arg_785_1.fswtw_.percent

				arg_785_1:ShowNextGo(false)
			end

			local var_788_1 = 50
			local var_788_2 = 3.33333333333333
			local var_788_3 = arg_785_1:GetWordFromCfg(317021191)
			local var_788_4 = arg_785_1:FormatText(var_788_3.content)
			local var_788_5, var_788_6 = arg_785_1:GetPercentByPara(var_788_4, 6)

			if var_788_0 < arg_785_1.time_ and arg_785_1.time_ <= var_788_0 + arg_788_0 then
				arg_785_1.talkMaxDuration = 0

				local var_788_7 = var_788_1 <= 0 and var_788_2 or var_788_2 * ((var_788_6 - arg_785_1.typewritterCharCountI18N) / var_788_1)

				if var_788_7 > 0 and var_788_2 < var_788_7 then
					arg_785_1.talkMaxDuration = var_788_7

					if var_788_7 + var_788_0 > arg_785_1.duration_ then
						arg_785_1.duration_ = var_788_7 + var_788_0
					end
				end
			end

			local var_788_8 = 3.33333333333333
			local var_788_9 = math.max(var_788_8, arg_785_1.talkMaxDuration)

			if var_788_0 <= arg_785_1.time_ and arg_785_1.time_ < var_788_0 + var_788_9 then
				local var_788_10 = (arg_785_1.time_ - var_788_0) / var_788_9

				arg_785_1.fswtw_.percent = Mathf.Lerp(arg_785_1.var_.oldValueTypewriter, var_788_5, var_788_10)
				arg_785_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_785_1.fswtw_:SetDirty()
			end

			if arg_785_1.time_ >= var_788_0 + var_788_9 and arg_785_1.time_ < var_788_0 + var_788_9 + arg_788_0 then
				arg_785_1.fswtw_.percent = var_788_5

				arg_785_1.fswtw_:SetDirty()
				arg_785_1:ShowNextGo(true)

				arg_785_1.typewritterCharCountI18N = var_788_6
			end

			local var_788_11 = 0
			local var_788_12 = 1
			local var_788_13 = manager.audio:GetVoiceLength("story_v_out_317021", "317021196", "story_v_out_317021.awb") / 1000

			if var_788_13 > 0 and var_788_12 < var_788_13 and var_788_13 + var_788_11 > arg_785_1.duration_ then
				local var_788_14 = var_788_13

				arg_785_1.duration_ = var_788_13 + var_788_11
			end

			if var_788_11 < arg_785_1.time_ and arg_785_1.time_ <= var_788_11 + arg_788_0 then
				local var_788_15 = "play"
				local var_788_16 = "voice"

				arg_785_1:AudioAction(var_788_15, var_788_16, "story_v_out_317021", "317021196", "story_v_out_317021.awb")
			end
		end
	end,
	Play317021197 = function(arg_789_0, arg_789_1)
		arg_789_1.time_ = 0
		arg_789_1.frameCnt_ = 0
		arg_789_1.state_ = "playing"
		arg_789_1.curTalkId_ = 317021197
		arg_789_1.duration_ = 2.93

		SetActive(arg_789_1.tipsGo_, false)

		function arg_789_1.onSingleLineFinish_()
			arg_789_1.onSingleLineUpdate_ = nil
			arg_789_1.onSingleLineFinish_ = nil
			arg_789_1.state_ = "waiting"
		end

		function arg_789_1.playNext_(arg_791_0)
			if arg_791_0 == 1 then
				arg_789_0:Play317021198(arg_789_1)
			end
		end

		function arg_789_1.onSingleLineUpdate_(arg_792_0)
			local var_792_0 = 0

			if var_792_0 < arg_789_1.time_ and arg_789_1.time_ <= var_792_0 + arg_792_0 then
				arg_789_1.var_.oldValueTypewriter = arg_789_1.fswtw_.percent

				arg_789_1:ShowNextGo(false)
			end

			local var_792_1 = 44
			local var_792_2 = 2.93333333333333
			local var_792_3 = arg_789_1:GetWordFromCfg(317021191)
			local var_792_4 = arg_789_1:FormatText(var_792_3.content)
			local var_792_5, var_792_6 = arg_789_1:GetPercentByPara(var_792_4, 7)

			if var_792_0 < arg_789_1.time_ and arg_789_1.time_ <= var_792_0 + arg_792_0 then
				arg_789_1.talkMaxDuration = 0

				local var_792_7 = var_792_1 <= 0 and var_792_2 or var_792_2 * ((var_792_6 - arg_789_1.typewritterCharCountI18N) / var_792_1)

				if var_792_7 > 0 and var_792_2 < var_792_7 then
					arg_789_1.talkMaxDuration = var_792_7

					if var_792_7 + var_792_0 > arg_789_1.duration_ then
						arg_789_1.duration_ = var_792_7 + var_792_0
					end
				end
			end

			local var_792_8 = 2.93333333333333
			local var_792_9 = math.max(var_792_8, arg_789_1.talkMaxDuration)

			if var_792_0 <= arg_789_1.time_ and arg_789_1.time_ < var_792_0 + var_792_9 then
				local var_792_10 = (arg_789_1.time_ - var_792_0) / var_792_9

				arg_789_1.fswtw_.percent = Mathf.Lerp(arg_789_1.var_.oldValueTypewriter, var_792_5, var_792_10)
				arg_789_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_789_1.fswtw_:SetDirty()
			end

			if arg_789_1.time_ >= var_792_0 + var_792_9 and arg_789_1.time_ < var_792_0 + var_792_9 + arg_792_0 then
				arg_789_1.fswtw_.percent = var_792_5

				arg_789_1.fswtw_:SetDirty()
				arg_789_1:ShowNextGo(true)

				arg_789_1.typewritterCharCountI18N = var_792_6
			end

			local var_792_11 = 0
			local var_792_12 = 1
			local var_792_13 = manager.audio:GetVoiceLength("story_v_out_317021", "317021197", "story_v_out_317021.awb") / 1000

			if var_792_13 > 0 and var_792_12 < var_792_13 and var_792_13 + var_792_11 > arg_789_1.duration_ then
				local var_792_14 = var_792_13

				arg_789_1.duration_ = var_792_13 + var_792_11
			end

			if var_792_11 < arg_789_1.time_ and arg_789_1.time_ <= var_792_11 + arg_792_0 then
				local var_792_15 = "play"
				local var_792_16 = "voice"

				arg_789_1:AudioAction(var_792_15, var_792_16, "story_v_out_317021", "317021197", "story_v_out_317021.awb")
			end
		end
	end,
	Play317021198 = function(arg_793_0, arg_793_1)
		arg_793_1.time_ = 0
		arg_793_1.frameCnt_ = 0
		arg_793_1.state_ = "playing"
		arg_793_1.curTalkId_ = 317021198
		arg_793_1.duration_ = 3.17

		SetActive(arg_793_1.tipsGo_, false)

		function arg_793_1.onSingleLineFinish_()
			arg_793_1.onSingleLineUpdate_ = nil
			arg_793_1.onSingleLineFinish_ = nil
			arg_793_1.state_ = "waiting"
		end

		function arg_793_1.playNext_(arg_795_0)
			if arg_795_0 == 1 then
				arg_793_0:Play317021199(arg_793_1)
			end
		end

		function arg_793_1.onSingleLineUpdate_(arg_796_0)
			local var_796_0 = 0

			if var_796_0 < arg_793_1.time_ and arg_793_1.time_ <= var_796_0 + arg_796_0 then
				arg_793_1.fswbg_:SetActive(true)
				arg_793_1.dialog_:SetActive(false)

				arg_793_1.fswtw_.percent = 0

				local var_796_1 = arg_793_1:GetWordFromCfg(317021198)
				local var_796_2 = arg_793_1:FormatText(var_796_1.content)

				arg_793_1.fswt_.text = var_796_2

				LuaForUtil.ClearLinePrefixSymbol(arg_793_1.fswt_)

				arg_793_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_793_1.fswtw_:SetDirty()

				arg_793_1.typewritterCharCountI18N = 0

				SetActive(arg_793_1.fswtw_.transform.parent.parent:Find("bg/line").gameObject, false)
				arg_793_1:ShowNextGo(false)
			end

			local var_796_3 = 0.033

			if var_796_3 < arg_793_1.time_ and arg_793_1.time_ <= var_796_3 + arg_796_0 then
				arg_793_1.var_.oldValueTypewriter = arg_793_1.fswtw_.percent

				arg_793_1:ShowNextGo(false)
			end

			local var_796_4 = 47
			local var_796_5 = 3.13333333333333
			local var_796_6 = arg_793_1:GetWordFromCfg(317021198)
			local var_796_7 = arg_793_1:FormatText(var_796_6.content)
			local var_796_8, var_796_9 = arg_793_1:GetPercentByPara(var_796_7, 1)

			if var_796_3 < arg_793_1.time_ and arg_793_1.time_ <= var_796_3 + arg_796_0 then
				arg_793_1.talkMaxDuration = 0

				local var_796_10 = var_796_4 <= 0 and var_796_5 or var_796_5 * ((var_796_9 - arg_793_1.typewritterCharCountI18N) / var_796_4)

				if var_796_10 > 0 and var_796_5 < var_796_10 then
					arg_793_1.talkMaxDuration = var_796_10

					if var_796_10 + var_796_3 > arg_793_1.duration_ then
						arg_793_1.duration_ = var_796_10 + var_796_3
					end
				end
			end

			local var_796_11 = 3.13333333333333
			local var_796_12 = math.max(var_796_11, arg_793_1.talkMaxDuration)

			if var_796_3 <= arg_793_1.time_ and arg_793_1.time_ < var_796_3 + var_796_12 then
				local var_796_13 = (arg_793_1.time_ - var_796_3) / var_796_12

				arg_793_1.fswtw_.percent = Mathf.Lerp(arg_793_1.var_.oldValueTypewriter, var_796_8, var_796_13)
				arg_793_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_793_1.fswtw_:SetDirty()
			end

			if arg_793_1.time_ >= var_796_3 + var_796_12 and arg_793_1.time_ < var_796_3 + var_796_12 + arg_796_0 then
				arg_793_1.fswtw_.percent = var_796_8

				arg_793_1.fswtw_:SetDirty()
				arg_793_1:ShowNextGo(true)

				arg_793_1.typewritterCharCountI18N = var_796_9
			end

			local var_796_14 = 0
			local var_796_15 = 1
			local var_796_16 = manager.audio:GetVoiceLength("story_v_out_317021", "317021198", "story_v_out_317021.awb") / 1000

			if var_796_16 > 0 and var_796_15 < var_796_16 and var_796_16 + var_796_14 > arg_793_1.duration_ then
				local var_796_17 = var_796_16

				arg_793_1.duration_ = var_796_16 + var_796_14
			end

			if var_796_14 < arg_793_1.time_ and arg_793_1.time_ <= var_796_14 + arg_796_0 then
				local var_796_18 = "play"
				local var_796_19 = "voice"

				arg_793_1:AudioAction(var_796_18, var_796_19, "story_v_out_317021", "317021198", "story_v_out_317021.awb")
			end
		end
	end,
	Play317021199 = function(arg_797_0, arg_797_1)
		arg_797_1.time_ = 0
		arg_797_1.frameCnt_ = 0
		arg_797_1.state_ = "playing"
		arg_797_1.curTalkId_ = 317021199
		arg_797_1.duration_ = 4.13

		SetActive(arg_797_1.tipsGo_, false)

		function arg_797_1.onSingleLineFinish_()
			arg_797_1.onSingleLineUpdate_ = nil
			arg_797_1.onSingleLineFinish_ = nil
			arg_797_1.state_ = "waiting"
		end

		function arg_797_1.playNext_(arg_799_0)
			if arg_799_0 == 1 then
				arg_797_0:Play317021200(arg_797_1)
			end
		end

		function arg_797_1.onSingleLineUpdate_(arg_800_0)
			local var_800_0 = 0

			if var_800_0 < arg_797_1.time_ and arg_797_1.time_ <= var_800_0 + arg_800_0 then
				arg_797_1.var_.oldValueTypewriter = arg_797_1.fswtw_.percent

				arg_797_1:ShowNextGo(false)
			end

			local var_800_1 = 62
			local var_800_2 = 4.13333333333333
			local var_800_3 = arg_797_1:GetWordFromCfg(317021198)
			local var_800_4 = arg_797_1:FormatText(var_800_3.content)
			local var_800_5, var_800_6 = arg_797_1:GetPercentByPara(var_800_4, 2)

			if var_800_0 < arg_797_1.time_ and arg_797_1.time_ <= var_800_0 + arg_800_0 then
				arg_797_1.talkMaxDuration = 0

				local var_800_7 = var_800_1 <= 0 and var_800_2 or var_800_2 * ((var_800_6 - arg_797_1.typewritterCharCountI18N) / var_800_1)

				if var_800_7 > 0 and var_800_2 < var_800_7 then
					arg_797_1.talkMaxDuration = var_800_7

					if var_800_7 + var_800_0 > arg_797_1.duration_ then
						arg_797_1.duration_ = var_800_7 + var_800_0
					end
				end
			end

			local var_800_8 = 4.13333333333333
			local var_800_9 = math.max(var_800_8, arg_797_1.talkMaxDuration)

			if var_800_0 <= arg_797_1.time_ and arg_797_1.time_ < var_800_0 + var_800_9 then
				local var_800_10 = (arg_797_1.time_ - var_800_0) / var_800_9

				arg_797_1.fswtw_.percent = Mathf.Lerp(arg_797_1.var_.oldValueTypewriter, var_800_5, var_800_10)
				arg_797_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_797_1.fswtw_:SetDirty()
			end

			if arg_797_1.time_ >= var_800_0 + var_800_9 and arg_797_1.time_ < var_800_0 + var_800_9 + arg_800_0 then
				arg_797_1.fswtw_.percent = var_800_5

				arg_797_1.fswtw_:SetDirty()
				arg_797_1:ShowNextGo(true)

				arg_797_1.typewritterCharCountI18N = var_800_6
			end

			local var_800_11 = 0
			local var_800_12 = 1
			local var_800_13 = manager.audio:GetVoiceLength("story_v_out_317021", "317021199", "story_v_out_317021.awb") / 1000

			if var_800_13 > 0 and var_800_12 < var_800_13 and var_800_13 + var_800_11 > arg_797_1.duration_ then
				local var_800_14 = var_800_13

				arg_797_1.duration_ = var_800_13 + var_800_11
			end

			if var_800_11 < arg_797_1.time_ and arg_797_1.time_ <= var_800_11 + arg_800_0 then
				local var_800_15 = "play"
				local var_800_16 = "voice"

				arg_797_1:AudioAction(var_800_15, var_800_16, "story_v_out_317021", "317021199", "story_v_out_317021.awb")
			end
		end
	end,
	Play317021200 = function(arg_801_0, arg_801_1)
		arg_801_1.time_ = 0
		arg_801_1.frameCnt_ = 0
		arg_801_1.state_ = "playing"
		arg_801_1.curTalkId_ = 317021200
		arg_801_1.duration_ = 3.6

		SetActive(arg_801_1.tipsGo_, false)

		function arg_801_1.onSingleLineFinish_()
			arg_801_1.onSingleLineUpdate_ = nil
			arg_801_1.onSingleLineFinish_ = nil
			arg_801_1.state_ = "waiting"
		end

		function arg_801_1.playNext_(arg_803_0)
			if arg_803_0 == 1 then
				arg_801_0:Play317021201(arg_801_1)
			end
		end

		function arg_801_1.onSingleLineUpdate_(arg_804_0)
			local var_804_0 = 0

			if var_804_0 < arg_801_1.time_ and arg_801_1.time_ <= var_804_0 + arg_804_0 then
				arg_801_1.var_.oldValueTypewriter = arg_801_1.fswtw_.percent

				arg_801_1:ShowNextGo(false)
			end

			local var_804_1 = 54
			local var_804_2 = 3.6
			local var_804_3 = arg_801_1:GetWordFromCfg(317021198)
			local var_804_4 = arg_801_1:FormatText(var_804_3.content)
			local var_804_5, var_804_6 = arg_801_1:GetPercentByPara(var_804_4, 3)

			if var_804_0 < arg_801_1.time_ and arg_801_1.time_ <= var_804_0 + arg_804_0 then
				arg_801_1.talkMaxDuration = 0

				local var_804_7 = var_804_1 <= 0 and var_804_2 or var_804_2 * ((var_804_6 - arg_801_1.typewritterCharCountI18N) / var_804_1)

				if var_804_7 > 0 and var_804_2 < var_804_7 then
					arg_801_1.talkMaxDuration = var_804_7

					if var_804_7 + var_804_0 > arg_801_1.duration_ then
						arg_801_1.duration_ = var_804_7 + var_804_0
					end
				end
			end

			local var_804_8 = 3.6
			local var_804_9 = math.max(var_804_8, arg_801_1.talkMaxDuration)

			if var_804_0 <= arg_801_1.time_ and arg_801_1.time_ < var_804_0 + var_804_9 then
				local var_804_10 = (arg_801_1.time_ - var_804_0) / var_804_9

				arg_801_1.fswtw_.percent = Mathf.Lerp(arg_801_1.var_.oldValueTypewriter, var_804_5, var_804_10)
				arg_801_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_801_1.fswtw_:SetDirty()
			end

			if arg_801_1.time_ >= var_804_0 + var_804_9 and arg_801_1.time_ < var_804_0 + var_804_9 + arg_804_0 then
				arg_801_1.fswtw_.percent = var_804_5

				arg_801_1.fswtw_:SetDirty()
				arg_801_1:ShowNextGo(true)

				arg_801_1.typewritterCharCountI18N = var_804_6
			end

			local var_804_11 = 0
			local var_804_12 = 1
			local var_804_13 = manager.audio:GetVoiceLength("story_v_out_317021", "317021200", "story_v_out_317021.awb") / 1000

			if var_804_13 > 0 and var_804_12 < var_804_13 and var_804_13 + var_804_11 > arg_801_1.duration_ then
				local var_804_14 = var_804_13

				arg_801_1.duration_ = var_804_13 + var_804_11
			end

			if var_804_11 < arg_801_1.time_ and arg_801_1.time_ <= var_804_11 + arg_804_0 then
				local var_804_15 = "play"
				local var_804_16 = "voice"

				arg_801_1:AudioAction(var_804_15, var_804_16, "story_v_out_317021", "317021200", "story_v_out_317021.awb")
			end
		end
	end,
	Play317021201 = function(arg_805_0, arg_805_1)
		arg_805_1.time_ = 0
		arg_805_1.frameCnt_ = 0
		arg_805_1.state_ = "playing"
		arg_805_1.curTalkId_ = 317021201
		arg_805_1.duration_ = 3.2

		SetActive(arg_805_1.tipsGo_, false)

		function arg_805_1.onSingleLineFinish_()
			arg_805_1.onSingleLineUpdate_ = nil
			arg_805_1.onSingleLineFinish_ = nil
			arg_805_1.state_ = "waiting"
		end

		function arg_805_1.playNext_(arg_807_0)
			if arg_807_0 == 1 then
				arg_805_0:Play317021202(arg_805_1)
			end
		end

		function arg_805_1.onSingleLineUpdate_(arg_808_0)
			local var_808_0 = 0

			if var_808_0 < arg_805_1.time_ and arg_805_1.time_ <= var_808_0 + arg_808_0 then
				arg_805_1.var_.oldValueTypewriter = arg_805_1.fswtw_.percent

				arg_805_1:ShowNextGo(false)
			end

			local var_808_1 = 48
			local var_808_2 = 3.2
			local var_808_3 = arg_805_1:GetWordFromCfg(317021198)
			local var_808_4 = arg_805_1:FormatText(var_808_3.content)
			local var_808_5, var_808_6 = arg_805_1:GetPercentByPara(var_808_4, 4)

			if var_808_0 < arg_805_1.time_ and arg_805_1.time_ <= var_808_0 + arg_808_0 then
				arg_805_1.talkMaxDuration = 0

				local var_808_7 = var_808_1 <= 0 and var_808_2 or var_808_2 * ((var_808_6 - arg_805_1.typewritterCharCountI18N) / var_808_1)

				if var_808_7 > 0 and var_808_2 < var_808_7 then
					arg_805_1.talkMaxDuration = var_808_7

					if var_808_7 + var_808_0 > arg_805_1.duration_ then
						arg_805_1.duration_ = var_808_7 + var_808_0
					end
				end
			end

			local var_808_8 = 3.2
			local var_808_9 = math.max(var_808_8, arg_805_1.talkMaxDuration)

			if var_808_0 <= arg_805_1.time_ and arg_805_1.time_ < var_808_0 + var_808_9 then
				local var_808_10 = (arg_805_1.time_ - var_808_0) / var_808_9

				arg_805_1.fswtw_.percent = Mathf.Lerp(arg_805_1.var_.oldValueTypewriter, var_808_5, var_808_10)
				arg_805_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_805_1.fswtw_:SetDirty()
			end

			if arg_805_1.time_ >= var_808_0 + var_808_9 and arg_805_1.time_ < var_808_0 + var_808_9 + arg_808_0 then
				arg_805_1.fswtw_.percent = var_808_5

				arg_805_1.fswtw_:SetDirty()
				arg_805_1:ShowNextGo(true)

				arg_805_1.typewritterCharCountI18N = var_808_6
			end

			local var_808_11 = 0
			local var_808_12 = 1
			local var_808_13 = manager.audio:GetVoiceLength("story_v_out_317021", "317021201", "story_v_out_317021.awb") / 1000

			if var_808_13 > 0 and var_808_12 < var_808_13 and var_808_13 + var_808_11 > arg_805_1.duration_ then
				local var_808_14 = var_808_13

				arg_805_1.duration_ = var_808_13 + var_808_11
			end

			if var_808_11 < arg_805_1.time_ and arg_805_1.time_ <= var_808_11 + arg_808_0 then
				local var_808_15 = "play"
				local var_808_16 = "voice"

				arg_805_1:AudioAction(var_808_15, var_808_16, "story_v_out_317021", "317021201", "story_v_out_317021.awb")
			end
		end
	end,
	Play317021202 = function(arg_809_0, arg_809_1)
		arg_809_1.time_ = 0
		arg_809_1.frameCnt_ = 0
		arg_809_1.state_ = "playing"
		arg_809_1.curTalkId_ = 317021202
		arg_809_1.duration_ = 4.53

		SetActive(arg_809_1.tipsGo_, false)

		function arg_809_1.onSingleLineFinish_()
			arg_809_1.onSingleLineUpdate_ = nil
			arg_809_1.onSingleLineFinish_ = nil
			arg_809_1.state_ = "waiting"
		end

		function arg_809_1.playNext_(arg_811_0)
			if arg_811_0 == 1 then
				arg_809_0:Play317021203(arg_809_1)
			end
		end

		function arg_809_1.onSingleLineUpdate_(arg_812_0)
			local var_812_0 = 0

			if var_812_0 < arg_809_1.time_ and arg_809_1.time_ <= var_812_0 + arg_812_0 then
				arg_809_1.var_.oldValueTypewriter = arg_809_1.fswtw_.percent

				arg_809_1:ShowNextGo(false)
			end

			local var_812_1 = 68
			local var_812_2 = 4.53333333333333
			local var_812_3 = arg_809_1:GetWordFromCfg(317021198)
			local var_812_4 = arg_809_1:FormatText(var_812_3.content)
			local var_812_5, var_812_6 = arg_809_1:GetPercentByPara(var_812_4, 5)

			if var_812_0 < arg_809_1.time_ and arg_809_1.time_ <= var_812_0 + arg_812_0 then
				arg_809_1.talkMaxDuration = 0

				local var_812_7 = var_812_1 <= 0 and var_812_2 or var_812_2 * ((var_812_6 - arg_809_1.typewritterCharCountI18N) / var_812_1)

				if var_812_7 > 0 and var_812_2 < var_812_7 then
					arg_809_1.talkMaxDuration = var_812_7

					if var_812_7 + var_812_0 > arg_809_1.duration_ then
						arg_809_1.duration_ = var_812_7 + var_812_0
					end
				end
			end

			local var_812_8 = 4.53333333333333
			local var_812_9 = math.max(var_812_8, arg_809_1.talkMaxDuration)

			if var_812_0 <= arg_809_1.time_ and arg_809_1.time_ < var_812_0 + var_812_9 then
				local var_812_10 = (arg_809_1.time_ - var_812_0) / var_812_9

				arg_809_1.fswtw_.percent = Mathf.Lerp(arg_809_1.var_.oldValueTypewriter, var_812_5, var_812_10)
				arg_809_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_809_1.fswtw_:SetDirty()
			end

			if arg_809_1.time_ >= var_812_0 + var_812_9 and arg_809_1.time_ < var_812_0 + var_812_9 + arg_812_0 then
				arg_809_1.fswtw_.percent = var_812_5

				arg_809_1.fswtw_:SetDirty()
				arg_809_1:ShowNextGo(true)

				arg_809_1.typewritterCharCountI18N = var_812_6
			end

			local var_812_11 = 0
			local var_812_12 = 1
			local var_812_13 = manager.audio:GetVoiceLength("story_v_out_317021", "317021202", "story_v_out_317021.awb") / 1000

			if var_812_13 > 0 and var_812_12 < var_812_13 and var_812_13 + var_812_11 > arg_809_1.duration_ then
				local var_812_14 = var_812_13

				arg_809_1.duration_ = var_812_13 + var_812_11
			end

			if var_812_11 < arg_809_1.time_ and arg_809_1.time_ <= var_812_11 + arg_812_0 then
				local var_812_15 = "play"
				local var_812_16 = "voice"

				arg_809_1:AudioAction(var_812_15, var_812_16, "story_v_out_317021", "317021202", "story_v_out_317021.awb")
			end
		end
	end,
	Play317021203 = function(arg_813_0, arg_813_1)
		arg_813_1.time_ = 0
		arg_813_1.frameCnt_ = 0
		arg_813_1.state_ = "playing"
		arg_813_1.curTalkId_ = 317021203
		arg_813_1.duration_ = 2.07

		SetActive(arg_813_1.tipsGo_, false)

		function arg_813_1.onSingleLineFinish_()
			arg_813_1.onSingleLineUpdate_ = nil
			arg_813_1.onSingleLineFinish_ = nil
			arg_813_1.state_ = "waiting"
		end

		function arg_813_1.playNext_(arg_815_0)
			if arg_815_0 == 1 then
				arg_813_0:Play317021204(arg_813_1)
			end
		end

		function arg_813_1.onSingleLineUpdate_(arg_816_0)
			local var_816_0 = 0

			if var_816_0 < arg_813_1.time_ and arg_813_1.time_ <= var_816_0 + arg_816_0 then
				arg_813_1.var_.oldValueTypewriter = arg_813_1.fswtw_.percent

				arg_813_1:ShowNextGo(false)
			end

			local var_816_1 = 31
			local var_816_2 = 2.06666666666667
			local var_816_3 = arg_813_1:GetWordFromCfg(317021198)
			local var_816_4 = arg_813_1:FormatText(var_816_3.content)
			local var_816_5, var_816_6 = arg_813_1:GetPercentByPara(var_816_4, 6)

			if var_816_0 < arg_813_1.time_ and arg_813_1.time_ <= var_816_0 + arg_816_0 then
				arg_813_1.talkMaxDuration = 0

				local var_816_7 = var_816_1 <= 0 and var_816_2 or var_816_2 * ((var_816_6 - arg_813_1.typewritterCharCountI18N) / var_816_1)

				if var_816_7 > 0 and var_816_2 < var_816_7 then
					arg_813_1.talkMaxDuration = var_816_7

					if var_816_7 + var_816_0 > arg_813_1.duration_ then
						arg_813_1.duration_ = var_816_7 + var_816_0
					end
				end
			end

			local var_816_8 = 2.06666666666667
			local var_816_9 = math.max(var_816_8, arg_813_1.talkMaxDuration)

			if var_816_0 <= arg_813_1.time_ and arg_813_1.time_ < var_816_0 + var_816_9 then
				local var_816_10 = (arg_813_1.time_ - var_816_0) / var_816_9

				arg_813_1.fswtw_.percent = Mathf.Lerp(arg_813_1.var_.oldValueTypewriter, var_816_5, var_816_10)
				arg_813_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_813_1.fswtw_:SetDirty()
			end

			if arg_813_1.time_ >= var_816_0 + var_816_9 and arg_813_1.time_ < var_816_0 + var_816_9 + arg_816_0 then
				arg_813_1.fswtw_.percent = var_816_5

				arg_813_1.fswtw_:SetDirty()
				arg_813_1:ShowNextGo(true)

				arg_813_1.typewritterCharCountI18N = var_816_6
			end

			local var_816_11 = 0
			local var_816_12 = 1
			local var_816_13 = manager.audio:GetVoiceLength("story_v_out_317021", "317021203", "story_v_out_317021.awb") / 1000

			if var_816_13 > 0 and var_816_12 < var_816_13 and var_816_13 + var_816_11 > arg_813_1.duration_ then
				local var_816_14 = var_816_13

				arg_813_1.duration_ = var_816_13 + var_816_11
			end

			if var_816_11 < arg_813_1.time_ and arg_813_1.time_ <= var_816_11 + arg_816_0 then
				local var_816_15 = "play"
				local var_816_16 = "voice"

				arg_813_1:AudioAction(var_816_15, var_816_16, "story_v_out_317021", "317021203", "story_v_out_317021.awb")
			end
		end
	end,
	Play317021204 = function(arg_817_0, arg_817_1)
		arg_817_1.time_ = 0
		arg_817_1.frameCnt_ = 0
		arg_817_1.state_ = "playing"
		arg_817_1.curTalkId_ = 317021204
		arg_817_1.duration_ = 1

		SetActive(arg_817_1.tipsGo_, false)

		function arg_817_1.onSingleLineFinish_()
			arg_817_1.onSingleLineUpdate_ = nil
			arg_817_1.onSingleLineFinish_ = nil
			arg_817_1.state_ = "waiting"
		end

		function arg_817_1.playNext_(arg_819_0)
			if arg_819_0 == 1 then
				arg_817_0:Play317021205(arg_817_1)
			end
		end

		function arg_817_1.onSingleLineUpdate_(arg_820_0)
			local var_820_0 = 0

			if var_820_0 < arg_817_1.time_ and arg_817_1.time_ <= var_820_0 + arg_820_0 then
				arg_817_1.var_.oldValueTypewriter = arg_817_1.fswtw_.percent

				arg_817_1:ShowNextGo(false)
			end

			local var_820_1 = 9
			local var_820_2 = 0.6
			local var_820_3 = arg_817_1:GetWordFromCfg(317021198)
			local var_820_4 = arg_817_1:FormatText(var_820_3.content)
			local var_820_5, var_820_6 = arg_817_1:GetPercentByPara(var_820_4, 7)

			if var_820_0 < arg_817_1.time_ and arg_817_1.time_ <= var_820_0 + arg_820_0 then
				arg_817_1.talkMaxDuration = 0

				local var_820_7 = var_820_1 <= 0 and var_820_2 or var_820_2 * ((var_820_6 - arg_817_1.typewritterCharCountI18N) / var_820_1)

				if var_820_7 > 0 and var_820_2 < var_820_7 then
					arg_817_1.talkMaxDuration = var_820_7

					if var_820_7 + var_820_0 > arg_817_1.duration_ then
						arg_817_1.duration_ = var_820_7 + var_820_0
					end
				end
			end

			local var_820_8 = 0.6
			local var_820_9 = math.max(var_820_8, arg_817_1.talkMaxDuration)

			if var_820_0 <= arg_817_1.time_ and arg_817_1.time_ < var_820_0 + var_820_9 then
				local var_820_10 = (arg_817_1.time_ - var_820_0) / var_820_9

				arg_817_1.fswtw_.percent = Mathf.Lerp(arg_817_1.var_.oldValueTypewriter, var_820_5, var_820_10)
				arg_817_1.fswt_:GetComponent("Text").color = Color(1, 1, 1)

				arg_817_1.fswtw_:SetDirty()
			end

			if arg_817_1.time_ >= var_820_0 + var_820_9 and arg_817_1.time_ < var_820_0 + var_820_9 + arg_820_0 then
				arg_817_1.fswtw_.percent = var_820_5

				arg_817_1.fswtw_:SetDirty()
				arg_817_1:ShowNextGo(true)

				arg_817_1.typewritterCharCountI18N = var_820_6
			end

			local var_820_11 = 0
			local var_820_12 = 1
			local var_820_13 = manager.audio:GetVoiceLength("story_v_out_317021", "317021204", "story_v_out_317021.awb") / 1000

			if var_820_13 > 0 and var_820_12 < var_820_13 and var_820_13 + var_820_11 > arg_817_1.duration_ then
				local var_820_14 = var_820_13

				arg_817_1.duration_ = var_820_13 + var_820_11
			end

			if var_820_11 < arg_817_1.time_ and arg_817_1.time_ <= var_820_11 + arg_820_0 then
				local var_820_15 = "play"
				local var_820_16 = "voice"

				arg_817_1:AudioAction(var_820_15, var_820_16, "story_v_out_317021", "317021204", "story_v_out_317021.awb")
			end
		end
	end,
	Play317021205 = function(arg_821_0, arg_821_1)
		arg_821_1.time_ = 0
		arg_821_1.frameCnt_ = 0
		arg_821_1.state_ = "playing"
		arg_821_1.curTalkId_ = 317021205
		arg_821_1.duration_ = 5

		SetActive(arg_821_1.tipsGo_, false)

		function arg_821_1.onSingleLineFinish_()
			arg_821_1.onSingleLineUpdate_ = nil
			arg_821_1.onSingleLineFinish_ = nil
			arg_821_1.state_ = "waiting"
		end

		function arg_821_1.playNext_(arg_823_0)
			if arg_823_0 == 1 then
				arg_821_0:Play317021206(arg_821_1)
			end
		end

		function arg_821_1.onSingleLineUpdate_(arg_824_0)
			local var_824_0 = 0

			if var_824_0 < arg_821_1.time_ and arg_821_1.time_ <= var_824_0 + arg_824_0 then
				arg_821_1.fswbg_:SetActive(false)
				arg_821_1.dialog_:SetActive(true)
				arg_821_1:ShowNextGo(false)
			end

			local var_824_1 = 0
			local var_824_2 = 0.7

			if var_824_1 < arg_821_1.time_ and arg_821_1.time_ <= var_824_1 + arg_824_0 then
				arg_821_1.talkMaxDuration = 0
				arg_821_1.dialogCg_.alpha = 1

				arg_821_1.dialog_:SetActive(true)
				SetActive(arg_821_1.leftNameGo_, false)

				arg_821_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_821_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_821_1:RecordName(arg_821_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_821_1.iconTrs_.gameObject, false)
				arg_821_1.callingController_:SetSelectedState("normal")

				local var_824_3 = arg_821_1:GetWordFromCfg(317021205)
				local var_824_4 = arg_821_1:FormatText(var_824_3.content)

				arg_821_1.text_.text = var_824_4

				LuaForUtil.ClearLinePrefixSymbol(arg_821_1.text_)

				local var_824_5 = 28
				local var_824_6 = utf8.len(var_824_4)
				local var_824_7 = var_824_5 <= 0 and var_824_2 or var_824_2 * (var_824_6 / var_824_5)

				if var_824_7 > 0 and var_824_2 < var_824_7 then
					arg_821_1.talkMaxDuration = var_824_7

					if var_824_7 + var_824_1 > arg_821_1.duration_ then
						arg_821_1.duration_ = var_824_7 + var_824_1
					end
				end

				arg_821_1.text_.text = var_824_4
				arg_821_1.typewritter.percent = 0

				arg_821_1.typewritter:SetDirty()
				arg_821_1:ShowNextGo(false)
				arg_821_1:RecordContent(arg_821_1.text_.text)
			end

			local var_824_8 = math.max(var_824_2, arg_821_1.talkMaxDuration)

			if var_824_1 <= arg_821_1.time_ and arg_821_1.time_ < var_824_1 + var_824_8 then
				arg_821_1.typewritter.percent = (arg_821_1.time_ - var_824_1) / var_824_8

				arg_821_1.typewritter:SetDirty()
			end

			if arg_821_1.time_ >= var_824_1 + var_824_8 and arg_821_1.time_ < var_824_1 + var_824_8 + arg_824_0 then
				arg_821_1.typewritter.percent = 1

				arg_821_1.typewritter:SetDirty()
				arg_821_1:ShowNextGo(true)
			end
		end
	end,
	Play317021206 = function(arg_825_0, arg_825_1)
		arg_825_1.time_ = 0
		arg_825_1.frameCnt_ = 0
		arg_825_1.state_ = "playing"
		arg_825_1.curTalkId_ = 317021206
		arg_825_1.duration_ = 6.57

		local var_825_0 = {
			zh = 5.5,
			ja = 6.566
		}
		local var_825_1 = manager.audio:GetLocalizationFlag()

		if var_825_0[var_825_1] ~= nil then
			arg_825_1.duration_ = var_825_0[var_825_1]
		end

		SetActive(arg_825_1.tipsGo_, false)

		function arg_825_1.onSingleLineFinish_()
			arg_825_1.onSingleLineUpdate_ = nil
			arg_825_1.onSingleLineFinish_ = nil
			arg_825_1.state_ = "waiting"
		end

		function arg_825_1.playNext_(arg_827_0)
			if arg_827_0 == 1 then
				arg_825_0:Play317021207(arg_825_1)
			end
		end

		function arg_825_1.onSingleLineUpdate_(arg_828_0)
			local var_828_0 = arg_825_1.actors_["1050ui_story"].transform
			local var_828_1 = 0

			if var_828_1 < arg_825_1.time_ and arg_825_1.time_ <= var_828_1 + arg_828_0 then
				arg_825_1.var_.moveOldPos1050ui_story = var_828_0.localPosition
			end

			local var_828_2 = 0.001

			if var_828_1 <= arg_825_1.time_ and arg_825_1.time_ < var_828_1 + var_828_2 then
				local var_828_3 = (arg_825_1.time_ - var_828_1) / var_828_2
				local var_828_4 = Vector3.New(0, -1, -6.1)

				var_828_0.localPosition = Vector3.Lerp(arg_825_1.var_.moveOldPos1050ui_story, var_828_4, var_828_3)

				local var_828_5 = manager.ui.mainCamera.transform.position - var_828_0.position

				var_828_0.forward = Vector3.New(var_828_5.x, var_828_5.y, var_828_5.z)

				local var_828_6 = var_828_0.localEulerAngles

				var_828_6.z = 0
				var_828_6.x = 0
				var_828_0.localEulerAngles = var_828_6
			end

			if arg_825_1.time_ >= var_828_1 + var_828_2 and arg_825_1.time_ < var_828_1 + var_828_2 + arg_828_0 then
				var_828_0.localPosition = Vector3.New(0, -1, -6.1)

				local var_828_7 = manager.ui.mainCamera.transform.position - var_828_0.position

				var_828_0.forward = Vector3.New(var_828_7.x, var_828_7.y, var_828_7.z)

				local var_828_8 = var_828_0.localEulerAngles

				var_828_8.z = 0
				var_828_8.x = 0
				var_828_0.localEulerAngles = var_828_8
			end

			local var_828_9 = arg_825_1.actors_["1050ui_story"]
			local var_828_10 = 0

			if var_828_10 < arg_825_1.time_ and arg_825_1.time_ <= var_828_10 + arg_828_0 and not isNil(var_828_9) and arg_825_1.var_.characterEffect1050ui_story == nil then
				arg_825_1.var_.characterEffect1050ui_story = var_828_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_828_11 = 0.200000002980232

			if var_828_10 <= arg_825_1.time_ and arg_825_1.time_ < var_828_10 + var_828_11 and not isNil(var_828_9) then
				local var_828_12 = (arg_825_1.time_ - var_828_10) / var_828_11

				if arg_825_1.var_.characterEffect1050ui_story and not isNil(var_828_9) then
					arg_825_1.var_.characterEffect1050ui_story.fillFlat = false
				end
			end

			if arg_825_1.time_ >= var_828_10 + var_828_11 and arg_825_1.time_ < var_828_10 + var_828_11 + arg_828_0 and not isNil(var_828_9) and arg_825_1.var_.characterEffect1050ui_story then
				arg_825_1.var_.characterEffect1050ui_story.fillFlat = false
			end

			local var_828_13 = 0

			if var_828_13 < arg_825_1.time_ and arg_825_1.time_ <= var_828_13 + arg_828_0 then
				arg_825_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/1050/1050action/1050action1_1")
			end

			local var_828_14 = 0

			if var_828_14 < arg_825_1.time_ and arg_825_1.time_ <= var_828_14 + arg_828_0 then
				arg_825_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface3102cva")
			end

			local var_828_15 = 0
			local var_828_16 = 0.475

			if var_828_15 < arg_825_1.time_ and arg_825_1.time_ <= var_828_15 + arg_828_0 then
				arg_825_1.talkMaxDuration = 0
				arg_825_1.dialogCg_.alpha = 1

				arg_825_1.dialog_:SetActive(true)
				SetActive(arg_825_1.leftNameGo_, true)

				local var_828_17 = arg_825_1:FormatText(StoryNameCfg[74].name)

				arg_825_1.leftNameTxt_.text = var_828_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_825_1.leftNameTxt_.transform)

				arg_825_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_825_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_825_1:RecordName(arg_825_1.leftNameTxt_.text)
				SetActive(arg_825_1.iconTrs_.gameObject, false)
				arg_825_1.callingController_:SetSelectedState("normal")

				local var_828_18 = arg_825_1:GetWordFromCfg(317021206)
				local var_828_19 = arg_825_1:FormatText(var_828_18.content)

				arg_825_1.text_.text = var_828_19

				LuaForUtil.ClearLinePrefixSymbol(arg_825_1.text_)

				local var_828_20 = 19
				local var_828_21 = utf8.len(var_828_19)
				local var_828_22 = var_828_20 <= 0 and var_828_16 or var_828_16 * (var_828_21 / var_828_20)

				if var_828_22 > 0 and var_828_16 < var_828_22 then
					arg_825_1.talkMaxDuration = var_828_22

					if var_828_22 + var_828_15 > arg_825_1.duration_ then
						arg_825_1.duration_ = var_828_22 + var_828_15
					end
				end

				arg_825_1.text_.text = var_828_19
				arg_825_1.typewritter.percent = 0

				arg_825_1.typewritter:SetDirty()
				arg_825_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021206", "story_v_out_317021.awb") ~= 0 then
					local var_828_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021206", "story_v_out_317021.awb") / 1000

					if var_828_23 + var_828_15 > arg_825_1.duration_ then
						arg_825_1.duration_ = var_828_23 + var_828_15
					end

					if var_828_18.prefab_name ~= "" and arg_825_1.actors_[var_828_18.prefab_name] ~= nil then
						local var_828_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_825_1.actors_[var_828_18.prefab_name].transform, "story_v_out_317021", "317021206", "story_v_out_317021.awb")

						arg_825_1:RecordAudio("317021206", var_828_24)
						arg_825_1:RecordAudio("317021206", var_828_24)
					else
						arg_825_1:AudioAction("play", "voice", "story_v_out_317021", "317021206", "story_v_out_317021.awb")
					end

					arg_825_1:RecordHistoryTalkVoice("story_v_out_317021", "317021206", "story_v_out_317021.awb")
				end

				arg_825_1:RecordContent(arg_825_1.text_.text)
			end

			local var_828_25 = math.max(var_828_16, arg_825_1.talkMaxDuration)

			if var_828_15 <= arg_825_1.time_ and arg_825_1.time_ < var_828_15 + var_828_25 then
				arg_825_1.typewritter.percent = (arg_825_1.time_ - var_828_15) / var_828_25

				arg_825_1.typewritter:SetDirty()
			end

			if arg_825_1.time_ >= var_828_15 + var_828_25 and arg_825_1.time_ < var_828_15 + var_828_25 + arg_828_0 then
				arg_825_1.typewritter.percent = 1

				arg_825_1.typewritter:SetDirty()
				arg_825_1:ShowNextGo(true)
			end
		end
	end,
	Play317021207 = function(arg_829_0, arg_829_1)
		arg_829_1.time_ = 0
		arg_829_1.frameCnt_ = 0
		arg_829_1.state_ = "playing"
		arg_829_1.curTalkId_ = 317021207
		arg_829_1.duration_ = 5

		SetActive(arg_829_1.tipsGo_, false)

		function arg_829_1.onSingleLineFinish_()
			arg_829_1.onSingleLineUpdate_ = nil
			arg_829_1.onSingleLineFinish_ = nil
			arg_829_1.state_ = "waiting"
		end

		function arg_829_1.playNext_(arg_831_0)
			if arg_831_0 == 1 then
				arg_829_0:Play317021208(arg_829_1)
			end
		end

		function arg_829_1.onSingleLineUpdate_(arg_832_0)
			local var_832_0 = arg_829_1.actors_["1050ui_story"]
			local var_832_1 = 0

			if var_832_1 < arg_829_1.time_ and arg_829_1.time_ <= var_832_1 + arg_832_0 and not isNil(var_832_0) and arg_829_1.var_.characterEffect1050ui_story == nil then
				arg_829_1.var_.characterEffect1050ui_story = var_832_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_832_2 = 0.200000002980232

			if var_832_1 <= arg_829_1.time_ and arg_829_1.time_ < var_832_1 + var_832_2 and not isNil(var_832_0) then
				local var_832_3 = (arg_829_1.time_ - var_832_1) / var_832_2

				if arg_829_1.var_.characterEffect1050ui_story and not isNil(var_832_0) then
					local var_832_4 = Mathf.Lerp(0, 0.5, var_832_3)

					arg_829_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_829_1.var_.characterEffect1050ui_story.fillRatio = var_832_4
				end
			end

			if arg_829_1.time_ >= var_832_1 + var_832_2 and arg_829_1.time_ < var_832_1 + var_832_2 + arg_832_0 and not isNil(var_832_0) and arg_829_1.var_.characterEffect1050ui_story then
				local var_832_5 = 0.5

				arg_829_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_829_1.var_.characterEffect1050ui_story.fillRatio = var_832_5
			end

			local var_832_6 = 0
			local var_832_7 = 0.675

			if var_832_6 < arg_829_1.time_ and arg_829_1.time_ <= var_832_6 + arg_832_0 then
				arg_829_1.talkMaxDuration = 0
				arg_829_1.dialogCg_.alpha = 1

				arg_829_1.dialog_:SetActive(true)
				SetActive(arg_829_1.leftNameGo_, true)

				local var_832_8 = arg_829_1:FormatText(StoryNameCfg[7].name)

				arg_829_1.leftNameTxt_.text = var_832_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_829_1.leftNameTxt_.transform)

				arg_829_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_829_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_829_1:RecordName(arg_829_1.leftNameTxt_.text)
				SetActive(arg_829_1.iconTrs_.gameObject, false)
				arg_829_1.callingController_:SetSelectedState("normal")

				local var_832_9 = arg_829_1:GetWordFromCfg(317021207)
				local var_832_10 = arg_829_1:FormatText(var_832_9.content)

				arg_829_1.text_.text = var_832_10

				LuaForUtil.ClearLinePrefixSymbol(arg_829_1.text_)

				local var_832_11 = 27
				local var_832_12 = utf8.len(var_832_10)
				local var_832_13 = var_832_11 <= 0 and var_832_7 or var_832_7 * (var_832_12 / var_832_11)

				if var_832_13 > 0 and var_832_7 < var_832_13 then
					arg_829_1.talkMaxDuration = var_832_13

					if var_832_13 + var_832_6 > arg_829_1.duration_ then
						arg_829_1.duration_ = var_832_13 + var_832_6
					end
				end

				arg_829_1.text_.text = var_832_10
				arg_829_1.typewritter.percent = 0

				arg_829_1.typewritter:SetDirty()
				arg_829_1:ShowNextGo(false)
				arg_829_1:RecordContent(arg_829_1.text_.text)
			end

			local var_832_14 = math.max(var_832_7, arg_829_1.talkMaxDuration)

			if var_832_6 <= arg_829_1.time_ and arg_829_1.time_ < var_832_6 + var_832_14 then
				arg_829_1.typewritter.percent = (arg_829_1.time_ - var_832_6) / var_832_14

				arg_829_1.typewritter:SetDirty()
			end

			if arg_829_1.time_ >= var_832_6 + var_832_14 and arg_829_1.time_ < var_832_6 + var_832_14 + arg_832_0 then
				arg_829_1.typewritter.percent = 1

				arg_829_1.typewritter:SetDirty()
				arg_829_1:ShowNextGo(true)
			end
		end
	end,
	Play317021208 = function(arg_833_0, arg_833_1)
		arg_833_1.time_ = 0
		arg_833_1.frameCnt_ = 0
		arg_833_1.state_ = "playing"
		arg_833_1.curTalkId_ = 317021208
		arg_833_1.duration_ = 2

		SetActive(arg_833_1.tipsGo_, false)

		function arg_833_1.onSingleLineFinish_()
			arg_833_1.onSingleLineUpdate_ = nil
			arg_833_1.onSingleLineFinish_ = nil
			arg_833_1.state_ = "waiting"
		end

		function arg_833_1.playNext_(arg_835_0)
			if arg_835_0 == 1 then
				arg_833_0:Play317021209(arg_833_1)
			end
		end

		function arg_833_1.onSingleLineUpdate_(arg_836_0)
			local var_836_0 = arg_833_1.actors_["1050ui_story"].transform
			local var_836_1 = 0

			if var_836_1 < arg_833_1.time_ and arg_833_1.time_ <= var_836_1 + arg_836_0 then
				arg_833_1.var_.moveOldPos1050ui_story = var_836_0.localPosition
			end

			local var_836_2 = 0.001

			if var_836_1 <= arg_833_1.time_ and arg_833_1.time_ < var_836_1 + var_836_2 then
				local var_836_3 = (arg_833_1.time_ - var_836_1) / var_836_2
				local var_836_4 = Vector3.New(0, -1, -6.1)

				var_836_0.localPosition = Vector3.Lerp(arg_833_1.var_.moveOldPos1050ui_story, var_836_4, var_836_3)

				local var_836_5 = manager.ui.mainCamera.transform.position - var_836_0.position

				var_836_0.forward = Vector3.New(var_836_5.x, var_836_5.y, var_836_5.z)

				local var_836_6 = var_836_0.localEulerAngles

				var_836_6.z = 0
				var_836_6.x = 0
				var_836_0.localEulerAngles = var_836_6
			end

			if arg_833_1.time_ >= var_836_1 + var_836_2 and arg_833_1.time_ < var_836_1 + var_836_2 + arg_836_0 then
				var_836_0.localPosition = Vector3.New(0, -1, -6.1)

				local var_836_7 = manager.ui.mainCamera.transform.position - var_836_0.position

				var_836_0.forward = Vector3.New(var_836_7.x, var_836_7.y, var_836_7.z)

				local var_836_8 = var_836_0.localEulerAngles

				var_836_8.z = 0
				var_836_8.x = 0
				var_836_0.localEulerAngles = var_836_8
			end

			local var_836_9 = arg_833_1.actors_["1050ui_story"]
			local var_836_10 = 0

			if var_836_10 < arg_833_1.time_ and arg_833_1.time_ <= var_836_10 + arg_836_0 and not isNil(var_836_9) and arg_833_1.var_.characterEffect1050ui_story == nil then
				arg_833_1.var_.characterEffect1050ui_story = var_836_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_836_11 = 0.200000002980232

			if var_836_10 <= arg_833_1.time_ and arg_833_1.time_ < var_836_10 + var_836_11 and not isNil(var_836_9) then
				local var_836_12 = (arg_833_1.time_ - var_836_10) / var_836_11

				if arg_833_1.var_.characterEffect1050ui_story and not isNil(var_836_9) then
					arg_833_1.var_.characterEffect1050ui_story.fillFlat = false
				end
			end

			if arg_833_1.time_ >= var_836_10 + var_836_11 and arg_833_1.time_ < var_836_10 + var_836_11 + arg_836_0 and not isNil(var_836_9) and arg_833_1.var_.characterEffect1050ui_story then
				arg_833_1.var_.characterEffect1050ui_story.fillFlat = false
			end

			local var_836_13 = 0

			if var_836_13 < arg_833_1.time_ and arg_833_1.time_ <= var_836_13 + arg_836_0 then
				arg_833_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/1050/1050action/1050action1_1")
			end

			local var_836_14 = 0

			if var_836_14 < arg_833_1.time_ and arg_833_1.time_ <= var_836_14 + arg_836_0 then
				arg_833_1:PlayTimeline("1050ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface1102cva")
			end

			local var_836_15 = 0
			local var_836_16 = 0.05

			if var_836_15 < arg_833_1.time_ and arg_833_1.time_ <= var_836_15 + arg_836_0 then
				arg_833_1.talkMaxDuration = 0
				arg_833_1.dialogCg_.alpha = 1

				arg_833_1.dialog_:SetActive(true)
				SetActive(arg_833_1.leftNameGo_, true)

				local var_836_17 = arg_833_1:FormatText(StoryNameCfg[74].name)

				arg_833_1.leftNameTxt_.text = var_836_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_833_1.leftNameTxt_.transform)

				arg_833_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_833_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_833_1:RecordName(arg_833_1.leftNameTxt_.text)
				SetActive(arg_833_1.iconTrs_.gameObject, false)
				arg_833_1.callingController_:SetSelectedState("normal")

				local var_836_18 = arg_833_1:GetWordFromCfg(317021208)
				local var_836_19 = arg_833_1:FormatText(var_836_18.content)

				arg_833_1.text_.text = var_836_19

				LuaForUtil.ClearLinePrefixSymbol(arg_833_1.text_)

				local var_836_20 = 2
				local var_836_21 = utf8.len(var_836_19)
				local var_836_22 = var_836_20 <= 0 and var_836_16 or var_836_16 * (var_836_21 / var_836_20)

				if var_836_22 > 0 and var_836_16 < var_836_22 then
					arg_833_1.talkMaxDuration = var_836_22

					if var_836_22 + var_836_15 > arg_833_1.duration_ then
						arg_833_1.duration_ = var_836_22 + var_836_15
					end
				end

				arg_833_1.text_.text = var_836_19
				arg_833_1.typewritter.percent = 0

				arg_833_1.typewritter:SetDirty()
				arg_833_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021208", "story_v_out_317021.awb") ~= 0 then
					local var_836_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021208", "story_v_out_317021.awb") / 1000

					if var_836_23 + var_836_15 > arg_833_1.duration_ then
						arg_833_1.duration_ = var_836_23 + var_836_15
					end

					if var_836_18.prefab_name ~= "" and arg_833_1.actors_[var_836_18.prefab_name] ~= nil then
						local var_836_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_833_1.actors_[var_836_18.prefab_name].transform, "story_v_out_317021", "317021208", "story_v_out_317021.awb")

						arg_833_1:RecordAudio("317021208", var_836_24)
						arg_833_1:RecordAudio("317021208", var_836_24)
					else
						arg_833_1:AudioAction("play", "voice", "story_v_out_317021", "317021208", "story_v_out_317021.awb")
					end

					arg_833_1:RecordHistoryTalkVoice("story_v_out_317021", "317021208", "story_v_out_317021.awb")
				end

				arg_833_1:RecordContent(arg_833_1.text_.text)
			end

			local var_836_25 = math.max(var_836_16, arg_833_1.talkMaxDuration)

			if var_836_15 <= arg_833_1.time_ and arg_833_1.time_ < var_836_15 + var_836_25 then
				arg_833_1.typewritter.percent = (arg_833_1.time_ - var_836_15) / var_836_25

				arg_833_1.typewritter:SetDirty()
			end

			if arg_833_1.time_ >= var_836_15 + var_836_25 and arg_833_1.time_ < var_836_15 + var_836_25 + arg_836_0 then
				arg_833_1.typewritter.percent = 1

				arg_833_1.typewritter:SetDirty()
				arg_833_1:ShowNextGo(true)
			end
		end
	end,
	Play317021209 = function(arg_837_0, arg_837_1)
		arg_837_1.time_ = 0
		arg_837_1.frameCnt_ = 0
		arg_837_1.state_ = "playing"
		arg_837_1.curTalkId_ = 317021209
		arg_837_1.duration_ = 5

		SetActive(arg_837_1.tipsGo_, false)

		function arg_837_1.onSingleLineFinish_()
			arg_837_1.onSingleLineUpdate_ = nil
			arg_837_1.onSingleLineFinish_ = nil
			arg_837_1.state_ = "waiting"
		end

		function arg_837_1.playNext_(arg_839_0)
			if arg_839_0 == 1 then
				arg_837_0:Play317021210(arg_837_1)
			end
		end

		function arg_837_1.onSingleLineUpdate_(arg_840_0)
			local var_840_0 = arg_837_1.actors_["1050ui_story"].transform
			local var_840_1 = 0

			if var_840_1 < arg_837_1.time_ and arg_837_1.time_ <= var_840_1 + arg_840_0 then
				arg_837_1.var_.moveOldPos1050ui_story = var_840_0.localPosition
			end

			local var_840_2 = 0.001

			if var_840_1 <= arg_837_1.time_ and arg_837_1.time_ < var_840_1 + var_840_2 then
				local var_840_3 = (arg_837_1.time_ - var_840_1) / var_840_2
				local var_840_4 = Vector3.New(0, 100, 0)

				var_840_0.localPosition = Vector3.Lerp(arg_837_1.var_.moveOldPos1050ui_story, var_840_4, var_840_3)

				local var_840_5 = manager.ui.mainCamera.transform.position - var_840_0.position

				var_840_0.forward = Vector3.New(var_840_5.x, var_840_5.y, var_840_5.z)

				local var_840_6 = var_840_0.localEulerAngles

				var_840_6.z = 0
				var_840_6.x = 0
				var_840_0.localEulerAngles = var_840_6
			end

			if arg_837_1.time_ >= var_840_1 + var_840_2 and arg_837_1.time_ < var_840_1 + var_840_2 + arg_840_0 then
				var_840_0.localPosition = Vector3.New(0, 100, 0)

				local var_840_7 = manager.ui.mainCamera.transform.position - var_840_0.position

				var_840_0.forward = Vector3.New(var_840_7.x, var_840_7.y, var_840_7.z)

				local var_840_8 = var_840_0.localEulerAngles

				var_840_8.z = 0
				var_840_8.x = 0
				var_840_0.localEulerAngles = var_840_8
			end

			local var_840_9 = arg_837_1.actors_["1050ui_story"]
			local var_840_10 = 0

			if var_840_10 < arg_837_1.time_ and arg_837_1.time_ <= var_840_10 + arg_840_0 and not isNil(var_840_9) and arg_837_1.var_.characterEffect1050ui_story == nil then
				arg_837_1.var_.characterEffect1050ui_story = var_840_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_840_11 = 0.200000002980232

			if var_840_10 <= arg_837_1.time_ and arg_837_1.time_ < var_840_10 + var_840_11 and not isNil(var_840_9) then
				local var_840_12 = (arg_837_1.time_ - var_840_10) / var_840_11

				if arg_837_1.var_.characterEffect1050ui_story and not isNil(var_840_9) then
					local var_840_13 = Mathf.Lerp(0, 0.5, var_840_12)

					arg_837_1.var_.characterEffect1050ui_story.fillFlat = true
					arg_837_1.var_.characterEffect1050ui_story.fillRatio = var_840_13
				end
			end

			if arg_837_1.time_ >= var_840_10 + var_840_11 and arg_837_1.time_ < var_840_10 + var_840_11 + arg_840_0 and not isNil(var_840_9) and arg_837_1.var_.characterEffect1050ui_story then
				local var_840_14 = 0.5

				arg_837_1.var_.characterEffect1050ui_story.fillFlat = true
				arg_837_1.var_.characterEffect1050ui_story.fillRatio = var_840_14
			end

			local var_840_15 = 0
			local var_840_16 = 0.85

			if var_840_15 < arg_837_1.time_ and arg_837_1.time_ <= var_840_15 + arg_840_0 then
				arg_837_1.talkMaxDuration = 0
				arg_837_1.dialogCg_.alpha = 1

				arg_837_1.dialog_:SetActive(true)
				SetActive(arg_837_1.leftNameGo_, false)

				arg_837_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_837_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_837_1:RecordName(arg_837_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_837_1.iconTrs_.gameObject, false)
				arg_837_1.callingController_:SetSelectedState("normal")

				local var_840_17 = arg_837_1:GetWordFromCfg(317021209)
				local var_840_18 = arg_837_1:FormatText(var_840_17.content)

				arg_837_1.text_.text = var_840_18

				LuaForUtil.ClearLinePrefixSymbol(arg_837_1.text_)

				local var_840_19 = 34
				local var_840_20 = utf8.len(var_840_18)
				local var_840_21 = var_840_19 <= 0 and var_840_16 or var_840_16 * (var_840_20 / var_840_19)

				if var_840_21 > 0 and var_840_16 < var_840_21 then
					arg_837_1.talkMaxDuration = var_840_21

					if var_840_21 + var_840_15 > arg_837_1.duration_ then
						arg_837_1.duration_ = var_840_21 + var_840_15
					end
				end

				arg_837_1.text_.text = var_840_18
				arg_837_1.typewritter.percent = 0

				arg_837_1.typewritter:SetDirty()
				arg_837_1:ShowNextGo(false)
				arg_837_1:RecordContent(arg_837_1.text_.text)
			end

			local var_840_22 = math.max(var_840_16, arg_837_1.talkMaxDuration)

			if var_840_15 <= arg_837_1.time_ and arg_837_1.time_ < var_840_15 + var_840_22 then
				arg_837_1.typewritter.percent = (arg_837_1.time_ - var_840_15) / var_840_22

				arg_837_1.typewritter:SetDirty()
			end

			if arg_837_1.time_ >= var_840_15 + var_840_22 and arg_837_1.time_ < var_840_15 + var_840_22 + arg_840_0 then
				arg_837_1.typewritter.percent = 1

				arg_837_1.typewritter:SetDirty()
				arg_837_1:ShowNextGo(true)
			end
		end
	end,
	Play317021210 = function(arg_841_0, arg_841_1)
		arg_841_1.time_ = 0
		arg_841_1.frameCnt_ = 0
		arg_841_1.state_ = "playing"
		arg_841_1.curTalkId_ = 317021210
		arg_841_1.duration_ = 7.03

		local var_841_0 = {
			zh = 7.033,
			ja = 6.833
		}
		local var_841_1 = manager.audio:GetLocalizationFlag()

		if var_841_0[var_841_1] ~= nil then
			arg_841_1.duration_ = var_841_0[var_841_1]
		end

		SetActive(arg_841_1.tipsGo_, false)

		function arg_841_1.onSingleLineFinish_()
			arg_841_1.onSingleLineUpdate_ = nil
			arg_841_1.onSingleLineFinish_ = nil
			arg_841_1.state_ = "waiting"
		end

		function arg_841_1.playNext_(arg_843_0)
			if arg_843_0 == 1 then
				arg_841_0:Play317021211(arg_841_1)
			end
		end

		function arg_841_1.onSingleLineUpdate_(arg_844_0)
			local var_844_0 = "BA0201"

			if arg_841_1.bgs_[var_844_0] == nil then
				local var_844_1 = Object.Instantiate(arg_841_1.paintGo_)

				var_844_1:GetComponent("SpriteRenderer").sprite = getSpriteWithoutAtlas("TextureConfig/Background/" .. var_844_0)
				var_844_1.name = var_844_0
				var_844_1.transform.parent = arg_841_1.stage_.transform
				var_844_1.transform.localPosition = Vector3.New(0, 100, 0)
				arg_841_1.bgs_[var_844_0] = var_844_1
			end

			local var_844_2 = 0

			if var_844_2 < arg_841_1.time_ and arg_841_1.time_ <= var_844_2 + arg_844_0 then
				local var_844_3 = manager.ui.mainCamera.transform.localPosition
				local var_844_4 = Vector3.New(0, 0, 10) + Vector3.New(var_844_3.x, var_844_3.y, 0)
				local var_844_5 = arg_841_1.bgs_.BA0201

				var_844_5.transform.localPosition = var_844_4
				var_844_5.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_844_6 = var_844_5:GetComponent("SpriteRenderer")

				if var_844_6 and var_844_6.sprite then
					local var_844_7 = (var_844_5.transform.localPosition - var_844_3).z
					local var_844_8 = manager.ui.mainCameraCom_
					local var_844_9 = 2 * var_844_7 * Mathf.Tan(var_844_8.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_844_10 = var_844_9 * var_844_8.aspect
					local var_844_11 = var_844_6.sprite.bounds.size.x
					local var_844_12 = var_844_6.sprite.bounds.size.y
					local var_844_13 = var_844_10 / var_844_11
					local var_844_14 = var_844_9 / var_844_12
					local var_844_15 = var_844_14 < var_844_13 and var_844_13 or var_844_14

					var_844_5.transform.localScale = Vector3.New(var_844_15, var_844_15, 0)
				end

				for iter_844_0, iter_844_1 in pairs(arg_841_1.bgs_) do
					if iter_844_0 ~= "BA0201" then
						iter_844_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_844_16 = 0

			if var_844_16 < arg_841_1.time_ and arg_841_1.time_ <= var_844_16 + arg_844_0 then
				arg_841_1.mask_.enabled = true
				arg_841_1.mask_.raycastTarget = true

				arg_841_1:SetGaussion(false)
			end

			local var_844_17 = 2

			if var_844_16 <= arg_841_1.time_ and arg_841_1.time_ < var_844_16 + var_844_17 then
				local var_844_18 = (arg_841_1.time_ - var_844_16) / var_844_17
				local var_844_19 = Color.New(0, 0, 0)

				var_844_19.a = Mathf.Lerp(1, 0, var_844_18)
				arg_841_1.mask_.color = var_844_19
			end

			if arg_841_1.time_ >= var_844_16 + var_844_17 and arg_841_1.time_ < var_844_16 + var_844_17 + arg_844_0 then
				local var_844_20 = Color.New(0, 0, 0)
				local var_844_21 = 0

				arg_841_1.mask_.enabled = false
				var_844_20.a = var_844_21
				arg_841_1.mask_.color = var_844_20
			end

			local var_844_22 = 0

			arg_841_1.isInRecall_ = false

			if var_844_22 < arg_841_1.time_ and arg_841_1.time_ <= var_844_22 + arg_844_0 then
				arg_841_1.screenFilterGo_:SetActive(true)

				arg_841_1.screenFilterEffect_.profile = Asset.Load("Effect/Scene/fx_vintageStyle_Profile")

				for iter_844_2, iter_844_3 in pairs(arg_841_1.actors_) do
					local var_844_23 = iter_844_3:GetComponentsInChildren(typeof(Image), true):ToTable()

					for iter_844_4, iter_844_5 in ipairs(var_844_23) do
						if iter_844_5.color.r > 0.51 then
							iter_844_5.color = Color.New(1, 1, 1)
						else
							iter_844_5.color = Color.New(0.5, 0.5, 0.5)
						end
					end
				end
			end

			local var_844_24 = 0.0166666666666667

			if var_844_22 <= arg_841_1.time_ and arg_841_1.time_ < var_844_22 + var_844_24 then
				local var_844_25 = (arg_841_1.time_ - var_844_22) / var_844_24

				arg_841_1.screenFilterEffect_.weight = Mathf.Lerp(0, 1, var_844_25)
			end

			if arg_841_1.time_ >= var_844_22 + var_844_24 and arg_841_1.time_ < var_844_22 + var_844_24 + arg_844_0 then
				arg_841_1.screenFilterEffect_.weight = 1
			end

			if arg_841_1.frameCnt_ <= 1 then
				arg_841_1.dialog_:SetActive(false)
			end

			local var_844_26 = 2
			local var_844_27 = 0.425

			if var_844_26 < arg_841_1.time_ and arg_841_1.time_ <= var_844_26 + arg_844_0 then
				arg_841_1.talkMaxDuration = 0

				arg_841_1.dialog_:SetActive(true)

				local var_844_28 = LeanTween.value(arg_841_1.dialog_, 0, 1, 0.3)

				var_844_28:setOnUpdate(LuaHelper.FloatAction(function(arg_845_0)
					arg_841_1.dialogCg_.alpha = arg_845_0
				end))
				var_844_28:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_841_1.dialog_)
					var_844_28:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_841_1.duration_ = arg_841_1.duration_ + 0.3

				SetActive(arg_841_1.leftNameGo_, true)

				local var_844_29 = arg_841_1:FormatText(StoryNameCfg[476].name)

				arg_841_1.leftNameTxt_.text = var_844_29

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_841_1.leftNameTxt_.transform)

				arg_841_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_841_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_841_1:RecordName(arg_841_1.leftNameTxt_.text)
				SetActive(arg_841_1.iconTrs_.gameObject, false)
				arg_841_1.callingController_:SetSelectedState("normal")

				local var_844_30 = arg_841_1:GetWordFromCfg(317021210)
				local var_844_31 = arg_841_1:FormatText(var_844_30.content)

				arg_841_1.text_.text = var_844_31

				LuaForUtil.ClearLinePrefixSymbol(arg_841_1.text_)

				local var_844_32 = 17
				local var_844_33 = utf8.len(var_844_31)
				local var_844_34 = var_844_32 <= 0 and var_844_27 or var_844_27 * (var_844_33 / var_844_32)

				if var_844_34 > 0 and var_844_27 < var_844_34 then
					arg_841_1.talkMaxDuration = var_844_34
					var_844_26 = var_844_26 + 0.3

					if var_844_34 + var_844_26 > arg_841_1.duration_ then
						arg_841_1.duration_ = var_844_34 + var_844_26
					end
				end

				arg_841_1.text_.text = var_844_31
				arg_841_1.typewritter.percent = 0

				arg_841_1.typewritter:SetDirty()
				arg_841_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021210", "story_v_out_317021.awb") ~= 0 then
					local var_844_35 = manager.audio:GetVoiceLength("story_v_out_317021", "317021210", "story_v_out_317021.awb") / 1000

					if var_844_35 + var_844_26 > arg_841_1.duration_ then
						arg_841_1.duration_ = var_844_35 + var_844_26
					end

					if var_844_30.prefab_name ~= "" and arg_841_1.actors_[var_844_30.prefab_name] ~= nil then
						local var_844_36 = LuaForUtil.PlayVoiceWithCriLipsync(arg_841_1.actors_[var_844_30.prefab_name].transform, "story_v_out_317021", "317021210", "story_v_out_317021.awb")

						arg_841_1:RecordAudio("317021210", var_844_36)
						arg_841_1:RecordAudio("317021210", var_844_36)
					else
						arg_841_1:AudioAction("play", "voice", "story_v_out_317021", "317021210", "story_v_out_317021.awb")
					end

					arg_841_1:RecordHistoryTalkVoice("story_v_out_317021", "317021210", "story_v_out_317021.awb")
				end

				arg_841_1:RecordContent(arg_841_1.text_.text)
			end

			local var_844_37 = var_844_26 + 0.3
			local var_844_38 = math.max(var_844_27, arg_841_1.talkMaxDuration)

			if var_844_37 <= arg_841_1.time_ and arg_841_1.time_ < var_844_37 + var_844_38 then
				arg_841_1.typewritter.percent = (arg_841_1.time_ - var_844_37) / var_844_38

				arg_841_1.typewritter:SetDirty()
			end

			if arg_841_1.time_ >= var_844_37 + var_844_38 and arg_841_1.time_ < var_844_37 + var_844_38 + arg_844_0 then
				arg_841_1.typewritter.percent = 1

				arg_841_1.typewritter:SetDirty()
				arg_841_1:ShowNextGo(true)
			end
		end
	end,
	Play317021211 = function(arg_847_0, arg_847_1)
		arg_847_1.time_ = 0
		arg_847_1.frameCnt_ = 0
		arg_847_1.state_ = "playing"
		arg_847_1.curTalkId_ = 317021211
		arg_847_1.duration_ = 7

		SetActive(arg_847_1.tipsGo_, false)

		function arg_847_1.onSingleLineFinish_()
			arg_847_1.onSingleLineUpdate_ = nil
			arg_847_1.onSingleLineFinish_ = nil
			arg_847_1.state_ = "waiting"
		end

		function arg_847_1.playNext_(arg_849_0)
			if arg_849_0 == 1 then
				arg_847_0:Play317021212(arg_847_1)
			end
		end

		function arg_847_1.onSingleLineUpdate_(arg_850_0)
			local var_850_0 = 0

			arg_847_1.isInRecall_ = false

			if var_850_0 < arg_847_1.time_ and arg_847_1.time_ <= var_850_0 + arg_850_0 then
				arg_847_1.screenFilterGo_:SetActive(false)

				for iter_850_0, iter_850_1 in pairs(arg_847_1.actors_) do
					local var_850_1 = iter_850_1:GetComponentsInChildren(typeof(Image), true):ToTable()

					for iter_850_2, iter_850_3 in ipairs(var_850_1) do
						if iter_850_3.color.r > 0.51 then
							iter_850_3.color = Color.New(1, 1, 1)
						else
							iter_850_3.color = Color.New(0.5, 0.5, 0.5)
						end
					end
				end
			end

			local var_850_2 = 0.0166666666666667

			if var_850_0 <= arg_847_1.time_ and arg_847_1.time_ < var_850_0 + var_850_2 then
				local var_850_3 = (arg_847_1.time_ - var_850_0) / var_850_2

				arg_847_1.screenFilterEffect_.weight = Mathf.Lerp(1, 0, var_850_3)
			end

			if arg_847_1.time_ >= var_850_0 + var_850_2 and arg_847_1.time_ < var_850_0 + var_850_2 + arg_850_0 then
				arg_847_1.screenFilterEffect_.weight = 0
			end

			local var_850_4 = 0

			if var_850_4 < arg_847_1.time_ and arg_847_1.time_ <= var_850_4 + arg_850_0 then
				local var_850_5 = manager.ui.mainCamera.transform.localPosition
				local var_850_6 = Vector3.New(0, 0, 10) + Vector3.New(var_850_5.x, var_850_5.y, 0)
				local var_850_7 = arg_847_1.bgs_.ST06

				var_850_7.transform.localPosition = var_850_6
				var_850_7.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_850_8 = var_850_7:GetComponent("SpriteRenderer")

				if var_850_8 and var_850_8.sprite then
					local var_850_9 = (var_850_7.transform.localPosition - var_850_5).z
					local var_850_10 = manager.ui.mainCameraCom_
					local var_850_11 = 2 * var_850_9 * Mathf.Tan(var_850_10.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_850_12 = var_850_11 * var_850_10.aspect
					local var_850_13 = var_850_8.sprite.bounds.size.x
					local var_850_14 = var_850_8.sprite.bounds.size.y
					local var_850_15 = var_850_12 / var_850_13
					local var_850_16 = var_850_11 / var_850_14
					local var_850_17 = var_850_16 < var_850_15 and var_850_15 or var_850_16

					var_850_7.transform.localScale = Vector3.New(var_850_17, var_850_17, 0)
				end

				for iter_850_4, iter_850_5 in pairs(arg_847_1.bgs_) do
					if iter_850_4 ~= "ST06" then
						iter_850_5.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_850_18 = 0

			if var_850_18 < arg_847_1.time_ and arg_847_1.time_ <= var_850_18 + arg_850_0 then
				arg_847_1.mask_.enabled = true
				arg_847_1.mask_.raycastTarget = true

				arg_847_1:SetGaussion(false)
			end

			local var_850_19 = 2

			if var_850_18 <= arg_847_1.time_ and arg_847_1.time_ < var_850_18 + var_850_19 then
				local var_850_20 = (arg_847_1.time_ - var_850_18) / var_850_19
				local var_850_21 = Color.New(0, 0, 0)

				var_850_21.a = Mathf.Lerp(1, 0, var_850_20)
				arg_847_1.mask_.color = var_850_21
			end

			if arg_847_1.time_ >= var_850_18 + var_850_19 and arg_847_1.time_ < var_850_18 + var_850_19 + arg_850_0 then
				local var_850_22 = Color.New(0, 0, 0)
				local var_850_23 = 0

				arg_847_1.mask_.enabled = false
				var_850_22.a = var_850_23
				arg_847_1.mask_.color = var_850_22
			end

			if arg_847_1.frameCnt_ <= 1 then
				arg_847_1.dialog_:SetActive(false)
			end

			local var_850_24 = 2
			local var_850_25 = 0.125

			if var_850_24 < arg_847_1.time_ and arg_847_1.time_ <= var_850_24 + arg_850_0 then
				arg_847_1.talkMaxDuration = 0

				arg_847_1.dialog_:SetActive(true)

				local var_850_26 = LeanTween.value(arg_847_1.dialog_, 0, 1, 0.3)

				var_850_26:setOnUpdate(LuaHelper.FloatAction(function(arg_851_0)
					arg_847_1.dialogCg_.alpha = arg_851_0
				end))
				var_850_26:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_847_1.dialog_)
					var_850_26:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_847_1.duration_ = arg_847_1.duration_ + 0.3

				SetActive(arg_847_1.leftNameGo_, true)

				local var_850_27 = arg_847_1:FormatText(StoryNameCfg[7].name)

				arg_847_1.leftNameTxt_.text = var_850_27

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_847_1.leftNameTxt_.transform)

				arg_847_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_847_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_847_1:RecordName(arg_847_1.leftNameTxt_.text)
				SetActive(arg_847_1.iconTrs_.gameObject, false)
				arg_847_1.callingController_:SetSelectedState("normal")

				local var_850_28 = arg_847_1:GetWordFromCfg(317021211)
				local var_850_29 = arg_847_1:FormatText(var_850_28.content)

				arg_847_1.text_.text = var_850_29

				LuaForUtil.ClearLinePrefixSymbol(arg_847_1.text_)

				local var_850_30 = 5
				local var_850_31 = utf8.len(var_850_29)
				local var_850_32 = var_850_30 <= 0 and var_850_25 or var_850_25 * (var_850_31 / var_850_30)

				if var_850_32 > 0 and var_850_25 < var_850_32 then
					arg_847_1.talkMaxDuration = var_850_32
					var_850_24 = var_850_24 + 0.3

					if var_850_32 + var_850_24 > arg_847_1.duration_ then
						arg_847_1.duration_ = var_850_32 + var_850_24
					end
				end

				arg_847_1.text_.text = var_850_29
				arg_847_1.typewritter.percent = 0

				arg_847_1.typewritter:SetDirty()
				arg_847_1:ShowNextGo(false)
				arg_847_1:RecordContent(arg_847_1.text_.text)
			end

			local var_850_33 = var_850_24 + 0.3
			local var_850_34 = math.max(var_850_25, arg_847_1.talkMaxDuration)

			if var_850_33 <= arg_847_1.time_ and arg_847_1.time_ < var_850_33 + var_850_34 then
				arg_847_1.typewritter.percent = (arg_847_1.time_ - var_850_33) / var_850_34

				arg_847_1.typewritter:SetDirty()
			end

			if arg_847_1.time_ >= var_850_33 + var_850_34 and arg_847_1.time_ < var_850_33 + var_850_34 + arg_850_0 then
				arg_847_1.typewritter.percent = 1

				arg_847_1.typewritter:SetDirty()
				arg_847_1:ShowNextGo(true)
			end
		end
	end,
	Play317021212 = function(arg_853_0, arg_853_1)
		arg_853_1.time_ = 0
		arg_853_1.frameCnt_ = 0
		arg_853_1.state_ = "playing"
		arg_853_1.curTalkId_ = 317021212
		arg_853_1.duration_ = 2.4

		local var_853_0 = {
			zh = 1.2,
			ja = 2.4
		}
		local var_853_1 = manager.audio:GetLocalizationFlag()

		if var_853_0[var_853_1] ~= nil then
			arg_853_1.duration_ = var_853_0[var_853_1]
		end

		SetActive(arg_853_1.tipsGo_, false)

		function arg_853_1.onSingleLineFinish_()
			arg_853_1.onSingleLineUpdate_ = nil
			arg_853_1.onSingleLineFinish_ = nil
			arg_853_1.state_ = "waiting"
		end

		function arg_853_1.playNext_(arg_855_0)
			if arg_855_0 == 1 then
				arg_853_0:Play317021213(arg_853_1)
			end
		end

		function arg_853_1.onSingleLineUpdate_(arg_856_0)
			local var_856_0 = arg_853_1.actors_["1093ui_story"].transform
			local var_856_1 = 0

			if var_856_1 < arg_853_1.time_ and arg_853_1.time_ <= var_856_1 + arg_856_0 then
				arg_853_1.var_.moveOldPos1093ui_story = var_856_0.localPosition
			end

			local var_856_2 = 0.001

			if var_856_1 <= arg_853_1.time_ and arg_853_1.time_ < var_856_1 + var_856_2 then
				local var_856_3 = (arg_853_1.time_ - var_856_1) / var_856_2
				local var_856_4 = Vector3.New(0, -1.11, -5.88)

				var_856_0.localPosition = Vector3.Lerp(arg_853_1.var_.moveOldPos1093ui_story, var_856_4, var_856_3)

				local var_856_5 = manager.ui.mainCamera.transform.position - var_856_0.position

				var_856_0.forward = Vector3.New(var_856_5.x, var_856_5.y, var_856_5.z)

				local var_856_6 = var_856_0.localEulerAngles

				var_856_6.z = 0
				var_856_6.x = 0
				var_856_0.localEulerAngles = var_856_6
			end

			if arg_853_1.time_ >= var_856_1 + var_856_2 and arg_853_1.time_ < var_856_1 + var_856_2 + arg_856_0 then
				var_856_0.localPosition = Vector3.New(0, -1.11, -5.88)

				local var_856_7 = manager.ui.mainCamera.transform.position - var_856_0.position

				var_856_0.forward = Vector3.New(var_856_7.x, var_856_7.y, var_856_7.z)

				local var_856_8 = var_856_0.localEulerAngles

				var_856_8.z = 0
				var_856_8.x = 0
				var_856_0.localEulerAngles = var_856_8
			end

			local var_856_9 = arg_853_1.actors_["1093ui_story"]
			local var_856_10 = 0

			if var_856_10 < arg_853_1.time_ and arg_853_1.time_ <= var_856_10 + arg_856_0 and not isNil(var_856_9) and arg_853_1.var_.characterEffect1093ui_story == nil then
				arg_853_1.var_.characterEffect1093ui_story = var_856_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_856_11 = 0.200000002980232

			if var_856_10 <= arg_853_1.time_ and arg_853_1.time_ < var_856_10 + var_856_11 and not isNil(var_856_9) then
				local var_856_12 = (arg_853_1.time_ - var_856_10) / var_856_11

				if arg_853_1.var_.characterEffect1093ui_story and not isNil(var_856_9) then
					arg_853_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_853_1.time_ >= var_856_10 + var_856_11 and arg_853_1.time_ < var_856_10 + var_856_11 + arg_856_0 and not isNil(var_856_9) and arg_853_1.var_.characterEffect1093ui_story then
				arg_853_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_856_13 = 0

			if var_856_13 < arg_853_1.time_ and arg_853_1.time_ <= var_856_13 + arg_856_0 then
				arg_853_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action1_1")
			end

			local var_856_14 = 0

			if var_856_14 < arg_853_1.time_ and arg_853_1.time_ <= var_856_14 + arg_856_0 then
				arg_853_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_856_15 = 0
			local var_856_16 = 0.1

			if var_856_15 < arg_853_1.time_ and arg_853_1.time_ <= var_856_15 + arg_856_0 then
				arg_853_1.talkMaxDuration = 0
				arg_853_1.dialogCg_.alpha = 1

				arg_853_1.dialog_:SetActive(true)
				SetActive(arg_853_1.leftNameGo_, true)

				local var_856_17 = arg_853_1:FormatText(StoryNameCfg[73].name)

				arg_853_1.leftNameTxt_.text = var_856_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_853_1.leftNameTxt_.transform)

				arg_853_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_853_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_853_1:RecordName(arg_853_1.leftNameTxt_.text)
				SetActive(arg_853_1.iconTrs_.gameObject, false)
				arg_853_1.callingController_:SetSelectedState("normal")

				local var_856_18 = arg_853_1:GetWordFromCfg(317021212)
				local var_856_19 = arg_853_1:FormatText(var_856_18.content)

				arg_853_1.text_.text = var_856_19

				LuaForUtil.ClearLinePrefixSymbol(arg_853_1.text_)

				local var_856_20 = 4
				local var_856_21 = utf8.len(var_856_19)
				local var_856_22 = var_856_20 <= 0 and var_856_16 or var_856_16 * (var_856_21 / var_856_20)

				if var_856_22 > 0 and var_856_16 < var_856_22 then
					arg_853_1.talkMaxDuration = var_856_22

					if var_856_22 + var_856_15 > arg_853_1.duration_ then
						arg_853_1.duration_ = var_856_22 + var_856_15
					end
				end

				arg_853_1.text_.text = var_856_19
				arg_853_1.typewritter.percent = 0

				arg_853_1.typewritter:SetDirty()
				arg_853_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021212", "story_v_out_317021.awb") ~= 0 then
					local var_856_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021212", "story_v_out_317021.awb") / 1000

					if var_856_23 + var_856_15 > arg_853_1.duration_ then
						arg_853_1.duration_ = var_856_23 + var_856_15
					end

					if var_856_18.prefab_name ~= "" and arg_853_1.actors_[var_856_18.prefab_name] ~= nil then
						local var_856_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_853_1.actors_[var_856_18.prefab_name].transform, "story_v_out_317021", "317021212", "story_v_out_317021.awb")

						arg_853_1:RecordAudio("317021212", var_856_24)
						arg_853_1:RecordAudio("317021212", var_856_24)
					else
						arg_853_1:AudioAction("play", "voice", "story_v_out_317021", "317021212", "story_v_out_317021.awb")
					end

					arg_853_1:RecordHistoryTalkVoice("story_v_out_317021", "317021212", "story_v_out_317021.awb")
				end

				arg_853_1:RecordContent(arg_853_1.text_.text)
			end

			local var_856_25 = math.max(var_856_16, arg_853_1.talkMaxDuration)

			if var_856_15 <= arg_853_1.time_ and arg_853_1.time_ < var_856_15 + var_856_25 then
				arg_853_1.typewritter.percent = (arg_853_1.time_ - var_856_15) / var_856_25

				arg_853_1.typewritter:SetDirty()
			end

			if arg_853_1.time_ >= var_856_15 + var_856_25 and arg_853_1.time_ < var_856_15 + var_856_25 + arg_856_0 then
				arg_853_1.typewritter.percent = 1

				arg_853_1.typewritter:SetDirty()
				arg_853_1:ShowNextGo(true)
			end
		end
	end,
	Play317021213 = function(arg_857_0, arg_857_1)
		arg_857_1.time_ = 0
		arg_857_1.frameCnt_ = 0
		arg_857_1.state_ = "playing"
		arg_857_1.curTalkId_ = 317021213
		arg_857_1.duration_ = 5

		SetActive(arg_857_1.tipsGo_, false)

		function arg_857_1.onSingleLineFinish_()
			arg_857_1.onSingleLineUpdate_ = nil
			arg_857_1.onSingleLineFinish_ = nil
			arg_857_1.state_ = "waiting"
		end

		function arg_857_1.playNext_(arg_859_0)
			if arg_859_0 == 1 then
				arg_857_0:Play317021214(arg_857_1)
			end
		end

		function arg_857_1.onSingleLineUpdate_(arg_860_0)
			local var_860_0 = arg_857_1.actors_["1093ui_story"].transform
			local var_860_1 = 0

			if var_860_1 < arg_857_1.time_ and arg_857_1.time_ <= var_860_1 + arg_860_0 then
				arg_857_1.var_.moveOldPos1093ui_story = var_860_0.localPosition
			end

			local var_860_2 = 0.001

			if var_860_1 <= arg_857_1.time_ and arg_857_1.time_ < var_860_1 + var_860_2 then
				local var_860_3 = (arg_857_1.time_ - var_860_1) / var_860_2
				local var_860_4 = Vector3.New(0, 100, 0)

				var_860_0.localPosition = Vector3.Lerp(arg_857_1.var_.moveOldPos1093ui_story, var_860_4, var_860_3)

				local var_860_5 = manager.ui.mainCamera.transform.position - var_860_0.position

				var_860_0.forward = Vector3.New(var_860_5.x, var_860_5.y, var_860_5.z)

				local var_860_6 = var_860_0.localEulerAngles

				var_860_6.z = 0
				var_860_6.x = 0
				var_860_0.localEulerAngles = var_860_6
			end

			if arg_857_1.time_ >= var_860_1 + var_860_2 and arg_857_1.time_ < var_860_1 + var_860_2 + arg_860_0 then
				var_860_0.localPosition = Vector3.New(0, 100, 0)

				local var_860_7 = manager.ui.mainCamera.transform.position - var_860_0.position

				var_860_0.forward = Vector3.New(var_860_7.x, var_860_7.y, var_860_7.z)

				local var_860_8 = var_860_0.localEulerAngles

				var_860_8.z = 0
				var_860_8.x = 0
				var_860_0.localEulerAngles = var_860_8
			end

			local var_860_9 = arg_857_1.actors_["1093ui_story"]
			local var_860_10 = 0

			if var_860_10 < arg_857_1.time_ and arg_857_1.time_ <= var_860_10 + arg_860_0 and not isNil(var_860_9) and arg_857_1.var_.characterEffect1093ui_story == nil then
				arg_857_1.var_.characterEffect1093ui_story = var_860_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_860_11 = 0.200000002980232

			if var_860_10 <= arg_857_1.time_ and arg_857_1.time_ < var_860_10 + var_860_11 and not isNil(var_860_9) then
				local var_860_12 = (arg_857_1.time_ - var_860_10) / var_860_11

				if arg_857_1.var_.characterEffect1093ui_story and not isNil(var_860_9) then
					local var_860_13 = Mathf.Lerp(0, 0.5, var_860_12)

					arg_857_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_857_1.var_.characterEffect1093ui_story.fillRatio = var_860_13
				end
			end

			if arg_857_1.time_ >= var_860_10 + var_860_11 and arg_857_1.time_ < var_860_10 + var_860_11 + arg_860_0 and not isNil(var_860_9) and arg_857_1.var_.characterEffect1093ui_story then
				local var_860_14 = 0.5

				arg_857_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_857_1.var_.characterEffect1093ui_story.fillRatio = var_860_14
			end

			local var_860_15 = 0
			local var_860_16 = 0.35

			if var_860_15 < arg_857_1.time_ and arg_857_1.time_ <= var_860_15 + arg_860_0 then
				arg_857_1.talkMaxDuration = 0
				arg_857_1.dialogCg_.alpha = 1

				arg_857_1.dialog_:SetActive(true)
				SetActive(arg_857_1.leftNameGo_, true)

				local var_860_17 = arg_857_1:FormatText(StoryNameCfg[7].name)

				arg_857_1.leftNameTxt_.text = var_860_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_857_1.leftNameTxt_.transform)

				arg_857_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_857_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_857_1:RecordName(arg_857_1.leftNameTxt_.text)
				SetActive(arg_857_1.iconTrs_.gameObject, false)
				arg_857_1.callingController_:SetSelectedState("normal")

				local var_860_18 = arg_857_1:GetWordFromCfg(317021213)
				local var_860_19 = arg_857_1:FormatText(var_860_18.content)

				arg_857_1.text_.text = var_860_19

				LuaForUtil.ClearLinePrefixSymbol(arg_857_1.text_)

				local var_860_20 = 14
				local var_860_21 = utf8.len(var_860_19)
				local var_860_22 = var_860_20 <= 0 and var_860_16 or var_860_16 * (var_860_21 / var_860_20)

				if var_860_22 > 0 and var_860_16 < var_860_22 then
					arg_857_1.talkMaxDuration = var_860_22

					if var_860_22 + var_860_15 > arg_857_1.duration_ then
						arg_857_1.duration_ = var_860_22 + var_860_15
					end
				end

				arg_857_1.text_.text = var_860_19
				arg_857_1.typewritter.percent = 0

				arg_857_1.typewritter:SetDirty()
				arg_857_1:ShowNextGo(false)
				arg_857_1:RecordContent(arg_857_1.text_.text)
			end

			local var_860_23 = math.max(var_860_16, arg_857_1.talkMaxDuration)

			if var_860_15 <= arg_857_1.time_ and arg_857_1.time_ < var_860_15 + var_860_23 then
				arg_857_1.typewritter.percent = (arg_857_1.time_ - var_860_15) / var_860_23

				arg_857_1.typewritter:SetDirty()
			end

			if arg_857_1.time_ >= var_860_15 + var_860_23 and arg_857_1.time_ < var_860_15 + var_860_23 + arg_860_0 then
				arg_857_1.typewritter.percent = 1

				arg_857_1.typewritter:SetDirty()
				arg_857_1:ShowNextGo(true)
			end
		end
	end,
	Play317021214 = function(arg_861_0, arg_861_1)
		arg_861_1.time_ = 0
		arg_861_1.frameCnt_ = 0
		arg_861_1.state_ = "playing"
		arg_861_1.curTalkId_ = 317021214
		arg_861_1.duration_ = 5

		SetActive(arg_861_1.tipsGo_, false)

		function arg_861_1.onSingleLineFinish_()
			arg_861_1.onSingleLineUpdate_ = nil
			arg_861_1.onSingleLineFinish_ = nil
			arg_861_1.state_ = "waiting"
		end

		function arg_861_1.playNext_(arg_863_0)
			if arg_863_0 == 1 then
				arg_861_0:Play317021215(arg_861_1)
			end
		end

		function arg_861_1.onSingleLineUpdate_(arg_864_0)
			local var_864_0 = 0
			local var_864_1 = 0.625

			if var_864_0 < arg_861_1.time_ and arg_861_1.time_ <= var_864_0 + arg_864_0 then
				arg_861_1.talkMaxDuration = 0
				arg_861_1.dialogCg_.alpha = 1

				arg_861_1.dialog_:SetActive(true)
				SetActive(arg_861_1.leftNameGo_, false)

				arg_861_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_861_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_861_1:RecordName(arg_861_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_861_1.iconTrs_.gameObject, false)
				arg_861_1.callingController_:SetSelectedState("normal")

				local var_864_2 = arg_861_1:GetWordFromCfg(317021214)
				local var_864_3 = arg_861_1:FormatText(var_864_2.content)

				arg_861_1.text_.text = var_864_3

				LuaForUtil.ClearLinePrefixSymbol(arg_861_1.text_)

				local var_864_4 = 25
				local var_864_5 = utf8.len(var_864_3)
				local var_864_6 = var_864_4 <= 0 and var_864_1 or var_864_1 * (var_864_5 / var_864_4)

				if var_864_6 > 0 and var_864_1 < var_864_6 then
					arg_861_1.talkMaxDuration = var_864_6

					if var_864_6 + var_864_0 > arg_861_1.duration_ then
						arg_861_1.duration_ = var_864_6 + var_864_0
					end
				end

				arg_861_1.text_.text = var_864_3
				arg_861_1.typewritter.percent = 0

				arg_861_1.typewritter:SetDirty()
				arg_861_1:ShowNextGo(false)
				arg_861_1:RecordContent(arg_861_1.text_.text)
			end

			local var_864_7 = math.max(var_864_1, arg_861_1.talkMaxDuration)

			if var_864_0 <= arg_861_1.time_ and arg_861_1.time_ < var_864_0 + var_864_7 then
				arg_861_1.typewritter.percent = (arg_861_1.time_ - var_864_0) / var_864_7

				arg_861_1.typewritter:SetDirty()
			end

			if arg_861_1.time_ >= var_864_0 + var_864_7 and arg_861_1.time_ < var_864_0 + var_864_7 + arg_864_0 then
				arg_861_1.typewritter.percent = 1

				arg_861_1.typewritter:SetDirty()
				arg_861_1:ShowNextGo(true)
			end
		end
	end,
	Play317021215 = function(arg_865_0, arg_865_1)
		arg_865_1.time_ = 0
		arg_865_1.frameCnt_ = 0
		arg_865_1.state_ = "playing"
		arg_865_1.curTalkId_ = 317021215
		arg_865_1.duration_ = 5

		SetActive(arg_865_1.tipsGo_, false)

		function arg_865_1.onSingleLineFinish_()
			arg_865_1.onSingleLineUpdate_ = nil
			arg_865_1.onSingleLineFinish_ = nil
			arg_865_1.state_ = "waiting"
		end

		function arg_865_1.playNext_(arg_867_0)
			if arg_867_0 == 1 then
				arg_865_0:Play317021216(arg_865_1)
			end
		end

		function arg_865_1.onSingleLineUpdate_(arg_868_0)
			local var_868_0 = 0
			local var_868_1 = 1.3

			if var_868_0 < arg_865_1.time_ and arg_865_1.time_ <= var_868_0 + arg_868_0 then
				arg_865_1.talkMaxDuration = 0
				arg_865_1.dialogCg_.alpha = 1

				arg_865_1.dialog_:SetActive(true)
				SetActive(arg_865_1.leftNameGo_, true)

				local var_868_2 = arg_865_1:FormatText(StoryNameCfg[7].name)

				arg_865_1.leftNameTxt_.text = var_868_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_865_1.leftNameTxt_.transform)

				arg_865_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_865_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_865_1:RecordName(arg_865_1.leftNameTxt_.text)
				SetActive(arg_865_1.iconTrs_.gameObject, false)
				arg_865_1.callingController_:SetSelectedState("normal")

				local var_868_3 = arg_865_1:GetWordFromCfg(317021215)
				local var_868_4 = arg_865_1:FormatText(var_868_3.content)

				arg_865_1.text_.text = var_868_4

				LuaForUtil.ClearLinePrefixSymbol(arg_865_1.text_)

				local var_868_5 = 52
				local var_868_6 = utf8.len(var_868_4)
				local var_868_7 = var_868_5 <= 0 and var_868_1 or var_868_1 * (var_868_6 / var_868_5)

				if var_868_7 > 0 and var_868_1 < var_868_7 then
					arg_865_1.talkMaxDuration = var_868_7

					if var_868_7 + var_868_0 > arg_865_1.duration_ then
						arg_865_1.duration_ = var_868_7 + var_868_0
					end
				end

				arg_865_1.text_.text = var_868_4
				arg_865_1.typewritter.percent = 0

				arg_865_1.typewritter:SetDirty()
				arg_865_1:ShowNextGo(false)
				arg_865_1:RecordContent(arg_865_1.text_.text)
			end

			local var_868_8 = math.max(var_868_1, arg_865_1.talkMaxDuration)

			if var_868_0 <= arg_865_1.time_ and arg_865_1.time_ < var_868_0 + var_868_8 then
				arg_865_1.typewritter.percent = (arg_865_1.time_ - var_868_0) / var_868_8

				arg_865_1.typewritter:SetDirty()
			end

			if arg_865_1.time_ >= var_868_0 + var_868_8 and arg_865_1.time_ < var_868_0 + var_868_8 + arg_868_0 then
				arg_865_1.typewritter.percent = 1

				arg_865_1.typewritter:SetDirty()
				arg_865_1:ShowNextGo(true)
			end
		end
	end,
	Play317021216 = function(arg_869_0, arg_869_1)
		arg_869_1.time_ = 0
		arg_869_1.frameCnt_ = 0
		arg_869_1.state_ = "playing"
		arg_869_1.curTalkId_ = 317021216
		arg_869_1.duration_ = 4.23

		local var_869_0 = {
			zh = 2.433,
			ja = 4.233
		}
		local var_869_1 = manager.audio:GetLocalizationFlag()

		if var_869_0[var_869_1] ~= nil then
			arg_869_1.duration_ = var_869_0[var_869_1]
		end

		SetActive(arg_869_1.tipsGo_, false)

		function arg_869_1.onSingleLineFinish_()
			arg_869_1.onSingleLineUpdate_ = nil
			arg_869_1.onSingleLineFinish_ = nil
			arg_869_1.state_ = "waiting"
		end

		function arg_869_1.playNext_(arg_871_0)
			if arg_871_0 == 1 then
				arg_869_0:Play317021217(arg_869_1)
			end
		end

		function arg_869_1.onSingleLineUpdate_(arg_872_0)
			local var_872_0 = arg_869_1.actors_["1093ui_story"].transform
			local var_872_1 = 0

			if var_872_1 < arg_869_1.time_ and arg_869_1.time_ <= var_872_1 + arg_872_0 then
				arg_869_1.var_.moveOldPos1093ui_story = var_872_0.localPosition
			end

			local var_872_2 = 0.001

			if var_872_1 <= arg_869_1.time_ and arg_869_1.time_ < var_872_1 + var_872_2 then
				local var_872_3 = (arg_869_1.time_ - var_872_1) / var_872_2
				local var_872_4 = Vector3.New(0, -1.11, -5.88)

				var_872_0.localPosition = Vector3.Lerp(arg_869_1.var_.moveOldPos1093ui_story, var_872_4, var_872_3)

				local var_872_5 = manager.ui.mainCamera.transform.position - var_872_0.position

				var_872_0.forward = Vector3.New(var_872_5.x, var_872_5.y, var_872_5.z)

				local var_872_6 = var_872_0.localEulerAngles

				var_872_6.z = 0
				var_872_6.x = 0
				var_872_0.localEulerAngles = var_872_6
			end

			if arg_869_1.time_ >= var_872_1 + var_872_2 and arg_869_1.time_ < var_872_1 + var_872_2 + arg_872_0 then
				var_872_0.localPosition = Vector3.New(0, -1.11, -5.88)

				local var_872_7 = manager.ui.mainCamera.transform.position - var_872_0.position

				var_872_0.forward = Vector3.New(var_872_7.x, var_872_7.y, var_872_7.z)

				local var_872_8 = var_872_0.localEulerAngles

				var_872_8.z = 0
				var_872_8.x = 0
				var_872_0.localEulerAngles = var_872_8
			end

			local var_872_9 = arg_869_1.actors_["1093ui_story"]
			local var_872_10 = 0

			if var_872_10 < arg_869_1.time_ and arg_869_1.time_ <= var_872_10 + arg_872_0 and not isNil(var_872_9) and arg_869_1.var_.characterEffect1093ui_story == nil then
				arg_869_1.var_.characterEffect1093ui_story = var_872_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_872_11 = 0.200000002980232

			if var_872_10 <= arg_869_1.time_ and arg_869_1.time_ < var_872_10 + var_872_11 and not isNil(var_872_9) then
				local var_872_12 = (arg_869_1.time_ - var_872_10) / var_872_11

				if arg_869_1.var_.characterEffect1093ui_story and not isNil(var_872_9) then
					arg_869_1.var_.characterEffect1093ui_story.fillFlat = false
				end
			end

			if arg_869_1.time_ >= var_872_10 + var_872_11 and arg_869_1.time_ < var_872_10 + var_872_11 + arg_872_0 and not isNil(var_872_9) and arg_869_1.var_.characterEffect1093ui_story then
				arg_869_1.var_.characterEffect1093ui_story.fillFlat = false
			end

			local var_872_13 = 0

			if var_872_13 < arg_869_1.time_ and arg_869_1.time_ <= var_872_13 + arg_872_0 then
				arg_869_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/1093/1093action/1093action3_1")
			end

			local var_872_14 = 0

			if var_872_14 < arg_869_1.time_ and arg_869_1.time_ <= var_872_14 + arg_872_0 then
				arg_869_1:PlayTimeline("1093ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_872_15 = 0
			local var_872_16 = 0.275

			if var_872_15 < arg_869_1.time_ and arg_869_1.time_ <= var_872_15 + arg_872_0 then
				arg_869_1.talkMaxDuration = 0
				arg_869_1.dialogCg_.alpha = 1

				arg_869_1.dialog_:SetActive(true)
				SetActive(arg_869_1.leftNameGo_, true)

				local var_872_17 = arg_869_1:FormatText(StoryNameCfg[73].name)

				arg_869_1.leftNameTxt_.text = var_872_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_869_1.leftNameTxt_.transform)

				arg_869_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_869_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_869_1:RecordName(arg_869_1.leftNameTxt_.text)
				SetActive(arg_869_1.iconTrs_.gameObject, false)
				arg_869_1.callingController_:SetSelectedState("normal")

				local var_872_18 = arg_869_1:GetWordFromCfg(317021216)
				local var_872_19 = arg_869_1:FormatText(var_872_18.content)

				arg_869_1.text_.text = var_872_19

				LuaForUtil.ClearLinePrefixSymbol(arg_869_1.text_)

				local var_872_20 = 11
				local var_872_21 = utf8.len(var_872_19)
				local var_872_22 = var_872_20 <= 0 and var_872_16 or var_872_16 * (var_872_21 / var_872_20)

				if var_872_22 > 0 and var_872_16 < var_872_22 then
					arg_869_1.talkMaxDuration = var_872_22

					if var_872_22 + var_872_15 > arg_869_1.duration_ then
						arg_869_1.duration_ = var_872_22 + var_872_15
					end
				end

				arg_869_1.text_.text = var_872_19
				arg_869_1.typewritter.percent = 0

				arg_869_1.typewritter:SetDirty()
				arg_869_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021216", "story_v_out_317021.awb") ~= 0 then
					local var_872_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021216", "story_v_out_317021.awb") / 1000

					if var_872_23 + var_872_15 > arg_869_1.duration_ then
						arg_869_1.duration_ = var_872_23 + var_872_15
					end

					if var_872_18.prefab_name ~= "" and arg_869_1.actors_[var_872_18.prefab_name] ~= nil then
						local var_872_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_869_1.actors_[var_872_18.prefab_name].transform, "story_v_out_317021", "317021216", "story_v_out_317021.awb")

						arg_869_1:RecordAudio("317021216", var_872_24)
						arg_869_1:RecordAudio("317021216", var_872_24)
					else
						arg_869_1:AudioAction("play", "voice", "story_v_out_317021", "317021216", "story_v_out_317021.awb")
					end

					arg_869_1:RecordHistoryTalkVoice("story_v_out_317021", "317021216", "story_v_out_317021.awb")
				end

				arg_869_1:RecordContent(arg_869_1.text_.text)
			end

			local var_872_25 = math.max(var_872_16, arg_869_1.talkMaxDuration)

			if var_872_15 <= arg_869_1.time_ and arg_869_1.time_ < var_872_15 + var_872_25 then
				arg_869_1.typewritter.percent = (arg_869_1.time_ - var_872_15) / var_872_25

				arg_869_1.typewritter:SetDirty()
			end

			if arg_869_1.time_ >= var_872_15 + var_872_25 and arg_869_1.time_ < var_872_15 + var_872_25 + arg_872_0 then
				arg_869_1.typewritter.percent = 1

				arg_869_1.typewritter:SetDirty()
				arg_869_1:ShowNextGo(true)
			end
		end
	end,
	Play317021217 = function(arg_873_0, arg_873_1)
		arg_873_1.time_ = 0
		arg_873_1.frameCnt_ = 0
		arg_873_1.state_ = "playing"
		arg_873_1.curTalkId_ = 317021217
		arg_873_1.duration_ = 5

		SetActive(arg_873_1.tipsGo_, false)

		function arg_873_1.onSingleLineFinish_()
			arg_873_1.onSingleLineUpdate_ = nil
			arg_873_1.onSingleLineFinish_ = nil
			arg_873_1.state_ = "waiting"
		end

		function arg_873_1.playNext_(arg_875_0)
			if arg_875_0 == 1 then
				arg_873_0:Play317021218(arg_873_1)
			end
		end

		function arg_873_1.onSingleLineUpdate_(arg_876_0)
			local var_876_0 = arg_873_1.actors_["1093ui_story"]
			local var_876_1 = 0

			if var_876_1 < arg_873_1.time_ and arg_873_1.time_ <= var_876_1 + arg_876_0 and not isNil(var_876_0) and arg_873_1.var_.characterEffect1093ui_story == nil then
				arg_873_1.var_.characterEffect1093ui_story = var_876_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_876_2 = 0.200000002980232

			if var_876_1 <= arg_873_1.time_ and arg_873_1.time_ < var_876_1 + var_876_2 and not isNil(var_876_0) then
				local var_876_3 = (arg_873_1.time_ - var_876_1) / var_876_2

				if arg_873_1.var_.characterEffect1093ui_story and not isNil(var_876_0) then
					local var_876_4 = Mathf.Lerp(0, 0.5, var_876_3)

					arg_873_1.var_.characterEffect1093ui_story.fillFlat = true
					arg_873_1.var_.characterEffect1093ui_story.fillRatio = var_876_4
				end
			end

			if arg_873_1.time_ >= var_876_1 + var_876_2 and arg_873_1.time_ < var_876_1 + var_876_2 + arg_876_0 and not isNil(var_876_0) and arg_873_1.var_.characterEffect1093ui_story then
				local var_876_5 = 0.5

				arg_873_1.var_.characterEffect1093ui_story.fillFlat = true
				arg_873_1.var_.characterEffect1093ui_story.fillRatio = var_876_5
			end

			local var_876_6 = 0
			local var_876_7 = 0.325

			if var_876_6 < arg_873_1.time_ and arg_873_1.time_ <= var_876_6 + arg_876_0 then
				arg_873_1.talkMaxDuration = 0
				arg_873_1.dialogCg_.alpha = 1

				arg_873_1.dialog_:SetActive(true)
				SetActive(arg_873_1.leftNameGo_, true)

				local var_876_8 = arg_873_1:FormatText(StoryNameCfg[7].name)

				arg_873_1.leftNameTxt_.text = var_876_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_873_1.leftNameTxt_.transform)

				arg_873_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_873_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_873_1:RecordName(arg_873_1.leftNameTxt_.text)
				SetActive(arg_873_1.iconTrs_.gameObject, false)
				arg_873_1.callingController_:SetSelectedState("normal")

				local var_876_9 = arg_873_1:GetWordFromCfg(317021217)
				local var_876_10 = arg_873_1:FormatText(var_876_9.content)

				arg_873_1.text_.text = var_876_10

				LuaForUtil.ClearLinePrefixSymbol(arg_873_1.text_)

				local var_876_11 = 13
				local var_876_12 = utf8.len(var_876_10)
				local var_876_13 = var_876_11 <= 0 and var_876_7 or var_876_7 * (var_876_12 / var_876_11)

				if var_876_13 > 0 and var_876_7 < var_876_13 then
					arg_873_1.talkMaxDuration = var_876_13

					if var_876_13 + var_876_6 > arg_873_1.duration_ then
						arg_873_1.duration_ = var_876_13 + var_876_6
					end
				end

				arg_873_1.text_.text = var_876_10
				arg_873_1.typewritter.percent = 0

				arg_873_1.typewritter:SetDirty()
				arg_873_1:ShowNextGo(false)
				arg_873_1:RecordContent(arg_873_1.text_.text)
			end

			local var_876_14 = math.max(var_876_7, arg_873_1.talkMaxDuration)

			if var_876_6 <= arg_873_1.time_ and arg_873_1.time_ < var_876_6 + var_876_14 then
				arg_873_1.typewritter.percent = (arg_873_1.time_ - var_876_6) / var_876_14

				arg_873_1.typewritter:SetDirty()
			end

			if arg_873_1.time_ >= var_876_6 + var_876_14 and arg_873_1.time_ < var_876_6 + var_876_14 + arg_876_0 then
				arg_873_1.typewritter.percent = 1

				arg_873_1.typewritter:SetDirty()
				arg_873_1:ShowNextGo(true)
			end
		end
	end,
	Play317021218 = function(arg_877_0, arg_877_1)
		arg_877_1.time_ = 0
		arg_877_1.frameCnt_ = 0
		arg_877_1.state_ = "playing"
		arg_877_1.curTalkId_ = 317021218
		arg_877_1.duration_ = 9

		SetActive(arg_877_1.tipsGo_, false)

		function arg_877_1.onSingleLineFinish_()
			arg_877_1.onSingleLineUpdate_ = nil
			arg_877_1.onSingleLineFinish_ = nil
			arg_877_1.state_ = "waiting"
		end

		function arg_877_1.playNext_(arg_879_0)
			if arg_879_0 == 1 then
				arg_877_0:Play317021219(arg_877_1)
			end
		end

		function arg_877_1.onSingleLineUpdate_(arg_880_0)
			local var_880_0 = 2

			if var_880_0 < arg_877_1.time_ and arg_877_1.time_ <= var_880_0 + arg_880_0 then
				local var_880_1 = manager.ui.mainCamera.transform.localPosition
				local var_880_2 = Vector3.New(0, 0, 10) + Vector3.New(var_880_1.x, var_880_1.y, 0)
				local var_880_3 = arg_877_1.bgs_.K06f

				var_880_3.transform.localPosition = var_880_2
				var_880_3.transform.localEulerAngles = Vector3(0, 0, 0)

				local var_880_4 = var_880_3:GetComponent("SpriteRenderer")

				if var_880_4 and var_880_4.sprite then
					local var_880_5 = (var_880_3.transform.localPosition - var_880_1).z
					local var_880_6 = manager.ui.mainCameraCom_
					local var_880_7 = 2 * var_880_5 * Mathf.Tan(var_880_6.fieldOfView * 0.5 * Mathf.Deg2Rad)
					local var_880_8 = var_880_7 * var_880_6.aspect
					local var_880_9 = var_880_4.sprite.bounds.size.x
					local var_880_10 = var_880_4.sprite.bounds.size.y
					local var_880_11 = var_880_8 / var_880_9
					local var_880_12 = var_880_7 / var_880_10
					local var_880_13 = var_880_12 < var_880_11 and var_880_11 or var_880_12

					var_880_3.transform.localScale = Vector3.New(var_880_13, var_880_13, 0)
				end

				for iter_880_0, iter_880_1 in pairs(arg_877_1.bgs_) do
					if iter_880_0 ~= "K06f" then
						iter_880_1.transform.localPosition = Vector3.New(0, 100, 0)
					end
				end
			end

			local var_880_14 = 0

			if var_880_14 < arg_877_1.time_ and arg_877_1.time_ <= var_880_14 + arg_880_0 then
				arg_877_1.mask_.enabled = true
				arg_877_1.mask_.raycastTarget = true

				arg_877_1:SetGaussion(false)
			end

			local var_880_15 = 2

			if var_880_14 <= arg_877_1.time_ and arg_877_1.time_ < var_880_14 + var_880_15 then
				local var_880_16 = (arg_877_1.time_ - var_880_14) / var_880_15
				local var_880_17 = Color.New(0, 0, 0)

				var_880_17.a = Mathf.Lerp(0, 1, var_880_16)
				arg_877_1.mask_.color = var_880_17
			end

			if arg_877_1.time_ >= var_880_14 + var_880_15 and arg_877_1.time_ < var_880_14 + var_880_15 + arg_880_0 then
				local var_880_18 = Color.New(0, 0, 0)

				var_880_18.a = 1
				arg_877_1.mask_.color = var_880_18
			end

			local var_880_19 = 2

			if var_880_19 < arg_877_1.time_ and arg_877_1.time_ <= var_880_19 + arg_880_0 then
				arg_877_1.mask_.enabled = true
				arg_877_1.mask_.raycastTarget = true

				arg_877_1:SetGaussion(false)
			end

			local var_880_20 = 2

			if var_880_19 <= arg_877_1.time_ and arg_877_1.time_ < var_880_19 + var_880_20 then
				local var_880_21 = (arg_877_1.time_ - var_880_19) / var_880_20
				local var_880_22 = Color.New(0, 0, 0)

				var_880_22.a = Mathf.Lerp(1, 0, var_880_21)
				arg_877_1.mask_.color = var_880_22
			end

			if arg_877_1.time_ >= var_880_19 + var_880_20 and arg_877_1.time_ < var_880_19 + var_880_20 + arg_880_0 then
				local var_880_23 = Color.New(0, 0, 0)
				local var_880_24 = 0

				arg_877_1.mask_.enabled = false
				var_880_23.a = var_880_24
				arg_877_1.mask_.color = var_880_23
			end

			local var_880_25 = arg_877_1.actors_["1093ui_story"].transform
			local var_880_26 = 2

			if var_880_26 < arg_877_1.time_ and arg_877_1.time_ <= var_880_26 + arg_880_0 then
				arg_877_1.var_.moveOldPos1093ui_story = var_880_25.localPosition
			end

			local var_880_27 = 0.001

			if var_880_26 <= arg_877_1.time_ and arg_877_1.time_ < var_880_26 + var_880_27 then
				local var_880_28 = (arg_877_1.time_ - var_880_26) / var_880_27
				local var_880_29 = Vector3.New(0, 100, 0)

				var_880_25.localPosition = Vector3.Lerp(arg_877_1.var_.moveOldPos1093ui_story, var_880_29, var_880_28)

				local var_880_30 = manager.ui.mainCamera.transform.position - var_880_25.position

				var_880_25.forward = Vector3.New(var_880_30.x, var_880_30.y, var_880_30.z)

				local var_880_31 = var_880_25.localEulerAngles

				var_880_31.z = 0
				var_880_31.x = 0
				var_880_25.localEulerAngles = var_880_31
			end

			if arg_877_1.time_ >= var_880_26 + var_880_27 and arg_877_1.time_ < var_880_26 + var_880_27 + arg_880_0 then
				var_880_25.localPosition = Vector3.New(0, 100, 0)

				local var_880_32 = manager.ui.mainCamera.transform.position - var_880_25.position

				var_880_25.forward = Vector3.New(var_880_32.x, var_880_32.y, var_880_32.z)

				local var_880_33 = var_880_25.localEulerAngles

				var_880_33.z = 0
				var_880_33.x = 0
				var_880_25.localEulerAngles = var_880_33
			end

			if arg_877_1.frameCnt_ <= 1 then
				arg_877_1.dialog_:SetActive(false)
			end

			local var_880_34 = 4
			local var_880_35 = 0.5

			if var_880_34 < arg_877_1.time_ and arg_877_1.time_ <= var_880_34 + arg_880_0 then
				arg_877_1.talkMaxDuration = 0

				arg_877_1.dialog_:SetActive(true)

				local var_880_36 = LeanTween.value(arg_877_1.dialog_, 0, 1, 0.3)

				var_880_36:setOnUpdate(LuaHelper.FloatAction(function(arg_881_0)
					arg_877_1.dialogCg_.alpha = arg_881_0
				end))
				var_880_36:setOnComplete(System.Action(function()
					LeanTween.cancel(arg_877_1.dialog_)
					var_880_36:setOnUpdate(nil):setOnComplete(nil)
				end))

				arg_877_1.duration_ = arg_877_1.duration_ + 0.3

				SetActive(arg_877_1.leftNameGo_, false)

				arg_877_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_877_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_877_1:RecordName(arg_877_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_877_1.iconTrs_.gameObject, false)
				arg_877_1.callingController_:SetSelectedState("normal")

				local var_880_37 = arg_877_1:GetWordFromCfg(317021218)
				local var_880_38 = arg_877_1:FormatText(var_880_37.content)

				arg_877_1.text_.text = var_880_38

				LuaForUtil.ClearLinePrefixSymbol(arg_877_1.text_)

				local var_880_39 = 20
				local var_880_40 = utf8.len(var_880_38)
				local var_880_41 = var_880_39 <= 0 and var_880_35 or var_880_35 * (var_880_40 / var_880_39)

				if var_880_41 > 0 and var_880_35 < var_880_41 then
					arg_877_1.talkMaxDuration = var_880_41
					var_880_34 = var_880_34 + 0.3

					if var_880_41 + var_880_34 > arg_877_1.duration_ then
						arg_877_1.duration_ = var_880_41 + var_880_34
					end
				end

				arg_877_1.text_.text = var_880_38
				arg_877_1.typewritter.percent = 0

				arg_877_1.typewritter:SetDirty()
				arg_877_1:ShowNextGo(false)
				arg_877_1:RecordContent(arg_877_1.text_.text)
			end

			local var_880_42 = var_880_34 + 0.3
			local var_880_43 = math.max(var_880_35, arg_877_1.talkMaxDuration)

			if var_880_42 <= arg_877_1.time_ and arg_877_1.time_ < var_880_42 + var_880_43 then
				arg_877_1.typewritter.percent = (arg_877_1.time_ - var_880_42) / var_880_43

				arg_877_1.typewritter:SetDirty()
			end

			if arg_877_1.time_ >= var_880_42 + var_880_43 and arg_877_1.time_ < var_880_42 + var_880_43 + arg_880_0 then
				arg_877_1.typewritter.percent = 1

				arg_877_1.typewritter:SetDirty()
				arg_877_1:ShowNextGo(true)
			end
		end
	end,
	Play317021219 = function(arg_883_0, arg_883_1)
		arg_883_1.time_ = 0
		arg_883_1.frameCnt_ = 0
		arg_883_1.state_ = "playing"
		arg_883_1.curTalkId_ = 317021219
		arg_883_1.duration_ = 7.33

		local var_883_0 = {
			zh = 7.333,
			ja = 5.3
		}
		local var_883_1 = manager.audio:GetLocalizationFlag()

		if var_883_0[var_883_1] ~= nil then
			arg_883_1.duration_ = var_883_0[var_883_1]
		end

		SetActive(arg_883_1.tipsGo_, false)

		function arg_883_1.onSingleLineFinish_()
			arg_883_1.onSingleLineUpdate_ = nil
			arg_883_1.onSingleLineFinish_ = nil
			arg_883_1.state_ = "waiting"
		end

		function arg_883_1.playNext_(arg_885_0)
			if arg_885_0 == 1 then
				arg_883_0:Play317021220(arg_883_1)
			end
		end

		function arg_883_1.onSingleLineUpdate_(arg_886_0)
			local var_886_0 = arg_883_1.actors_["1055ui_story"].transform
			local var_886_1 = 0

			if var_886_1 < arg_883_1.time_ and arg_883_1.time_ <= var_886_1 + arg_886_0 then
				arg_883_1.var_.moveOldPos1055ui_story = var_886_0.localPosition
			end

			local var_886_2 = 0.001

			if var_886_1 <= arg_883_1.time_ and arg_883_1.time_ < var_886_1 + var_886_2 then
				local var_886_3 = (arg_883_1.time_ - var_886_1) / var_886_2
				local var_886_4 = Vector3.New(0, -0.965, -6.2)

				var_886_0.localPosition = Vector3.Lerp(arg_883_1.var_.moveOldPos1055ui_story, var_886_4, var_886_3)

				local var_886_5 = manager.ui.mainCamera.transform.position - var_886_0.position

				var_886_0.forward = Vector3.New(var_886_5.x, var_886_5.y, var_886_5.z)

				local var_886_6 = var_886_0.localEulerAngles

				var_886_6.z = 0
				var_886_6.x = 0
				var_886_0.localEulerAngles = var_886_6
			end

			if arg_883_1.time_ >= var_886_1 + var_886_2 and arg_883_1.time_ < var_886_1 + var_886_2 + arg_886_0 then
				var_886_0.localPosition = Vector3.New(0, -0.965, -6.2)

				local var_886_7 = manager.ui.mainCamera.transform.position - var_886_0.position

				var_886_0.forward = Vector3.New(var_886_7.x, var_886_7.y, var_886_7.z)

				local var_886_8 = var_886_0.localEulerAngles

				var_886_8.z = 0
				var_886_8.x = 0
				var_886_0.localEulerAngles = var_886_8
			end

			local var_886_9 = arg_883_1.actors_["1055ui_story"]
			local var_886_10 = 0

			if var_886_10 < arg_883_1.time_ and arg_883_1.time_ <= var_886_10 + arg_886_0 and not isNil(var_886_9) and arg_883_1.var_.characterEffect1055ui_story == nil then
				arg_883_1.var_.characterEffect1055ui_story = var_886_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_886_11 = 0.200000002980232

			if var_886_10 <= arg_883_1.time_ and arg_883_1.time_ < var_886_10 + var_886_11 and not isNil(var_886_9) then
				local var_886_12 = (arg_883_1.time_ - var_886_10) / var_886_11

				if arg_883_1.var_.characterEffect1055ui_story and not isNil(var_886_9) then
					arg_883_1.var_.characterEffect1055ui_story.fillFlat = false
				end
			end

			if arg_883_1.time_ >= var_886_10 + var_886_11 and arg_883_1.time_ < var_886_10 + var_886_11 + arg_886_0 and not isNil(var_886_9) and arg_883_1.var_.characterEffect1055ui_story then
				arg_883_1.var_.characterEffect1055ui_story.fillFlat = false
			end

			local var_886_13 = 0

			if var_886_13 < arg_883_1.time_ and arg_883_1.time_ <= var_886_13 + arg_886_0 then
				arg_883_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/story1055/story1055action/1055action1_1")
			end

			local var_886_14 = 0

			if var_886_14 < arg_883_1.time_ and arg_883_1.time_ <= var_886_14 + arg_886_0 then
				arg_883_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_886_15 = 0
			local var_886_16 = 0.725

			if var_886_15 < arg_883_1.time_ and arg_883_1.time_ <= var_886_15 + arg_886_0 then
				arg_883_1.talkMaxDuration = 0
				arg_883_1.dialogCg_.alpha = 1

				arg_883_1.dialog_:SetActive(true)
				SetActive(arg_883_1.leftNameGo_, true)

				local var_886_17 = arg_883_1:FormatText(StoryNameCfg[481].name)

				arg_883_1.leftNameTxt_.text = var_886_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_883_1.leftNameTxt_.transform)

				arg_883_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_883_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_883_1:RecordName(arg_883_1.leftNameTxt_.text)
				SetActive(arg_883_1.iconTrs_.gameObject, false)
				arg_883_1.callingController_:SetSelectedState("normal")

				local var_886_18 = arg_883_1:GetWordFromCfg(317021219)
				local var_886_19 = arg_883_1:FormatText(var_886_18.content)

				arg_883_1.text_.text = var_886_19

				LuaForUtil.ClearLinePrefixSymbol(arg_883_1.text_)

				local var_886_20 = 29
				local var_886_21 = utf8.len(var_886_19)
				local var_886_22 = var_886_20 <= 0 and var_886_16 or var_886_16 * (var_886_21 / var_886_20)

				if var_886_22 > 0 and var_886_16 < var_886_22 then
					arg_883_1.talkMaxDuration = var_886_22

					if var_886_22 + var_886_15 > arg_883_1.duration_ then
						arg_883_1.duration_ = var_886_22 + var_886_15
					end
				end

				arg_883_1.text_.text = var_886_19
				arg_883_1.typewritter.percent = 0

				arg_883_1.typewritter:SetDirty()
				arg_883_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021219", "story_v_out_317021.awb") ~= 0 then
					local var_886_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021219", "story_v_out_317021.awb") / 1000

					if var_886_23 + var_886_15 > arg_883_1.duration_ then
						arg_883_1.duration_ = var_886_23 + var_886_15
					end

					if var_886_18.prefab_name ~= "" and arg_883_1.actors_[var_886_18.prefab_name] ~= nil then
						local var_886_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_883_1.actors_[var_886_18.prefab_name].transform, "story_v_out_317021", "317021219", "story_v_out_317021.awb")

						arg_883_1:RecordAudio("317021219", var_886_24)
						arg_883_1:RecordAudio("317021219", var_886_24)
					else
						arg_883_1:AudioAction("play", "voice", "story_v_out_317021", "317021219", "story_v_out_317021.awb")
					end

					arg_883_1:RecordHistoryTalkVoice("story_v_out_317021", "317021219", "story_v_out_317021.awb")
				end

				arg_883_1:RecordContent(arg_883_1.text_.text)
			end

			local var_886_25 = math.max(var_886_16, arg_883_1.talkMaxDuration)

			if var_886_15 <= arg_883_1.time_ and arg_883_1.time_ < var_886_15 + var_886_25 then
				arg_883_1.typewritter.percent = (arg_883_1.time_ - var_886_15) / var_886_25

				arg_883_1.typewritter:SetDirty()
			end

			if arg_883_1.time_ >= var_886_15 + var_886_25 and arg_883_1.time_ < var_886_15 + var_886_25 + arg_886_0 then
				arg_883_1.typewritter.percent = 1

				arg_883_1.typewritter:SetDirty()
				arg_883_1:ShowNextGo(true)
			end
		end
	end,
	Play317021220 = function(arg_887_0, arg_887_1)
		arg_887_1.time_ = 0
		arg_887_1.frameCnt_ = 0
		arg_887_1.state_ = "playing"
		arg_887_1.curTalkId_ = 317021220
		arg_887_1.duration_ = 5

		SetActive(arg_887_1.tipsGo_, false)

		function arg_887_1.onSingleLineFinish_()
			arg_887_1.onSingleLineUpdate_ = nil
			arg_887_1.onSingleLineFinish_ = nil
			arg_887_1.state_ = "waiting"
		end

		function arg_887_1.playNext_(arg_889_0)
			if arg_889_0 == 1 then
				arg_887_0:Play317021221(arg_887_1)
			end
		end

		function arg_887_1.onSingleLineUpdate_(arg_890_0)
			local var_890_0 = arg_887_1.actors_["1055ui_story"]
			local var_890_1 = 0

			if var_890_1 < arg_887_1.time_ and arg_887_1.time_ <= var_890_1 + arg_890_0 and not isNil(var_890_0) and arg_887_1.var_.characterEffect1055ui_story == nil then
				arg_887_1.var_.characterEffect1055ui_story = var_890_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_890_2 = 0.200000002980232

			if var_890_1 <= arg_887_1.time_ and arg_887_1.time_ < var_890_1 + var_890_2 and not isNil(var_890_0) then
				local var_890_3 = (arg_887_1.time_ - var_890_1) / var_890_2

				if arg_887_1.var_.characterEffect1055ui_story and not isNil(var_890_0) then
					local var_890_4 = Mathf.Lerp(0, 0.5, var_890_3)

					arg_887_1.var_.characterEffect1055ui_story.fillFlat = true
					arg_887_1.var_.characterEffect1055ui_story.fillRatio = var_890_4
				end
			end

			if arg_887_1.time_ >= var_890_1 + var_890_2 and arg_887_1.time_ < var_890_1 + var_890_2 + arg_890_0 and not isNil(var_890_0) and arg_887_1.var_.characterEffect1055ui_story then
				local var_890_5 = 0.5

				arg_887_1.var_.characterEffect1055ui_story.fillFlat = true
				arg_887_1.var_.characterEffect1055ui_story.fillRatio = var_890_5
			end

			local var_890_6 = 0
			local var_890_7 = 0.175

			if var_890_6 < arg_887_1.time_ and arg_887_1.time_ <= var_890_6 + arg_890_0 then
				arg_887_1.talkMaxDuration = 0
				arg_887_1.dialogCg_.alpha = 1

				arg_887_1.dialog_:SetActive(true)
				SetActive(arg_887_1.leftNameGo_, true)

				local var_890_8 = arg_887_1:FormatText(StoryNameCfg[7].name)

				arg_887_1.leftNameTxt_.text = var_890_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_887_1.leftNameTxt_.transform)

				arg_887_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_887_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_887_1:RecordName(arg_887_1.leftNameTxt_.text)
				SetActive(arg_887_1.iconTrs_.gameObject, false)
				arg_887_1.callingController_:SetSelectedState("normal")

				local var_890_9 = arg_887_1:GetWordFromCfg(317021220)
				local var_890_10 = arg_887_1:FormatText(var_890_9.content)

				arg_887_1.text_.text = var_890_10

				LuaForUtil.ClearLinePrefixSymbol(arg_887_1.text_)

				local var_890_11 = 7
				local var_890_12 = utf8.len(var_890_10)
				local var_890_13 = var_890_11 <= 0 and var_890_7 or var_890_7 * (var_890_12 / var_890_11)

				if var_890_13 > 0 and var_890_7 < var_890_13 then
					arg_887_1.talkMaxDuration = var_890_13

					if var_890_13 + var_890_6 > arg_887_1.duration_ then
						arg_887_1.duration_ = var_890_13 + var_890_6
					end
				end

				arg_887_1.text_.text = var_890_10
				arg_887_1.typewritter.percent = 0

				arg_887_1.typewritter:SetDirty()
				arg_887_1:ShowNextGo(false)
				arg_887_1:RecordContent(arg_887_1.text_.text)
			end

			local var_890_14 = math.max(var_890_7, arg_887_1.talkMaxDuration)

			if var_890_6 <= arg_887_1.time_ and arg_887_1.time_ < var_890_6 + var_890_14 then
				arg_887_1.typewritter.percent = (arg_887_1.time_ - var_890_6) / var_890_14

				arg_887_1.typewritter:SetDirty()
			end

			if arg_887_1.time_ >= var_890_6 + var_890_14 and arg_887_1.time_ < var_890_6 + var_890_14 + arg_890_0 then
				arg_887_1.typewritter.percent = 1

				arg_887_1.typewritter:SetDirty()
				arg_887_1:ShowNextGo(true)
			end
		end
	end,
	Play317021221 = function(arg_891_0, arg_891_1)
		arg_891_1.time_ = 0
		arg_891_1.frameCnt_ = 0
		arg_891_1.state_ = "playing"
		arg_891_1.curTalkId_ = 317021221
		arg_891_1.duration_ = 2.47

		local var_891_0 = {
			zh = 2.466,
			ja = 1.999999999999
		}
		local var_891_1 = manager.audio:GetLocalizationFlag()

		if var_891_0[var_891_1] ~= nil then
			arg_891_1.duration_ = var_891_0[var_891_1]
		end

		SetActive(arg_891_1.tipsGo_, false)

		function arg_891_1.onSingleLineFinish_()
			arg_891_1.onSingleLineUpdate_ = nil
			arg_891_1.onSingleLineFinish_ = nil
			arg_891_1.state_ = "waiting"
		end

		function arg_891_1.playNext_(arg_893_0)
			if arg_893_0 == 1 then
				arg_891_0:Play317021222(arg_891_1)
			end
		end

		function arg_891_1.onSingleLineUpdate_(arg_894_0)
			local var_894_0 = arg_891_1.actors_["1055ui_story"].transform
			local var_894_1 = 0

			if var_894_1 < arg_891_1.time_ and arg_891_1.time_ <= var_894_1 + arg_894_0 then
				arg_891_1.var_.moveOldPos1055ui_story = var_894_0.localPosition
			end

			local var_894_2 = 0.001

			if var_894_1 <= arg_891_1.time_ and arg_891_1.time_ < var_894_1 + var_894_2 then
				local var_894_3 = (arg_891_1.time_ - var_894_1) / var_894_2
				local var_894_4 = Vector3.New(0, -0.965, -6.2)

				var_894_0.localPosition = Vector3.Lerp(arg_891_1.var_.moveOldPos1055ui_story, var_894_4, var_894_3)

				local var_894_5 = manager.ui.mainCamera.transform.position - var_894_0.position

				var_894_0.forward = Vector3.New(var_894_5.x, var_894_5.y, var_894_5.z)

				local var_894_6 = var_894_0.localEulerAngles

				var_894_6.z = 0
				var_894_6.x = 0
				var_894_0.localEulerAngles = var_894_6
			end

			if arg_891_1.time_ >= var_894_1 + var_894_2 and arg_891_1.time_ < var_894_1 + var_894_2 + arg_894_0 then
				var_894_0.localPosition = Vector3.New(0, -0.965, -6.2)

				local var_894_7 = manager.ui.mainCamera.transform.position - var_894_0.position

				var_894_0.forward = Vector3.New(var_894_7.x, var_894_7.y, var_894_7.z)

				local var_894_8 = var_894_0.localEulerAngles

				var_894_8.z = 0
				var_894_8.x = 0
				var_894_0.localEulerAngles = var_894_8
			end

			local var_894_9 = arg_891_1.actors_["1055ui_story"]
			local var_894_10 = 0

			if var_894_10 < arg_891_1.time_ and arg_891_1.time_ <= var_894_10 + arg_894_0 and not isNil(var_894_9) and arg_891_1.var_.characterEffect1055ui_story == nil then
				arg_891_1.var_.characterEffect1055ui_story = var_894_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_894_11 = 0.200000002980232

			if var_894_10 <= arg_891_1.time_ and arg_891_1.time_ < var_894_10 + var_894_11 and not isNil(var_894_9) then
				local var_894_12 = (arg_891_1.time_ - var_894_10) / var_894_11

				if arg_891_1.var_.characterEffect1055ui_story and not isNil(var_894_9) then
					arg_891_1.var_.characterEffect1055ui_story.fillFlat = false
				end
			end

			if arg_891_1.time_ >= var_894_10 + var_894_11 and arg_891_1.time_ < var_894_10 + var_894_11 + arg_894_0 and not isNil(var_894_9) and arg_891_1.var_.characterEffect1055ui_story then
				arg_891_1.var_.characterEffect1055ui_story.fillFlat = false
			end

			local var_894_13 = 0

			if var_894_13 < arg_891_1.time_ and arg_891_1.time_ <= var_894_13 + arg_894_0 then
				arg_891_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/story1055/story1055action/1055action5_1")
			end

			local var_894_14 = 0

			if var_894_14 < arg_891_1.time_ and arg_891_1.time_ <= var_894_14 + arg_894_0 then
				arg_891_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_894_15 = 0
			local var_894_16 = 0.2

			if var_894_15 < arg_891_1.time_ and arg_891_1.time_ <= var_894_15 + arg_894_0 then
				arg_891_1.talkMaxDuration = 0
				arg_891_1.dialogCg_.alpha = 1

				arg_891_1.dialog_:SetActive(true)
				SetActive(arg_891_1.leftNameGo_, true)

				local var_894_17 = arg_891_1:FormatText(StoryNameCfg[481].name)

				arg_891_1.leftNameTxt_.text = var_894_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_891_1.leftNameTxt_.transform)

				arg_891_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_891_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_891_1:RecordName(arg_891_1.leftNameTxt_.text)
				SetActive(arg_891_1.iconTrs_.gameObject, false)
				arg_891_1.callingController_:SetSelectedState("normal")

				local var_894_18 = arg_891_1:GetWordFromCfg(317021221)
				local var_894_19 = arg_891_1:FormatText(var_894_18.content)

				arg_891_1.text_.text = var_894_19

				LuaForUtil.ClearLinePrefixSymbol(arg_891_1.text_)

				local var_894_20 = 8
				local var_894_21 = utf8.len(var_894_19)
				local var_894_22 = var_894_20 <= 0 and var_894_16 or var_894_16 * (var_894_21 / var_894_20)

				if var_894_22 > 0 and var_894_16 < var_894_22 then
					arg_891_1.talkMaxDuration = var_894_22

					if var_894_22 + var_894_15 > arg_891_1.duration_ then
						arg_891_1.duration_ = var_894_22 + var_894_15
					end
				end

				arg_891_1.text_.text = var_894_19
				arg_891_1.typewritter.percent = 0

				arg_891_1.typewritter:SetDirty()
				arg_891_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021221", "story_v_out_317021.awb") ~= 0 then
					local var_894_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021221", "story_v_out_317021.awb") / 1000

					if var_894_23 + var_894_15 > arg_891_1.duration_ then
						arg_891_1.duration_ = var_894_23 + var_894_15
					end

					if var_894_18.prefab_name ~= "" and arg_891_1.actors_[var_894_18.prefab_name] ~= nil then
						local var_894_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_891_1.actors_[var_894_18.prefab_name].transform, "story_v_out_317021", "317021221", "story_v_out_317021.awb")

						arg_891_1:RecordAudio("317021221", var_894_24)
						arg_891_1:RecordAudio("317021221", var_894_24)
					else
						arg_891_1:AudioAction("play", "voice", "story_v_out_317021", "317021221", "story_v_out_317021.awb")
					end

					arg_891_1:RecordHistoryTalkVoice("story_v_out_317021", "317021221", "story_v_out_317021.awb")
				end

				arg_891_1:RecordContent(arg_891_1.text_.text)
			end

			local var_894_25 = math.max(var_894_16, arg_891_1.talkMaxDuration)

			if var_894_15 <= arg_891_1.time_ and arg_891_1.time_ < var_894_15 + var_894_25 then
				arg_891_1.typewritter.percent = (arg_891_1.time_ - var_894_15) / var_894_25

				arg_891_1.typewritter:SetDirty()
			end

			if arg_891_1.time_ >= var_894_15 + var_894_25 and arg_891_1.time_ < var_894_15 + var_894_25 + arg_894_0 then
				arg_891_1.typewritter.percent = 1

				arg_891_1.typewritter:SetDirty()
				arg_891_1:ShowNextGo(true)
			end
		end
	end,
	Play317021222 = function(arg_895_0, arg_895_1)
		arg_895_1.time_ = 0
		arg_895_1.frameCnt_ = 0
		arg_895_1.state_ = "playing"
		arg_895_1.curTalkId_ = 317021222
		arg_895_1.duration_ = 5

		SetActive(arg_895_1.tipsGo_, false)

		function arg_895_1.onSingleLineFinish_()
			arg_895_1.onSingleLineUpdate_ = nil
			arg_895_1.onSingleLineFinish_ = nil
			arg_895_1.state_ = "waiting"
		end

		function arg_895_1.playNext_(arg_897_0)
			if arg_897_0 == 1 then
				arg_895_0:Play317021223(arg_895_1)
			end
		end

		function arg_895_1.onSingleLineUpdate_(arg_898_0)
			local var_898_0 = arg_895_1.actors_["1055ui_story"]
			local var_898_1 = 0

			if var_898_1 < arg_895_1.time_ and arg_895_1.time_ <= var_898_1 + arg_898_0 and not isNil(var_898_0) and arg_895_1.var_.characterEffect1055ui_story == nil then
				arg_895_1.var_.characterEffect1055ui_story = var_898_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_898_2 = 0.200000002980232

			if var_898_1 <= arg_895_1.time_ and arg_895_1.time_ < var_898_1 + var_898_2 and not isNil(var_898_0) then
				local var_898_3 = (arg_895_1.time_ - var_898_1) / var_898_2

				if arg_895_1.var_.characterEffect1055ui_story and not isNil(var_898_0) then
					local var_898_4 = Mathf.Lerp(0, 0.5, var_898_3)

					arg_895_1.var_.characterEffect1055ui_story.fillFlat = true
					arg_895_1.var_.characterEffect1055ui_story.fillRatio = var_898_4
				end
			end

			if arg_895_1.time_ >= var_898_1 + var_898_2 and arg_895_1.time_ < var_898_1 + var_898_2 + arg_898_0 and not isNil(var_898_0) and arg_895_1.var_.characterEffect1055ui_story then
				local var_898_5 = 0.5

				arg_895_1.var_.characterEffect1055ui_story.fillFlat = true
				arg_895_1.var_.characterEffect1055ui_story.fillRatio = var_898_5
			end

			local var_898_6 = 0
			local var_898_7 = 0.525

			if var_898_6 < arg_895_1.time_ and arg_895_1.time_ <= var_898_6 + arg_898_0 then
				arg_895_1.talkMaxDuration = 0
				arg_895_1.dialogCg_.alpha = 1

				arg_895_1.dialog_:SetActive(true)
				SetActive(arg_895_1.leftNameGo_, false)

				arg_895_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_895_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_895_1:RecordName(arg_895_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_895_1.iconTrs_.gameObject, false)
				arg_895_1.callingController_:SetSelectedState("normal")

				local var_898_8 = arg_895_1:GetWordFromCfg(317021222)
				local var_898_9 = arg_895_1:FormatText(var_898_8.content)

				arg_895_1.text_.text = var_898_9

				LuaForUtil.ClearLinePrefixSymbol(arg_895_1.text_)

				local var_898_10 = 21
				local var_898_11 = utf8.len(var_898_9)
				local var_898_12 = var_898_10 <= 0 and var_898_7 or var_898_7 * (var_898_11 / var_898_10)

				if var_898_12 > 0 and var_898_7 < var_898_12 then
					arg_895_1.talkMaxDuration = var_898_12

					if var_898_12 + var_898_6 > arg_895_1.duration_ then
						arg_895_1.duration_ = var_898_12 + var_898_6
					end
				end

				arg_895_1.text_.text = var_898_9
				arg_895_1.typewritter.percent = 0

				arg_895_1.typewritter:SetDirty()
				arg_895_1:ShowNextGo(false)
				arg_895_1:RecordContent(arg_895_1.text_.text)
			end

			local var_898_13 = math.max(var_898_7, arg_895_1.talkMaxDuration)

			if var_898_6 <= arg_895_1.time_ and arg_895_1.time_ < var_898_6 + var_898_13 then
				arg_895_1.typewritter.percent = (arg_895_1.time_ - var_898_6) / var_898_13

				arg_895_1.typewritter:SetDirty()
			end

			if arg_895_1.time_ >= var_898_6 + var_898_13 and arg_895_1.time_ < var_898_6 + var_898_13 + arg_898_0 then
				arg_895_1.typewritter.percent = 1

				arg_895_1.typewritter:SetDirty()
				arg_895_1:ShowNextGo(true)
			end
		end
	end,
	Play317021223 = function(arg_899_0, arg_899_1)
		arg_899_1.time_ = 0
		arg_899_1.frameCnt_ = 0
		arg_899_1.state_ = "playing"
		arg_899_1.curTalkId_ = 317021223
		arg_899_1.duration_ = 5

		SetActive(arg_899_1.tipsGo_, false)

		function arg_899_1.onSingleLineFinish_()
			arg_899_1.onSingleLineUpdate_ = nil
			arg_899_1.onSingleLineFinish_ = nil
			arg_899_1.state_ = "waiting"
		end

		function arg_899_1.playNext_(arg_901_0)
			if arg_901_0 == 1 then
				arg_899_0:Play317021224(arg_899_1)
			end
		end

		function arg_899_1.onSingleLineUpdate_(arg_902_0)
			local var_902_0 = 0
			local var_902_1 = 1.275

			if var_902_0 < arg_899_1.time_ and arg_899_1.time_ <= var_902_0 + arg_902_0 then
				arg_899_1.talkMaxDuration = 0
				arg_899_1.dialogCg_.alpha = 1

				arg_899_1.dialog_:SetActive(true)
				SetActive(arg_899_1.leftNameGo_, true)

				local var_902_2 = arg_899_1:FormatText(StoryNameCfg[7].name)

				arg_899_1.leftNameTxt_.text = var_902_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_899_1.leftNameTxt_.transform)

				arg_899_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_899_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_899_1:RecordName(arg_899_1.leftNameTxt_.text)
				SetActive(arg_899_1.iconTrs_.gameObject, false)
				arg_899_1.callingController_:SetSelectedState("normal")

				local var_902_3 = arg_899_1:GetWordFromCfg(317021223)
				local var_902_4 = arg_899_1:FormatText(var_902_3.content)

				arg_899_1.text_.text = var_902_4

				LuaForUtil.ClearLinePrefixSymbol(arg_899_1.text_)

				local var_902_5 = 51
				local var_902_6 = utf8.len(var_902_4)
				local var_902_7 = var_902_5 <= 0 and var_902_1 or var_902_1 * (var_902_6 / var_902_5)

				if var_902_7 > 0 and var_902_1 < var_902_7 then
					arg_899_1.talkMaxDuration = var_902_7

					if var_902_7 + var_902_0 > arg_899_1.duration_ then
						arg_899_1.duration_ = var_902_7 + var_902_0
					end
				end

				arg_899_1.text_.text = var_902_4
				arg_899_1.typewritter.percent = 0

				arg_899_1.typewritter:SetDirty()
				arg_899_1:ShowNextGo(false)
				arg_899_1:RecordContent(arg_899_1.text_.text)
			end

			local var_902_8 = math.max(var_902_1, arg_899_1.talkMaxDuration)

			if var_902_0 <= arg_899_1.time_ and arg_899_1.time_ < var_902_0 + var_902_8 then
				arg_899_1.typewritter.percent = (arg_899_1.time_ - var_902_0) / var_902_8

				arg_899_1.typewritter:SetDirty()
			end

			if arg_899_1.time_ >= var_902_0 + var_902_8 and arg_899_1.time_ < var_902_0 + var_902_8 + arg_902_0 then
				arg_899_1.typewritter.percent = 1

				arg_899_1.typewritter:SetDirty()
				arg_899_1:ShowNextGo(true)
			end
		end
	end,
	Play317021224 = function(arg_903_0, arg_903_1)
		arg_903_1.time_ = 0
		arg_903_1.frameCnt_ = 0
		arg_903_1.state_ = "playing"
		arg_903_1.curTalkId_ = 317021224
		arg_903_1.duration_ = 3.9

		local var_903_0 = {
			zh = 2.833,
			ja = 3.9
		}
		local var_903_1 = manager.audio:GetLocalizationFlag()

		if var_903_0[var_903_1] ~= nil then
			arg_903_1.duration_ = var_903_0[var_903_1]
		end

		SetActive(arg_903_1.tipsGo_, false)

		function arg_903_1.onSingleLineFinish_()
			arg_903_1.onSingleLineUpdate_ = nil
			arg_903_1.onSingleLineFinish_ = nil
			arg_903_1.state_ = "waiting"
		end

		function arg_903_1.playNext_(arg_905_0)
			if arg_905_0 == 1 then
				arg_903_0:Play317021225(arg_903_1)
			end
		end

		function arg_903_1.onSingleLineUpdate_(arg_906_0)
			local var_906_0 = arg_903_1.actors_["1055ui_story"].transform
			local var_906_1 = 0

			if var_906_1 < arg_903_1.time_ and arg_903_1.time_ <= var_906_1 + arg_906_0 then
				arg_903_1.var_.moveOldPos1055ui_story = var_906_0.localPosition
			end

			local var_906_2 = 0.001

			if var_906_1 <= arg_903_1.time_ and arg_903_1.time_ < var_906_1 + var_906_2 then
				local var_906_3 = (arg_903_1.time_ - var_906_1) / var_906_2
				local var_906_4 = Vector3.New(0, -0.965, -6.2)

				var_906_0.localPosition = Vector3.Lerp(arg_903_1.var_.moveOldPos1055ui_story, var_906_4, var_906_3)

				local var_906_5 = manager.ui.mainCamera.transform.position - var_906_0.position

				var_906_0.forward = Vector3.New(var_906_5.x, var_906_5.y, var_906_5.z)

				local var_906_6 = var_906_0.localEulerAngles

				var_906_6.z = 0
				var_906_6.x = 0
				var_906_0.localEulerAngles = var_906_6
			end

			if arg_903_1.time_ >= var_906_1 + var_906_2 and arg_903_1.time_ < var_906_1 + var_906_2 + arg_906_0 then
				var_906_0.localPosition = Vector3.New(0, -0.965, -6.2)

				local var_906_7 = manager.ui.mainCamera.transform.position - var_906_0.position

				var_906_0.forward = Vector3.New(var_906_7.x, var_906_7.y, var_906_7.z)

				local var_906_8 = var_906_0.localEulerAngles

				var_906_8.z = 0
				var_906_8.x = 0
				var_906_0.localEulerAngles = var_906_8
			end

			local var_906_9 = arg_903_1.actors_["1055ui_story"]
			local var_906_10 = 0

			if var_906_10 < arg_903_1.time_ and arg_903_1.time_ <= var_906_10 + arg_906_0 and not isNil(var_906_9) and arg_903_1.var_.characterEffect1055ui_story == nil then
				arg_903_1.var_.characterEffect1055ui_story = var_906_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_906_11 = 0.200000002980232

			if var_906_10 <= arg_903_1.time_ and arg_903_1.time_ < var_906_10 + var_906_11 and not isNil(var_906_9) then
				local var_906_12 = (arg_903_1.time_ - var_906_10) / var_906_11

				if arg_903_1.var_.characterEffect1055ui_story and not isNil(var_906_9) then
					arg_903_1.var_.characterEffect1055ui_story.fillFlat = false
				end
			end

			if arg_903_1.time_ >= var_906_10 + var_906_11 and arg_903_1.time_ < var_906_10 + var_906_11 + arg_906_0 and not isNil(var_906_9) and arg_903_1.var_.characterEffect1055ui_story then
				arg_903_1.var_.characterEffect1055ui_story.fillFlat = false
			end

			local var_906_13 = 0

			if var_906_13 < arg_903_1.time_ and arg_903_1.time_ <= var_906_13 + arg_906_0 then
				arg_903_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/story1055/story1055action/1055action5_2")
			end

			local var_906_14 = 0

			if var_906_14 < arg_903_1.time_ and arg_903_1.time_ <= var_906_14 + arg_906_0 then
				arg_903_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface1102cva")
			end

			local var_906_15 = 0
			local var_906_16 = 0.25

			if var_906_15 < arg_903_1.time_ and arg_903_1.time_ <= var_906_15 + arg_906_0 then
				arg_903_1.talkMaxDuration = 0
				arg_903_1.dialogCg_.alpha = 1

				arg_903_1.dialog_:SetActive(true)
				SetActive(arg_903_1.leftNameGo_, true)

				local var_906_17 = arg_903_1:FormatText(StoryNameCfg[481].name)

				arg_903_1.leftNameTxt_.text = var_906_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_903_1.leftNameTxt_.transform)

				arg_903_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_903_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_903_1:RecordName(arg_903_1.leftNameTxt_.text)
				SetActive(arg_903_1.iconTrs_.gameObject, false)
				arg_903_1.callingController_:SetSelectedState("normal")

				local var_906_18 = arg_903_1:GetWordFromCfg(317021224)
				local var_906_19 = arg_903_1:FormatText(var_906_18.content)

				arg_903_1.text_.text = var_906_19

				LuaForUtil.ClearLinePrefixSymbol(arg_903_1.text_)

				local var_906_20 = 10
				local var_906_21 = utf8.len(var_906_19)
				local var_906_22 = var_906_20 <= 0 and var_906_16 or var_906_16 * (var_906_21 / var_906_20)

				if var_906_22 > 0 and var_906_16 < var_906_22 then
					arg_903_1.talkMaxDuration = var_906_22

					if var_906_22 + var_906_15 > arg_903_1.duration_ then
						arg_903_1.duration_ = var_906_22 + var_906_15
					end
				end

				arg_903_1.text_.text = var_906_19
				arg_903_1.typewritter.percent = 0

				arg_903_1.typewritter:SetDirty()
				arg_903_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021224", "story_v_out_317021.awb") ~= 0 then
					local var_906_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021224", "story_v_out_317021.awb") / 1000

					if var_906_23 + var_906_15 > arg_903_1.duration_ then
						arg_903_1.duration_ = var_906_23 + var_906_15
					end

					if var_906_18.prefab_name ~= "" and arg_903_1.actors_[var_906_18.prefab_name] ~= nil then
						local var_906_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_903_1.actors_[var_906_18.prefab_name].transform, "story_v_out_317021", "317021224", "story_v_out_317021.awb")

						arg_903_1:RecordAudio("317021224", var_906_24)
						arg_903_1:RecordAudio("317021224", var_906_24)
					else
						arg_903_1:AudioAction("play", "voice", "story_v_out_317021", "317021224", "story_v_out_317021.awb")
					end

					arg_903_1:RecordHistoryTalkVoice("story_v_out_317021", "317021224", "story_v_out_317021.awb")
				end

				arg_903_1:RecordContent(arg_903_1.text_.text)
			end

			local var_906_25 = math.max(var_906_16, arg_903_1.talkMaxDuration)

			if var_906_15 <= arg_903_1.time_ and arg_903_1.time_ < var_906_15 + var_906_25 then
				arg_903_1.typewritter.percent = (arg_903_1.time_ - var_906_15) / var_906_25

				arg_903_1.typewritter:SetDirty()
			end

			if arg_903_1.time_ >= var_906_15 + var_906_25 and arg_903_1.time_ < var_906_15 + var_906_25 + arg_906_0 then
				arg_903_1.typewritter.percent = 1

				arg_903_1.typewritter:SetDirty()
				arg_903_1:ShowNextGo(true)
			end
		end
	end,
	Play317021225 = function(arg_907_0, arg_907_1)
		arg_907_1.time_ = 0
		arg_907_1.frameCnt_ = 0
		arg_907_1.state_ = "playing"
		arg_907_1.curTalkId_ = 317021225
		arg_907_1.duration_ = 5

		SetActive(arg_907_1.tipsGo_, false)

		function arg_907_1.onSingleLineFinish_()
			arg_907_1.onSingleLineUpdate_ = nil
			arg_907_1.onSingleLineFinish_ = nil
			arg_907_1.state_ = "waiting"
		end

		function arg_907_1.playNext_(arg_909_0)
			if arg_909_0 == 1 then
				arg_907_0:Play317021226(arg_907_1)
			end
		end

		function arg_907_1.onSingleLineUpdate_(arg_910_0)
			local var_910_0 = arg_907_1.actors_["1055ui_story"]
			local var_910_1 = 0

			if var_910_1 < arg_907_1.time_ and arg_907_1.time_ <= var_910_1 + arg_910_0 and not isNil(var_910_0) and arg_907_1.var_.characterEffect1055ui_story == nil then
				arg_907_1.var_.characterEffect1055ui_story = var_910_0:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_910_2 = 0.200000002980232

			if var_910_1 <= arg_907_1.time_ and arg_907_1.time_ < var_910_1 + var_910_2 and not isNil(var_910_0) then
				local var_910_3 = (arg_907_1.time_ - var_910_1) / var_910_2

				if arg_907_1.var_.characterEffect1055ui_story and not isNil(var_910_0) then
					local var_910_4 = Mathf.Lerp(0, 0.5, var_910_3)

					arg_907_1.var_.characterEffect1055ui_story.fillFlat = true
					arg_907_1.var_.characterEffect1055ui_story.fillRatio = var_910_4
				end
			end

			if arg_907_1.time_ >= var_910_1 + var_910_2 and arg_907_1.time_ < var_910_1 + var_910_2 + arg_910_0 and not isNil(var_910_0) and arg_907_1.var_.characterEffect1055ui_story then
				local var_910_5 = 0.5

				arg_907_1.var_.characterEffect1055ui_story.fillFlat = true
				arg_907_1.var_.characterEffect1055ui_story.fillRatio = var_910_5
			end

			local var_910_6 = 0
			local var_910_7 = 0.2

			if var_910_6 < arg_907_1.time_ and arg_907_1.time_ <= var_910_6 + arg_910_0 then
				arg_907_1.talkMaxDuration = 0
				arg_907_1.dialogCg_.alpha = 1

				arg_907_1.dialog_:SetActive(true)
				SetActive(arg_907_1.leftNameGo_, true)

				local var_910_8 = arg_907_1:FormatText(StoryNameCfg[7].name)

				arg_907_1.leftNameTxt_.text = var_910_8

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_907_1.leftNameTxt_.transform)

				arg_907_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_907_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_907_1:RecordName(arg_907_1.leftNameTxt_.text)
				SetActive(arg_907_1.iconTrs_.gameObject, false)
				arg_907_1.callingController_:SetSelectedState("normal")

				local var_910_9 = arg_907_1:GetWordFromCfg(317021225)
				local var_910_10 = arg_907_1:FormatText(var_910_9.content)

				arg_907_1.text_.text = var_910_10

				LuaForUtil.ClearLinePrefixSymbol(arg_907_1.text_)

				local var_910_11 = 8
				local var_910_12 = utf8.len(var_910_10)
				local var_910_13 = var_910_11 <= 0 and var_910_7 or var_910_7 * (var_910_12 / var_910_11)

				if var_910_13 > 0 and var_910_7 < var_910_13 then
					arg_907_1.talkMaxDuration = var_910_13

					if var_910_13 + var_910_6 > arg_907_1.duration_ then
						arg_907_1.duration_ = var_910_13 + var_910_6
					end
				end

				arg_907_1.text_.text = var_910_10
				arg_907_1.typewritter.percent = 0

				arg_907_1.typewritter:SetDirty()
				arg_907_1:ShowNextGo(false)
				arg_907_1:RecordContent(arg_907_1.text_.text)
			end

			local var_910_14 = math.max(var_910_7, arg_907_1.talkMaxDuration)

			if var_910_6 <= arg_907_1.time_ and arg_907_1.time_ < var_910_6 + var_910_14 then
				arg_907_1.typewritter.percent = (arg_907_1.time_ - var_910_6) / var_910_14

				arg_907_1.typewritter:SetDirty()
			end

			if arg_907_1.time_ >= var_910_6 + var_910_14 and arg_907_1.time_ < var_910_6 + var_910_14 + arg_910_0 then
				arg_907_1.typewritter.percent = 1

				arg_907_1.typewritter:SetDirty()
				arg_907_1:ShowNextGo(true)
			end
		end
	end,
	Play317021226 = function(arg_911_0, arg_911_1)
		arg_911_1.time_ = 0
		arg_911_1.frameCnt_ = 0
		arg_911_1.state_ = "playing"
		arg_911_1.curTalkId_ = 317021226
		arg_911_1.duration_ = 5

		SetActive(arg_911_1.tipsGo_, false)

		function arg_911_1.onSingleLineFinish_()
			arg_911_1.onSingleLineUpdate_ = nil
			arg_911_1.onSingleLineFinish_ = nil
			arg_911_1.state_ = "waiting"
		end

		function arg_911_1.playNext_(arg_913_0)
			if arg_913_0 == 1 then
				arg_911_0:Play317021227(arg_911_1)
			end
		end

		function arg_911_1.onSingleLineUpdate_(arg_914_0)
			local var_914_0 = arg_911_1.actors_["1055ui_story"].transform
			local var_914_1 = 0

			if var_914_1 < arg_911_1.time_ and arg_911_1.time_ <= var_914_1 + arg_914_0 then
				arg_911_1.var_.moveOldPos1055ui_story = var_914_0.localPosition
			end

			local var_914_2 = 0.001

			if var_914_1 <= arg_911_1.time_ and arg_911_1.time_ < var_914_1 + var_914_2 then
				local var_914_3 = (arg_911_1.time_ - var_914_1) / var_914_2
				local var_914_4 = Vector3.New(0, 100, 0)

				var_914_0.localPosition = Vector3.Lerp(arg_911_1.var_.moveOldPos1055ui_story, var_914_4, var_914_3)

				local var_914_5 = manager.ui.mainCamera.transform.position - var_914_0.position

				var_914_0.forward = Vector3.New(var_914_5.x, var_914_5.y, var_914_5.z)

				local var_914_6 = var_914_0.localEulerAngles

				var_914_6.z = 0
				var_914_6.x = 0
				var_914_0.localEulerAngles = var_914_6
			end

			if arg_911_1.time_ >= var_914_1 + var_914_2 and arg_911_1.time_ < var_914_1 + var_914_2 + arg_914_0 then
				var_914_0.localPosition = Vector3.New(0, 100, 0)

				local var_914_7 = manager.ui.mainCamera.transform.position - var_914_0.position

				var_914_0.forward = Vector3.New(var_914_7.x, var_914_7.y, var_914_7.z)

				local var_914_8 = var_914_0.localEulerAngles

				var_914_8.z = 0
				var_914_8.x = 0
				var_914_0.localEulerAngles = var_914_8
			end

			local var_914_9 = 0
			local var_914_10 = 0.425

			if var_914_9 < arg_911_1.time_ and arg_911_1.time_ <= var_914_9 + arg_914_0 then
				arg_911_1.talkMaxDuration = 0
				arg_911_1.dialogCg_.alpha = 1

				arg_911_1.dialog_:SetActive(true)
				SetActive(arg_911_1.leftNameGo_, false)

				arg_911_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_911_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_911_1:RecordName(arg_911_1:FormatText(GetTips("TIP_NARRATOR")))
				SetActive(arg_911_1.iconTrs_.gameObject, false)
				arg_911_1.callingController_:SetSelectedState("normal")

				local var_914_11 = arg_911_1:GetWordFromCfg(317021226)
				local var_914_12 = arg_911_1:FormatText(var_914_11.content)

				arg_911_1.text_.text = var_914_12

				LuaForUtil.ClearLinePrefixSymbol(arg_911_1.text_)

				local var_914_13 = 17
				local var_914_14 = utf8.len(var_914_12)
				local var_914_15 = var_914_13 <= 0 and var_914_10 or var_914_10 * (var_914_14 / var_914_13)

				if var_914_15 > 0 and var_914_10 < var_914_15 then
					arg_911_1.talkMaxDuration = var_914_15

					if var_914_15 + var_914_9 > arg_911_1.duration_ then
						arg_911_1.duration_ = var_914_15 + var_914_9
					end
				end

				arg_911_1.text_.text = var_914_12
				arg_911_1.typewritter.percent = 0

				arg_911_1.typewritter:SetDirty()
				arg_911_1:ShowNextGo(false)
				arg_911_1:RecordContent(arg_911_1.text_.text)
			end

			local var_914_16 = math.max(var_914_10, arg_911_1.talkMaxDuration)

			if var_914_9 <= arg_911_1.time_ and arg_911_1.time_ < var_914_9 + var_914_16 then
				arg_911_1.typewritter.percent = (arg_911_1.time_ - var_914_9) / var_914_16

				arg_911_1.typewritter:SetDirty()
			end

			if arg_911_1.time_ >= var_914_9 + var_914_16 and arg_911_1.time_ < var_914_9 + var_914_16 + arg_914_0 then
				arg_911_1.typewritter.percent = 1

				arg_911_1.typewritter:SetDirty()
				arg_911_1:ShowNextGo(true)
			end
		end
	end,
	Play317021227 = function(arg_915_0, arg_915_1)
		arg_915_1.time_ = 0
		arg_915_1.frameCnt_ = 0
		arg_915_1.state_ = "playing"
		arg_915_1.curTalkId_ = 317021227
		arg_915_1.duration_ = 5.57

		local var_915_0 = {
			zh = 5.566,
			ja = 5.066
		}
		local var_915_1 = manager.audio:GetLocalizationFlag()

		if var_915_0[var_915_1] ~= nil then
			arg_915_1.duration_ = var_915_0[var_915_1]
		end

		SetActive(arg_915_1.tipsGo_, false)

		function arg_915_1.onSingleLineFinish_()
			arg_915_1.onSingleLineUpdate_ = nil
			arg_915_1.onSingleLineFinish_ = nil
			arg_915_1.state_ = "waiting"
			arg_915_1.auto_ = false
		end

		function arg_915_1.playNext_(arg_917_0)
			arg_915_1.onStoryFinished_()
		end

		function arg_915_1.onSingleLineUpdate_(arg_918_0)
			local var_918_0 = arg_915_1.actors_["1055ui_story"].transform
			local var_918_1 = 0

			if var_918_1 < arg_915_1.time_ and arg_915_1.time_ <= var_918_1 + arg_918_0 then
				arg_915_1.var_.moveOldPos1055ui_story = var_918_0.localPosition
			end

			local var_918_2 = 0.001

			if var_918_1 <= arg_915_1.time_ and arg_915_1.time_ < var_918_1 + var_918_2 then
				local var_918_3 = (arg_915_1.time_ - var_918_1) / var_918_2
				local var_918_4 = Vector3.New(0, -0.965, -6.2)

				var_918_0.localPosition = Vector3.Lerp(arg_915_1.var_.moveOldPos1055ui_story, var_918_4, var_918_3)

				local var_918_5 = manager.ui.mainCamera.transform.position - var_918_0.position

				var_918_0.forward = Vector3.New(var_918_5.x, var_918_5.y, var_918_5.z)

				local var_918_6 = var_918_0.localEulerAngles

				var_918_6.z = 0
				var_918_6.x = 0
				var_918_0.localEulerAngles = var_918_6
			end

			if arg_915_1.time_ >= var_918_1 + var_918_2 and arg_915_1.time_ < var_918_1 + var_918_2 + arg_918_0 then
				var_918_0.localPosition = Vector3.New(0, -0.965, -6.2)

				local var_918_7 = manager.ui.mainCamera.transform.position - var_918_0.position

				var_918_0.forward = Vector3.New(var_918_7.x, var_918_7.y, var_918_7.z)

				local var_918_8 = var_918_0.localEulerAngles

				var_918_8.z = 0
				var_918_8.x = 0
				var_918_0.localEulerAngles = var_918_8
			end

			local var_918_9 = arg_915_1.actors_["1055ui_story"]
			local var_918_10 = 0

			if var_918_10 < arg_915_1.time_ and arg_915_1.time_ <= var_918_10 + arg_918_0 and not isNil(var_918_9) and arg_915_1.var_.characterEffect1055ui_story == nil then
				arg_915_1.var_.characterEffect1055ui_story = var_918_9:GetComponentInChildren(typeof(CharacterEffect))
			end

			local var_918_11 = 0.200000002980232

			if var_918_10 <= arg_915_1.time_ and arg_915_1.time_ < var_918_10 + var_918_11 and not isNil(var_918_9) then
				local var_918_12 = (arg_915_1.time_ - var_918_10) / var_918_11

				if arg_915_1.var_.characterEffect1055ui_story and not isNil(var_918_9) then
					arg_915_1.var_.characterEffect1055ui_story.fillFlat = false
				end
			end

			if arg_915_1.time_ >= var_918_10 + var_918_11 and arg_915_1.time_ < var_918_10 + var_918_11 + arg_918_0 and not isNil(var_918_9) and arg_915_1.var_.characterEffect1055ui_story then
				arg_915_1.var_.characterEffect1055ui_story.fillFlat = false
			end

			local var_918_13 = 0

			if var_918_13 < arg_915_1.time_ and arg_915_1.time_ <= var_918_13 + arg_918_0 then
				arg_915_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/story1055/story1055action/1055action1_1")
			end

			local var_918_14 = 0

			if var_918_14 < arg_915_1.time_ and arg_915_1.time_ <= var_918_14 + arg_918_0 then
				arg_915_1:PlayTimeline("1055ui_story", "StoryTimeline/CharAction/public_expression/public_lipsync/publicface0102cva")
			end

			local var_918_15 = 0
			local var_918_16 = 0.3

			if var_918_15 < arg_915_1.time_ and arg_915_1.time_ <= var_918_15 + arg_918_0 then
				arg_915_1.talkMaxDuration = 0
				arg_915_1.dialogCg_.alpha = 1

				arg_915_1.dialog_:SetActive(true)
				SetActive(arg_915_1.leftNameGo_, true)

				local var_918_17 = arg_915_1:FormatText(StoryNameCfg[481].name)

				arg_915_1.leftNameTxt_.text = var_918_17

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_915_1.leftNameTxt_.transform)

				arg_915_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_915_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_915_1:RecordName(arg_915_1.leftNameTxt_.text)
				SetActive(arg_915_1.iconTrs_.gameObject, false)
				arg_915_1.callingController_:SetSelectedState("normal")

				local var_918_18 = arg_915_1:GetWordFromCfg(317021227)
				local var_918_19 = arg_915_1:FormatText(var_918_18.content)

				arg_915_1.text_.text = var_918_19

				LuaForUtil.ClearLinePrefixSymbol(arg_915_1.text_)

				local var_918_20 = 12
				local var_918_21 = utf8.len(var_918_19)
				local var_918_22 = var_918_20 <= 0 and var_918_16 or var_918_16 * (var_918_21 / var_918_20)

				if var_918_22 > 0 and var_918_16 < var_918_22 then
					arg_915_1.talkMaxDuration = var_918_22

					if var_918_22 + var_918_15 > arg_915_1.duration_ then
						arg_915_1.duration_ = var_918_22 + var_918_15
					end
				end

				arg_915_1.text_.text = var_918_19
				arg_915_1.typewritter.percent = 0

				arg_915_1.typewritter:SetDirty()
				arg_915_1:ShowNextGo(false)

				if manager.audio:GetVoiceLength("story_v_out_317021", "317021227", "story_v_out_317021.awb") ~= 0 then
					local var_918_23 = manager.audio:GetVoiceLength("story_v_out_317021", "317021227", "story_v_out_317021.awb") / 1000

					if var_918_23 + var_918_15 > arg_915_1.duration_ then
						arg_915_1.duration_ = var_918_23 + var_918_15
					end

					if var_918_18.prefab_name ~= "" and arg_915_1.actors_[var_918_18.prefab_name] ~= nil then
						local var_918_24 = LuaForUtil.PlayVoiceWithCriLipsync(arg_915_1.actors_[var_918_18.prefab_name].transform, "story_v_out_317021", "317021227", "story_v_out_317021.awb")

						arg_915_1:RecordAudio("317021227", var_918_24)
						arg_915_1:RecordAudio("317021227", var_918_24)
					else
						arg_915_1:AudioAction("play", "voice", "story_v_out_317021", "317021227", "story_v_out_317021.awb")
					end

					arg_915_1:RecordHistoryTalkVoice("story_v_out_317021", "317021227", "story_v_out_317021.awb")
				end

				arg_915_1:RecordContent(arg_915_1.text_.text)
			end

			local var_918_25 = math.max(var_918_16, arg_915_1.talkMaxDuration)

			if var_918_15 <= arg_915_1.time_ and arg_915_1.time_ < var_918_15 + var_918_25 then
				arg_915_1.typewritter.percent = (arg_915_1.time_ - var_918_15) / var_918_25

				arg_915_1.typewritter:SetDirty()
			end

			if arg_915_1.time_ >= var_918_15 + var_918_25 and arg_915_1.time_ < var_918_15 + var_918_25 + arg_918_0 then
				arg_915_1.typewritter.percent = 1

				arg_915_1.typewritter:SetDirty()
				arg_915_1:ShowNextGo(true)
			end
		end
	end,
	Play317021078 = function(arg_919_0, arg_919_1)
		arg_919_1.time_ = 0
		arg_919_1.frameCnt_ = 0
		arg_919_1.state_ = "playing"
		arg_919_1.curTalkId_ = 317021078
		arg_919_1.duration_ = 5

		SetActive(arg_919_1.tipsGo_, false)

		function arg_919_1.onSingleLineFinish_()
			arg_919_1.onSingleLineUpdate_ = nil
			arg_919_1.onSingleLineFinish_ = nil
			arg_919_1.state_ = "waiting"
		end

		function arg_919_1.playNext_(arg_921_0)
			if arg_921_0 == 1 then
				arg_919_0:Play317021079(arg_919_1)
			end
		end

		function arg_919_1.onSingleLineUpdate_(arg_922_0)
			local var_922_0 = 0
			local var_922_1 = 0.875

			if var_922_0 < arg_919_1.time_ and arg_919_1.time_ <= var_922_0 + arg_922_0 then
				arg_919_1.talkMaxDuration = 0
				arg_919_1.dialogCg_.alpha = 1

				arg_919_1.dialog_:SetActive(true)
				SetActive(arg_919_1.leftNameGo_, true)

				local var_922_2 = arg_919_1:FormatText(StoryNameCfg[7].name)

				arg_919_1.leftNameTxt_.text = var_922_2

				UnityEngine.UI.LayoutRebuilder.ForceRebuildLayoutImmediate(arg_919_1.leftNameTxt_.transform)

				arg_919_1.contentImage_.sprite = getSpriteWithoutAtlas("TextureConfig/Common/board_dialogue_narrator")
				arg_919_1.contentRectCom_.sizeDelta = Vector2(1644, 265)

				arg_919_1:RecordName(arg_919_1.leftNameTxt_.text)
				SetActive(arg_919_1.iconTrs_.gameObject, false)
				arg_919_1.callingController_:SetSelectedState("normal")

				local var_922_3 = arg_919_1:GetWordFromCfg(317021078)
				local var_922_4 = arg_919_1:FormatText(var_922_3.content)

				arg_919_1.text_.text = var_922_4

				LuaForUtil.ClearLinePrefixSymbol(arg_919_1.text_)

				local var_922_5 = 35
				local var_922_6 = utf8.len(var_922_4)
				local var_922_7 = var_922_5 <= 0 and var_922_1 or var_922_1 * (var_922_6 / var_922_5)

				if var_922_7 > 0 and var_922_1 < var_922_7 then
					arg_919_1.talkMaxDuration = var_922_7

					if var_922_7 + var_922_0 > arg_919_1.duration_ then
						arg_919_1.duration_ = var_922_7 + var_922_0
					end
				end

				arg_919_1.text_.text = var_922_4
				arg_919_1.typewritter.percent = 0

				arg_919_1.typewritter:SetDirty()
				arg_919_1:ShowNextGo(false)
				arg_919_1:RecordContent(arg_919_1.text_.text)
			end

			local var_922_8 = math.max(var_922_1, arg_919_1.talkMaxDuration)

			if var_922_0 <= arg_919_1.time_ and arg_919_1.time_ < var_922_0 + var_922_8 then
				arg_919_1.typewritter.percent = (arg_919_1.time_ - var_922_0) / var_922_8

				arg_919_1.typewritter:SetDirty()
			end

			if arg_919_1.time_ >= var_922_0 + var_922_8 and arg_919_1.time_ < var_922_0 + var_922_8 + arg_922_0 then
				arg_919_1.typewritter.percent = 1

				arg_919_1.typewritter:SetDirty()
				arg_919_1:ShowNextGo(true)
			end
		end
	end,
	assets = {
		"Assets/UIResources/UI_AB/TextureConfig/Background/STblack",
		"Assets/UIResources/UI_AB/TextureConfig/Background/K06f",
		"Assets/UIResources/UI_AB/TextureConfig/Background/ST06",
		"Assets/UIResources/UI_AB/TextureConfig/Background/ST12",
		"Assets/UIResources/UI_AB/TextureConfig/Background/BA0201"
	},
	voices = {
		"story_v_out_317021.awb"
	}
}
